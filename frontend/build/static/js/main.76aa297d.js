/*! For license information please see main.76aa297d.js.LICENSE.txt */
(()=>{var __webpack_modules__={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},112:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>y,BS:()=>u,C7:()=>m,E0:()=>v,Fv:()=>p,LN:()=>d,T$:()=>f,ZJ:()=>c,fS:()=>o,qQ:()=>l,rU:()=>x,wp:()=>h});var r=n(6756),a=n(989),i=n(9250);const s=(0,a.A)("orders/fetchOrders",(async()=>{const e=await fetch(`${i.B8}/api/orders`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch orders");return e.json()}),{useGlobalLoader:!0}),o=(0,a.A)("orders/createOrder",(async e=>{const t=await fetch(`${i.B8}/api/orders/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok)throw new Error("Failed to create order");return t.json()}),{useGlobalLoader:!0}),l=(0,a.A)("suppliers/fetchSuppliers",(async()=>{const e=await fetch(`${i.B8}/api/orders/suppliers`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error("Failed to fetch suppliers");return await e.json()}),{useGlobalLoader:!0}),c=(0,a.A)("suppliers/fetchSupplierDetails",(async e=>{const t=await fetch(`${i.B8}/api/orders/supplier/${e}`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch supplier details");return t.json()}),{useGlobalLoader:!0}),d=(0,a.A)("items/fetchItems",(async()=>{const e=await fetch(`${i.B8}/api/orders/items`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch items");return e.json()}),{useGlobalLoader:!0}),u=(0,a.A)("pharmacy/fetchSalesBills",(async()=>{const e=await fetch(`${i.B8}/api/pharmacy/sales-bills`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch sales bills");return e.json()}),{useGlobalLoader:!0}),m=(0,a.A)("pharmacy/createSalesBill",(async e=>{const t=await fetch(`${i.B8}/api/pharmacy/create-sales-bill`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok)throw new Error("Failed to create sales bill");return t.json()}),{useGlobalLoader:!0}),p=(0,a.A)("pharmacy/updateInventoryItem",(async e=>{let{itemId:t,updateData:n}=e;const r=await fetch(`${i.B8}/api/pharmacy/inventory/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});if(!r.ok)throw new Error("Failed to update inventory item");return r.json()}),{useGlobalLoader:!0}),h=(0,a.A)("pharmacy/createInventoryItem",(async e=>{const t=await fetch(`${i.B8}/api/pharmacy/inventory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok)throw new Error("Failed to create inventory item");return t.json()}),{useGlobalLoader:!0}),f=(0,a.A)("pharmacy/deleteInventoryItem",(async e=>{if(!(await fetch(`${i.B8}/api/pharmacy/inventory/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete inventory item");return e}),{useGlobalLoader:!0}),v=(0,a.A)("pharmacy/fetchDashboardData",(async e=>{let{startDate:t,endDate:n,range:r}=e;const a=new URLSearchParams({startDate:t,endDate:n}),s=await fetch(`${i.B8}/api/pharmacy/dashboard-data?${a}`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch pharmacy dashboard data");return s.json()}),{useGlobalLoader:!0}),g=(0,r.Z0)({name:"pharmacy",initialState:{orders:[],suppliers:[],selectedSupplier:null,items:[],ordersStatus:"idle",suppliersStatus:"idle",supplierDetailsStatus:"idle",itemsStatus:"idle",createOrderStatus:"idle",error:null,salesBills:[],salesBillsStatus:"idle",createSalesBillStatus:"idle",updateInventoryStatus:"idle",createInventoryItemStatus:"idle",deleteInventoryItemStatus:"idle",dashboardData:[],dashboardDataStatus:"idle",dashboardRange:"idle"},reducers:{clearSelectedSupplier:e=>{e.selectedSupplier=null,e.supplierDetailsStatus="idle"}},extraReducers:e=>{e.addCase(s.pending,(e=>{e.ordersStatus="loading"})).addCase(s.fulfilled,((e,t)=>{e.ordersStatus="succeeded",e.orders=t.payload})).addCase(s.rejected,((e,t)=>{e.ordersStatus="failed",e.error=t.error.message})).addCase(o.pending,(e=>{e.createOrderStatus="loading"})).addCase(o.fulfilled,((e,t)=>{e.createOrderStatus="succeeded"})).addCase(o.rejected,((e,t)=>{e.createOrderStatus="failed",e.error=t.error.message})).addCase(l.pending,(e=>{e.suppliersStatus="loading"})).addCase(l.fulfilled,((e,t)=>{e.suppliersStatus="succeeded",e.suppliers=t.payload})).addCase(l.rejected,((e,t)=>{e.suppliersStatus="failed",e.error=t.error.message})).addCase(c.pending,(e=>{e.supplierDetailsStatus="loading"})).addCase(c.fulfilled,((e,t)=>{e.supplierDetailsStatus="succeeded",e.selectedSupplier=t.payload})).addCase(c.rejected,((e,t)=>{e.supplierDetailsStatus="failed",e.error=t.error.message})).addCase(d.pending,(e=>{e.itemsStatus="loading"})).addCase(d.fulfilled,((e,t)=>{e.itemsStatus="succeeded",e.items=t.payload})).addCase(d.rejected,((e,t)=>{e.itemsStatus="failed",e.error=t.error.message})).addCase(u.pending,(e=>{e.salesBillsStatus="loading"})).addCase(u.fulfilled,((e,t)=>{e.salesBillsStatus="succeeded",e.salesBills=t.payload})).addCase(u.rejected,((e,t)=>{e.salesBillsStatus="failed",e.error=t.error.message})).addCase(m.pending,(e=>{e.createSalesBillStatus="loading"})).addCase(m.fulfilled,((e,t)=>{e.createSalesBillStatus="succeeded",e.salesBills.unshift(t.payload)})).addCase(m.rejected,((e,t)=>{e.createSalesBillStatus="failed",e.error=t.error.message})).addCase(p.pending,(e=>{e.updateInventoryStatus="loading"})).addCase(p.fulfilled,((e,t)=>{e.updateInventoryStatus="succeeded";const n=e.items.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.items[n]=t.payload)})).addCase(p.rejected,((e,t)=>{e.updateInventoryStatus="failed",e.error=t.error.message})).addCase(h.pending,(e=>{e.createInventoryItemStatus="loading"})).addCase(h.fulfilled,((e,t)=>{e.createInventoryItemStatus="succeeded",e.items.unshift(t.payload)})).addCase(h.rejected,((e,t)=>{e.createInventoryItemStatus="failed",e.error=t.error.message})).addCase(f.pending,(e=>{e.deleteInventoryItemStatus="loading"})).addCase(f.fulfilled,((e,t)=>{e.deleteInventoryItemStatus="succeeded",e.items=e.items.filter((e=>e._id!==t.payload))})).addCase(f.rejected,((e,t)=>{e.deleteInventoryItemStatus="failed",e.error=t.error.message})).addCase(v.pending,(e=>{e.dashboardDataStatus="loading"})).addCase(v.fulfilled,((e,t)=>{e.dashboardDataStatus="succeeded",e.dashboardData=t.payload})).addCase(v.rejected,((e,t)=>{e.dashboardDataStatus="failed",e.error=t.error.message}))}}),{clearSelectedSupplier:x}=g.actions,y=g.reducer},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},219:(e,t,n)=>{"use strict";var r=n(3763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?s:o[e.$$typeof]||a}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var a=p(n);a&&a!==h&&e(t,a,r)}var s=d(n);u&&(s=s.concat(u(n)));for(var o=l(t),f=l(n),v=0;v<s.length;++v){var g=s[v];if(!i[g]&&(!r||!r[g])&&(!f||!f[g])&&(!o||!o[g])){var x=m(n,g);try{c(t,g,x)}catch(y){}}}}return t}},276:(e,t,n)=>{"use strict";n.d(t,{n:()=>u});var r=n(5043),a=n(2814),i=n(7920),s=n(7490),o=n(579),l="focusScope.autoFocusOnMount",c="focusScope.autoFocusOnUnmount",d={bubbles:!1,cancelable:!0},u=r.forwardRef(((e,t)=>{const{loop:n=!1,trapped:u=!1,onMountAutoFocus:h,onUnmountAutoFocus:g,...x}=e,[y,b]=r.useState(null),w=(0,s.c)(h),j=(0,s.c)(g),N=r.useRef(null),_=(0,a.s)(t,(e=>b(e))),S=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect((()=>{if(u){let e=function(e){if(S.paused||!y)return;const t=e.target;y.contains(t)?N.current=t:f(N.current,{select:!0})},t=function(e){if(S.paused||!y)return;const t=e.relatedTarget;null!==t&&(y.contains(t)||f(N.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&f(y)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return y&&r.observe(y,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[u,y,S.paused]),r.useEffect((()=>{if(y){v.add(S);const t=document.activeElement;if(!y.contains(t)){const n=new CustomEvent(l,d);y.addEventListener(l,w),y.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(f(r,{select:t}),document.activeElement!==n)return}((e=m(y),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&f(y))}return()=>{y.removeEventListener(l,w),setTimeout((()=>{const e=new CustomEvent(c,d);y.addEventListener(c,j),y.dispatchEvent(e),e.defaultPrevented||f(t??document.body,{select:!0}),y.removeEventListener(c,j),v.remove(S)}),0)}}var e}),[y,w,j,S]);const E=r.useCallback((e=>{if(!n&&!u)return;if(S.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,i]=function(e){const t=m(e),n=p(t,e),r=p(t.reverse(),e);return[n,r]}(t);a&&i?e.shiftKey||r!==i?e.shiftKey&&r===a&&(e.preventDefault(),n&&f(i,{select:!0})):(e.preventDefault(),n&&f(a,{select:!0})):r===t&&e.preventDefault()}}),[n,u,S.paused]);return(0,o.jsx)(i.sG.div,{tabIndex:-1,...x,ref:_,onKeyDown:E})}));function m(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function p(e,t){for(const n of e)if(!h(n,{upTo:t}))return n}function h(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function f(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}u.displayName="FocusScope";var v=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=g(e,t),e.unshift(t)},remove(t){e=g(e,t),e[0]?.resume()}}}();function g(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},503:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(5043),a=Boolean(globalThis?.document)?r.useLayoutEffect:()=>{}},539:(e,t,n)=>{var r=n(9742),a=n(7498),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},614:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},620:(e,t,n)=>{var r=n(6913),a=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[i,s,o].join("|")+")"+c+l+")*"),u="(?:"+[i+r+"?",r,s,o,n].join("|")+")",m=RegExp(a+"(?="+a+")|"+u+d,"g");e.exports=function(e){return e.match(m)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,i,s,o){var l=-1,c=t.length;for(i||(i=a),o||(o=[]);++l<c;){var d=t[l];n>0&&i(d)?n>1?e(d,n-1,i,s,o):r(o,d):s||(o[o.length]=d)}return o}},781:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),i=n(9841),s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},849:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});let r={};function a(){return r}},852:(e,t,n)=>{"use strict";n.d(t,{CTc:()=>s,D3D:()=>m,MKb:()=>b,Mtm:()=>x,Pip:()=>_,RiX:()=>j,Srz:()=>d,TBE:()=>l,YJP:()=>h,vKP:()=>v});var r=n(5043);function a(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var i=["color"],s=(0,r.forwardRef)((function(e,t){var n=e.color,s=void 0===n?"currentColor":n,o=a(e,i);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:t}),(0,r.createElement)("path",{d:"M4.5 1C4.77614 1 5 1.22386 5 1.5V2H10V1.5C10 1.22386 10.2239 1 10.5 1C10.7761 1 11 1.22386 11 1.5V2H12.5C13.3284 2 14 2.67157 14 3.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V3.5C1 2.67157 1.67157 2 2.5 2H4V1.5C4 1.22386 4.22386 1 4.5 1ZM10 3V3.5C10 3.77614 10.2239 4 10.5 4C10.7761 4 11 3.77614 11 3.5V3H12.5C12.7761 3 13 3.22386 13 3.5V5H2V3.5C2 3.22386 2.22386 3 2.5 3H4V3.5C4 3.77614 4.22386 4 4.5 4C4.77614 4 5 3.77614 5 3.5V3H10ZM2 6V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V6H2ZM7 7.5C7 7.22386 7.22386 7 7.5 7C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8C7.22386 8 7 7.77614 7 7.5ZM9.5 7C9.22386 7 9 7.22386 9 7.5C9 7.77614 9.22386 8 9.5 8C9.77614 8 10 7.77614 10 7.5C10 7.22386 9.77614 7 9.5 7ZM11 7.5C11 7.22386 11.2239 7 11.5 7C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8C11.2239 8 11 7.77614 11 7.5ZM11.5 9C11.2239 9 11 9.22386 11 9.5C11 9.77614 11.2239 10 11.5 10C11.7761 10 12 9.77614 12 9.5C12 9.22386 11.7761 9 11.5 9ZM9 9.5C9 9.22386 9.22386 9 9.5 9C9.77614 9 10 9.22386 10 9.5C10 9.77614 9.77614 10 9.5 10C9.22386 10 9 9.77614 9 9.5ZM7.5 9C7.22386 9 7 9.22386 7 9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5C8 9.22386 7.77614 9 7.5 9ZM5 9.5C5 9.22386 5.22386 9 5.5 9C5.77614 9 6 9.22386 6 9.5C6 9.77614 5.77614 10 5.5 10C5.22386 10 5 9.77614 5 9.5ZM3.5 9C3.22386 9 3 9.22386 3 9.5C3 9.77614 3.22386 10 3.5 10C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9ZM3 11.5C3 11.2239 3.22386 11 3.5 11C3.77614 11 4 11.2239 4 11.5C4 11.7761 3.77614 12 3.5 12C3.22386 12 3 11.7761 3 11.5ZM5.5 11C5.22386 11 5 11.2239 5 11.5C5 11.7761 5.22386 12 5.5 12C5.77614 12 6 11.7761 6 11.5C6 11.2239 5.77614 11 5.5 11ZM7 11.5C7 11.2239 7.22386 11 7.5 11C7.77614 11 8 11.2239 8 11.5C8 11.7761 7.77614 12 7.5 12C7.22386 12 7 11.7761 7 11.5ZM9.5 11C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12C9.77614 12 10 11.7761 10 11.5C10 11.2239 9.77614 11 9.5 11Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))})),o=["color"],l=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,o);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),c=["color"],d=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,c);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),u=["color"],m=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,u);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),p=["color"],h=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,p);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),f=["color"],v=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,f);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),g=["color"],x=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,g);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),y=["color"],b=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,y);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),w=["color"],j=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,w);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:i}))})),N=["color"],_=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,s=a(e,N);return(0,r.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,r.createElement)("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}))},858:(e,t,n)=>{"use strict";function r(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}n.d(t,{m:()=>r})},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},917:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(8387);const a=e=>"boolean"===typeof e?`${e}`:0===e?"0":e,i=r.$,s=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return i(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map((e=>{const t=null===n||void 0===n?void 0:n[e],r=null===o||void 0===o?void 0:o[e];if(null===t)return null;const i=a(t)||a(r);return s[e][i]})),c=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),d=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...c}[t]):{...o,...c}[t]===n}))?[...e,n,r]:e}),[]);return i(e,l,d,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)}},929:(e,t,n)=>{var r=n(3211),a=n(6571),i=n(9194),s=n(6686);e.exports=function(e,t,n){if(!s(n))return!1;var o=typeof t;return!!("number"==o?a(n)&&i(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},961:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(5043),a=n(8134),i=n(3003),s=n(9945),o=n(1203);const l={title:{fontSize:"15px",textAlign:"center",marginBottom:"5px",color:"#1a5f7a",fontWeight:"bold"},section:{marginBottom:"3px",display:"flex",flexDirection:"row",alignItems:"flex-start"},sectionTitle:{fontSize:"14px",fontWeight:"bold",color:"#34495e",width:"20%"},sectionContent:{fontSize:"12px",color:"#2c3e50",width:"80%",marginLeft:"5px",whiteSpace:"pre-line"},row:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"100%"},label:{fontSize:"14px",color:"black",width:"40%",fontWeight:"bold"},value:{fontSize:"11px",color:"#2c3e50",width:"60%"},text:{fontSize:"11px",marginLeft:"150px"},patientInfoSection:{width:"100%"},column:{width:"33%",paddingRight:"5px"},infoItem:{flex:1,flexBasis:"33%",marginBottom:"3px"},investigationsSection:{marginBottom:"5px"},investigationContainer:{marginLeft:"5px",marginBottom:"5px"},investigationTitle:{fontSize:"9px",marginBottom:"2px",fontWeight:"bold"},investigationRow:{display:"flex",flexDirection:"row",fontSize:"9px",marginBottom:"1px"},investigationCell1:{width:"60%",fontSize:"12px"},investigationCell2:{width:"20%",fontSize:"12px"},columnContainer:{width:"49%",paddingRight:"2px"}},c=e=>e?(0,a.GP)(new Date(e),"dd-MM-yyyy"):"--",d=e=>!!e&&!Object.values(e).every((e=>""===e||null===e||void 0===e)),u=(0,r.forwardRef)(((e,t)=>{const{formData:n,patient:a,formConfig:u,hospital:m,templateString:p}=e,h=new Function("React","styles","HospitalHeader","formatDate","hasValue",`return (${p});`),f=(0,i.d4)((e=>e.templates.headerTemplateArray)),v=(null===f||void 0===f?void 0:f.length)>0?f[0].value:o.h,g=(0,s.G)(v||o.h);try{return h(r,l,g,c,d)(n,a,m,u,t)}catch(x){return console.error("Error rendering dynamic discharge summary:",x),r.createElement("div",null,"Error rendering discharge summary template")}}))},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},989:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6756),a=n(5126);const i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{useGlobalLoader:i=!0,...s}=n;return(0,r.zD)(e,(async(e,n)=>{i&&n.dispatch((0,a.r)(!0));try{return await t(e,n)}finally{i&&n.dispatch((0,a.r)(!1))}}),s)}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1140:(e,t,n)=>{"use strict";n.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>s,aR:()=>o});var r=n(5043),a=n(9766),i=n(579);const s=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",n),...r})}));s.displayName="Card";const o=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-4",n),...r})}));o.displayName="CardHeader";const l=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",n),...r})}));l.displayName="CardTitle";const c=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...r})}));c.displayName="CardDescription";const d=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...r})}));d.displayName="CardContent";r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...r})})).displayName="CardFooter"},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1176:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(2316);function a(e,t){const n=(0,r.a)(e,t?.in);return n.setHours(0,0,0,0),n}},1184:(e,t,n)=>{"use strict";n.d(t,{lg:()=>y,qW:()=>h,bL:()=>x});var r=n(5043),a=n(858),i=n(7920),s=n(2814),o=n(7490);var l,c=n(579),d="dismissableLayer.update",u="dismissableLayer.pointerDownOutside",m="dismissableLayer.focusOutside",p=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h=r.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:x,onInteractOutside:y,onDismiss:b,...w}=e,j=r.useContext(p),[N,_]=r.useState(null),S=N?.ownerDocument??globalThis?.document,[,E]=r.useState({}),C=(0,s.s)(t,(e=>_(e))),D=Array.from(j.layers),[T]=[...j.layersWithOutsidePointerEventsDisabled].slice(-1),k=D.indexOf(T),A=N?D.indexOf(N):-1,P=j.layersWithOutsidePointerEventsDisabled.size>0,O=A>=k,R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=(0,o.c)(e),a=r.useRef(!1),i=r.useRef((()=>{}));return r.useEffect((()=>{const e=e=>{if(e.target&&!a.current){let r=function(){g(u,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);a.current=!1},r=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>a.current=!0}}((e=>{const t=e.target,n=[...j.branches].some((e=>e.contains(t)));O&&!n&&(f?.(e),y?.(e),e.defaultPrevented||b?.())}),S),M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=(0,o.c)(e),a=r.useRef(!1);return r.useEffect((()=>{const e=e=>{if(e.target&&!a.current){g(m,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}((e=>{const t=e.target;[...j.branches].some((e=>e.contains(t)))||(x?.(e),y?.(e),e.defaultPrevented||b?.())}),S);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=(0,o.c)(e);r.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{A===j.layers.size-1&&(h?.(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))}),S),r.useEffect((()=>{if(N)return n&&(0===j.layersWithOutsidePointerEventsDisabled.size&&(l=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),j.layersWithOutsidePointerEventsDisabled.add(N)),j.layers.add(N),v(),()=>{n&&1===j.layersWithOutsidePointerEventsDisabled.size&&(S.body.style.pointerEvents=l)}}),[N,S,n,j]),r.useEffect((()=>()=>{N&&(j.layers.delete(N),j.layersWithOutsidePointerEventsDisabled.delete(N),v())}),[N,j]),r.useEffect((()=>{const e=()=>E({});return document.addEventListener(d,e),()=>document.removeEventListener(d,e)}),[]),(0,c.jsx)(i.sG.div,{...w,ref:C,style:{pointerEvents:P?O?"auto":"none":void 0,...e.style},onFocusCapture:(0,a.m)(e.onFocusCapture,M.onFocusCapture),onBlurCapture:(0,a.m)(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:(0,a.m)(e.onPointerDownCapture,R.onPointerDownCapture)})}));h.displayName="DismissableLayer";var f=r.forwardRef(((e,t)=>{const n=r.useContext(p),a=r.useRef(null),o=(0,s.s)(t,a);return r.useEffect((()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),(0,c.jsx)(i.sG.div,{...e,ref:o})}));function v(){const e=new CustomEvent(d);document.dispatchEvent(e)}function g(e,t,n,r){let{discrete:a}=r;const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?(0,i.hO)(s,o):s.dispatchEvent(o)}f.displayName="DismissableLayerBranch";var x=h,y=f},1203:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r='\nReact.createElement("div", { className: "mb-2 border-b border-[#000000] pb-2" },\n  React.createElement("div", null,\n    React.createElement("h1", { \n      className: "text-4xl tracking-wide text-center text-[#1a5f7a] uppercase"\n    }, hospitalInfo?.name)\n  ),\n  React.createElement("div", { style: { display: "flex", flexDirection: "row" } },\n    React.createElement("div", { style: { marginLeft: 50 } },\n      React.createElement("img", {\n        src: hospitalInfo?.hospitalLogoBlob,\n        alt: "Clinic Logo",\n        className: "w-[100px] h-[100px]"\n      })\n    ),\n    React.createElement("div", { className: "ml-8" },\n      React.createElement("p", { className: "text-center text-[#333333]" }, \n        hospitalInfo?.address\n      ),\n      React.createElement("h2", { className: "text-center text-[#1a5f7a] text-xl" },\n        hospitalInfo?.doctorName\n      ),\n      React.createElement("p", { className: "text-center text-[#333333]" },\n        hospitalInfo?.doctorInfo\n      ),\n      React.createElement("p", { className: "text-center text-[#333333]" },\n        "Mob : ", hospitalInfo?.contactNumber\n      )\n    ),\n    React.createElement("div", null,\n      React.createElement("img", {\n        src: hospitalInfo?.hospitalLogo2Blob,\n        alt: "Clinic Logo",\n        className: "w-[120px] h-[100px]"\n      })\n    )\n  )\n)'},1208:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(2885);function a(e,t,n){return(0,r.P)(e,-t,n)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),i=n(6832),s=i&&i.isTypedArray,o=s?a(s):r;e.exports=o},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1360:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var a;n.d(t,{AO:()=>u,Gh:()=>R,HS:()=>M,Oi:()=>o,Rr:()=>m,pX:()=>W,pb:()=>k,rc:()=>a,tH:()=>B,ue:()=>f,yD:()=>O,zR:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const i="popstate";function s(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return d("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,a){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:m=!1}=s,p=l.history,h=a.Pop,f=null,v=g();function g(){return(p.state||{idx:null}).idx}function x(){h=a.Pop;let e=g(),t=null==e?null:e-v;v=e,f&&f({action:h,location:b.location,delta:t})}function y(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,p.replaceState(r({},p.state,{idx:v}),""));let b={get action(){return h},get location(){return e(l,p)},listen(e){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(i,x),f=e,()=>{l.removeEventListener(i,x),f=null}},createHref:e=>t(l,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=a.Push;let r=d(b.location,e,t);n&&n(r,e),v=g()+1;let i=c(r,v),s=b.createHref(r);try{p.pushState(i,"",s)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(s)}m&&f&&f({action:h,location:b.location,delta:1})},replace:function(e,t){h=a.Replace;let r=d(b.location,e,t);n&&n(r,e),v=g();let i=c(r,v),s=b.createHref(r);p.replaceState(i,"",s),m&&f&&f({action:h,location:b.location,delta:0})},go:e=>p.go(e)};return b}var h;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=k(("string"===typeof t?m(t):t).pathname||"/",n);if(null==a)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=T(a);s=C(i[o],e,r)}return s}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let l=M([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))a(e,t,r);else a(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=x(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,b=3,w=2,j=1,N=10,_=-2,S=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=_),t&&(r+=w),n.filter((e=>!S(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?j:N)),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:M([i,d.pathname]),pathnameBase:I(M([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=M([i,d.pathnameBase]))}return s}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function k(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=P(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function R(e,t,n,a){let i;void 0===a&&(a=!1),"string"===typeof e?i=m(e):(i=r({},e),o(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let s,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)s=n;else{let e=t.length-1;if(!a&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?m(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:L(r),hash:F(a)}}(i,s),u=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const M=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class B extends Error{}function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],$=(new Set(U),["get",...U]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1425:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(2440),a=n(9415),i=n(2316);function s(e,t){const n=(0,i.a)(e,t?.in),s=n.getFullYear(),o=(0,r.w)(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=(0,a.b)(o),c=(0,r.w)(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=(0,a.b)(c);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1620:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(849),a=n(2316);function i(e,t){const n=(0,r.q)(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=(0,a.a)(e,t?.in),o=s.getDay(),l=(o<i?7:0)+o-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1664:(e,t,n)=>{"use strict";function r(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}n.d(t,{q:()=>r})},1669:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});const r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const i={date:a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function o(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function l(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}var c;const d={code:"en-US",formatDistance:(e,t,n)=>{let a;const i=r[e];return a="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:i,formatRelative:(e,t,n,r)=>s[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:o({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:o({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:o({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:o({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:o({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(c.matchPattern);if(!n)return null;const r=n[0],a=e.match(c.parsePattern);if(!a)return null;let i=c.valueCallback?c.valueCallback(a[0]):a[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:l({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},1672:(e,t,n)=>{"use strict";n.d(t,{A:()=>K});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function i(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(5043),o="right-scroll-bar-position",l="width-before-scroll-bar";function c(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var d="undefined"!==typeof window?s.useLayoutEffect:s.useEffect,u=new WeakMap;function m(e,t){var n=function(e,t){var n=(0,s.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return c(e,t)}))}));return d((function(){var t=u.get(n);if(t){var r=new Set(t),a=new Set(e),i=n.current;r.forEach((function(e){a.has(e)||c(e,null)})),a.forEach((function(e){r.has(e)||c(e,i)}))}u.set(n,e)}),[e]),n}function p(e){return e}function h(e,t){void 0===t&&(t=p);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter((function(e){return e!==a}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(i)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}var f=function(e){void 0===e&&(e={});var t=h(null);return t.options=r({async:!0,ssr:!1},e),t}(),v=function(){},g=s.forwardRef((function(e,t){var n=s.useRef(null),i=s.useState({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:v}),o=i[0],l=i[1],c=e.forwardProps,d=e.children,u=e.className,p=e.removeScrollBar,h=e.enabled,g=e.shards,x=e.sideCar,y=e.noIsolation,b=e.inert,w=e.allowPinchZoom,j=e.as,N=void 0===j?"div":j,_=e.gapMode,S=a(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=x,C=m([n,t]),D=r(r({},S),o);return s.createElement(s.Fragment,null,h&&s.createElement(E,{sideCar:f,removeScrollBar:p,shards:g,noIsolation:y,inert:b,setCallbacks:l,allowPinchZoom:!!w,lockRef:n,gapMode:_}),c?s.cloneElement(s.Children.only(d),r(r({},D),{ref:C})):s.createElement(N,r({},D,{className:u,ref:C}),d))}));g.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},g.classNames={fullWidth:l,zeroRight:o};var x,y=function(e){var t=e.sideCar,n=a(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return s.createElement(i,r({},n))};y.isSideCarExport=!0;function b(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x||n.nc;return t&&e.setAttribute("nonce",t),e}var w=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=b())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j=function(){var e=function(){var e=w();return function(t,n){s.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},N={left:0,top:0,right:0,gap:0},_=function(e){return parseInt(e||"",10)||0},S=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return N;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[_(n),_(r),_(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},E=j(),C="data-scroll-locked",D=function(e,t,n,r){var a=e.left,i=e.top,s=e.right,c=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(c,"px ").concat(r,";\n  }\n  body[").concat(C,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o," {\n    right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(l," {\n    margin-right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(o," .").concat(o," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(l," .").concat(l," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(C,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},T=function(){var e=parseInt(document.body.getAttribute(C)||"0",10);return isFinite(e)?e:0},k=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;s.useEffect((function(){return document.body.setAttribute(C,(T()+1).toString()),function(){var e=T()-1;e<=0?document.body.removeAttribute(C):document.body.setAttribute(C,e.toString())}}),[]);var i=s.useMemo((function(){return S(a)}),[a]);return s.createElement(E,{styles:D(i,!t,a,n?"":"!important")})},A=!1;if("undefined"!==typeof window)try{var P=Object.defineProperty({},"passive",{get:function(){return A=!0,!0}});window.addEventListener("test",P,P),window.removeEventListener("test",P,P)}catch(Y){A=!1}var O=!!A&&{passive:!1},R=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},M=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),I(e,r)){var a=L(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},I=function(e,t){return"v"===e?function(e){return R(e,"overflowY")}(t):function(e){return R(e,"overflowX")}(t)},L=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},F=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},B=function(e){return[e.deltaX,e.deltaY]},W=function(e){return e&&"current"in e?e.current:e},U=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},$=0,z=[];function H(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const V=(q=function(e){var t=s.useRef([]),n=s.useRef([0,0]),r=s.useRef(),a=s.useState($++)[0],o=s.useState(j)[0],l=s.useRef(e);s.useEffect((function(){l.current=e}),[e]),s.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=i([e.lockRef.current],(e.shards||[]).map(W),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(a))}))}}}),[e.inert,e.lockRef.current,e.shards]);var c=s.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var a,i=F(e),s=n.current,o="deltaX"in e?e.deltaX:s[0]-i[0],c="deltaY"in e?e.deltaY:s[1]-i[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=M(u,d);if(!m)return!0;if(m?a=u:(a="v"===u?"h":"v",m=M(u,d)),!m)return!1;if(!r.current&&"changedTouches"in e&&(o||c)&&(r.current=a),!a)return!0;var p=r.current||a;return function(e,t,n,r,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=i*r,o=n.target,l=t.contains(o),c=!1,d=s>0,u=0,m=0;do{var p=L(e,o),h=p[0],f=p[1]-p[2]-i*h;(h||f)&&I(e,o)&&(u+=f,m+=h),o=o instanceof ShadowRoot?o.host:o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(a&&Math.abs(u)<1||!a&&s>u)||!d&&(a&&Math.abs(m)<1||!a&&-s>m))&&(c=!0),c}(p,t,e,"h"===p?o:c,!0)}),[]),d=s.useCallback((function(e){var n=e;if(z.length&&z[z.length-1]===o){var r="deltaY"in n?B(n):F(n),a=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,a=r,t[0]===a[0]&&t[1]===a[1]);var t,a}))[0];if(a&&a.should)n.cancelable&&n.preventDefault();else if(!a){var i=(l.current.shards||[]).map(W).filter(Boolean).filter((function(e){return e.contains(n.target)}));(i.length>0?c(n,i[0]):!l.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=s.useCallback((function(e,n,r,a){var i={name:e,delta:n,target:r,should:a,shadowParent:H(r)};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),m=s.useCallback((function(e){n.current=F(e),r.current=void 0}),[]),p=s.useCallback((function(t){u(t.type,B(t),t.target,c(t,e.lockRef.current))}),[]),h=s.useCallback((function(t){u(t.type,F(t),t.target,c(t,e.lockRef.current))}),[]);s.useEffect((function(){return z.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",d,O),document.addEventListener("touchmove",d,O),document.addEventListener("touchstart",m,O),function(){z=z.filter((function(e){return e!==o})),document.removeEventListener("wheel",d,O),document.removeEventListener("touchmove",d,O),document.removeEventListener("touchstart",m,O)}}),[]);var f=e.removeScrollBar,v=e.inert;return s.createElement(s.Fragment,null,v?s.createElement(o,{styles:U(a)}):null,f?s.createElement(k,{gapMode:e.gapMode}):null)},f.useMedium(q),y);var q,G=s.forwardRef((function(e,t){return s.createElement(g,r({},e,{ref:t,sideCar:V}))}));G.classNames=g.classNames;const K=G},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),i=n(9096);e.exports=function(e,t){var n={};return t=i(t,3),a(e,(function(e,a,i){r(n,a,t(e,a,i))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1844:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var r=n(2440);function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const i=r.w.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}},1862:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,q:()=>i});var r=n(5043),a=n(579);function i(e,t){const n=r.createContext(t),i=e=>{const{children:t,...i}=e,s=r.useMemo((()=>i),Object.values(i));return(0,a.jsx)(n.Provider,{value:s,children:t})};return i.displayName=e+"Provider",[i,function(a){const i=r.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}]}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const i=()=>{const t=n.map((e=>r.createContext(e)));return function(n){const a=n?.[e]||t;return r.useMemo((()=>({[`__scope${e}`]:{...n,[e]:a}})),[n,a])}};return i.scopeName=e,[function(t,i){const s=r.createContext(i),o=n.length;n=[...n,i];const l=t=>{const{scope:n,children:i,...l}=t,c=n?.[e]?.[o]||s,d=r.useMemo((()=>l),Object.values(l));return(0,a.jsx)(c.Provider,{value:d,children:i})};return l.displayName=t+"Provider",[l,function(n,a){const l=a?.[e]?.[o]||s,c=r.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},o(i,...t)]}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=t[0];if(1===t.length)return a;const i=()=>{const e=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const n=e.reduce(((e,n)=>{let{useScope:r,scopeName:a}=n;return{...e,...r(t)[`__scope${a}`]}}),{});return r.useMemo((()=>({[`__scope${a.scopeName}`]:n})),[n])}};return i.scopeName=a.scopeName,i}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1981:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var r=n(5043),a=n(7920),i=n(579),s=r.forwardRef(((e,t)=>(0,i.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));s.displayName="Label";var o=s,l=n(917),c=n(9766);const d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)(o,{ref:t,className:(0,c.cn)(d(),n),...r})}));u.displayName=o.displayName},2043:(e,t,n)=>{"use strict";n.d(t,{Mz:()=>R,i3:()=>I,UC:()=>M,bL:()=>O,Bk:()=>g});var r=n(5043),a=n(6178),i=n(7451),s=n(7920),o=n(579),l=r.forwardRef(((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return(0,o.jsx)(s.sG.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,o.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));l.displayName="Arrow";var c=l,d=n(2814),u=n(1862),m=n(7490),p=n(503),h=n(3124),f="Popper",[v,g]=(0,u.A)(f),[x,y]=v(f),b=e=>{const{__scopePopper:t,children:n}=e,[a,i]=r.useState(null);return(0,o.jsx)(x,{scope:t,anchor:a,onAnchorChange:i,children:n})};b.displayName=f;var w="PopperAnchor",j=r.forwardRef(((e,t)=>{const{__scopePopper:n,virtualRef:a,...i}=e,l=y(w,n),c=r.useRef(null),u=(0,d.s)(t,c);return r.useEffect((()=>{l.onAnchorChange(a?.current||c.current)})),a?null:(0,o.jsx)(s.sG.div,{...i,ref:u})}));j.displayName=w;var N="PopperContent",[_,S]=v(N),E=r.forwardRef(((e,t)=>{const{__scopePopper:n,side:l="bottom",sideOffset:c=0,align:u="center",alignOffset:f=0,arrowPadding:v=0,avoidCollisions:g=!0,collisionBoundary:x=[],collisionPadding:b=0,sticky:w="partial",hideWhenDetached:j=!1,updatePositionStrategy:S="optimized",onPlaced:E,...C}=e,D=y(N,n),[T,O]=r.useState(null),R=(0,d.s)(t,(e=>O(e))),[M,I]=r.useState(null),L=(0,h.X)(M),F=L?.width??0,B=L?.height??0,W=l+("center"!==u?"-"+u:""),U="number"===typeof b?b:{top:0,right:0,bottom:0,left:0,...b},$=Array.isArray(x)?x:[x],z=$.length>0,H={padding:U,boundary:$.filter(k),altBoundary:z},{refs:V,floatingStyles:q,placement:G,isPositioned:K,middlewareData:Y}=(0,a.we)({strategy:"fixed",placement:W,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.ll)(...t,{animationFrame:"always"===S})},elements:{reference:D.anchor},middleware:[(0,a.cY)({mainAxis:c+B,alignmentAxis:f}),g&&(0,a.BN)({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?(0,a.ER)():void 0,...H}),g&&(0,a.UU)({...H}),(0,a.Ej)({...H,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:a}=e;const{width:i,height:s}=n.reference,o=t.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${a}px`),o.setProperty("--radix-popper-anchor-width",`${i}px`),o.setProperty("--radix-popper-anchor-height",`${s}px`)}}),M&&(0,a.UE)({element:M,padding:v}),A({arrowWidth:F,arrowHeight:B}),j&&(0,a.jD)({strategy:"referenceHidden",...H})]}),[X,Z]=P(G),J=(0,m.c)(E);(0,p.N)((()=>{K&&J?.()}),[K,J]);const Q=Y.arrow?.x,ee=Y.arrow?.y,te=0!==Y.arrow?.centerOffset,[ne,re]=r.useState();return(0,p.N)((()=>{T&&re(window.getComputedStyle(T).zIndex)}),[T]),(0,o.jsx)("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:K?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,o.jsx)(_,{scope:n,placedSide:X,onArrowChange:I,arrowX:Q,arrowY:ee,shouldHideArrow:te,children:(0,o.jsx)(s.sG.div,{"data-side":X,"data-align":Z,...C,ref:R,style:{...C.style,animation:K?void 0:"none"}})})})}));E.displayName=N;var C="PopperArrow",D={top:"bottom",right:"left",bottom:"top",left:"right"},T=r.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,a=S(C,n),i=D[a.placedSide];return(0,o.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,o.jsx)(c,{...r,ref:t,style:{...r.style,display:"block"}})})}));function k(e){return null!==e}T.displayName=C;var A=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,i=0!==a.arrow?.centerOffset,s=i?0:e.arrowWidth,o=i?0:e.arrowHeight,[l,c]=P(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(a.arrow?.x??0)+s/2,m=(a.arrow?.y??0)+o/2;let p="",h="";return"bottom"===l?(p=i?d:`${u}px`,h=-o+"px"):"top"===l?(p=i?d:`${u}px`,h=`${r.floating.height+o}px`):"right"===l?(p=-o+"px",h=i?d:`${m}px`):"left"===l&&(p=`${r.floating.width+o}px`,h=i?d:`${m}px`),{data:{x:p,y:h}}}});function P(e){const[t,n="center"]=e.split("-");return[t,n]}var O=b,R=j,M=E,I=T},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}},2191:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d,Ou:()=>i,mo:()=>s});var r=n(6756),a=n(9250);const i=(0,r.zD)("discharge/dischargePatient",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${a.B8}/api/patients/discharge/${e.patientId||e._id}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){return n(await t.json())}return(await t.json()).admission}catch(r){return n(r.message)}})),s=(0,r.zD)("discharge/saveDischargeData",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${a.B8}/api/patients/SaveButNotDischarge/${e.patientId||e._id}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}})),o=(0,r.Z0)({name:"discharge",initialState:{status:"idle",savingStatus:"idle",error:null,dischargeData:null,formConfig:null},reducers:{setDischargeData:(e,t)=>{e.dischargeData=t.payload},setFormConfig:(e,t)=>{e.formConfig=t.payload}},extraReducers:e=>{e.addCase(i.pending,(e=>{e.status="loading"})).addCase(i.fulfilled,((e,t)=>{e.status="succeeded",e.dischargeData=t.payload.dischargeData,e.formConfig=t.payload.formConfig})).addCase(i.rejected,((e,t)=>{e.status="failed",e.error=t.error.message})).addCase(s.pending,(e=>{e.savingStatus="loading"})).addCase(s.fulfilled,((e,t)=>{e.savingStatus="succeeded",e.dischargeData=t.payload.admission.dischargeData,e.formConfig=t.payload.admission.formConfig})).addCase(s.rejected,((e,t)=>{e.savingStatus="failed",e.error=t.error.message}))}}),{setDischargeData:l,setFormConfig:c}=o.actions,d=o.reducer},2264:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(5043),a=n(9766),i=n(579);const s=r.forwardRef(((e,t)=>{let{className:n,type:r,...s}=e;return(0,i.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})}));s.displayName="Input"},2316:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(2440);function a(e,t){return(0,r.w)(t||e,e)}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),i=n(2761),s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},2440:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(4524);function a(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&r._P in e?e[r._P](t):e instanceof Date?new e.constructor(t):new Date(t)}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),i=n(9140),s=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:i(n);return l<0&&(l=s(o+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),i=n(9096),s=n(8883),o=n(320),l=n(7574),c=n(5893),d=n(3279),u=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return u(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[d];var m=-1;t=r(t,l(i));var p=s(e,(function(e,n,a){return{criteria:r(t,(function(t){return t(e)})),index:++m,value:e}}));return o(p,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2698:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});const r='\n(formData, patient, hospital,formConfig, ref) => {\n  const hasComorbidities = formData.comorbidities && (Array.isArray(formData.comorbidities)?formData.comorbidities.some((c) => c.name):true);\n  const hasMedicineAdvice = formData.medicineAdvice && formData.medicineAdvice.some((m) => m.name);\n  const hasInvestigations = formData.investigations && formData.investigations.some((i) => i.name || i.category);\n  const comorbiditiesString = Array.isArray(formData.comorbidities)?formData.comorbidities?.filter((c) => c.name).map((c) => c.name).join(", "):formData.comorbidities;\n\n  const appendComorbidities = (content, type) => {\n    if (!hasComorbidities || formData.comorbidityHandling === "separate") {\n      return content;\n    }\n    if (type === formData.comorbidityHandling) {\n      return `${content}${content ? ", " : ""} ${comorbiditiesString}`;\n    }\n    return content;\n  };\n\n  const formatLabel = (label) => {\n    if (!label) return "";\n    const regex = /^([^)]+)|^(?:\\S+\\s?){1,3}/;\n    const match = label.match(regex);\n    return match ? match[0].trim() : label;\n  };\n\n  const formatDate = (date) => {\n    if (!date) return "--";\n    return new Date(date).toLocaleDateString(\'en-IN\', { day: \'2-digit\', month: \'2-digit\', year: \'numeric\' }).split(\'/\').join(\'-\');\n  };\n\n  const hasValue = (obj) => {\n    if (!obj) return false;\n    return Object.values(obj).some(value => value !== "" && value !== null && value !== undefined);\n  };\n\n  return React.createElement("div", { ref: ref, style: styles.page, className: "print-content" },\n    React.createElement("div", { className: " print:block mb-2" },\n      React.createElement(HospitalHeader, { hospitalInfo: hospital })\n    ),\n    React.createElement("div", { style: styles.title }, "Discharge Summary"),\n    \n    // Patient Info Section\n    React.createElement("div", { style: { ...styles.section } },\n      React.createElement("div", { style: { ...styles.patientInfoSection } },\n        React.createElement("div", { style: { ...styles.row, marginBottom: "2px" } },\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Name: "),\n            React.createElement("span", { style: styles.value }, patient?.name || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Age/Gender: "),\n            React.createElement("span", { style: styles.value }, \n              patient?.age && patient?.gender ? `${patient?.age} yrs/${patient?.gender}` : "--"\n            )\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "UHID No: "),\n            React.createElement("span", { style: styles.value }, patient?.registrationNumber || "--")\n          )\n        ),\n        React.createElement("div", { style: { ...styles.row, marginBottom: "2px" } },\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "IPD No: "),\n            React.createElement("span", { style: styles.value }, patient?.ipdNumber || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Admit Date: "),\n            React.createElement("span", { style: styles.value }, formatDate(formData.admissionDate))\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Discharge Date: "),\n            React.createElement("span", { style: styles.value }, formatDate(formData.dateDischarged))\n          )\n        ),\n        React.createElement("div", { style: styles.row },\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Room: "),\n            React.createElement("span", { style: styles.value }, patient?.roomNumber || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Contact: "),\n            React.createElement("span", { style: styles.value }, patient?.contactNumber || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Address: "),\n            React.createElement("span", { style: { ...styles.value, whiteSpace: "nowrap", textOverflow: "ellipsis", overflow: "hidden" } },\n              patient?.address || "--"\n            )\n          )\n        )\n      )\n    ),\n\n    // Diagnosis Section\n    formData.diagnosis && React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Diagnosis:"),\n      React.createElement("span", { style: styles.sectionContent }, \n        appendComorbidities(formData.diagnosis, "diagnosis")\n      )\n    ),\n\n    // Clinical Summary Section\n    formData.clinicalSummary && React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Clinical Summary:"),\n      React.createElement("span", { style: styles.sectionContent }, \n        appendComorbidities(formData.clinicalSummary, "clinical_summary")\n      )\n    ),\n\n    // Comorbidities Section (if separate)\n    (formData.comorbidityHandling === "separate" && hasComorbidities) && \n    React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Comorbidities:"),\n      React.createElement("span", { style: styles.sectionContent }, comorbiditiesString)\n    ),\n\n    // Condition on Admission Section\n    formData.conditionOnAdmission && React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Condition on Admission:"),\n      React.createElement("span", { style: styles.sectionContent }, formData.conditionOnAdmission)\n    ),\n\n    // Admission Vitals Section\n    (formData.vitals?.admission && hasValue(formData.vitals.admission)) && \n    React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Admission Vitals:"),\n      React.createElement("span", { style: styles.sectionContent },\n        React.createElement("span", null,\n          formData.vitals.admission.bloodPressure && React.createElement("span", null,\n            "BP: ", React.createElement("strong", null, formData.vitals.admission.bloodPressure), " mmHg, "\n          ),\n          formData.vitals.admission.heartRate && React.createElement("span", null,\n            "Heart Rate: ", React.createElement("strong", null, formData.vitals.admission.heartRate), " bpm, "\n          ),\n          formData.vitals.admission.temperature && React.createElement("span", null,\n            "Temperature: ", React.createElement("strong", null, formData.vitals.admission.temperature), "\xb0C, "\n          ),\n          formData.vitals.admission.oxygenSaturation && React.createElement("span", null,\n            "O", React.createElement("sub", null, "2"), " Saturation: ",\n            React.createElement("strong", null, formData.vitals.admission.oxygenSaturation), "%, "\n          ),\n          formData.vitals.admission.respiratoryRate && React.createElement("span", null,\n            "Respiratory Rate: ", React.createElement("strong", null, formData.vitals.admission.respiratoryRate), " breaths/min"\n          )\n        )\n      )\n    ),\n\n    // Investigations Section\n    hasInvestigations && React.createElement("div", { style: { marginBottom: "3px" } },\n      React.createElement("div", null,\n        React.createElement("span", { style: styles.sectionTitle }, "Investigations")\n      ),\n      React.createElement("div", { \n        style: { \n          marginLeft: "15px", \n          marginTop: "5px", \n          width: "100%" \n        } \n      },\n        formData.investigations.map((investigation, index) => {\n          const hasFindings = investigation.report?.findings && \n            Object.values(investigation.report.findings).some(value => value);\n          const reportEntries = Object.entries(investigation.report || {})\n            .filter(([_, testData]) => testData.value);\n          const halfLength = Math.ceil(reportEntries.length / 2);\n\n          return React.createElement("div", {\n            key: index,\n            style: {\n              marginLeft: "5px",\n              marginBottom: "5px",\n              display: "flex",\n              flexDirection: hasFindings ? "row" : "column"\n            }\n          },\n            React.createElement("div", null,\n              React.createElement("div", { \n                style: { \n                  fontSize: "9px", \n                  marginBottom: "2px", \n                  fontWeight: "bold" \n                } \n              },\n                `${investigation.name.toUpperCase()} (${formatDate(investigation.date)})`\n              )\n            ),\n            hasFindings ? \n              React.createElement("div", { style: { display: "flex", flexDirection: "row" } },\n                React.createElement("div", null,\n                  investigation.report.findings && React.createElement("div", {\n                    style: {\n                      marginLeft: "50px",\n                      fontSize: "12px"\n                    }\n                  },\n                    React.createElement("div", { style: { width: "100%", fontSize: "12px",border:"1px solid red" } },\n                      React.createElement("span", null, investigation.report.findings.value)\n                    )\n                  )\n                )\n              ) :\n              React.createElement("div", { style: { display: "flex", flexDirection: "row" } },\n                React.createElement("div", { style: { width: "50%" } },\n                  reportEntries.slice(0, halfLength).map(([testName, testData]) =>\n                    testData.value && React.createElement("div", {\n                      key: testName,\n                      style: { \n                        display: "flex", \n                        flexDirection: "row", \n                        fontSize: "9px", \n                        marginBottom: "1px",\n                        marginLeft: "5px" \n                      }\n                    },\n                      React.createElement("div", { style: { width: "60%", fontSize: "12px" } },\n                        React.createElement("span", null, formatLabel(testData.label) || testName)\n                      ),\n                      React.createElement("div", { style: { width: "20%", fontSize: "12px" } },\n                        React.createElement("span", null, testData.value)\n                      ),\n                      testData.unit && React.createElement("div", { style: { width: "20%", fontSize: "12px" } },\n                        React.createElement("span", null, testData.unit)\n                      )\n                    )\n                  )\n                ),\n                React.createElement("div", { style: { width: "50%" } },\n                  reportEntries.slice(halfLength).map(([testName, testData]) =>\n                    testData.value && React.createElement("div", {\n                      key: testName,\n                      style: { \n                        display: "flex", \n                        flexDirection: "row", \n                        fontSize: "9px", \n                        marginBottom: "1px",\n                        marginLeft: "5px" \n                      }\n                    },\n                      React.createElement("div", { style: { width: "60%", fontSize: "12px" } },\n                        React.createElement("span", null, formatLabel(testData.label) || testName)\n                      ),\n                      React.createElement("div", { style: { width: "20%", fontSize: "12px" } },\n                        React.createElement("span", null, testData.value)\n                      ),\n                      testData.unit && React.createElement("div", { style: { width: "20%", fontSize: "12px" } },\n                        React.createElement("span", null, testData.unit)\n                      )\n                    )\n                  )\n                )\n              )\n          );\n        })\n      )\n    ),\n\n    // Treatment Section\n    formData.treatment && React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Treatment:"),\n      React.createElement("span", { style: styles.sectionContent }, formData.treatment)\n    ),\n\n    // Discharge Vitals Section\n    (formData.vitals?.discharge && hasValue(formData.vitals.discharge)) && \n    React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Discharge Vitals:"),\n      React.createElement("span", { style: styles.sectionContent },\n        React.createElement("span", null,\n          formData.vitals.discharge.bloodPressure && React.createElement("span", null,\n            "BP: ", React.createElement("strong", null, formData.vitals.discharge.bloodPressure), " mmHg, "\n          ),\n          formData.vitals.discharge.heartRate && React.createElement("span", null,\n            "Heart Rate: ", React.createElement("strong", null, formData.vitals.discharge.heartRate), " bpm, "\n          ),\n          formData.vitals.discharge.temperature && React.createElement("span", null,\n            "Temperature: ", React.createElement("strong", null, formData.vitals.discharge.temperature), "\xb0C, "\n          ),\n          formData.vitals.discharge.oxygenSaturation && React.createElement("span", null,\n            "O", React.createElement("sub", null, "2"), " Saturation: ",\n            React.createElement("strong", null, formData.vitals.discharge.oxygenSaturation), "%, "\n          ),\n          formData.vitals.discharge.respiratoryRate && React.createElement("span", null,\n            "Respiratory Rate: ", React.createElement("strong", null, formData.vitals.discharge.respiratoryRate), " breaths/min"\n          )\n        )\n      )\n    ),\n\n    // Condition on Discharge Section\n    formData.conditionOnDischarge && React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Condition on Discharge:"),\n      React.createElement("span", { style: styles.sectionContent }, formData.conditionOnDischarge)\n    ),\n\n    // Medicine/Advice Section\n    hasMedicineAdvice && React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Medicine/Advice:"),\n      React.createElement("div", { style: { marginLeft: "150px" } },\n        formData.medicineAdvice.map((med, index) => \n          (med.name || med.dosage || med.duration) && \n          React.createElement("div", { \n            key: index,\n            style: { fontSize: "11px", marginBottom: "2px" }\n          },\n            React.createElement("span", { style: { display: "inline-block", width: "20px" } },\n              `${index + 1}.`\n            ),\n            React.createElement("span", { style: { display: "inline-block", minWidth: "200px" } },\n              med.name\n            ),\n            med.dosage && React.createElement("span", { style: { display: "inline-block", minWidth: "150px" } },\n              `Dosage: ${med.dosage}`\n            ),\n            med.duration && React.createElement("span", { style: { display: "inline-block" } },\n              `${med.duration} Days`\n            )\n          )\n        )\n      )\n    ),\n\n    // Additional Notes Section\n    formData.notes && React.createElement("div", { style: styles.section },\n      React.createElement("span", { style: styles.sectionTitle }, "Additional Notes:"),\n      React.createElement("span", { style: styles.sectionContent }, formData.notes)\n    ),\n\n    // Doctor\'s Signature\n    React.createElement("div", { \n      style: { width: "100%", textAlign: "right", marginTop: "10px" }\n    },\n      React.createElement("span", { \n        style: { fontSize: "13px", fontWeight: "bold" }\n      }, "Doctor\'s Signature")\n    )\n  );\n}'},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(7067);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function f(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,x);v[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,x);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,x);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var I,L=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function W(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return $(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,_e=null;function Se(e){if(e=ya(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Ee(e){Ne?_e?_e.push(e):_e=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=_e;if(_e=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function De(e,t){return e(t)}function Te(){}var ke=!1;function Ae(e,t,n){if(ke)return e(t,n);ke=!0;try{return De(e,t,n)}finally{ke=!1,(null!==Ne||null!==_e)&&(Te(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Oe=!1}function Me(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ie=!1,Le=null,Fe=!1,Be=null,We={onError:function(e){Ie=!0,Le=e}};function Ue(e,t,n,r,a,i,s,o,l){Ie=!1,Le=null,Me.apply(We,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if($e(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return He(a),e;if(s===r)return He(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Ze=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=ut(o):0!==(i&=s)&&(r=ut(i))}else 0!==(s=n&~a)?r=ut(s):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,_t,St,Et=!1,Ct=[],Dt=null,Tt=null,kt=null,At=new Map,Pt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function It(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=xa(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Wt(){Et=!1,null!==Dt&&Ft(Dt)&&(Dt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==kt&&Ft(kt)&&(kt=null),At.forEach(Bt),Pt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Wt)))}function $t(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&Ut(Dt,e),null!==Tt&&Ut(Tt,e),null!==kt&&Ut(kt,e),At.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var a=yt,i=zt.transition;zt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=a,zt.transition=i}}function qt(e,t,n,r){var a=yt,i=zt.transition;zt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=a,zt.transition=i}}function Gt(e,t,n,r){if(Ht){var a=Yt(e,t,n,r);if(null===a)Hr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Dt=It(Dt,e,t,n,r,a),!0;case"dragenter":return Tt=It(Tt,e,t,n,r,a),!0;case"mouseover":return kt=It(kt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return At.set(i,It(At.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pt.set(i,It(Pt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var i=ya(a);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Kt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=xa(e=we(r))))if(null===(t=$e(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=L({},cn,{view:0,detail:0}),mn=an(un),pn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=an(pn),fn=an(L({},pn,{dataTransfer:0})),vn=an(L({},un,{relatedTarget:0})),gn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(xn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return _n}var En=L({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),Dn=an(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),kn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),On=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Mn=null;d&&"documentMode"in document&&(Mn=document.documentMode);var In=d&&"TextEvent"in window&&!Mn,Ln=d&&(!Rn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Bn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){Fr(e,0)}function Yn(e){if(G(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(d){var Jn;if(d){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Vn(t,Gn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=dr(n,i);var s=dr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,xr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=qr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},_r={};function Sr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Nr[e]=n[t];return e}d&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Er=Sr("animationend"),Cr=Sr("animationiteration"),Dr=Sr("animationstart"),Tr=Sr("transitionend"),kr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){kr.set(e,t),l(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Rr=Ar[Or];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Dr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(i(198));var d=Le;Ie=!1,Le=null,Fe||(Fe=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,o,c),i=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||Wr(t,!1,e),Wr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Wr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var a=Vt;break;case 4:a=qt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=xa(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=i,a=we(n),s=[];e:{var o=kr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Cr:case Dr:l=gn;break;case Tr:l=kn;break;case"scroll":l=mn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dn}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var p,h=r;null!==h;){var f=(p=h).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==m&&(null!=(f=Pe(h,m))&&d.push(Vr(h,f,p)))),u)break;h=h.return}0<d.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xa(c)&&!c[ha])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xa(c):null)&&(c!==(u=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=hn,f="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Dn,f="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==l?o:ba(l),p=null==c?o:ba(c),(o=new d(f,h+"leave",l,n,a)).target=u,o.relatedTarget=p,f=null,xa(a)===r&&((d=new d(m,h+"enter",c,n,a)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(m=c,h=0,p=d=l;p;p=Gr(p))h++;for(p=0,f=m;f;f=Gr(f))p++;for(;0<h-p;)d=Gr(d),h--;for(;0<p-h;)m=Gr(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Gr(d),m=Gr(m)}d=null}else d=null;null!==l&&Kr(s,o,l,d,!1),null!==c&&null!==u&&Kr(s,u,c,d,!0)}if("select"===(l=(o=r?ba(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Xn;else if(Hn(o))if(Zn)v=sr;else{v=ar;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ir);switch(v&&(v=v(e,r))?Vn(s,v,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?ba(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,xr=null);break;case"focusout":xr=gr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(s,n,a)}var x;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else $n?Wn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&($n||"onCompositionStart"!==y?"onCompositionEnd"===y&&$n&&(x=en()):(Jt="value"in(Zt=a)?Zt.value:Zt.textContent,$n=!0)),0<(g=qr(r,y)).length&&(y=new bn(y,e,null,n,a),s.push({event:y,listeners:g}),x?y.data=x:null!==(x=Un(n))&&(y.data=x))),(x=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Rn&&Wn(e,t)?(e=en(),Qt=Jt=Zt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=x))}Fr(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Pe(e,n))&&r.unshift(Vr(e,i,a)),null!=(i=Pe(e,t))&&r.push(Vr(e,i,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Pe(n,i))&&s.unshift(Vr(n,l,o)):a||null!=(l=Pe(n,i))&&s.push(Vr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Qr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);$t(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+ua,pa="__reactProps$"+ua,ha="__reactContainer$"+ua,fa="__reactEvents$"+ua,va="__reactListeners$"+ua,ga="__reactHandles$"+ua;function xa(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ma])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ma]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[pa]||null}var ja=[],Na=-1;function _a(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Ea(e,t){Na++,ja[Na]=e.current,e.current=t}var Ca={},Da=_a(Ca),Ta=_a(!1),ka=Ca;function Aa(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Sa(Ta),Sa(Da)}function Ra(e,t,n){if(Da.current!==Ca)throw Error(i(168));Ea(Da,t),Ea(Ta,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,z(e)||"Unknown",a));return L({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,ka=Da.current,Ea(Da,e),Ea(Ta,Ta.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ma(e,t,ka),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ta),Sa(Da),Ea(Da,e)):Sa(Ta),Ea(Ta,n)}var Fa=null,Ba=!1,Wa=!1;function Ua(e){null===Fa?Fa=[e]:Fa.push(e)}function $a(){if(!Wa&&null!==Fa){Wa=!0;var e=0,t=yt;try{var n=Fa;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ge(Qe,$a),a}finally{yt=t,Wa=!1}}return null}var za=[],Ha=0,Va=null,qa=0,Ga=[],Ka=0,Ya=null,Xa=1,Za="";function Ja(e,t){za[Ha++]=qa,za[Ha++]=Va,Va=e,qa=t}function Qa(e,t,n){Ga[Ka++]=Xa,Ga[Ka++]=Za,Ga[Ka++]=Ya,Ya=e;var r=Xa;e=Za;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Xa=1<<32-st(t)+a|n<<a|r,Za=i+e}else Xa=1<<i|n<<a|r,Za=e}function ei(e){null!==e.return&&(Ja(e,1),Qa(e,1,0))}function ti(e){for(;e===Va;)Va=za[--Ha],za[Ha]=null,qa=za[--Ha],za[Ha]=null;for(;e===Ya;)Ya=Ga[--Ka],Ga[Ka]=null,Za=Ga[--Ka],Ga[Ka]=null,Xa=Ga[--Ka],Ga[Ka]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Xa,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!ai)return di(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw mi(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function mi(){for(var e=ri;e;)e=ca(e.nextSibling)}function pi(){ri=ni=null,ai=!1}function hi(e){null===ii?ii=[e]:ii.push(e)}var fi=b.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&xi(i)===t.type)?((r=a(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case P:return m(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?d(e,t,n,r):null;case P:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:u(e,t,n,r,null);gi(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return u(t,e=e.get(n)||null,r,a,null);gi(t,r)}return null}function f(a,i,o,l){for(var c=null,d=null,u=i,f=i=0,v=null;null!==u&&f<o.length;f++){u.index>f?(v=u,u=null):v=u.sibling;var g=p(a,u,o[f],l);if(null===g){null===u&&(u=v);break}e&&u&&null===g.alternate&&t(a,u),i=s(g,i,f),null===d?c=g:d.sibling=g,d=g,u=v}if(f===o.length)return n(a,u),ai&&Ja(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=m(a,o[f],l))&&(i=s(u,i,f),null===d?c=u:d.sibling=u,d=u);return ai&&Ja(a,f),c}for(u=r(a,u);f<o.length;f++)null!==(v=h(u,a,f,o[f],l))&&(e&&null!==v.alternate&&u.delete(null===v.key?f:v.key),i=s(v,i,f),null===d?c=v:d.sibling=v,d=v);return e&&u.forEach((function(e){return t(a,e)})),ai&&Ja(a,f),c}function v(a,o,l,c){var d=M(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,f=o,v=o=0,g=null,x=l.next();null!==f&&!x.done;v++,x=l.next()){f.index>v?(g=f,f=null):g=f.sibling;var y=p(a,f,x.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),o=s(y,o,v),null===u?d=y:u.sibling=y,u=y,f=g}if(x.done)return n(a,f),ai&&Ja(a,v),d;if(null===f){for(;!x.done;v++,x=l.next())null!==(x=m(a,x.value,c))&&(o=s(x,o,v),null===u?d=x:u.sibling=x,u=x);return ai&&Ja(a,v),d}for(f=r(a,f);!x.done;v++,x=l.next())null!==(x=h(f,a,v,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?v:x.key),o=s(x,o,v),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach((function(e){return t(a,e)})),ai&&Ja(a,v),d}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===N&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===N){if(7===d.tag){n(r,d.sibling),(i=a(d,s.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&xi(c)===d.type){n(r,d.sibling),(i=a(d,s.props)).ref=vi(r,d,s),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===N?((i=Mc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Rc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return o(r);case j:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return o(r);case P:return e(r,i,(d=s._init)(s._payload),l)}if(te(s))return f(r,i,s,l);if(M(s))return v(r,i,s,l);gi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Lc(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var bi=yi(!0),wi=yi(!1),ji=_a(null),Ni=null,_i=null,Si=null;function Ei(){Si=_i=Ni=null}function Ci(e){var t=ji.current;Sa(ji),e._currentValue=t}function Di(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Ni=e,Si=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===Ni)throw Error(i(308));_i=e,Ni.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Ai=null;function Pi(e){null===Ai?Ai=[e]:Ai.push(e)}function Oi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Pi(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ri(e,n)}return null===(a=r.interleaved)?(t.next=t,Pi(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ri(e,n)}function Wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $i(e,t,n,r){var a=e.updateQueue;Mi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=a.baseState;for(s=0,d=c=l=null,o=i;;){var m=o.lane,p=o.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(m=t,p=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=f.payload)?h.call(p,u,m):h)||void 0===m)break e;u=L({},u,m);break e;case 2:Mi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Il|=s,e.lanes=s,e.memoizedState=u}}function zi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Hi={},Vi=_a(Hi),qi=_a(Hi),Gi=_a(Hi);function Ki(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(Ea(Gi,t),Ea(qi,e),Ea(Vi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Vi),Ea(Vi,t)}function Xi(){Sa(Vi),Sa(qi),Sa(Gi)}function Zi(e){Ki(Gi.current);var t=Ki(Vi.current),n=le(t,e.type);t!==n&&(Ea(qi,e),Ea(Vi,n))}function Ji(e){qi.current===e&&(Sa(Vi),Sa(qi))}var Qi=_a(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=b.ReactCurrentDispatcher,as=b.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,ds=!1,us=0,ms=0;function ps(){throw Error(i(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fs(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Js:Qs,e=n(r,a),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(ds)}if(rs.current=Zs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function vs(){var e=0!==us;return us=0,e}function gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function xs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=xs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((is&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=r):c=c.next=m,ss.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Il|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=xs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function js(){}function Ns(e,t){var n=ss,r=xs(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,yo=!0),r=r.queue,Ms(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,ks(9,Ss.bind(null,n,r,a,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&is)||_s(n,t,a)}return a}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&Ds(e)}function Es(e,t,n){return n((function(){Cs(t)&&Ds(e)}))}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ds(e){var t=Ri(e,1);null!==t&&nc(t,e,1,-1)}function Ts(e){var t=gs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[t.memoizedState,e]}function ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function As(){return xs().memoizedState}function Ps(e,t,n,r){var a=gs();ss.flags|=e,a.memoizedState=ks(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var a=xs();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&hs(r,s.deps))return void(a.memoizedState=ks(t,n,i,r))}ss.flags|=e,a.memoizedState=ks(1|t,n,i,r)}function Rs(e,t){return Ps(8390656,8,e,t)}function Ms(e,t){return Os(2048,8,e,t)}function Is(e,t){return Os(4,2,e,t)}function Ls(e,t){return Os(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Fs.bind(null,t,e),n)}function Ws(){}function Us(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),ss.lanes|=n,Il|=n,e.baseState=!0),t)}function Hs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{yt=n,as.transition=r}}function Vs(){return xs().memoizedState}function qs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Ys(t,n);else if(null!==(n=Oi(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Gs(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Ys(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Pi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Oi(e,t,a,r))&&(nc(n,e,r,a=ec()),Xs(n,t,r))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ys(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Zs={readContext:ki,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Js={readContext:ki,useCallback:function(e,t){return gs().memoizedState=[e,void 0===t?null:t],e},useContext:ki,useEffect:Rs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=gs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gs().memoizedState=e},useState:Ts,useDebugValue:Ws,useDeferredValue:function(e){return gs().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Hs.bind(null,e[1]),gs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=gs();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&is)||_s(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Rs(Es.bind(null,r,s,e),[e]),r.flags|=2048,ks(9,Ss.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=gs(),t=Tl.identifierPrefix;if(ai){var n=Za;t=":"+t+"R"+(n=(Xa&~(1<<32-st(Xa)-1)).toString(32)+n),0<(n=us++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qs={readContext:ki,useCallback:Us,useContext:ki,useEffect:Ms,useImperativeHandle:Bs,useInsertionEffect:Is,useLayoutEffect:Ls,useMemo:$s,useReducer:bs,useRef:As,useState:function(){return bs(ys)},useDebugValue:Ws,useDeferredValue:function(e){return zs(xs(),os.memoizedState,e)},useTransition:function(){return[bs(ys)[0],xs().memoizedState]},useMutableSource:js,useSyncExternalStore:Ns,useId:Vs,unstable_isNewReconciler:!1},eo={readContext:ki,useCallback:Us,useContext:ki,useEffect:Ms,useImperativeHandle:Bs,useInsertionEffect:Is,useLayoutEffect:Ls,useMemo:$s,useReducer:ws,useRef:As,useState:function(){return ws(ys)},useDebugValue:Ws,useDeferredValue:function(e){var t=xs();return null===os?t.memoizedState=e:zs(t,os.memoizedState,e)},useTransition:function(){return[ws(ys)[0],xs().memoizedState]},useMutableSource:js,useSyncExternalStore:Ns,useId:Vs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Fi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,a))&&(nc(t,e,a,r),Wi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Fi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,a))&&(nc(t,e,a,r),Wi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Fi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bi(e,a,r))&&(nc(t,e,r,n),Wi(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function io(e,t,n){var r=!1,a=Ca,i=t.contextType;return"object"===typeof i&&null!==i?i=ki(i):(a=Pa(t)?ka:Da.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Aa(e,a):Ca),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ii(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ki(i):(i=Pa(t)?ka:Da.current,a.context=Aa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),$i(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),uo(0,t)},n}function ho(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xo=b.ReactCurrentOwner,yo=!1;function bo(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=fs(e,t,n,r,i,a),n=vs(),null===e||yo?(ai&&n&&ei(t),t.flags|=1,bo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function jo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(yo=!0)}}return Eo(e,t,n,r,a)}function _o(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ea(Ol,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ea(Ol,Pl),Pl|=r;return bo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,a){var i=Pa(n)?ka:Da.current;return i=Aa(t,i),Ti(t,a),n=fs(e,t,n,r,i,a),r=vs(),null===e||yo?(ai&&r&&ei(t),t.flags|=1,bo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function Co(e,t,n,r,a){if(Pa(n)){var i=!0;Ia(t)}else i=!1;if(Ti(t,a),null===t.stateNode)zo(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=ki(c):c=Aa(t,c=Pa(n)?ka:Da.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Mi=!1;var m=t.memoizedState;s.state=m,$i(t,r,s,a),l=t.memoizedState,o!==r||m!==l||Ta.current||Mi?("function"===typeof d&&(no(t,n,d,r),l=t.memoizedState),(o=Mi||ao(t,n,o,r,m,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Li(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,u=t.pendingProps,m=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=ki(l):l=Aa(t,l=Pa(n)?ka:Da.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||m!==l)&&so(t,s,r,l),Mi=!1,m=t.memoizedState,s.state=m,$i(t,r,s,a);var h=t.memoizedState;o!==u||m!==h||Ta.current||Mi?("function"===typeof p&&(no(t,n,p,r),h=t.memoizedState),(c=Mi||ao(t,n,c,r,m,h,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Do(e,t,n,r,i,a)}function Do(e,t,n,r,a,i){So(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&La(t,n,!1),Ho(e,t,i);r=t.stateNode,xo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),Yi(e,t.containerInfo)}function ko(e,t,n,r,a){return pi(),hi(a),t.flags|=256,bo(e,t,n,r),t.child}var Ao,Po,Oo,Ro,Mo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,a=t.pendingProps,s=Qi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ea(Qi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,a,0,null),e=Mc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=Mo,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Ic({mode:"visible",children:r.children},a,0,null),(s=Mc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Mo,s);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=co(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Tl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ri(e,a),nc(r,e,a,-1))}return fc(),Bo(e,t,o,r=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ga[Ka++]=Xa,Ga[Ka++]=Za,Ga[Ka++]=Ya,Xa=e.id,Za=e.overflow,Ya=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Oc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,a}return e=(o=e.child).sibling,a=Oc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&hi(r),bi(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Di(e.return,t,n)}function Uo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function $o(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Qi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(Qi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Uo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Uo(t,!0,n,null,i);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Pa(t.type)&&Oa(),qo(t),null;case 3:return r=t.stateNode,Xi(),Sa(Ta),Sa(Da),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Po(e,t),qo(t),null;case 5:Ji(t);var a=Ki(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qo(t),null}if(e=Ki(Vi.current),ui(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ma]=t,r[pa]=s,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ae(r,s),Br("invalid",r)}for(var l in xe(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),Q(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Qr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ma]=t,e[pa]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":X(e,r),a=Y(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(s in xe(n,a),c=a)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ve(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Br("scroll",e):null!=d&&y(e,s,d,l))}switch(n){case"input":q(e),Q(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Gi.current),Ki(Vi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return qo(t),null;case 13:if(Sa(Qi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))mi(),pi(),t.flags|=98560,s=!1;else if(s=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ma]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qi.current)?0===Rl&&(Rl=3):fc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Xi(),Po(e,t),null===e&&$r(t.stateNode.containerInfo),qo(t),null;case 10:return Ci(t.type._context),qo(t),null;case 19:if(Sa(Qi),null===(s=t.memoizedState))return qo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Vo(s,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Vo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(Qi,1&Qi.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>$l&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return qo(t),null}else 2*Ze()-s.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=Qi.current,Ea(Qi,r?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ko(e,t){switch(ti(t),t.tag){case 1:return Pa(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Sa(Ta),Sa(Da),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Sa(Qi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Qi),null;case 4:return Xi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ki(Vi.current);var i,s=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),s=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(d in xe(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Qo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[pa],delete t[fa],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Xo||Qo(n,t);case 6:var r=dl,a=ul;dl=null,ml(e,t,n),ul=a,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),$t(e)):la(dl,n.stateNode));break;case 4:r=dl,a=ul,dl=n.stateNode.containerInfo,ul=!0,ml(e,t,n),dl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),a=a.next}while(a!==r)}ml(e,t,n);break;case 1:if(!Xo&&(Qo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,ml(e,t,n),Xo=r):ml(e,t,n);break;default:ml(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(s,o,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){_c(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){_c(e,e.return,v)}try{nl(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:fl(t,e),gl(e),512&r&&null!==n&&Qo(n,n.return);break;case 5:if(fl(t,e),gl(e),512&r&&null!==n&&Qo(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(a,s),ye(l,o);var d=ye(l,s);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?ve(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):y(a,u,m,d)}switch(l){case"input":J(a,s);break;case"textarea":ie(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(a,!!s.multiple,h,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[pa]=s}catch(v){_c(e,e.return,v)}}break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){_c(e,e.return,v)}}break;case 3:if(fl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Ze())),4&r&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(d=Xo)||u,fl(t,e),Xo=d):fl(t,e),gl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jo=e,u=e.child;null!==u;){for(m=Jo=u;null!==Jo;){switch(h=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){_c(r,n,v)}}break;case 5:Qo(p,p.return);break;case 22:if(null!==p.memoizedState){wl(m);continue}}null!==h?(h.return=p,Jo=h):wl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(v){_c(e,e.return,v)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fl(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Jo=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var a=Jo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Yo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=s,(Xo=l)&&!c)for(Jo=a;null!==Jo;)l=(s=Jo).child,22===s.tag&&null!==s.memoizedState?jl(a):null!==l?(l.return=s,Jo=l):jl(a);for(;null!==i;)Jo=i,yl(i,t,n),i=i.sibling;Jo=a,Yo=o,Xo=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Jo=i):bl(e)}}function bl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&$t(m)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&al(t)}catch(p){_c(t,t.return,p)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function wl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function jl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){_c(t,a,l)}}var i=t.return;try{al(t)}catch(l){_c(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){_c(t,s,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Nl,_l=Math.ceil,Sl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Dl=0,Tl=null,kl=null,Al=0,Pl=0,Ol=_a(0),Rl=0,Ml=null,Il=0,Ll=0,Fl=0,Bl=null,Wl=null,Ul=0,$l=1/0,zl=null,Hl=!1,Vl=null,ql=null,Gl=!1,Kl=null,Yl=0,Xl=0,Zl=null,Jl=-1,Ql=0;function ec(){return 0!==(6&Dl)?Ze():-1!==Jl?Jl:Jl=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Al?Al&-Al:null!==fi.transition?(0===Ql&&(Ql=ft()),Ql):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(i(185));gt(e,n,r),0!==(2&Dl)&&e===Tl||(e===Tl&&(0===(2&Dl)&&(Ll|=n),4===Rl&&oc(e,Al)),rc(e,r),1===n&&0===Dl&&0===(1&t.mode)&&($l=Ze()+500,Ba&&$a()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=pt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=mt(e,e===Tl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ba=!0,Ua(e)}(lc.bind(null,e)):Ua(lc.bind(null,e)),sa((function(){0===(6&Dl)&&$a()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,Ql=0,0!==(6&Dl))throw Error(i(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=mt(e,e===Tl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Dl;Dl|=2;var s=hc();for(Tl===e&&Al===t||(zl=null,$l=Ze()+500,mc(e,t));;)try{xc();break}catch(l){pc(e,l)}Ei(),Sl.current=s,Dl=a,null!==kl?t=0:(Tl=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ml,mc(e,0),oc(e,r),rc(e,Ze()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(s=ht(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ml,mc(e,0),oc(e,r),rc(e,Ze()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Wl,zl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Ul+500-Ze())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Wl,zl),t);break}wc(e,Wl,zl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Wl,zl),r);break}wc(e,Wl,zl);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Wl,Wl=n,null!==t&&sc(t)),e}function sc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Dl))throw Error(i(327));jc();var t=mt(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,mc(e,0),oc(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,zl),rc(e,Ze()),null}function cc(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&($l=Ze()+500,Ba&&$a())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Dl)&&jc();var t=Dl;Dl|=1;var n=Cl.transition,r=yt;try{if(Cl.transition=null,yt=1,e)return e()}finally{yt=r,Cl.transition=n,0===(6&(Dl=t))&&$a()}}function uc(){Pl=Ol.current,Sa(Ol)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==kl)for(n=kl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:Xi(),Sa(Ta),Sa(Da),ns();break;case 5:Ji(r);break;case 4:Xi();break;case 13:case 19:Sa(Qi);break;case 10:Ci(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,kl=e=Oc(e.current,null),Al=Pl=t,Rl=0,Ml=null,Fl=Ll=Il=0,Wl=Bl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ai=null}return e}function pc(e,t){for(;;){var n=kl;try{if(Ei(),rs.current=Zs,cs){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cs=!1}if(is=0,ls=os=ss=null,ds=!1,us=0,El.current=null,null===n||null===n.return){Rl=1,Ml=t,kl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vo(o);if(null!==h){h.flags&=-257,go(h,o,l,0,t),1&h.mode&&fo(s,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){fo(s,d,t),fc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var g=vo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),hi(lo(c,l));break e}}s=c=lo(c,l),4!==Rl&&(Rl=2),null===Bl?Bl=[s]:Bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,po(0,c,t));break e;case 1:l=c;var x=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof x.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===ql||!ql.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,ho(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,kl===n&&null!==n&&(kl=n=n.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Zs,null===e?Zs:e}function fc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Tl||0===(268435455&Il)&&0===(268435455&Ll)||oc(Tl,Al)}function vc(e,t){var n=Dl;Dl|=2;var r=hc();for(Tl===e&&Al===t||(zl=null,mc(e,t));;)try{gc();break}catch(a){pc(e,a)}if(Ei(),Dl=n,Sl.current=r,null!==kl)throw Error(i(261));return Tl=null,Al=0,Rl}function gc(){for(;null!==kl;)yc(kl)}function xc(){for(;null!==kl&&!Ye();)yc(kl)}function yc(e){var t=Nl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):kl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Pl)))return void(kl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(kl=n);if(null===e)return Rl=6,void(kl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(kl=t);kl=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var r=yt,a=Cl.transition;try{Cl.transition=null,yt=1,function(e,t,n,r){do{jc()}while(null!==Kl);if(0!==(6&Dl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Tl&&(kl=Tl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Tc(tt,(function(){return jc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var o=yt;yt=1;var l=Dl;Dl|=4,El.current=null,function(e,t){if(ea=Ht,pr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==n||0!==a&&3!==m.nodeType||(l=o+a),m!==s||0!==r&&3!==m.nodeType||(c=o+r),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===a&&(l=o),p===s&&++u===r&&(c=o),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,g=f.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}f=tl,tl=!1}(e,n),vl(n,e),hr(ta),Ht=!!ea,ta=ea=null,e.current=n,xl(n,e,a),Xe(),Dl=l,yt=o,Cl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=a),s=e.pendingLanes,0===s&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,$a()}(e,t,n,r)}finally{Cl.transition=a,yt=r}return null}function jc(){if(null!==Kl){var e=bt(Yl),t=Cl.transition,n=yt;try{if(Cl.transition=null,yt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Dl))throw Error(i(331));var a=Dl;for(Dl|=4,Jo=e.current;null!==Jo;){var s=Jo,o=s.child;if(0!==(16&Jo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Jo=d;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var m=u.child;if(null!==m)m.return=u,Jo=m;else for(;null!==Jo;){var p=(u=Jo).sibling,h=u.return;if(il(u),u===d){Jo=null;break}if(null!==p){p.return=h,Jo=p;break}Jo=h}}}var f=s.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Jo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(s=Jo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var x=s.sibling;if(null!==x){x.return=s.return,Jo=x;break e}Jo=s.return}}var y=e.current;for(Jo=y;null!==Jo;){var b=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Jo=b;else e:for(o=y;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){_c(l,l.return,j)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(Dl=a,$a(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{yt=n,Cl.transition=t}}return!1}function Nc(e,t,n){e=Bi(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bi(t,e=ho(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Al&n)===n&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>Ze()-Ul?mc(e,0):Fl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Ri(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function Tc(e,t){return Ge(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new kc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Mc(n.children,a,s,t);case _:o=8,a|=8;break;case S:return(e=Ac(12,n,t,2|a)).elementType=S,e.lanes=s,e;case T:return(e=Ac(13,n,t,a)).elementType=T,e.lanes=s,e;case k:return(e=Ac(19,n,t,a)).elementType=k,e.lanes=s,e;case O:return Ic(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case C:o=9;break e;case D:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,a,i,s,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(i),e}function Uc(e){if(!e)return Ca;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Ma(e,n,t)}return t}function $c(e,t,n,r,a,i,s,o,l){return(e=Wc(n,r,!0,e,0,i,0,o,l)).context=Uc(null),n=e.current,(i=Fi(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function zc(e,t,n,r){var a=t.current,i=ec(),s=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(a,t,s))&&(nc(e,a,s,i),Wi(e,a,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:To(t),pi();break;case 5:Zi(t);break;case 1:Pa(t.type)&&Ia(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(ji,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(Qi,1&Qi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ea(Qi,1&Qi.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ea(Qi,1&Qi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $o(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(Qi,Qi.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return Ho(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,ai&&0!==(1048576&t.flags)&&Qa(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var a=Aa(t,Da.current);Ti(t,n),a=fs(null,t,r,e,a,n);var s=vs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(s=!0,Ia(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ii(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Do(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),bo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),a){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(To(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Li(e,t),$i(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ko(e,t,r,n,a=lo(Error(i(423)),t));break e}if(r!==a){t=ko(e,t,r,n,a=lo(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===a){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Lo(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ea(ji,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Ta.current){t=Ho(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fi(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Di(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Di(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=ki(a)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),jo(e,t,r,a=to(r.type,a),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),zo(e,t),t.tag=1,Pa(r)?(e=!0,Ia(t)):e=!1,Ti(t,n),io(t,r,a),oo(t,r,a,n),Do(null,t,r,!0,e,n);case 19:return $o(e,t,n);case 22:return _o(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Qc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Hc(s);o.call(e)}}zc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hc(s);i.call(e)}}var s=$c(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[ha]=s.current,$r(8===e.nodeType?e.parentNode:e),dc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ha]=l.current,$r(8===e.nodeType?e.parentNode:e),dc((function(){zc(t,l,n,r)})),l}(n,t,e,a,r);return Hc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){zc(null,e,null,null)})),t[ha]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),rc(t,Ze()),0===(6&Dl)&&($l=Ze()+500,$a()))}break;case 13:dc((function(){var t=Ri(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},jt=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Ri(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},_t=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},je=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));G(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},De=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[ya,ba,wa,Ee,Ce,cc]},td={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{at=rd.inject(nd),it=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,$r(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,a,0,s,o),e[ha]=t.current,$r(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2750:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var r=n(4524),a=n(1620),i=n(849),s=n(2440),o=n(9504);function l(e,t){const n=(0,i.q)(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=(0,o.h)(e,t),c=(0,s.w)(t?.in||e,0);c.setFullYear(l,0,r),c.setHours(0,0,0,0);return(0,a.k)(c,t)}var c=n(2316);function d(e,t){const n=(0,c.a)(e,t?.in),i=+(0,a.k)(n,t)-+l(n,t);return Math.round(i/r.my)+1}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),a=n(7498),i=n(9096);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},2814:(e,t,n)=>{"use strict";n.d(t,{s:()=>s,t:()=>i});var r=n(5043);function a(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=a(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():a(t[e],null)}}}}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(i(...t),t)}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2885:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(2440),a=n(2316);function i(e,t,n){const i=(0,a.a)(e,n?.in);if(isNaN(t))return(0,r.w)(n?.in||e,NaN);if(!t)return i;const s=i.getDate(),o=(0,r.w)(n?.in||e,i.getTime());o.setMonth(i.getMonth()+t+1,0);return s>=o.getDate()?o:(i.setFullYear(o.getFullYear(),o.getMonth(),s),i)}},2894:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(5043),a=n(2814),i=n(503);var s=e=>{const{present:t,children:n}=e,s=function(e){const[t,n]=r.useState(),a=r.useRef({}),s=r.useRef(e),l=r.useRef("none"),c=e?"mounted":"unmounted",[d,u]=function(e,t){return r.useReducer(((e,n)=>t[e][n]??e),e)}(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect((()=>{const e=o(a.current);l.current="mounted"===d?e:"none"}),[d]),(0,i.N)((()=>{const t=a.current,n=s.current;if(n!==e){const r=l.current,a=o(t);if(e)u("MOUNT");else if("none"===a||"none"===t?.display)u("UNMOUNT");else{u(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}s.current=e}}),[e,u]),(0,i.N)((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const i=o(a.current).includes(r.animationName);if(r.target===t&&i&&(u("ANIMATION_END"),!s.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},i=e=>{e.target===t&&(l.current=o(a.current))};return t.addEventListener("animationstart",i),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",i),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}u("ANIMATION_END")}),[t,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:r.useCallback((e=>{e&&(a.current=getComputedStyle(e)),n(e)}),[])}}(t),l="function"===typeof n?n({present:s.isPresent}):r.Children.only(n),c=(0,a.s)(s.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(l));return"function"===typeof n||s.isPresent?r.cloneElement(l,{ref:c}):null};function o(e){return e?.animationName||"none"}s.displayName="Presence"},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},3003:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>f,d4:()=>_,wA:()=>w});var r=n(5043),a=n(7237);function i(e){e()}var s={notify(){},get:()=>[]};function o(e,t){let n,r=s,a=0,o=!1;function l(){u.onStateChange&&u.onStateChange()}function c(){a++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){i((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function d(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=s)}const u={addNestedSub:function(e){c();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),d())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:l,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,c())},tryUnsubscribe:function(){o&&(o=!1,d())},getListeners:()=>r};return u}var l=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),c=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),d=(()=>l||c?r.useLayoutEffect:r.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var u=Symbol.for("react-redux-context"),m="undefined"!==typeof globalThis?globalThis:{};function p(){if(!r.createContext)return{};const e=m[u]??=new Map;let t=e.get(r.createContext);return t||(t=r.createContext(null),e.set(r.createContext,t)),t}var h=p();var f=function(e){const{children:t,context:n,serverState:a,store:i}=e,s=r.useMemo((()=>{const e=o(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}}),[i,a]),l=r.useMemo((()=>i.getState()),[i]);d((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,l]);const c=n||h;return r.createElement(c.Provider,{value:s},t)};function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return function(){return r.useContext(e)}}var g=v();function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;const t=e===h?g:v(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var y=x();function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;const t=e===h?y:x(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var w=b(),j=(e,t)=>e===t;function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;const t=e===h?g:v(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=j}="function"===typeof n?{equalityFn:n}:n;const s=t(),{store:o,subscription:l,getServerState:c}=s,d=(r.useRef(!0),r.useCallback({[e.name]:t=>e(t)}[e.name],[e])),u=(0,a.useSyncExternalStoreWithSelector)(l.addNestedSub,o.getState,c||o.getState,d,i);return r.useDebugValue(u),u};return Object.assign(n,{withTypes:()=>n}),n}var _=N()},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3124:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(5043),a=n(503);function i(e){const[t,n]=r.useState(void 0);return(0,a.N)((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let a,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,i=t.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}},3141:function(e,t,n){var r,a;"undefined"!=typeof self&&self,e.exports=(r=n(5043),a=n(7950),function(){"use strict";var e={328:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PrintContextConsumer=t.PrintContext=void 0;var r=n(496),a=Object.prototype.hasOwnProperty.call(r,"createContext");t.PrintContext=a?r.createContext({}):null,t.PrintContextConsumer=t.PrintContext?t.PrintContext.Consumer:function(){return null}},428:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ReactToPrint=void 0;var r=n(316),a=n(496),i=n(190),s=n(328),o=n(940),l=function(e){function t(){var t=e.apply(this,r.__spreadArray([],r.__read(arguments),!1))||this;return t.startPrint=function(e){var n=t.props,r=n.onAfterPrint,a=n.onPrintError,i=n.print,s=n.documentTitle;setTimeout((function(){var n,o;if(e.contentWindow)if(e.contentWindow.focus(),i)i(e).then((function(){return null==r?void 0:r()})).then((function(){return t.handleRemoveIframe()})).catch((function(e){a?a("print",e):t.logMessages(["An error was thrown by the specified `print` function"])}));else{if(e.contentWindow.print){var l=null!==(o=null===(n=e.contentDocument)||void 0===n?void 0:n.title)&&void 0!==o?o:"",c=e.ownerDocument.title;s&&(e.ownerDocument.title=s,e.contentDocument&&(e.contentDocument.title=s)),e.contentWindow.print(),s&&(e.ownerDocument.title=c,e.contentDocument&&(e.contentDocument.title=l))}else t.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);null==r||r(),t.handleRemoveIframe()}else t.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])}),500)},t.triggerPrint=function(e){var n=t.props,r=n.onBeforePrint,a=n.onPrintError;if(r){var i=r();i&&"function"==typeof i.then?i.then((function(){t.startPrint(e)})).catch((function(e){a&&a("onBeforePrint",e)})):t.startPrint(e)}else t.startPrint(e)},t.handlePrint=function(e){var n=t.props,a=n.bodyClass,s=n.content,o=n.copyStyles,l=n.fonts,c=n.pageStyle,d=n.nonce,u="function"==typeof e?e():null;if(u&&"function"==typeof s&&t.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),u||"function"!=typeof s||(u=s()),void 0!==u)if(null!==u){var m=document.createElement("iframe");m.width="".concat(document.documentElement.clientWidth,"px"),m.height="".concat(document.documentElement.clientHeight,"px"),m.style.position="absolute",m.style.top="-".concat(document.documentElement.clientHeight+100,"px"),m.style.left="-".concat(document.documentElement.clientWidth+100,"px"),m.id="printWindow",m.srcdoc="<!DOCTYPE html>";var p=(0,i.findDOMNode)(u);if(p){var h=p.cloneNode(!0),f=h instanceof Text,v=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),g=f?[]:h.querySelectorAll("img"),x=f?[]:h.querySelectorAll("video"),y=l?l.length:0;t.numResourcesToLoad=v.length+g.length+x.length+y,t.resourcesLoaded=[],t.resourcesErrored=[];var b=function(e,n){t.resourcesLoaded.includes(e)?t.logMessages(["Tried to mark a resource that has already been handled",e],"debug"):(n?(t.logMessages(r.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],r.__read(n),!1)),t.resourcesErrored.push(e)):t.resourcesLoaded.push(e),t.resourcesLoaded.length+t.resourcesErrored.length===t.numResourcesToLoad&&t.triggerPrint(m))};m.onload=function(){var e,n,i,s;m.onload=null;var u=m.contentDocument||(null===(n=m.contentWindow)||void 0===n?void 0:n.document);if(u){u.body.appendChild(h),l&&((null===(i=m.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(s=m.contentWindow)||void 0===s?void 0:s.FontFace)?l.forEach((function(e){var t=new FontFace(e.family,e.source,{weight:e.weight,style:e.style});m.contentDocument.fonts.add(t),t.loaded.then((function(){b(t)})).catch((function(e){b(t,["Failed loading the font:",t,"Load error:",e])}))})):(l.forEach((function(e){return b(e)})),t.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var v="function"==typeof c?c():c;if("string"!=typeof v)t.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof v,'". Styles from `pageStyle` will not be applied.')]);else{var y=u.createElement("style");d&&(y.setAttribute("nonce",d),u.head.setAttribute("nonce",d)),y.appendChild(u.createTextNode(v)),u.head.appendChild(y)}if(a&&(e=u.body.classList).add.apply(e,r.__spreadArray([],r.__read(a.split(" ")),!1)),!f){for(var w=f?[]:p.querySelectorAll("canvas"),j=u.querySelectorAll("canvas"),N=0;N<w.length;++N){var _=w[N],S=j[N].getContext("2d");S&&S.drawImage(_,0,0)}var E=function(e){var t=g[e],n=t.getAttribute("src");if(n){var r=new Image;r.onload=function(){return b(t)},r.onerror=function(e,n,r,a,i){return b(t,["Error loading <img>",t,"Error",i])},r.src=n}else b(t,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',t])};for(N=0;N<g.length;N++)E(N);var C=function(e){var t=x[e];t.preload="auto";var n=t.getAttribute("poster");if(n){var r=new Image;r.onload=function(){return b(t)},r.onerror=function(e,r,a,i,s){return b(t,["Error loading video poster",n,"for video",t,"Error:",s])},r.src=n}else t.readyState>=2?b(t):(t.onloadeddata=function(){return b(t)},t.onerror=function(e,n,r,a,i){return b(t,["Error loading video",t,"Error",i])},t.onstalled=function(){return b(t,["Loading video stalled, skipping",t])})};for(N=0;N<x.length;N++)C(N);var D="input",T=p.querySelectorAll(D),k=u.querySelectorAll(D);for(N=0;N<T.length;N++)k[N].value=T[N].value;var A="input[type=checkbox],input[type=radio]",P=p.querySelectorAll(A),O=u.querySelectorAll(A);for(N=0;N<P.length;N++)O[N].checked=P[N].checked;var R="select",M=p.querySelectorAll(R),I=u.querySelectorAll(R);for(N=0;N<M.length;N++)I[N].value=M[N].value}if(o)for(var L=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),F=function(e,n){var r=L[e];if("style"===r.tagName.toLowerCase()){var a=u.createElement(r.tagName),i=r.sheet;if(i){var s="";try{for(var o=i.cssRules.length,l=0;l<o;++l)"string"==typeof i.cssRules[l].cssText&&(s+="".concat(i.cssRules[l].cssText,"\r\n"))}catch(e){t.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",r],"warning")}a.setAttribute("id","react-to-print-".concat(e)),d&&a.setAttribute("nonce",d),a.appendChild(u.createTextNode(s)),u.head.appendChild(a)}}else if(r.getAttribute("href"))if(r.hasAttribute("disabled"))t.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",r],"warning"),b(r);else{for(var c=u.createElement(r.tagName),m=(l=0,r.attributes.length);l<m;++l){var p=r.attributes[l];p&&c.setAttribute(p.nodeName,p.nodeValue||"")}c.onload=function(){return b(c)},c.onerror=function(e,t,n,r,a){return b(c,["Failed to load",c,"Error:",a])},d&&c.setAttribute("nonce",d),u.head.appendChild(c)}else t.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",r],"warning"),b(r)},B=(N=0,L.length);N<B;++N)F(N)}0!==t.numResourcesToLoad&&o||t.triggerPrint(m)},t.handleRemoveIframe(!0),document.body.appendChild(m)}else t.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else t.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else t.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},t.handleRemoveIframe=function(e){var n=t.props.removeAfterPrint;if(e||n){var r=document.getElementById("printWindow");r&&document.body.removeChild(r)}},t.logMessages=function(e,n){void 0===n&&(n="error"),t.props.suppressErrors||("error"===n?console.error(e):"warning"===n?console.warn(e):"debug"===n&&console.debug(e))},t}return r.__extends(t,e),t.prototype.handleClick=function(e,t){var n=this,r=this.props,a=r.onBeforeGetContent,i=r.onPrintError;if(a){var s=a();s&&"function"==typeof s.then?s.then((function(){return n.handlePrint(t)})).catch((function(e){i&&i("onBeforeGetContent",e)})):this.handlePrint(t)}else this.handlePrint(t)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.trigger;if(n)return a.cloneElement(n(),{onClick:this.handleClick.bind(this)});if(!s.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var r={handlePrint:this.handleClick.bind(this)};return a.createElement(s.PrintContext.Provider,{value:r},t)},t.defaultProps=o.defaultProps,t}(a.Component);t.ReactToPrint=l},940:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=void 0,t.defaultProps={copyStyles:!0,pageStyle:"\n        @page {\n            /* Remove browser default header (title) and footer (url) */\n            margin: 0;\n        }\n        @media print {\n            body {\n                /* Tell browsers to print background colors */\n                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n                color-adjust: exact; /* Firefox */\n            }\n        }\n    ",removeAfterPrint:!1,suppressErrors:!1}},892:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useReactToPrint=void 0;var r=n(316),a=n(496),i=n(428),s=n(940),o=n(860),l=Object.prototype.hasOwnProperty.call(a,"useMemo")&&Object.prototype.hasOwnProperty.call(a,"useCallback");t.useReactToPrint=function(e){if(!l)return e.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var t=a.useMemo((function(){return new i.ReactToPrint(r.__assign(r.__assign({},s.defaultProps),e))}),[e]);return a.useCallback((function(e,n){return(0,o.wrapCallbackWithArgs)(t,t.handleClick,n)(e)}),[t])}},860:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCallbackWithArgs=void 0;var r=n(316);t.wrapCallbackWithArgs=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return t.apply(e,r.__spreadArray(r.__spreadArray([],r.__read(a),!1),r.__read(n),!1))}}},496:function(e){e.exports=r},190:function(e){e.exports=a},316:function(e,t,n){n.r(t),n.d(t,{__addDisposableResource:function(){return R},__assign:function(){return i},__asyncDelegator:function(){return S},__asyncGenerator:function(){return _},__asyncValues:function(){return E},__await:function(){return N},__awaiter:function(){return h},__classPrivateFieldGet:function(){return A},__classPrivateFieldIn:function(){return O},__classPrivateFieldSet:function(){return P},__createBinding:function(){return v},__decorate:function(){return o},__disposeResources:function(){return I},__esDecorate:function(){return c},__exportStar:function(){return g},__extends:function(){return a},__generator:function(){return f},__importDefault:function(){return k},__importStar:function(){return T},__makeTemplateObject:function(){return C},__metadata:function(){return p},__param:function(){return l},__propKey:function(){return u},__read:function(){return y},__rest:function(){return s},__runInitializers:function(){return d},__setFunctionName:function(){return m},__spread:function(){return b},__spreadArray:function(){return j},__spreadArrays:function(){return w},__values:function(){return x}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function o(e,t,n,r){var a,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,a,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?r.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),m=!1,p=n.length-1;p>=0;p--){var h={};for(var f in r)h[f]="access"===f?{}:r[f];for(var f in r.access)h.access[f]=r.access[f];h.addInitializer=function(e){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var v=(0,n[p])("accessor"===l?{get:u.get,set:u.set}:u[c],h);if("accessor"===l){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(o=s(v.get))&&(u.get=o),(o=s(v.set))&&(u.set=o),(o=s(v.init))&&a.unshift(o)}else(o=s(v))&&("field"===l?a.unshift(o):u[c]=o)}d&&Object.defineProperty(d,r.name,u),m=!0}function d(e,t,n){for(var r=arguments.length>2,a=0;a<t.length;a++)n=r?t[a].call(e,n):t[a].call(e);return r?n:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function m(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var v=Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function g(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||v(t,e,n)}function x(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)r[a]=i[s];return r}function j(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function N(e){return this instanceof N?(this.v=e,this):new N(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||o(e,t)}))})}function o(e,t){try{(n=a[e](t)).value instanceof N?Promise.resolve(n.value.v).then(l,c):d(i[0][2],n)}catch(e){d(i[0][3],e)}var n}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:N(e[r](t)),done:!1}:a?a(t):t}:a}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=x(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,a,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&v(t,e,n);return D(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function P(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}function O(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function R(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function I(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var a=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(a).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}t.default={__extends:a,__assign:i,__rest:s,__decorate:o,__param:l,__metadata:p,__awaiter:h,__generator:f,__createBinding:v,__exportStar:g,__values:x,__read:y,__spread:b,__spreadArrays:w,__spreadArray:j,__await:N,__asyncGenerator:_,__asyncDelegator:S,__asyncValues:E,__makeTemplateObject:C,__importStar:T,__importDefault:k,__classPrivateFieldGet:A,__classPrivateFieldSet:P,__classPrivateFieldIn:O,__addDisposableResource:R,__disposeResources:I}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.useReactToPrint=e.ReactToPrint=e.PrintContextConsumer=void 0;var t=n(328);Object.defineProperty(e,"PrintContextConsumer",{enumerable:!0,get:function(){return t.PrintContextConsumer}});var r=n(428);Object.defineProperty(e,"ReactToPrint",{enumerable:!0,get:function(){return r.ReactToPrint}});var a=n(892);Object.defineProperty(e,"useReactToPrint",{enumerable:!0,get:function(){return a.useReactToPrint}});var s=n(428);e.default=s.ReactToPrint}(),i}())},3168:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5043);function a(e){const t=r.useRef({value:e,previous:e});return r.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),i=n(4052),s=n(4543),o=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),d=!n&&a(e),u=!n&&!d&&s(e),m=!n&&!d&&!u&&l(e),p=n||d||u||m,h=p?r(e.length,String):[],f=h.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||u&&("offset"==v||"parent"==v)||m&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||o(v,f))||h.push(v);return h}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>p,BV:()=>L,C5:()=>R,Ix:()=>I,V8:()=>O,Zp:()=>g,g:()=>x,jb:()=>c,qh:()=>M,x$:()=>y,zy:()=>f});var a=n(5043),i=n(1387);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const o=a.createContext(null);const l=a.createContext(null);const c=a.createContext(null);const d=a.createContext(null);const u=a.createContext({outlet:null,matches:[],isDataRoute:!1});const m=a.createContext(null);function p(e,t){let{relative:n}=void 0===t?{}:t;h()||(0,i.Oi)(!1);let{basename:r,navigator:s}=a.useContext(c),{hash:o,pathname:l,search:d}=y(e,{relative:n}),u=l;return"/"!==r&&(u="/"===l?r:(0,i.HS)([r,l])),s.createHref({pathname:u,search:d,hash:o})}function h(){return null!=a.useContext(d)}function f(){return h()||(0,i.Oi)(!1),a.useContext(d).location}function v(e){a.useContext(c).static||a.useLayoutEffect(e)}function g(){let{isDataRoute:e}=a.useContext(u);return e?function(){let{router:e}=D(E.UseNavigateStable),t=k(C.UseNavigateStable),n=a.useRef(!1);return v((()=>{n.current=!0})),a.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,s({fromRouteId:t},a)))}),[e,t])}():function(){h()||(0,i.Oi)(!1);let e=a.useContext(o),{basename:t,future:n,navigator:r}=a.useContext(c),{matches:s}=a.useContext(u),{pathname:l}=f(),d=JSON.stringify((0,i.yD)(s,n.v7_relativeSplatPath)),m=a.useRef(!1);return v((()=>{m.current=!0})),a.useCallback((function(n,a){if(void 0===a&&(a={}),!m.current)return;if("number"===typeof n)return void r.go(n);let s=(0,i.Gh)(n,JSON.parse(d),l,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,i.HS)([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)}),[t,r,d,l,e])}()}function x(){let{matches:e}=a.useContext(u),t=e[e.length-1];return t?t.params:{}}function y(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(c),{matches:s}=a.useContext(u),{pathname:o}=f(),l=JSON.stringify((0,i.yD)(s,r.v7_relativeSplatPath));return a.useMemo((()=>(0,i.Gh)(e,JSON.parse(l),o,"path"===n)),[e,l,o,n])}function b(e,t,n,r){h()||(0,i.Oi)(!1);let{navigator:o,static:l}=a.useContext(c),{matches:m}=a.useContext(u),p=m[m.length-1],v=p?p.params:{},g=(p&&p.pathname,p?p.pathnameBase:"/");p&&p.route;let x,y=f();if(t){var b;let e="string"===typeof t?(0,i.Rr)(t):t;"/"===g||(null==(b=e.pathname)?void 0:b.startsWith(g))||(0,i.Oi)(!1),x=e}else x=y;let w=x.pathname||"/",j=w;if("/"!==g){let e=g.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let N=!l&&n&&n.matches&&n.matches.length>0?n.matches:(0,i.ue)(e,{pathname:j});let _=S(N&&N.map((e=>Object.assign({},e,{params:Object.assign({},v,e.params),pathname:(0,i.HS)([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,i.HS)([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),m,n,r);return t&&_?a.createElement(d.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:i.rc.Pop}},_):_}function w(){let e=function(){var e;let t=a.useContext(m),n=T(C.UseRouteError),r=k(C.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,i.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const j=a.createElement(w,null);class N extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(u.Provider,{value:this.props.routeContext},a.createElement(m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(o);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(u.Provider,{value:t},r)}function S(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,i.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight(((e,r,i)=>{let s,o=!1,m=null,p=null;var h;n&&(s=c&&r.route.id?c[r.route.id]:void 0,m=r.route.errorElement||j,d&&(u<0&&0===i?(h="route-fallback",!1||A[h]||(A[h]=!0),o=!0,p=null):u===i&&(o=!0,p=r.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,i+1)),v=()=>{let t;return t=s?m:o?p:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(_,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(N,{location:n.location,revalidation:n.revalidation,component:m,error:s,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()}),null)}var E=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(E||{}),C=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C||{});function D(e){let t=a.useContext(o);return t||(0,i.Oi)(!1),t}function T(e){let t=a.useContext(l);return t||(0,i.Oi)(!1),t}function k(e){let t=function(){let e=a.useContext(u);return e||(0,i.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,i.Oi)(!1),n.route.id}const A={};const P=(e,t,n)=>{};function O(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&P("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||P("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&P("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&P("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&P("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&P("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(a,2))).startTransition;function R(e){let{to:t,replace:n,state:r,relative:s}=e;h()||(0,i.Oi)(!1);let{future:o,static:l}=a.useContext(c),{matches:d}=a.useContext(u),{pathname:m}=f(),p=g(),v=(0,i.Gh)(t,(0,i.yD)(d,o.v7_relativeSplatPath),m,"path"===s),x=JSON.stringify(v);return a.useEffect((()=>p(JSON.parse(x),{replace:n,state:r,relative:s})),[p,x,s,n,r]),null}function M(e){(0,i.Oi)(!1)}function I(e){let{basename:t="/",children:n=null,location:r,navigationType:o=i.rc.Pop,navigator:l,static:u=!1,future:m}=e;h()&&(0,i.Oi)(!1);let p=t.replace(/^\/*/,"/"),f=a.useMemo((()=>({basename:p,navigator:l,static:u,future:s({v7_relativeSplatPath:!1},m)})),[p,m,l,u]);"string"===typeof r&&(r=(0,i.Rr)(r));let{pathname:v="/",search:g="",hash:x="",state:y=null,key:b="default"}=r,w=a.useMemo((()=>{let e=(0,i.pb)(v,p);return null==e?null:{location:{pathname:e,search:g,hash:x,state:y,key:b},navigationType:o}}),[p,v,g,x,y,b,o]);return null==w?null:a.createElement(c.Provider,{value:f},a.createElement(d.Provider,{children:n,value:w}))}function L(e){let{children:t,location:n}=e;return b(F(t),n)}new Promise((()=>{}));a.Component;function F(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,F(e.props.children,s));e.type!==M&&(0,i.Oi)(!1),e.props.index&&e.props.children&&(0,i.Oi)(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=F(e.props.children,s)),n.push(o)})),n}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3321:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5043),a=n(7950),i=n(7920),s=n(503),o=n(579),l=r.forwardRef(((e,t)=>{const{container:n,...l}=e,[c,d]=r.useState(!1);(0,s.N)((()=>d(!0)),[]);const u=n||c&&globalThis?.document?.body;return u?a.createPortal((0,o.jsx)(i.sG.div,{...l,ref:t}),u):null}));l.displayName="Portal"},3331:(e,t,n)=>{var r=n(9676),a=n(929),i=n(7303);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&a(t,n,s)&&(n=s=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),s=void 0===s?t<n?1:-1:i(s),r(t,n,s,e)}}},3340:(e,t,n)=>{"use strict";n.d(t,{A0:()=>o,BF:()=>l,Hj:()=>c,XI:()=>s,nA:()=>u,nd:()=>d});var r=n(5043),a=n(9766),i=n(579);const s=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("div",{className:"relative w-full overflow-auto",children:(0,i.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",n),...r})})}));s.displayName="Table";const o=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b [&_tr]:bg-primary/20 [&_tr:hover]:bg-primary/20",n),...r})}));o.displayName="TableHeader";const l=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",n),...r})}));l.displayName="TableBody";r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...r})})).displayName="TableFooter";const c=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...r})}));c.displayName="TableRow";const d=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("th",{ref:t,className:(0,a.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...r})}));d.displayName="TableHead";const u=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("td",{ref:t,className:(0,a.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...r})}));u.displayName="TableCell";r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",n),...r})})).displayName="TableCaption"},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3390:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,r:()=>l});var r=n(5043),a=n(6851),i=n(917),s=n(9766),o=n(579);const l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-1 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(((e,t)=>{let{className:n,variant:r,size:i,asChild:c=!1,...d}=e;const u=c?a.DX:"button";return(0,o.jsx)(u,{className:(0,s.cn)(l({variant:r,size:i,className:n})),ref:t,...d})}));c.displayName="Button"},3400:(e,t,n)=>{"use strict";n.d(t,{V:()=>Dt});var r={};n.r(r),n.d(r,{Button:()=>oe,CaptionLabel:()=>le,Chevron:()=>ce,Day:()=>de,DayButton:()=>ue,Dropdown:()=>me,DropdownNav:()=>pe,Footer:()=>he,Month:()=>fe,MonthCaption:()=>ve,MonthGrid:()=>ge,Months:()=>xe,MonthsDropdown:()=>we,Nav:()=>je,NextMonthButton:()=>Ne,Option:()=>_e,PreviousMonthButton:()=>Se,Root:()=>Ee,Select:()=>Ce,Week:()=>De,WeekNumber:()=>Ae,WeekNumberHeader:()=>Pe,Weekday:()=>Te,Weekdays:()=>ke,Weeks:()=>Oe,YearsDropdown:()=>Re});var a={};n.r(a),n.d(a,{formatCaption:()=>Ie,formatDay:()=>Fe,formatMonthCaption:()=>Le,formatMonthDropdown:()=>Be,formatWeekNumber:()=>We,formatWeekNumberHeader:()=>Ue,formatWeekdayName:()=>$e,formatYearCaption:()=>He,formatYearDropdown:()=>ze});var i={};n.r(i),n.d(i,{labelCaption:()=>qe,labelDay:()=>Ye,labelDayButton:()=>Ke,labelGrid:()=>Ve,labelGridcell:()=>Ge,labelMonthDropdown:()=>Ze,labelNav:()=>Xe,labelNext:()=>Je,labelPrevious:()=>Qe,labelWeekNumber:()=>tt,labelWeekNumberHeader:()=>nt,labelWeekday:()=>et,labelYearDropdown:()=>rt});var s,o,l,c=n(5043),d=n(852);!function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"}(s||(s={})),function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"}(o||(o={})),function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"}(l||(l={}));Symbol.for("constructDateFrom");const u={},m={};function p(e,t){try{const n=(u[e]||=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format)(t).split("GMT")[1]||"";return n in m?m[n]:f(n,n.split(":"))}catch{if(e in m)return m[e];const t=e?.match(h);return t?f(e,t.slice(1)):NaN}}const h=/([+-]\d\d):?(\d\d)?/;function f(e,t){const n=+t[0],r=+(t[1]||0);return m[e]=n>0?60*n+r:60*n-r}class v extends Date{constructor(){super();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.length>1&&"string"===typeof t[t.length-1]&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(p(this.timeZone,this))?this.setTime(NaN):t.length?"number"===typeof t[0]&&(1===t.length||2===t.length&&"number"!==typeof t[1])?this.setTime(t[0]):"string"===typeof t[0]?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),y(this),x(this)):this.setTime(Date.now())}static tz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?new v(...n,e):new v(Date.now(),e)}withTimeZone(e){return new v(+this,e)}getTimezoneOffset(){return-p(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),x(this),+this}[Symbol.for("constructDateFrom")](e){return new v(+new Date(e),this.timeZone)}}const g=/^(get|set)(?!UTC)/;function x(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function y(e){const t=p(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),a=r- -new Date(+n).getTimezoneOffset(),i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const s=r-t;s&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);const o=p(e.timeZone,e),l=-new Date(+e).getTimezoneOffset()-o-s;if(o!==t&&l){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const t=o-p(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach((e=>{if(!g.test(e))return;const t=e.replace(g,"$1UTC");v.prototype[t]&&(e.startsWith("get")?v.prototype[e]=function(){return this.internal[t]()}:(v.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),y(e),+this},v.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),x(this),+this}))}));class b extends v{static tz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?new b(...n,e):new b(Date.now(),e)}toISOString(){const[e,t,n]=this.tzComponents(),r=`${e}${t}:${n}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,n,r]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${n} ${t} ${r}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,n,r]=this.tzComponents();return`${e} GMT${t}${n}${r} (${function(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset();return[e>0?"-":"+",String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),String(Math.abs(e)%60).padStart(2,"0")]}withTimeZone(e){return new b(+this,e)}[Symbol.for("constructDateFrom")](e){return new b(+new Date(e),this.timeZone)}}var w=n(6981),j=n(2885);function N(e,t,n){return(0,w.f)(e,7*t,n)}function _(e,t,n){return(0,j.P)(e,12*t,n)}var S=n(8848),E=n(1844);function C(e,t,n){const[r,a]=(0,E.x)(n?.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}var D=n(5172),T=n(2440);function k(e,t){const{start:n,end:r}=(0,D.P)(t?.in,e);let a=+n>+r;const i=a?+n:+r,s=a?r:n;s.setHours(0,0,0,0),s.setDate(1);let o=t?.step??1;if(!o)return[];o<0&&(o=-o,a=!a);const l=[];for(;+s<=i;)l.push((0,T.w)(n,s)),s.setMonth(s.getMonth()+o);return a?l.reverse():l}var A=n(8605);function P(e,t){return(0,A.$)(e,{...t,weekStartsOn:1})}var O=n(3695),R=n(2316);function M(e,t){const n=(0,R.a)(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}var I=n(8134),L=n(5385);function F(e,t){return(0,R.a)(e,t?.in).getMonth()}function B(e,t){return(0,R.a)(e,t?.in).getFullYear()}var W=n(2750);function U(e,t){return+(0,R.a)(e)>+(0,R.a)(t)}var $=n(7358),z=n(8521),H=n(6465),V=n(5757);function q(e,t,n){const[r,a]=(0,E.x)(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function G(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=T.w.bind(null,e));const t=(0,R.a)(e,r);(!n||n<t||isNaN(+t))&&(n=t)})),(0,T.w)(r,n||NaN)}function K(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=T.w.bind(null,e));const t=(0,R.a)(e,r);(!n||n>t||isNaN(+t))&&(n=t)})),(0,T.w)(r,n||NaN)}function Y(e,t){const n=(0,R.a)(e,t?.in),r=n.getFullYear(),a=n.getMonth(),i=(0,T.w)(n,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function X(e,t,n){const r=(0,R.a)(e,n?.in),a=r.getFullYear(),i=r.getDate(),s=(0,T.w)(n?.in||e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=Y(s);return r.setMonth(t,Math.min(i,o)),r}function Z(e,t,n){const r=(0,R.a)(e,n?.in);return isNaN(+r)?(0,T.w)(n?.in||e,NaN):(r.setFullYear(t),r)}var J=n(1176),Q=n(9415),ee=n(4912),te=n(1620),ne=n(8621),re=n(1669);function ae(e,t){const n=t.startOfMonth(e),r=n.getDay();return 1===r?n:0===r?t.addDays(n,-6):t.addDays(n,-1*(r-1))}class ie{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?b.tz(this.options.timeZone):new this.Date,this.newDate=(e,t,n)=>this.overrides?.newDate?this.overrides.newDate(e,t,n):this.options.timeZone?new b(e,t,n,this.options.timeZone):new Date(e,t,n),this.addDays=(e,t)=>this.overrides?.addDays?.(e,t)??(0,w.f)(e,t),this.addMonths=(e,t)=>this.overrides?.addMonths?.(e,t)??(0,j.P)(e,t),this.addWeeks=(e,t)=>this.overrides?.addWeeks?.(e,t)??N(e,t),this.addYears=(e,t)=>this.overrides?.addYears?.(e,t)??_(e,t),this.differenceInCalendarDays=(e,t)=>this.overrides?.differenceInCalendarDays?.(e,t)??(0,S.m)(e,t),this.differenceInCalendarMonths=(e,t)=>this.overrides?.differenceInCalendarMonths?.(e,t)??C(e,t),this.eachMonthOfInterval=e=>this.overrides?.eachMonthOfInterval?.(e)??k(e),this.endOfBroadcastWeek=(e,t)=>this.overrides?.endOfBroadcastWeek?.(e,t)??function(e,t){const n=ae(e,t),r=function(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,a=t.addDays(e,1-r),i=t.addDays(a,34);return t.getMonth(e)===t.getMonth(i)?5:4}(e,t);return t.addDays(n,7*r-1)}(e,this),this.endOfISOWeek=e=>this.overrides?.endOfISOWeek?.(e)??P(e),this.endOfMonth=e=>this.overrides?.endOfMonth?.(e)??(0,O.p)(e),this.endOfWeek=(e,t)=>this.overrides?.endOfWeek?.(e,t??this.options)??(0,A.$)(e,t??this.options),this.endOfYear=e=>this.overrides?.endOfYear?.(e)??M(e),this.format=(e,t,n)=>{const r=this.overrides?.format?.(e,t,n??this.options)??(0,I.GP)(e,t,n??this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(r):r},this.getISOWeek=e=>this.overrides?.getISOWeek?.(e)??(0,L.s)(e),this.getMonth=e=>this.overrides?.getMonth?.(e)??F(e),this.getYear=e=>this.overrides?.getYear?.(e)??B(e),this.getWeek=(e,t)=>this.overrides?.getWeek?.(e,t??this.options)??(0,W.N)(e,t??this.options),this.isAfter=(e,t)=>this.overrides?.isAfter?.(e,t)??U(e,t),this.isBefore=(e,t)=>this.overrides?.isBefore?.(e,t)??(0,$.Y)(e,t),this.isDate=e=>this.overrides?.isDate?.(e)??(0,z.$)(e),this.isSameDay=(e,t)=>this.overrides?.isSameDay?.(e,t)??(0,H.r)(e,t),this.isSameMonth=(e,t)=>this.overrides?.isSameMonth?.(e,t)??(0,V.t)(e,t),this.isSameYear=(e,t)=>this.overrides?.isSameYear?.(e,t)??q(e,t),this.max=e=>this.overrides?.max?.(e)??G(e),this.min=e=>this.overrides?.min?.(e)??K(e),this.setMonth=(e,t)=>this.overrides?.setMonth?.(e,t)??X(e,t),this.setYear=(e,t)=>this.overrides?.setYear?.(e,t)??Z(e,t),this.startOfBroadcastWeek=(e,t)=>this.overrides?.startOfBroadcastWeek?.(e,t??this)??ae(e,t??this),this.startOfDay=e=>this.overrides?.startOfDay?.(e)??(0,J.o)(e),this.startOfISOWeek=e=>this.overrides?.startOfISOWeek?.(e)??(0,Q.b)(e),this.startOfMonth=e=>this.overrides?.startOfMonth?.(e)??(0,ee.w)(e),this.startOfWeek=e=>this.overrides?.startOfWeek?.(e)??(0,te.k)(e,this.options),this.startOfYear=e=>this.overrides?.startOfYear?.(e)??(0,ne.D)(e),this.options={locale:re.c,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),n={};for(let r=0;r<10;r++)n[r.toString()]=t.format(r);return n}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,(e=>t[e]||e))}formatNumber(e){return this.replaceDigits(e.toString())}}const se=new ie;function oe(e){return c.createElement("button",{...e})}function le(e){return c.createElement("span",{...e})}function ce(e){const{size:t=24,orientation:n="left",className:r}=e;return c.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},"up"===n&&c.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===n&&c.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===n&&c.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===n&&c.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function de(e){const{day:t,modifiers:n,...r}=e;return c.createElement("td",{...r})}function ue(e){const{day:t,modifiers:n,...r}=e,a=c.useRef(null);return c.useEffect((()=>{n.focused&&a.current?.focus()}),[n.focused]),c.createElement("button",{ref:a,...r})}function me(e){const{options:t,className:n,components:r,classNames:a,...i}=e,o=[a[s.Dropdown],n].join(" "),l=t?.find((e=>{let{value:t}=e;return t===i.value}));return c.createElement("span",{"data-disabled":i.disabled,className:a[s.DropdownRoot]},c.createElement(r.Select,{className:o,...i},t?.map((e=>{let{value:t,label:n,disabled:a}=e;return c.createElement(r.Option,{key:t,value:t,disabled:a},n)}))),c.createElement("span",{className:a[s.CaptionLabel],"aria-hidden":!0},l?.label,c.createElement(r.Chevron,{orientation:"down",size:18,className:a[s.Chevron]})))}function pe(e){return c.createElement("div",{...e})}function he(e){return c.createElement("div",{...e})}function fe(e){const{calendarMonth:t,displayIndex:n,...r}=e;return c.createElement("div",{...r},e.children)}function ve(e){const{calendarMonth:t,displayIndex:n,...r}=e;return c.createElement("div",{...r})}function ge(e){return c.createElement("table",{...e})}function xe(e){return c.createElement("div",{...e})}const ye=(0,c.createContext)(void 0);function be(){const e=(0,c.useContext)(ye);if(void 0===e)throw new Error("useDayPicker() must be used within a custom component.");return e}function we(e){const{components:t}=be();return c.createElement(t.Dropdown,{...e})}function je(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:a,...i}=e,{components:o,classNames:l,labels:{labelPrevious:d,labelNext:u}}=be();return c.createElement("nav",{...i},c.createElement(o.PreviousMonthButton,{type:"button",className:l[s.PreviousMonthButton],tabIndex:r?void 0:-1,disabled:!r||void 0,"aria-label":d(r),onClick:e.onPreviousClick},c.createElement(o.Chevron,{disabled:!r||void 0,className:l[s.Chevron],orientation:"left"})),c.createElement(o.NextMonthButton,{type:"button",className:l[s.NextMonthButton],tabIndex:a?void 0:-1,disabled:!a||void 0,"aria-label":u(a),onClick:e.onNextClick},c.createElement(o.Chevron,{disabled:!a||void 0,orientation:"right",className:l[s.Chevron]})))}function Ne(e){const{components:t}=be();return c.createElement(t.Button,{...e})}function _e(e){return c.createElement("option",{...e})}function Se(e){const{components:t}=be();return c.createElement(t.Button,{...e})}function Ee(e){return c.createElement("div",{...e})}function Ce(e){return c.createElement("select",{...e})}function De(e){const{week:t,...n}=e;return c.createElement("tr",{...n})}function Te(e){return c.createElement("th",{...e})}function ke(e){return c.createElement("thead",{"aria-hidden":!0},c.createElement("tr",{...e}))}function Ae(e){const{week:t,...n}=e;return c.createElement("th",{...n})}function Pe(e){return c.createElement("th",{...e})}function Oe(e){return c.createElement("tbody",{...e})}function Re(e){const{components:t}=be();return c.createElement(t.Dropdown,{...e})}function Me(){const e={};for(const t in s)e[s[t]]=`rdp-${s[t]}`;for(const t in o)e[o[t]]=`rdp-${o[t]}`;for(const t in l)e[l[t]]=`rdp-${l[t]}`;return e}function Ie(e,t,n){return(n??new ie(t)).format(e,"LLLL y")}const Le=Ie;function Fe(e,t,n){return(n??new ie(t)).format(e,"d")}function Be(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:se).format(e,"LLLL")}function We(e){return e<10?`0${e.toLocaleString()}`:`${e.toLocaleString()}`}function Ue(){return""}function $e(e,t,n){return(n??new ie(t)).format(e,"cccccc")}function ze(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:se).format(e,"yyyy")}const He=ze;function Ve(e,t,n){return(n??new ie(t)).format(e,"LLLL y")}const qe=Ve;function Ge(e,t,n,r){let a=(r??new ie(n)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function Ke(e,t,n,r){let a=(r??new ie(n)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Ye=Ke;function Xe(){return""}function Ze(e){return"Choose the Month"}function Je(e){return"Go to the Next Month"}function Qe(e){return"Go to the Previous Month"}function et(e,t,n){return(n??new ie(t)).format(e,"cccc")}function tt(e,t){return`Week ${e}`}function nt(e){return"Week Number"}function rt(e){return"Choose the Year"}function at(e,t){const{month:n,defaultMonth:r,today:a=t.today(),numberOfMonths:i=1,endMonth:s,startMonth:o}=e;let l=n||r||a;const{differenceInCalendarMonths:c,addMonths:d,startOfMonth:u}=t;if(s&&c(s,l)<0){l=d(s,-1*(i-1))}return o&&c(l,o)<0&&(l=o),u(l)}class it{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;this.date=e,this.displayMonth=t,this.outside=Boolean(t&&!n.isSameMonth(e,t)),this.dateLib=n}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class st{constructor(e,t){this.date=e,this.weeks=t}}class ot{constructor(e,t){this.days=t,this.weekNumber=e}}function lt(e,t){const[n,r]=(0,c.useState)(e);return[void 0===t?n:t,r]}function ct(e,t){const[n,r]=function(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:a,startOfDay:i,startOfMonth:s,endOfMonth:o,addYears:l,endOfYear:c,newDate:d,today:u}=t,{fromYear:m,toYear:p,fromMonth:h,toMonth:f}=e;!n&&h&&(n=h),!n&&m&&(n=t.newDate(m,0,1)),!r&&f&&(r=f),!r&&p&&(r=d(p,11,31));const v="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;return n?n=s(n):m?n=d(m,0,1):!n&&v&&(n=a(l(e.today??u(),-100))),r?r=o(r):p?r=d(p,11,31):!r&&v&&(r=c(e.today??u())),[n?i(n):n,r?i(r):r]}(e,t),{startOfMonth:a,endOfMonth:i}=t,s=at(e,t),[o,l]=lt(s,e.month?s:void 0);(0,c.useEffect)((()=>{const n=at(e,t);l(n)}),[e.timeZone]);const d=function(e,t,n,r){const{numberOfMonths:a=1}=n,i=[];for(let s=0;s<a;s++){const n=r.addMonths(e,s);if(t&&n>t)break;i.push(n)}return i}(o,r,e,t),u=function(e,t,n,r){const a=e[0],i=e[e.length-1],{ISOWeek:s,fixedWeeks:o,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:u,endOfBroadcastWeek:m,endOfISOWeek:p,endOfMonth:h,endOfWeek:f,isAfter:v,startOfBroadcastWeek:g,startOfISOWeek:x,startOfWeek:y}=r,b=l?g(a,r):s?x(a):y(a),w=d(l?m(i,r):s?p(h(i)):f(h(i)),b),j=u(i,a)+1,N=[];for(let S=0;S<=w;S++){const e=c(b,S);if(t&&v(e,t))break;N.push(e)}const _=(l?35:42)*j;if(o&&N.length<_){const e=_-N.length;for(let t=0;t<e;t++){const e=c(N[N.length-1],1);N.push(e)}}return N}(d,e.endMonth?i(e.endMonth):void 0,e,t),m=function(e,t,n,r){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:s,endOfMonth:o,endOfWeek:l,getISOWeek:c,getWeek:d,startOfBroadcastWeek:u,startOfISOWeek:m,startOfWeek:p}=r,h=e.reduce(((e,h)=>{const f=n.broadcastCalendar?u(h,r):n.ISOWeek?m(h):p(h),v=n.broadcastCalendar?i(h,r):n.ISOWeek?s(o(h)):l(o(h)),g=t.filter((e=>e>=f&&e<=v)),x=n.broadcastCalendar?35:42;if(n.fixedWeeks&&g.length<x){const e=t.filter((e=>{const t=x-g.length;return e>v&&e<=a(v,t)}));g.push(...e)}const y=g.reduce(((e,t)=>{const a=n.ISOWeek?c(t):d(t),i=e.find((e=>e.weekNumber===a)),s=new it(t,h,r);return i?i.days.push(s):e.push(new ot(a,[s])),e}),[]),b=new st(h,y);return e.push(b),e}),[]);return n.reverseMonths?h.reverse():h}(d,u,e,t),p=function(e){return e.reduce(((e,t)=>[...e,...t.weeks]),[])}(m),h=m.reduce(((e,t)=>[...e,...t.weeks.reduce(((e,t)=>[...e,...t.days]),[])]),[]);const f=function(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=n,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=r,c=a?i??1:1,d=s(e);return t&&l(d,t)<=0?void 0:o(d,-c)}(o,n,e,t),v=function(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=n,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=r,c=a?i:1,d=s(e);return t&&l(t,e)<i?void 0:o(d,c)}(o,r,e,t),{disableNavigation:g,onMonthChange:x}=e,y=e=>{if(g)return;let t=a(e);n&&t<a(n)&&(t=a(n)),r&&t>a(r)&&(t=a(r)),l(t),x?.(t)};return{months:m,weeks:p,days:h,navStart:n,navEnd:r,previousMonth:f,nextMonth:v,goToMonth:y,goToDay:e=>{(e=>p.some((t=>t.days.some((t=>t.isEqualTo(e))))))(e)||y(e.date)}}}function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:se,{from:a,to:i}=e;const{differenceInCalendarDays:s,isSameDay:o}=r;if(a&&i){s(i,a)<0&&([a,i]=[i,a]);return s(t,a)>=(n?1:0)&&s(i,t)>=(n?1:0)}return!n&&i?o(i,t):!(n||!a)&&o(a,t)}function ut(e){return Boolean(e&&"object"===typeof e&&"before"in e&&"after"in e)}function mt(e){return Boolean(e&&"object"===typeof e&&"from"in e)}function pt(e){return Boolean(e&&"object"===typeof e&&"after"in e)}function ht(e){return Boolean(e&&"object"===typeof e&&"before"in e)}function ft(e){return Boolean(e&&"object"===typeof e&&"dayOfWeek"in e)}function vt(e,t){return Array.isArray(e)&&e.every(t.isDate)}function gt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;const r=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:s}=n;return r.some((t=>{if("boolean"===typeof t)return t;if(n.isDate(t))return a(e,t);if(vt(t,n))return t.includes(e);if(mt(t))return dt(t,e,!1,n);if(ft(t))return Array.isArray(t.dayOfWeek)?t.dayOfWeek.includes(e.getDay()):t.dayOfWeek===e.getDay();if(ut(t)){const n=i(t.before,e)>0,r=i(t.after,e)<0;return s(t.before,t.after)?r&&n:n||r}return pt(t)?i(e,t.after)>0:ht(t)?i(t.before,e)>0:"function"===typeof t&&t(e)}))}function xt(e,t,n,r,a,i,s){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(o>365)return;const l=function(e,t,n,r,a,i,s){const{ISOWeek:o,broadcastCalendar:l}=i,{addDays:c,addMonths:d,addWeeks:u,addYears:m,endOfBroadcastWeek:p,endOfISOWeek:h,endOfWeek:f,max:v,min:g,startOfBroadcastWeek:x,startOfISOWeek:y,startOfWeek:b}=s;let w={day:c,week:u,month:d,year:m,startOfWeek:e=>l?x(e,s):o?y(e):b(e),endOfWeek:e=>l?p(e,s):o?h(e):f(e)}[e](n,"after"===t?1:-1);return"before"===t&&r?w=v([r,w]):"after"===t&&a&&(w=g([a,w])),w}(e,t,n.date,r,a,i,s),c=Boolean(i.disabled&&gt(l,i.disabled,s)),d=Boolean(i.hidden&&gt(l,i.hidden,s)),u=new it(l,l,s);return c||d?xt(e,t,u,r,a,i,s,o+1):u}function yt(e,t,n,r,a){const{autoFocus:i}=e,[s,l]=(0,c.useState)(),d=function(e,t,n,r){let a,i=0,s=!1;for(;i<e.length&&!s;){const l=e[i],c=t(l);c[o.disabled]||c[o.hidden]||c[o.outside]||(c[o.focused]||r?.isEqualTo(l)||n(l.date)||c[o.today])&&(a=l,s=!0),i++}return a||(a=e.find((e=>{const n=t(e);return!n[o.disabled]&&!n[o.hidden]&&!n[o.outside]}))),a}(t.days,n,r||(()=>!1),s),[u,m]=(0,c.useState)(i?d:void 0);return{isFocusTarget:e=>Boolean(d?.isEqualTo(e)),setFocused:m,focused:u,blur:()=>{l(u),m(void 0)},moveFocus:(n,r)=>{if(!u)return;const i=xt(n,r,u,t.navStart,t.navEnd,e,a);i&&(t.goToDay(i),m(i))}}}function bt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;return dt(e,t.from,!1,n)||dt(e,t.to,!1,n)||dt(t,e.from,!1,n)||dt(t,e.to,!1,n)}function wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;const r=Array.isArray(t)?t:[t],a=r.filter((e=>"function"!==typeof e)).some((t=>{if("boolean"===typeof t)return t;if(n.isDate(t))return dt(e,t,!1,n);if(vt(t,n))return t.some((t=>dt(e,t,!1,n)));if(mt(t))return!(!t.from||!t.to)&&bt(e,{from:t.from,to:t.to},n);if(ft(t))return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;const r=Array.isArray(t)?t:[t];let a=e.from;const i=n.differenceInCalendarDays(e.to,e.from),s=Math.min(i,6);for(let o=0;o<=s;o++){if(r.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}(e,t.dayOfWeek,n);if(ut(t)){return n.isAfter(t.before,t.after)?bt(e,{from:n.addDays(t.after,1),to:n.addDays(t.before,-1)},n):gt(e.from,t,n)||gt(e.to,t,n)}return!(!pt(t)&&!ht(t))&&(gt(e.from,t,n)||gt(e.to,t,n))}));if(a)return!0;const i=r.filter((e=>"function"===typeof e));if(i.length){let t=e.from;const r=n.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=r;e++){if(i.some((e=>e(t))))return!0;t=n.addDays(t,1)}}return!1}function jt(e,t){const{disabled:n,excludeDisabled:r,selected:a,required:i,onSelect:s}=e,[o,l]=lt(a,s?a:void 0),c=s?a:o;return{selected:c,select:(a,o,d)=>{const{min:u,max:m}=e,p=a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:se;const{from:s,to:o}=t||{},{isSameDay:l,isAfter:c,isBefore:d}=i;let u;if(s||o){if(s&&!o)u=l(s,e)?a?{from:s,to:void 0}:void 0:d(e,s)?{from:e,to:s}:{from:s,to:e};else if(s&&o)if(l(s,e)&&l(o,e))u=a?{from:s,to:o}:void 0;else if(l(s,e))u={from:s,to:n>0?void 0:e};else if(l(o,e))u={from:e,to:n>0?void 0:e};else if(d(e,s))u={from:e,to:o};else if(c(e,s))u={from:s,to:e};else{if(!c(e,o))throw new Error("Invalid range");u={from:s,to:e}}}else u={from:e,to:n>0?void 0:e};if(u?.from&&u?.to){const t=i.differenceInCalendarDays(u.to,u.from);(r>0&&t>r||n>1&&t<n)&&(u={from:e,to:void 0})}return u}(a,c,u,m,i,t):void 0;return r&&n&&p?.from&&p.to&&wt({from:p.from,to:p.to},n,t)&&(p.from=a,p.to=void 0),s||l(p),s?.(p,a,o,d),p},isSelected:e=>c&&dt(c,e,!1,t)}}function Nt(e,t){const n=function(e,t){const{selected:n,required:r,onSelect:a}=e,[i,s]=lt(n,a?n:void 0),o=a?n:i,{isSameDay:l}=t;return{selected:o,select:(e,t,n)=>{let i=e;return!r&&o&&o&&l(e,o)&&(i=void 0),a||s(i),a?.(i,e,t,n),i},isSelected:e=>!!o&&l(o,e)}}(e,t),r=function(e,t){const{selected:n,required:r,onSelect:a}=e,[i,s]=lt(n,a?n:void 0),o=a?n:i,{isSameDay:l}=t,c=e=>o?.some((t=>l(t,e)))??!1,{min:d,max:u}=e;return{selected:o,select:(e,t,n)=>{let i=[...o??[]];if(c(e)){if(o?.length===d)return;if(r&&1===o?.length)return;i=o?.filter((t=>!l(t,e)))}else i=o?.length===u?[e]:[...i,e];return a||s(i),a?.(i,e,t,n),i},isSelected:c}}(e,t),a=jt(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return a;default:return}}function _t(e){const{components:t,formatters:n,labels:d,dateLib:u,locale:m,classNames:p}=(0,c.useMemo)((()=>{const t={...re.c,...e.locale};return{dateLib:new ie({locale:t,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:(s=e.components,{...r,...s}),formatters:(n=e.formatters,n?.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n?.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...a,...n}),labels:{...i,...e.labels},locale:t,classNames:{...Me(),...e.classNames}};var n,s}),[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:h,mode:f,onDayBlur:v,onDayClick:g,onDayFocus:x,onDayKeyDown:y,onDayMouseEnter:b,onDayMouseLeave:w,onNextClick:j,onPrevClick:N,showWeekNumber:_,styles:S}=e,{formatCaption:E,formatDay:C,formatMonthDropdown:D,formatWeekNumber:T,formatWeekNumberHeader:k,formatWeekdayName:A,formatYearDropdown:P}=n,O=ct(e,u),{days:R,months:M,navStart:I,navEnd:L,previousMonth:F,nextMonth:B,goToMonth:W}=O,U=function(e,t,n){const{disabled:r,hidden:a,modifiers:i,showOutsideDays:s,broadcastCalendar:l,today:c}=t,{isSameDay:d,isSameMonth:u,startOfMonth:m,isBefore:p,endOfMonth:h,isAfter:f}=n,v=t.startMonth&&m(t.startMonth),g=t.endMonth&&h(t.endMonth),x={[o.focused]:[],[o.outside]:[],[o.disabled]:[],[o.hidden]:[],[o.today]:[]},y={};for(const o of e){const{date:e,displayMonth:t}=o,m=Boolean(t&&!u(e,t)),h=Boolean(v&&p(e,v)),b=Boolean(g&&f(e,g)),w=Boolean(r&&gt(e,r,n)),j=Boolean(a&&gt(e,a,n))||h||b||!l&&!s&&m||l&&!1===s&&m,N=d(e,c??n.today());m&&x.outside.push(o),w&&x.disabled.push(o),j&&x.hidden.push(o),N&&x.today.push(o),i&&Object.keys(i).forEach((t=>{const r=i?.[t];r&&gt(e,r,n)&&(y[t]?y[t].push(o):y[t]=[o])}))}return e=>{const t={[o.focused]:!1,[o.disabled]:!1,[o.hidden]:!1,[o.outside]:!1,[o.today]:!1},n={};for(const r in x){const n=x[r];t[r]=n.some((t=>t===e))}for(const r in y)n[r]=y[r].some((t=>t===e));return{...t,...n}}}(R,e,u),{isSelected:$,select:z,selected:H}=Nt(e,u)??{},{blur:V,focused:q,isFocusTarget:G,moveFocus:K,setFocused:Y}=yt(e,O,U,$??(()=>!1),u),{labelDayButton:X,labelGridcell:Z,labelGrid:J,labelMonthDropdown:Q,labelNav:ee,labelWeekday:te,labelWeekNumber:ne,labelWeekNumberHeader:ae,labelYearDropdown:se}=d,oe=(0,c.useMemo)((()=>function(e,t,n){const r=e.today(),a=n?e.startOfBroadcastWeek(r,e):t?e.startOfISOWeek(r):e.startOfWeek(r),i=[];for(let s=0;s<7;s++){const t=e.addDays(a,s);i.push(t)}return i}(u,e.ISOWeek)),[u,e.ISOWeek]),le=void 0!==f||void 0!==g,ce=(0,c.useCallback)((()=>{F&&(W(F),N?.(F))}),[F,W,N]),de=(0,c.useCallback)((()=>{B&&(W(B),j?.(B))}),[W,B,j]),ue=(0,c.useCallback)(((e,t)=>n=>{n.preventDefault(),n.stopPropagation(),Y(e),z?.(e.date,t,n),g?.(e.date,t,n)}),[z,g,Y]),me=(0,c.useCallback)(((e,t)=>n=>{Y(e),x?.(e.date,t,n)}),[x,Y]),pe=(0,c.useCallback)(((e,t)=>n=>{V(),v?.(e.date,t,n)}),[V,v]),he=(0,c.useCallback)(((t,n)=>r=>{const a={ArrowLeft:["day","rtl"===e.dir?"after":"before"],ArrowRight:["day","rtl"===e.dir?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[r.shiftKey?"year":"month","before"],PageDown:[r.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(a[r.key]){r.preventDefault(),r.stopPropagation();const[e,t]=a[r.key];K(e,t)}y?.(t.date,n,r)}),[K,y,e.dir]),fe=(0,c.useCallback)(((e,t)=>n=>{b?.(e.date,t,n)}),[b]),ve=(0,c.useCallback)(((e,t)=>n=>{w?.(e.date,t,n)}),[w]),ge=(0,c.useCallback)((e=>t=>{const n=Number(t.target.value),r=u.setMonth(u.startOfMonth(e),n);W(r)}),[u,W]),xe=(0,c.useCallback)((e=>t=>{const n=Number(t.target.value),r=u.setYear(u.startOfMonth(e),n);W(r)}),[u,W]),{className:be,style:we}=(0,c.useMemo)((()=>({className:[p[s.Root],e.className].filter(Boolean).join(" "),style:{...S?.[s.Root],...e.style}})),[p,e.className,e.style,S]),je=function(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0};return Object.entries(e).forEach((e=>{let[n,r]=e;n.startsWith("data-")&&(t[n]=r)})),t}(e),Ne={dayPickerProps:e,selected:H,select:z,isSelected:$,months:M,nextMonth:B,previousMonth:F,goToMonth:W,getModifiers:U,components:t,classNames:p,styles:S,labels:d,formatters:n};return c.createElement(ye.Provider,{value:Ne},c.createElement(t.Root,{className:be,style:we,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...je},c.createElement(t.Months,{className:p[s.Months],style:S?.[s.Months]},!e.hideNavigation&&c.createElement(t.Nav,{className:p[s.Nav],style:S?.[s.Nav],"aria-label":ee(),onPreviousClick:ce,onNextClick:de,previousMonth:F,nextMonth:B}),M.map(((r,a)=>{const i=function(e,t,n,r,a){const{startOfMonth:i,startOfYear:s,endOfYear:o,eachMonthOfInterval:l,getMonth:c}=a;return l({start:s(e),end:o(e)}).map((e=>{const s=r.formatMonthDropdown(e,a);return{value:c(e),label:s,disabled:t&&e<i(t)||n&&e>i(n)||!1}}))}(r.date,I,L,n,u),d=function(e,t,n,r){if(!e)return;if(!t)return;const{startOfYear:a,endOfYear:i,addYears:s,getYear:o,isBefore:l,isSameYear:c}=r,d=a(e),u=i(t),m=[];let p=d;for(;l(p,u)||c(p,u);)m.push(p),p=s(p,1);return m.map((e=>{const t=n.formatYearDropdown(e,r);return{value:o(e),label:t,disabled:!1}}))}(I,L,n,u);return c.createElement(t.Month,{className:p[s.Month],style:S?.[s.Month],key:a,displayIndex:a,calendarMonth:r},c.createElement(t.MonthCaption,{className:p[s.MonthCaption],style:S?.[s.MonthCaption],calendarMonth:r,displayIndex:a},h?.startsWith("dropdown")?c.createElement(t.DropdownNav,{className:p[s.Dropdowns],style:S?.[s.Dropdowns]},"dropdown"===h||"dropdown-months"===h?c.createElement(t.MonthsDropdown,{className:p[s.MonthsDropdown],"aria-label":Q(),classNames:p,components:t,disabled:Boolean(e.disableNavigation),onChange:ge(r.date),options:i,style:S?.[s.Dropdown],value:u.getMonth(r.date)}):c.createElement("span",{role:"status","aria-live":"polite"},D(r.date,u)),"dropdown"===h||"dropdown-years"===h?c.createElement(t.YearsDropdown,{className:p[s.YearsDropdown],"aria-label":se(u.options),classNames:p,components:t,disabled:Boolean(e.disableNavigation),onChange:xe(r.date),options:d,style:S?.[s.Dropdown],value:u.getYear(r.date)}):c.createElement("span",{role:"status","aria-live":"polite"},P(r.date,u))):c.createElement(t.CaptionLabel,{className:p[s.CaptionLabel],role:"status","aria-live":"polite"},E(r.date,u.options,u))),c.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===f||"range"===f,"aria-label":J(r.date,u.options,u)||void 0,className:p[s.MonthGrid],style:S?.[s.MonthGrid]},!e.hideWeekdays&&c.createElement(t.Weekdays,{className:p[s.Weekdays],style:S?.[s.Weekdays]},_&&c.createElement(t.WeekNumberHeader,{"aria-label":ae(u.options),className:p[s.WeekNumberHeader],style:S?.[s.WeekNumberHeader],scope:"col"},k()),oe.map(((e,n)=>c.createElement(t.Weekday,{"aria-label":te(e,u.options,u),className:p[s.Weekday],key:n,style:S?.[s.Weekday],scope:"col"},A(e,u.options,u))))),c.createElement(t.Weeks,{className:p[s.Weeks],style:S?.[s.Weeks]},r.weeks.map(((n,r)=>c.createElement(t.Week,{className:p[s.Week],key:n.weekNumber,style:S?.[s.Week],week:n},_&&c.createElement(t.WeekNumber,{week:n,style:S?.[s.WeekNumber],"aria-label":ne(n.weekNumber,{locale:m}),className:p[s.WeekNumber],scope:"row",role:"rowheader"},T(n.weekNumber)),n.days.map((n=>{const{date:r}=n,a=U(n);if(a[o.focused]=!a.hidden&&Boolean(q?.isEqualTo(n)),a[l.selected]=!a.disabled&&($?.(r)||a.selected),mt(H)){const{from:e,to:t}=H;a[l.range_start]=Boolean(e&&t&&u.isSameDay(r,e)),a[l.range_end]=Boolean(e&&t&&u.isSameDay(r,t)),a[l.range_middle]=dt(H,r,!0,u)}const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={...t?.[s.Day]};return Object.entries(e).filter((e=>{let[,t]=e;return!0===t})).forEach((e=>{let[t]=e;r={...r,...n?.[t]}})),r}(a,S,e.modifiersStyles),d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(e).filter((e=>{let[,t]=e;return!0===t})).reduce(((e,r)=>{let[a]=r;return n[a]?e.push(n[a]):t[o[a]]?e.push(t[o[a]]):t[l[a]]&&e.push(t[l[a]]),e}),[t[s.Day]])}(a,p,e.modifiersClassNames),m=le||a.hidden?void 0:Z(r,a,u.options,u);return c.createElement(t.Day,{key:`${u.format(r,"yyyy-MM-dd")}_${u.format(n.displayMonth,"yyyy-MM")}`,day:n,modifiers:a,className:d.join(" "),style:i,role:"gridcell","aria-selected":a.selected||void 0,"aria-label":m,"data-day":u.format(r,"yyyy-MM-dd"),"data-month":n.outside?u.format(r,"yyyy-MM"):void 0,"data-selected":a.selected||void 0,"data-disabled":a.disabled||void 0,"data-hidden":a.hidden||void 0,"data-outside":n.outside||void 0,"data-focused":a.focused||void 0,"data-today":a.today||void 0},!a.hidden&&le?c.createElement(t.DayButton,{className:p[s.DayButton],style:S?.[s.DayButton],type:"button",day:n,modifiers:a,disabled:a.disabled||void 0,tabIndex:G(n)?0:-1,"aria-label":X(r,a,u.options,u),onClick:ue(n,a),onBlur:pe(n,a),onFocus:me(n,a),onKeyDown:he(n,a),onMouseEnter:fe(n,a),onMouseLeave:ve(n,a)},C(r,u.options,u)):!a.hidden&&C(n.date,u.options,u))}))))))))}))),e.footer&&c.createElement(t.Footer,{className:p[s.Footer],style:S?.[s.Footer],role:"status","aria-live":"polite"},e.footer)))}var St=n(9766),Et=n(3390),Ct=n(579);function Dt(e){let{className:t,classNames:n,showOutsideDays:r=!0,...a}=e;return(0,Ct.jsx)(_t,{showOutsideDays:r,className:(0,St.cn)("p-3",t),style:{width:248.8*a.numberOfMonths+"px"},classNames:{months:"relative flex flex-col gap-y-4 sm:flex-row sm:gap-y-0",month_caption:"relative mx-10 flex h-7 items-center justify-center",weekdays:"flex flex-row",weekday:"w-8 text-[0.8rem] font-normal text-muted-foreground",month:"w-full gap-y-4 overflow-x-hidden",caption:"relative flex items-center justify-center pt-1",caption_label:"truncate text-sm font-medium",button_next:(0,St.cn)((0,Et.r)({variant:"outline",className:"absolute right-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"})),button_previous:(0,St.cn)((0,Et.r)({variant:"outline",className:"absolute left-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"})),nav:"flex items-start",month_grid:"mt-4",week:"mt-2 flex w-full",day:"flex size-8 flex-1 items-center justify-center rounded-md p-0 text-sm [&:has(button)]:hover:!bg-accent [&:has(button)]:hover:text-accent-foreground [&:has(button)]:hover:aria-selected:!bg-primary [&:has(button)]:hover:aria-selected:text-primary-foreground",day_button:(0,St.cn)((0,Et.r)({variant:"ghost"}),"h-8 w-8 p-0 font-normal transition-none hover:bg-transparent hover:text-inherit aria-selected:opacity-100"),range_start:"day-range-start rounded-s-md",range_end:"day-range-end rounded-e-md",selected:"bg-primary text-primary-foreground hover:!bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"rounded-none aria-selected:bg-accent aria-selected:text-accent-foreground hover:aria-selected:!bg-accent hover:aria-selected:text-accent-foreground",hidden:"invisible hidden",...n},components:{IconLeft:e=>{let{...t}=e;return(0,Ct.jsx)(d.YJP,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,Ct.jsx)(d.vKP,{className:"h-4 w-4"})}},...a})}Dt.displayName="Calendar"},3404:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=!0,a="Invariant failed";function i(e,t){if(!e){if(r)throw new Error(a);var n="function"===typeof t?t():t,i=n?"".concat(a,": ").concat(n):a;throw new Error(i)}}},3411:(e,t,n)=>{var r=n(149),a=n(9096),i=n(8883),s=n(4052);e.exports=function(e,t){return(s(e)?r:i)(e,a(t,3))}},3416:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(5043),a=n(9766),i=n(579);const s=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,i.jsx)("textarea",{className:(0,a.cn)("flex min-h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})}));s.displayName="Textarea"},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3642:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(5043),a=n(7490);function i(e){let{prop:t,defaultProp:n,onChange:i=()=>{}}=e;const[s,o]=function(e){let{defaultProp:t,onChange:n}=e;const i=r.useState(t),[s]=i,o=r.useRef(s),l=(0,a.c)(n);return r.useEffect((()=>{o.current!==s&&(l(s),o.current=s)}),[s,o,l]),i}({defaultProp:n,onChange:i}),l=void 0!==t,c=l?t:s,d=(0,a.c)(i);return[c,r.useCallback((e=>{if(l){const n="function"===typeof e?e(t):e;n!==t&&d(n)}else o(e)}),[l,t,o,d])]}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),i=n(8114);e.exports=function(e,t,n,s,o,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var m=l.get(e),p=l.get(t);if(m&&p)return m==t&&p==e;var h=-1,f=!0,v=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<d;){var g=e[h],x=t[h];if(s)var y=c?s(x,g,h,t,e,l):s(g,x,h,e,t,l);if(void 0!==y){if(y)continue;f=!1;break}if(v){if(!a(t,(function(e,t){if(!i(v,t)&&(g===e||o(g,e,n,s,l)))return v.push(t)}))){f=!1;break}}else if(g!==x&&!o(g,x,n,s,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},3695:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(2316);function a(e,t){const n=(0,r.a)(e,t?.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,r(s)]}return t}},3800:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5043),a=n(3003),i=n(9945),s=n(1203),o=n(8739);const l={page:{fontFamily:"Tinos, serif",backgroundColor:"white",width:"210mm",minHeight:"297mm",margin:"0 auto",boxSizing:"border-box",position:"relative","@media print":{pageBreakInside:"auto",pageBreakAfter:"auto",pageBreakBefore:"auto"}},headerContainer:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem",pageBreakInside:"avoid",breakInside:"avoid-page"},header:{marginBottom:"5px",borderBottom:"1px solid #000000",paddingBottom:"2px",pageBreakAfter:"avoid"},clinicName:{fontSize:"24pt",textAlign:"center",fontFamily:"Tinos, serif",marginBottom:"3mm",color:"#1a5f7a",fontWeight:"bold"},clinicInfo:{fontSize:"10pt",textAlign:"center",color:"#333333",marginBottom:"2mm",flex:1},doctorInfo:{fontSize:"12pt",textAlign:"center",marginTop:"3mm",letterSpacing:"1pt",color:"#1a5f7a"},reportContainer:{marginTop:"5px",borderTop:"2px solid #ecf0f1",borderBottom:"2px solid #ecf0f1",paddingBottom:"60mm"},reportRow:{display:"flex",borderBottom:"1px solid #ecf0f1",padding:"3px 0",alignItems:"center",pageBreakInside:"avoid",breakInside:"avoid-page"},reportRowHeader:{backgroundColor:"#f8f9fa",padding:"8px 0",pageBreakAfter:"avoid"},headerName:{fontSize:"11pt",fontWeight:"bold",paddingRight:"2mm"},headerUnit:{fontSize:"11pt",fontWeight:"bold",textAlign:"center"},headerValue:{fontSize:"11pt",fontWeight:"bold",textAlign:"center"},headerRange:{fontSize:"11pt",fontWeight:"bold",textAlign:"right"},testName:{fontSize:"10pt",color:"#2c3e50",fontWeight:"bold",paddingRight:"2mm"},testValue:{width:"25%",fontSize:"10pt",textAlign:"center"},testUnit:{width:"20%",fontSize:"10pt",textAlign:"center"},testRange:{width:"25%",fontSize:"10pt",textAlign:"right"},patientDetails:{marginTop:"5px",padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"2mm",border:"1px solid #e2e8f0",pageBreakInside:"avoid",breakInside:"avoid-page"},patientColumn:{flex:1,padding:"0 2mm"},patientInfo:{display:"flex",marginBottom:"2mm",alignItems:"center"},patientLabel:{fontSize:"10pt",fontWeight:"bold",color:"#34495e",marginRight:"2mm",minWidth:"20mm"},patientValue:{fontSize:"10pt",color:"#2c3e50"},reportTitle:{textAlign:"center",margin:"10px 0",pageBreakAfter:"avoid"},reportTitleH2:{margin:0,fontSize:"14pt",fontWeight:"bold",textDecoration:"underline"},footer:{position:"absolute",bottom:"7mm",left:"10mm",right:"10mm",paddingTop:"5mm","@media print":{position:"fixed",backgroundColor:"white"}},footerText:{fontSize:"8pt",color:"#666",marginBottom:"2mm",textAlign:"center"},signature:{marginTop:"10mm",textAlign:"right",paddingRight:"20mm",borderTop:"1px solid #000",paddingTop:"4mm"},signatureText:{fontSize:"10pt",fontWeight:"bold"}},c=r.forwardRef(((e,t)=>{let{reportData:n,patientData:c,hospital:d}=e;const u=(0,a.d4)((e=>e.templates.headerTemplateArray)),m=(0,a.d4)((e=>e.templates.labReportUiTemplate)),p=(null===u||void 0===u?void 0:u.length)>0?u[0].value:s.h,h=(0,i.G)(p||s.h),f=new Function("React","HospitalHeader","styles",`return (${m||o.k});`);try{return f(r,h,l)(n,c,d,t)}catch(v){return console.error("Error rendering dynamic lab report:",v),r.createElement("div",null,"Error rendering lab report template")}}))},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),i=n(2597),s=n(914);e.exports=function(e){return i(e)?r(s(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),i=n(801),s=Math.max,o=Math.min;e.exports=function(e,t,n){var l,c,d,u,m,p,h=0,f=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=l,r=c;return l=c=void 0,h=t,u=e.apply(r,n)}function y(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=d}function b(){var e=a();if(y(e))return w(e);m=setTimeout(b,function(e){var n=t-(e-p);return v?o(n,d-(e-h)):n}(e))}function w(e){return m=void 0,g&&l?x(e):(l=c=void 0,u)}function j(){var e=a(),n=y(e);if(l=arguments,c=this,p=e,n){if(void 0===m)return function(e){return h=e,m=setTimeout(b,t),f?x(e):u}(p);if(v)return clearTimeout(m),m=setTimeout(b,t),x(p)}return void 0===m&&(m=setTimeout(b,t)),u}return t=i(t)||0,r(n)&&(f=!!n.leading,d=(v="maxWait"in n)?s(i(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),j.cancel=function(){void 0!==m&&clearTimeout(m),h=0,l=p=c=m=void 0},j.flush=function(){return void 0===m?u:w(a())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)})),t}));e.exports=s},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function x(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=g.prototype;var b=y.prototype=new x;b.constructor=y,f(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,a)&&!_.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:N.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+D(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),T(s,t,a,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+D(o=e[c],c);l+=T(o,t,a,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,a,d=i+D(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4204:(e,t,n)=>{"use strict";n.d(t,{jH:()=>i});var r=n(5043),a=(n(579),r.createContext(void 0));function i(e){const t=r.useContext(a);return e||t||"ltr"}},4223:(e,t,n)=>{var r=n(3331)();e.exports=r},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4259:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),i=n(1558),s=n(8114),o=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,d=a,u=e.length,m=!0,p=[],h=p;if(n)m=!1,d=i;else if(u>=200){var f=t?null:o(e);if(f)return l(f);m=!1,d=s,h=new r}else h=t?[]:p;e:for(;++c<u;){var v=e[c],g=t?t(v):v;if(v=n||0!==v?v:0,m&&g===g){for(var x=h.length;x--;)if(h[x]===g)continue e;t&&h.push(g),p.push(v)}else d(h,g,n)||(h!==p&&h.push(g),p.push(v))}return p}},4451:(e,t,n)=>{"use strict";n.d(t,{b:()=>o,s:()=>s});var r=n(5043),a=n(7920),i=n(579),s=r.forwardRef(((e,t)=>(0,i.jsx)(a.sG.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));s.displayName="VisuallyHidden";var o=s},4490:(e,t,n)=>{"use strict";var r;n.d(t,{B:()=>l});var a=n(5043),i=n(503),s=(r||(r=n.t(a,2)))["useId".toString()]||(()=>{}),o=0;function l(e){const[t,n]=a.useState(s());return(0,i.N)((()=>{e||n((e=>e??String(o++)))}),[e]),e||(t?`radix-${t}`:"")}},4524:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>i,_P:()=>l,_m:()=>o,my:()=>r,s0:()=>s,w4:()=>a});Math.pow(10,8);const r=6048e5,a=864e5,i=6e4,s=36e5,o=1e3,l=Symbol.for("constructDateFrom")},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,o=s&&s.exports===i?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var a=s.call(e);return r&&(t?e[o]=n:delete e[o]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),i=n(2165),s=n(4052),o=n(929);e.exports=function(e,t,n){var l=s(e)?r:i;return n&&o(e,t,n)&&(t=void 0),l(e,a(t,3))}},4612:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<a&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(v=!1,b(e),!f)if(null!==r(c))f=!0,O(j);else{var t=r(d);null!==t&&R(w,t.startTime-e)}}function j(e,n){f=!1,v&&(v=!1,x(E),E=-1),h=!0;var i=p;try{for(b(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!T());){var s=m.callback;if("function"===typeof s){m.callback=null,p=m.priorityLevel;var o=s(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?m.callback=o:m===r(c)&&a(c),b(n)}else a(c);m=r(c)}if(null!==m)var l=!0;else{var u=r(d);null!==u&&R(w,u.startTime-n),l=!1}return l}finally{m=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,_=!1,S=null,E=-1,C=5,D=-1;function T(){return!(t.unstable_now()-D<C)}function k(){if(null!==S){var e=t.unstable_now();D=e;var n=!0;try{n=S(!0,e)}finally{n?N():(_=!1,S=null)}}else _=!1}if("function"===typeof y)N=function(){y(k)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=k,N=function(){P.postMessage(null)}}else N=function(){g(k,0)};function O(e){S=e,_||(_=!0,N())}function R(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(v?(x(E),E=-1):v=!0,R(w,i-s))):(e.sortIndex=o,n(c,e),f||h||(f=!0,O(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,a){return n=!!t(e,r,a)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),i=n(438),s=n(9394),o=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},4912:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(2316);function a(e,t){const n=(0,r.a)(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}},4942:(e,t,n)=>{"use strict";n.d(t,{Ss:()=>l,ef:()=>s,xM:()=>o});const r=/^D+$/,a=/^Y+$/,i=["D","DD","YY","YYYY"];function s(e){return r.test(e)}function o(e){return a.test(e)}function l(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),i.includes(e))throw new RangeError(r)}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case i:case o:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case v:case f:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=m,t.Fragment=i,t.Lazy=v,t.Memo=f,t.Portal=a,t.Profiler=o,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===m},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===f},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===o||e===s||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||e.$$typeof===x||e.$$typeof===y||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},5029:(e,t,n)=>{var r=n(6989),a=n(3097),i=n(3366),s=n(2597),o=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return s(e)&&o(t)?l(c(e),t):function(n){var s=a(n,e);return void 0===s&&s===t?i(n,e):r(t,s,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5082:(e,t)=>{"use strict";var n=60103,r=60106,a=60107,i=60108,s=60114,o=60109,l=60110,c=60112,d=60113,u=60120,m=60115,p=60116,h=60121,f=60122,v=60117,g=60129,x=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),a=y("react.fragment"),i=y("react.strict_mode"),s=y("react.profiler"),o=y("react.provider"),l=y("react.context"),c=y("react.forward_ref"),d=y("react.suspense"),u=y("react.suspense_list"),m=y("react.memo"),p=y("react.lazy"),h=y("react.block"),f=y("react.server.block"),v=y("react.fundamental"),g=y("react.debug_trace_mode"),x=y("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case i:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case m:case o:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===l}},5126:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,r:()=>a});const r=(0,n(6756).Z0)({name:"loader",initialState:{isLoading:!0},reducers:{setLoading:(e,t)=>{e.isLoading=t.payload}}}),{setLoading:a}=r.actions,i=r.reducer},5172:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(1844);function a(e,t){const[n,a]=(0,r.x)(e,t.start,t.end);return{start:n,end:a}}},5173:(e,t,n)=>{e.exports=n(1497)()},5179:(e,t,n)=>{"use strict";n.d(t,{G$:()=>G,Hs:()=>w,UC:()=>te,VY:()=>re,ZL:()=>Q,bL:()=>Z,bm:()=>ae,hE:()=>ne,hJ:()=>ee,l9:()=>J});var r=n(5043),a=n(858),i=n(2814),s=n(1862),o=n(4490),l=n(3642),c=n(1184),d=n(276),u=n(3321),m=n(2894),p=n(7920),h=n(6590),f=n(1672),v=n(5754),g=n(6851),x=n(579),y="Dialog",[b,w]=(0,s.A)(y),[j,N]=b(y),_=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:i,onOpenChange:s,modal:c=!0}=e,d=r.useRef(null),u=r.useRef(null),[m=!1,p]=(0,l.i)({prop:a,defaultProp:i,onChange:s});return(0,x.jsx)(j,{scope:t,triggerRef:d,contentRef:u,contentId:(0,o.B)(),titleId:(0,o.B)(),descriptionId:(0,o.B)(),open:m,onOpenChange:p,onOpenToggle:r.useCallback((()=>p((e=>!e))),[p]),modal:c,children:n})};_.displayName=y;var S="DialogTrigger",E=r.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,s=N(S,n),o=(0,i.s)(t,s.triggerRef);return(0,x.jsx)(p.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V(s.open),...r,ref:o,onClick:(0,a.m)(e.onClick,s.onOpenToggle)})}));E.displayName=S;var C="DialogPortal",[D,T]=b(C,{forceMount:void 0}),k=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:i}=e,s=N(C,t);return(0,x.jsx)(D,{scope:t,forceMount:n,children:r.Children.map(a,(e=>(0,x.jsx)(m.C,{present:n||s.open,children:(0,x.jsx)(u.Z,{asChild:!0,container:i,children:e})})))})};k.displayName=C;var A="DialogOverlay",P=r.forwardRef(((e,t)=>{const n=T(A,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=N(A,e.__scopeDialog);return i.modal?(0,x.jsx)(m.C,{present:r||i.open,children:(0,x.jsx)(O,{...a,ref:t})}):null}));P.displayName=A;var O=r.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,a=N(A,n);return(0,x.jsx)(f.A,{as:g.DX,allowPinchZoom:!0,shards:[a.contentRef],children:(0,x.jsx)(p.sG.div,{"data-state":V(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})})),R="DialogContent",M=r.forwardRef(((e,t)=>{const n=T(R,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=N(R,e.__scopeDialog);return(0,x.jsx)(m.C,{present:r||i.open,children:i.modal?(0,x.jsx)(I,{...a,ref:t}):(0,x.jsx)(L,{...a,ref:t})})}));M.displayName=R;var I=r.forwardRef(((e,t)=>{const n=N(R,e.__scopeDialog),s=r.useRef(null),o=(0,i.s)(t,n.contentRef,s);return r.useEffect((()=>{const e=s.current;if(e)return(0,v.Eq)(e)}),[]),(0,x.jsx)(F,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,(e=>{e.preventDefault(),n.triggerRef.current?.focus()})),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:(0,a.m)(e.onFocusOutside,(e=>e.preventDefault()))})})),L=r.forwardRef(((e,t)=>{const n=N(R,e.__scopeDialog),a=r.useRef(!1),i=r.useRef(!1);return(0,x.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||n.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const r=t.target,s=n.triggerRef.current?.contains(r);s&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})})),F=r.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=N(R,n),m=r.useRef(null),p=(0,i.s)(t,m);return(0,h.Oh)(),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,x.jsx)(c.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":V(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Y,{titleId:u.titleId}),(0,x.jsx)(X,{contentRef:m,descriptionId:u.descriptionId})]})]})})),B="DialogTitle",W=r.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,a=N(B,n);return(0,x.jsx)(p.sG.h2,{id:a.titleId,...r,ref:t})}));W.displayName=B;var U="DialogDescription",$=r.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,a=N(U,n);return(0,x.jsx)(p.sG.p,{id:a.descriptionId,...r,ref:t})}));$.displayName=U;var z="DialogClose",H=r.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=N(z,n);return(0,x.jsx)(p.sG.button,{type:"button",...r,ref:t,onClick:(0,a.m)(e.onClick,(()=>i.onOpenChange(!1)))})}));function V(e){return e?"open":"closed"}H.displayName=z;var q="DialogTitleWarning",[G,K]=(0,s.q)(q,{contentName:R,titleName:B,docsSlug:"dialog"}),Y=e=>{let{titleId:t}=e;const n=K(q),a=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return r.useEffect((()=>{if(t){document.getElementById(t)||console.error(a)}}),[a,t]),null},X=e=>{let{contentRef:t,descriptionId:n}=e;const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K("DialogDescriptionWarning").contentName}}.`;return r.useEffect((()=>{const e=t.current?.getAttribute("aria-describedby");if(n&&e){document.getElementById(n)||console.warn(a)}}),[a,t,n]),null},Z=_,J=E,Q=k,ee=P,te=M,ne=W,re=$,ae=H},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),i=n(4079),s=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(s(e))}},5385:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(4524),a=n(9415),i=n(2440),s=n(1425);function o(e,t){const n=(0,s.p)(e,t),r=(0,i.w)(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),(0,a.b)(r)}var l=n(2316);function c(e,t){const n=(0,l.a)(e,t?.in),i=+(0,a.b)(n)-+o(n);return Math.round(i/r.my)+1}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),i=n(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!s[r(e)]}},5463:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(5043),a=n(1862),i=n(2814),s=n(6851),o=n(579);function l(e){const t=e+"CollectionProvider",[n,l]=(0,a.A)(t),[c,d]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{const{scope:t,children:n}=e,a=r.useRef(null),i=r.useRef(new Map).current;return(0,o.jsx)(c,{scope:t,itemMap:i,collectionRef:a,children:n})};u.displayName=t;const m=e+"CollectionSlot",p=r.forwardRef(((e,t)=>{const{scope:n,children:r}=e,a=d(m,n),l=(0,i.s)(t,a.collectionRef);return(0,o.jsx)(s.DX,{ref:l,children:r})}));p.displayName=m;const h=e+"CollectionItemSlot",f="data-radix-collection-item",v=r.forwardRef(((e,t)=>{const{scope:n,children:a,...l}=e,c=r.useRef(null),u=(0,i.s)(t,c),m=d(h,n);return r.useEffect((()=>(m.itemMap.set(c,{ref:c,...l}),()=>{m.itemMap.delete(c)}))),(0,o.jsx)(s.DX,{[f]:"",ref:u,children:a})}));return v.displayName=h,[{Provider:u,Slot:p,ItemSlot:v},function(t){const n=d(e+"CollectionConsumer",t);return r.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${f}]`));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},l]}},5469:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5538:(e,t,n)=>{var r=n(7160),a=n(4545),i=n(793),s=n(7760),o=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5598:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>m,Es:()=>h,L3:()=>f,c7:()=>p,lG:()=>l,rr:()=>v,zM:()=>c});var r=n(5043),a=n(5179),i=n(852),s=n(9766),o=n(579);const l=a.bL,c=a.l9,d=a.ZL,u=(a.bm,r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)(a.hJ,{ref:t,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r})})));u.displayName=a.hJ.displayName;const m=r.forwardRef(((e,t)=>{let{className:n,children:r,...l}=e;return(0,o.jsxs)(d,{children:[(0,o.jsx)(u,{}),(0,o.jsxs)(a.UC,{ref:t,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...l,children:[r,(0,o.jsxs)(a.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,o.jsx)(i.MKb,{className:"h-4 w-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}));m.displayName=a.UC.displayName;const p=e=>{let{className:t,...n}=e;return(0,o.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};p.displayName="DialogHeader";const h=e=>{let{className:t,...n}=e;return(0,o.jsx)("div",{className:(0,s.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};h.displayName="DialogFooter";const f=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)(a.hE,{ref:t,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",n),...r})}));f.displayName=a.hE.displayName;const v=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)(a.VY,{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...r})}));v.displayName=a.VY.displayName},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=a(i.length-t,0),l=Array(o);++s<o;)l[s]=i[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=i[s];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),i=n(6350);e.exports=function(e,t){return i(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5702:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof window}function a(e){return o(e)?(e.nodeName||"").toLowerCase():"#document"}function i(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function s(e){var t;return null==(t=(o(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function o(e){return!!r()&&(e instanceof Node||e instanceof i(e).Node)}function l(e){return!!r()&&(e instanceof Element||e instanceof i(e).Element)}function c(e){return!!r()&&(e instanceof HTMLElement||e instanceof i(e).HTMLElement)}function d(e){return!(!r()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof i(e).ShadowRoot)}function u(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=x(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function m(e){return["table","td","th"].includes(a(e))}function p(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function h(e){const t=v(),n=l(e)?x(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function f(e){let t=b(e);for(;c(t)&&!g(t);){if(h(t))return t;if(p(t))return null;t=b(t)}return null}function v(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function g(e){return["html","body","#document"].includes(a(e))}function x(e){return i(e).getComputedStyle(e)}function y(e){return l(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function b(e){if("html"===a(e))return e;const t=e.assignedSlot||e.parentNode||d(e)&&e.host||s(e);return d(t)?t.host:t}function w(e){const t=b(e);return g(t)?e.ownerDocument?e.ownerDocument.body:e.body:c(t)&&u(t)?t:w(t)}function j(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=w(e),s=a===(null==(r=e.ownerDocument)?void 0:r.body),o=i(a);if(s){const e=N(o);return t.concat(o,o.visualViewport||[],u(a)?a:[],e&&n?j(e):[])}return t.concat(a,j(a,[],n))}function N(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}n.d(t,{$4:()=>b,CP:()=>y,L9:()=>x,Lv:()=>m,Tc:()=>v,Tf:()=>p,ZU:()=>u,_m:()=>N,ep:()=>s,eu:()=>g,gJ:()=>f,mq:()=>a,sQ:()=>h,sb:()=>c,v9:()=>j,vq:()=>l,zk:()=>i})},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,o){var l=1&n,c=r(e),d=c.length;if(d!=r(t).length&&!l)return!1;for(var u=d;u--;){var m=c[u];if(!(l?m in t:a.call(t,m)))return!1}var p=o.get(e),h=o.get(t);if(p&&h)return p==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var v=l;++u<d;){var g=e[m=c[u]],x=t[m];if(i)var y=l?i(x,g,m,t,e,o):i(g,x,m,e,t,o);if(!(void 0===y?g===x||s(g,x,n,i,o):y)){f=!1;break}v||(v="constructor"==m)}if(f&&!v){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(e),o.delete(t),f}},5754:(e,t,n)=>{"use strict";n.d(t,{Eq:()=>d});var r=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},a=new WeakMap,i=new WeakMap,s={},o=0,l=function(e){return e&&(e.host||l(e.parentNode))},c=function(e,t,n,r){var c=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=l(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);s[n]||(s[n]=new WeakMap);var d=s[n],u=[],m=new Set,p=new Set(c),h=function(e){e&&!m.has(e)&&(m.add(e),h(e.parentNode))};c.forEach(h);var f=function(e){e&&!p.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(m.has(e))f(e);else try{var t=e.getAttribute(r),s=null!==t&&"false"!==t,o=(a.get(e)||0)+1,l=(d.get(e)||0)+1;a.set(e,o),d.set(e,l),u.push(e),1===o&&s&&i.set(e,!0),1===l&&e.setAttribute(n,"true"),s||e.setAttribute(r,"true")}catch(c){console.error("aria-hidden: cannot operate on ",e,c)}}))};return f(t),m.clear(),o++,function(){u.forEach((function(e){var t=a.get(e)-1,s=d.get(e)-1;a.set(e,t),d.set(e,s),t||(i.has(e)||e.removeAttribute(r),i.delete(e)),s||e.removeAttribute(n)})),--o||(a=new WeakMap,a=new WeakMap,i=new WeakMap,s={})}},d=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=t||r(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),c(a,i,n,"aria-hidden")):function(){return null}}},5757:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(1844);function a(e,t,n){const[a,i]=(0,r.x)(n?.in,e,t);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var s=e.apply(this,r);return n.cache=i.set(a,s)||i,s};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5830:(e,t,n)=>{"use strict";n.d(t,{dj:()=>m,oR:()=>u});var r=n(5043);let a=0;const i=new Map,s=e=>{if(i.has(e))return;const t=setTimeout((()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})}),2e3);i.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case"DISMISS_TOAST":{const{toastId:n}=t;return n?s(n):e.toasts.forEach((e=>{s(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},l=[];let c={toasts:[]};function d(e){c=o(c,e),l.forEach((e=>{e(c)}))}function u(e){let{...t}=e;const n=(a=(a+1)%Number.MAX_SAFE_INTEGER,a.toString()),r=()=>d({type:"DISMISS_TOAST",toastId:n});return d({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),s(n),{id:n,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function m(){const[e,t]=r.useState(c);return r.useEffect((()=>(l.push(t),()=>{const e=l.indexOf(t);e>-1&&l.splice(e,1)})),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5872:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(5043),a=n(3390),i=n(2264),s=n(1981),o=n(1140),l=n(3141),c=n(3400),d=n(8106),u=n(8134),m=n(3800),p=n(3416),h=n(7368),f=n(3003),v=n(6195),g=n(5830),x=n(9786),y=n(579);const b=(e,t,n)=>{var r,a,i,s;if(!e||!t)return"inherit";if(null!==(r=t)&&void 0!==r&&null!==(a=r.toLowerCase())&&void 0!==a&&a.includes("male")&&null!==(i=t)&&void 0!==i&&null!==(s=i.toLowerCase())&&void 0!==s&&s.includes("female")){var o,l;const e=(null===(o=t)||void 0===o||null===(l=o.split(","))||void 0===l?void 0:l.map((e=>null===e||void 0===e?void 0:e.trim()))).find((e=>{var t;return null===e||void 0===e||null===(t=e.toLowerCase())||void 0===t?void 0:t.includes(null===n||void 0===n?void 0:n.toLowerCase())}));e&&(t=e.replace(/\(.*?\)/g,"").trim())}const c=parseFloat(e);if(isNaN(c))return"inherit";if(t.includes("-")){const[e,n]=t.split("-").map((e=>parseFloat(e)));if(!isNaN(e)&&!isNaN(n))return c<e||c>n?"#FF4444":"#2ECC71"}else if(t.startsWith("<")){const e=parseFloat(t.substring(1));if(!isNaN(e))return c>e?"#FF4444":"#2ECC71"}else if(t.startsWith(">")){const e=parseFloat(t.substring(1));if(!isNaN(e))return c<e?"#FF4444":"#2ECC71"}return"inherit"},w=(e,t)=>{var n,r;if(!e||!t)return e;if(null!==(n=e.toLowerCase())&&void 0!==n&&n.includes("male")&&null!==(r=e.toLowerCase())&&void 0!==r&&r.includes("female")){const n=e.split(",").map((e=>e.trim())).find((e=>{var n;return null===(n=e.toLowerCase())||void 0===n?void 0:n.includes(t.toLowerCase())}));if(n)return n.replace(/\(.*?\)/g,"").trim()}return e},j=e=>{let{template:t,patientData:n,onSave:j,onClose:N,searchWhere:_,component:S}=e;const[E,C]=(0,r.useState)([]),[D,T]=(0,r.useState)(new Date),[k,A]=(0,r.useState)([]),[P,O]=(0,r.useState)(null),[R,M]=(0,r.useState)(!1),I=(0,f.d4)((e=>e.hospital.hospitalInfo)),L=(0,f.wA)(),{toast:F}=(0,g.dj)(),B=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(t&&t.fields){const e=(null===n||void 0===n?void 0:n.labReports.filter((e=>e.name.toLowerCase()===t.name.toLowerCase())))||[],r=(null===e||void 0===e?void 0:e.length)>0?new Date(Math.max(...e.map((e=>e.date?new Date(e.date):new Date)))):new Date;A(e),(null===e||void 0===e?void 0:e.length)>0?W(e,r):(T(new Date),O(null),$())}}),[t]);const W=(e,t)=>{const n=e.find((e=>new Date(e.date).toDateString()===t.toDateString()));n?(T(new Date(n.date)),O(new Date(n.date)),U(n)):(T(t),O(null),$())},U=e=>{C(Object.entries(t.fields).map((n=>{var r,a,i,s,o,l,c,d;let[u,m]=n;return{name:u,label:t.name.toLowerCase()===e.name.toLowerCase()?null===(r=e.report)||void 0===r||null===(a=r[u])||void 0===a?void 0:a.label:m.label,unit:t.name.toLowerCase()===e.name.toLowerCase()?null===(i=e.report)||void 0===i||null===(s=i[u])||void 0===s?void 0:s.unit:m.unit,normalRange:t.name.toLowerCase()===e.name.toLowerCase()?null===(o=e.report)||void 0===o||null===(l=o[u])||void 0===l?void 0:l.normalRange:m.normalRange,options:m.options,value:t.name.toLowerCase()===e.name.toLowerCase()?null===(c=e.report)||void 0===c||null===(d=c[u])||void 0===d?void 0:d.value:"",calculationDetails:m.calculationDetails}})))},$=()=>{C(Object.entries(t.fields).map((e=>{let[t,n]=e;return{name:t,label:n.label,unit:n.unit,normalRange:n.normalRange,options:n.options,value:"",calculationDetails:n.calculationDetails}})))},z=(e,t,n)=>{const{value:r}=e.target;C((e=>{const a=e.map((e=>e.name===t?{...e,[n||"value"]:r}:e));return a.map((e=>{if(e.name===t)return e;if(e.calculationDetails&&e.calculationDetails.dependencies.includes(t)){const t=((e,t)=>{if(!e.calculationDetails)return null;const{formula:n,dependencies:r}=e.calculationDetails,a={};for(const s of r){const e=t.find((e=>e.name===s));if(!e||!e.value||""===e.value)return"";const n=parseFloat(e.value);if(isNaN(n))return"";a[s]=n}try{const e=new Function(...r,`return ${n}`)(...r.map((e=>a[e])));return isNaN(e)?"":e.toFixed(2)}catch(i){return console.error("Error calculating formula:",i),""}})(e,a);return{...e,value:t}}return e}))}))},H=(0,l.useReactToPrint)({content:()=>B.current,onBeforeGetContent:()=>(M(!0),new Promise((e=>{setTimeout((()=>{M(!1),e()}),250)})))}),V=(e,t,n)=>[void 0,"",null,"N/A","-"].includes(e)&&[void 0,"",null,"N/A","-"].includes(t)&&0===(null===n||void 0===n?void 0:n.length);return(0,y.jsxs)("div",{className:"container px-0 max-w-6xl",children:[(0,y.jsxs)("h1",{className:"text-2xl font-bold mb-2 text-center",children:["Create ",t.name," Report"]}),(0,y.jsx)(o.Zp,{className:"p-6  w-full",children:(0,y.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r={name:t.name,date:(0,u.GP)(D,"yyyy-MM-dd"),report:E.reduce(((e,t)=>(e[t.name]={value:t.value,label:t.label,unit:t.unit,normalRange:t.normalRange},e)),{})};try{const e=await L((0,v.BM)({_id:n._id,labReport:{...r},component:S}));if(!v.BM.fulfilled.match(e))throw new Error("Failed to add lab report");if(F({title:"Success",description:"Lab Report added successfully",variant:"success"}),j){const t=e.payload.visit||e.payload.registration;j(r,t)}}catch(a){console.error("Error adding lab report:",a),F({title:"Error",description:"Failed to add lab report",variant:"destructive"})}},className:"space-y-6",children:[(0,y.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,y.jsxs)(d.AM,{children:[(0,y.jsx)(d.Wv,{asChild:!0,children:(0,y.jsx)(a.$,{variant:"outline",children:(0,u.GP)(D,"PPP")})}),(0,y.jsx)(d.hl,{className:"w-auto p-0",children:(0,y.jsx)(c.V,{mode:"single",selected:D,onSelect:e=>{W(k,e)},initialFocus:!0})})]})}),E.some((e=>"findings"!==e.label.toLowerCase()&&"impressions"!==e.label.toLowerCase()&&(e.unit||e.normalRange)))&&(0,y.jsxs)("div",{className:"grid grid-cols-[4fr_2fr_1fr_3fr] gap-4 mb-2 font-bold bg-gray-100 p-2 rounded",children:[(0,y.jsx)("div",{children:"Test Name"}),(0,y.jsx)("div",{children:"Value"}),(0,y.jsx)("div",{children:"Unit"}),(0,y.jsx)("div",{children:"Normal Range"})]}),(0,y.jsx)(x.JY,{onDragEnd:e=>{if(!e.destination)return;const t=((e,t,n)=>{const r=Array.from(e),[a]=r.splice(t,1);return r.splice(n,0,a),r})(E,e.source.index,e.destination.index);C(t)},children:(0,y.jsx)(x.gL,{droppableId:"fields",children:e=>(0,y.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-2",children:[E.map(((e,t)=>(0,y.jsx)(x.sx,{draggableId:e.name,index:t,children:(t,r)=>{var a,o,l,c,d,u,m;return(0,y.jsx)("div",{ref:t.innerRef,...t.draggableProps,className:`${"findings"===(null===(a=e.label)||void 0===a?void 0:a.toLowerCase())||"impression"===(null===(o=e.label)||void 0===o?void 0:o.toLowerCase())||V(e.unit,e.normalRange,e.options,e.options)?"col-span-full":"grid grid-cols-[4fr_2fr_1fr_3fr] gap-2 items-center border-b pb-2"} ${r.isDragging?"bg-blue-50 rounded shadow-md":""}`,style:{...t.draggableProps.style},children:"findings"===(null===(l=e.label)||void 0===l?void 0:l.toLowerCase())||"impression"===(null===(c=e.label)||void 0===c?void 0:c.toLowerCase())||V(e.unit,e.normalRange,e.options)?(0,y.jsxs)("div",{className:"col-span-full space-y-1",children:[(0,y.jsx)(s.J,{htmlFor:e.name,className:"mb-1",children:e.label}),(0,y.jsx)(p.T,{id:e.name,value:e.value,onChange:t=>z(t,e.name),className:"h-32 w-full",tabIndex:0})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[(0,y.jsx)("span",{...t.dragHandleProps,className:"cursor-grab",tabIndex:-1,children:"\u22ee\u22ee"}),(0,y.jsx)(i.p,{value:e.label,onChange:t=>z(t,e.name,"label"),className:"px-1",tabIndex:-1})]}),(0,y.jsx)("div",{children:(null===(d=e.options)||void 0===d?void 0:d.length)>0?(0,y.jsx)(h.A,{suggestions:null===(u=e.options)||void 0===u?void 0:u.map((e=>({name:e}))),placeholder:`Select ${e.label}`,value:e.value,setValue:t=>z({target:{value:t}},e.name),onSuggestionSelect:t=>{return n=e.name,r=t,void C((e=>e.map((e=>e.name===n?{...e,value:r.name}:e))));var n,r},tabIndex:0}):(0,y.jsx)(i.p,{type:(null!==e&&void 0!==e&&e.unit,"text"),id:e.name,name:e.name,value:e.value,onChange:t=>z(t,e.name),step:"0.01",className:"font-bold",style:{color:b(e.value,e.normalRange,null===n||void 0===n?void 0:n.gender)},tabIndex:0})}),(0,y.jsx)("div",{children:(0,y.jsx)(i.p,{value:e.unit,onChange:t=>z(t,e.name,"unit"),placeholder:"-",className:"px-1",tabIndex:-1})}),(0,y.jsx)("div",{children:(0,y.jsx)(i.p,{value:w(e.normalRange,(null===n||void 0===n?void 0:n.gender)||(null===n||void 0===n||null===(m=n.patient)||void 0===m?void 0:m.gender)),onChange:t=>z(t,e.name,"normalRange"),placeholder:"-",className:"flex-1",tabIndex:-1})})]})})}},e.name))),e.placeholder]})})}),(0,y.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,y.jsx)(a.$,{type:"submit",className:"w-full",children:"Save Lab Report"}),(0,y.jsx)(a.$,{type:"button",className:"w-full",onClick:H,children:"Print Report"})]})]})}),(0,y.jsx)("div",{style:{display:"none"},children:(0,y.jsx)("div",{ref:B,children:(0,y.jsx)(m.A,{reportData:{name:t.name,date:D,notes:t.notes,sections:t.sections,order:t.sections?(()=>{const e=[];let n=0;const r=[...t.sections||[]].sort(((e,t)=>e.position-t.position));return r.forEach(((t,a)=>{const i=E.slice(n,t.position);if(e.push(...i.map(((e,t)=>({type:"field",id:e.name,label:e.label,value:e.value,unit:e.unit,normalRange:e.normalRange,position:n+t})))),e.push({type:"section",id:t.name,name:t.name,position:t.position}),n=t.position,a===r.length-1){const t=E.slice(n);e.push(...t.map(((e,t)=>({type:"field",id:e.name,label:e.label,value:e.value,unit:e.unit,normalRange:e.normalRange,position:n+t}))))}})),0===r.length&&e.push(...E.map(((e,t)=>({type:"field",id:e.name,label:e.label,value:e.value,unit:e.unit,normalRange:e.normalRange,position:t})))),e})():E.map(((e,t)=>({type:"field",id:e.name,label:e.label,value:e.value,unit:e.unit,normalRange:e.normalRange,position:t}))),report:E.reduce(((e,t)=>(e[t.label]={value:t.value,unit:t.unit,normalRange:t.normalRange},e)),{})},hospital:I,patientData:n})})})]})}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,s=t.criteria,o=i.length,l=n.length;++a<o;){var c=r(i[a],s[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),s=r(t),o=s.length;o--;){var l=s[e?o:++a];if(!1===n(i[l],l,i))break}return t}}},5949:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});n(5043);var r=n(917),a=n(9766),i=n(579);const s=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-[#4BB543] text-white shadow hover:bg-[#4BB543]/80",warning:"border-transparent bg-orange-500 text-white shadow hover:bg-orange-500/80",bluish:"border-transparent bg-blue-500 text-white shadow hover:bg-blue-500/80",muted:"border-transparent bg-gray-500 text-white shadow"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:n,...r}=e;return(0,i.jsx)("div",{className:(0,a.cn)(s({variant:n}),t),...r})}},5962:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(5043),a=(n(7950),n(2264)),i=n(6817),s=n(8796),o=n(6178),l=n(6604),c=n(579);const d=(0,r.forwardRef)(((e,t)=>{let{suggestions:n=[],placeholder:d,selectedValues:u,setSelectedValues:m,onSuggestionSelect:p,onError:h=!1}=e;const[f,v]=(0,r.useState)([]),[g,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(""),[w,j]=(0,r.useState)(-1),N=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=n.filter((e=>{var t;return null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase())}));v(e)}),[y,n]);const _=e=>{if(null===u||void 0===u||!u.some((t=>t.name===e.name))){const t=[...u,e];m(t),p&&p(t)}var n;(b(""),x(!1),t&&null!==t&&void 0!==t&&t.current)&&(null===t||void 0===t||null===(n=t.current)||void 0===n||n.focus())};(0,r.useEffect)((()=>{const e=()=>{g&&null!==t&&void 0!==t&&t.current&&(x(!1),setTimeout((()=>x(!0)),0))};return window.addEventListener("scroll",e,!0),()=>window.removeEventListener("scroll",e,!0)}),[g]);const{refs:S,floatingStyles:E}=(0,s.we)({placement:"bottom-start",middleware:[(0,o.cY)(4),(0,o.UU)({fallbackPlacements:["top-start"]}),(0,o.BN)()],strategy:"absolute"});return(0,c.jsxs)("div",{className:"relative w-full",ref:N,children:[(0,c.jsxs)("div",{ref:S.setReference,className:"relative",children:[(0,c.jsx)(a.p,{ref:t,type:"text",value:y,onChange:e=>{b(e.target.value),x(!0)},onKeyDown:e=>{if("Enter"===e.key)if(e.preventDefault(),-1!==w&&g&&f.length>0)_(f[w]);else{const e=y.trim();if(e&&(null===u||void 0===u||!u.some((t=>t.name===e)))){const n=[...u,{name:e}];m(n),p&&p(n),b(""),x(!1),t&&t.current&&t.current.focus()}}else g&&f.length>0&&("ArrowDown"===e.key?(e.preventDefault(),j((e=>e<f.length-1?e+1:0))):"ArrowUp"===e.key&&(e.preventDefault(),j((e=>e>0?e-1:f.length-1))))},onFocus:()=>x(!0),onBlur:()=>setTimeout((()=>x(!1)),200),placeholder:d||"Search or type",className:"pr-8 hover:cursor-pointer font-semibold w-full "+(h?"border-red-500 focus-visible:ring-red-500":"")}),(0,c.jsx)(i.A,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 opacity-50"})]}),g&&f.length>0&&(0,c.jsx)("div",{ref:S.setFloating,style:{...E,width:"100%",position:"absolute",left:0,marginTop:"4px"},className:"z-[9999] bg-popover rounded-md border shadow-md",children:(0,c.jsx)(l.F,{className:""+(f.length>5?"h-[200px]":""),children:(0,c.jsx)("ul",{children:f.map(((e,t)=>(0,c.jsxs)("li",{onClick:()=>_(e),className:"px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground flex justify-between items-center\n                      "+(t===w?"bg-accent text-accent-foreground":""),children:[(0,c.jsx)("span",{children:e.name}),e.rate&&(0,c.jsxs)("span",{className:"text-gray-600",children:["\u20b9",e.rate]})]},`${e.name} ${t}`)))})})})]})}))},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6178:(e,t,n)=>{"use strict";n.d(t,{BN:()=>h,ER:()=>f,Ej:()=>g,UE:()=>y,UU:()=>v,cY:()=>p,jD:()=>x,we:()=>u});var r=n(7451),a=n(5043),i=n(7950),s="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;function o(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!o(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!o(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function l(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c(e,t){const n=l(e);return Math.round(t*n)/n}function d(e){const t=a.useRef(e);return s((()=>{t.current=e})),t}function u(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:u=[],platform:m,elements:{reference:p,floating:h}={},transform:f=!0,whileElementsMounted:v,open:g}=e,[x,y]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=a.useState(u);o(b,u)||w(u);const[j,N]=a.useState(null),[_,S]=a.useState(null),E=a.useCallback((e=>{e!==k.current&&(k.current=e,N(e))}),[]),C=a.useCallback((e=>{e!==A.current&&(A.current=e,S(e))}),[]),D=p||j,T=h||_,k=a.useRef(null),A=a.useRef(null),P=a.useRef(x),O=null!=v,R=d(v),M=d(m),I=d(g),L=a.useCallback((()=>{if(!k.current||!A.current)return;const e={placement:t,strategy:n,middleware:b};M.current&&(e.platform=M.current),(0,r.rD)(k.current,A.current,e).then((e=>{const t={...e,isPositioned:!1!==I.current};F.current&&!o(P.current,t)&&(P.current=t,i.flushSync((()=>{y(t)})))}))}),[b,t,n,M,I]);s((()=>{!1===g&&P.current.isPositioned&&(P.current.isPositioned=!1,y((e=>({...e,isPositioned:!1}))))}),[g]);const F=a.useRef(!1);s((()=>(F.current=!0,()=>{F.current=!1})),[]),s((()=>{if(D&&(k.current=D),T&&(A.current=T),D&&T){if(R.current)return R.current(D,T,L);L()}}),[D,T,L,R,O]);const B=a.useMemo((()=>({reference:k,floating:A,setReference:E,setFloating:C})),[E,C]),W=a.useMemo((()=>({reference:D,floating:T})),[D,T]),U=a.useMemo((()=>{const e={position:n,left:0,top:0};if(!W.floating)return e;const t=c(W.floating,x.x),r=c(W.floating,x.y);return f?{...e,transform:"translate("+t+"px, "+r+"px)",...l(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,f,W.floating,x.x,x.y]);return a.useMemo((()=>({...x,update:L,refs:B,elements:W,floatingStyles:U})),[x,L,B,W,U])}const m=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:a}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?(0,r.UE)({element:n.current,padding:a}).fn(t):{}:n?(0,r.UE)({element:n,padding:a}).fn(t):{};var i}}),p=(e,t)=>({...(0,r.cY)(e),options:[e,t]}),h=(e,t)=>({...(0,r.BN)(e),options:[e,t]}),f=(e,t)=>({...(0,r.ER)(e),options:[e,t]}),v=(e,t)=>({...(0,r.UU)(e),options:[e,t]}),g=(e,t)=>({...(0,r.Ej)(e),options:[e,t]}),x=(e,t)=>({...(0,r.jD)(e),options:[e,t]}),y=(e,t)=>({...m(e),options:[e,t]})},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6195:(e,t,n)=>{"use strict";n.d(t,{BM:()=>b,Ay:()=>B,Dk:()=>M,FG:()=>O,C$:()=>g,NJ:()=>C,TM:()=>D,s3:()=>k,sw:()=>P,g_:()=>A,uZ:()=>y,PP:()=>f,eg:()=>T,Al:()=>j,h2:()=>N,qf:()=>S,gE:()=>w,xo:()=>v,AX:()=>x,bW:()=>_,zC:()=>L,Cn:()=>R});var r=n(6756);function a(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var i=e=>Array.isArray(e)?e:[e];function s(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var o="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,i=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const l=t;let c;if(1===t.s)c=t.v;else if(c=e.apply(null,arguments),i++,r){const e=a?.deref?.()??a;null!=e&&r(e,c)&&(c=e,0!==i&&i--);a="object"===typeof c&&null!==c||"function"===typeof c?new o(c):c}return l.s=1,l.v=c,c}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o="function"===typeof e?{memoize:e,memoizeOptions:n}:e,c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,c=0,d=0,u={},m=t.pop();"object"===typeof m&&(u=m,m=t.pop()),a(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...o,...u},{memoize:h,memoizeOptions:f=[],argsMemoize:v=l,argsMemoizeOptions:g=[],devModeChecks:x={}}=p,y=i(f),b=i(g),w=s(t),j=h((function(){return c++,m.apply(null,arguments)}),...y);const N=v((function(){d++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(w,arguments);return r=j.apply(null,e),r}),...b);return Object.assign(N,{resultFunc:m,memoizedResultFunc:j,dependencies:w,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>r,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:h,argsMemoize:v})};return Object.assign(c,{withTypes:()=>c}),c}var d=c(l),u=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>u}),m=n(9250),p=n(989),h=n(2191);const f=(0,p.A)("patients/fetchPatients",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${m.B8}/api/patients/details`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({startDate:(null===e||void 0===e?void 0:e.startDate)||null,endDate:(null===e||void 0===e?void 0:e.endDate)||null})});if(!t.ok){return n(await t.json())}const r=await t.json();return{data:r,isToday:!(null===e||void 0===e||!e.startDate)&&new Date(e.startDate).toDateString()===(new Date).toDateString()}}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),v=(0,p.A)("patients/registerPatient",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${m.B8}/api/patients`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),g=(0,p.A)("patients/editPatient",(async(e,t)=>{let{patientData:n,patientID:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${m.B8}/api/patients/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),x=((0,p.A)("patients/revesitPatient",(async(e,t)=>{let{rejectWithValue:n}=t;try{const{submissionData:t,_id:r}=e,a=await fetch(`${m.B8}/api/patients/${r}/revisit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});if(!a.ok){return n(await a.json())}return await a.json()}catch(r){return n(r.message)}})),(0,p.A)("patients/savePrescription",(async e=>{let{selectedVisitId:t,vitals:n,prescription:r,selectedPatientType:a,clinicalSummary:i,notes:s,labTests:o,comorbidities:l,conditionOnAdmission:c,conditionOnDischarge:d}=e;const u=await fetch(`${m.B8}/api/patients/${"OPD"===a?"visit":"admission"}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({vitals:n,prescription:r,labTests:o,clinicalSummary:i,notes:s,comorbidities:l,conditionOnAdmission:c,conditionOnDischarge:d})});if(!u.ok)throw new Error("Failed to save data");return await u.json()}),{useGlobalLoader:!0})),y=(0,p.A)("patients/fetchPatientDetails",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${m.B8}/api/patients/${e}`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),b=(0,p.A)("patients/addLabReport",(async(e,t)=>{let{_id:n,labReport:r,component:a}=e,{rejectWithValue:i}=t;try{const e=await fetch(`${m.B8}/api/lab/addLabReport`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({_id:n,labReport:r,component:a})});if(!e.ok){return i(await e.json())}return await e.json()}catch(s){return i(s.message)}}),{useGlobalLoader:!0}),w=(0,p.A)("patients/readmitPatient",(async(e,t)=>{let{patientId:n,admission:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${m.B8}/api/patients/${n}/readmission`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),j=(0,p.A)("patients/fetchVisitDetails",(async(e,t)=>{let{id:n,type:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${m.B8}/api/patients/visit-details`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:n,type:r})});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),N=(0,p.A)("patients/fetchVisitDetailsFull",(async(e,t)=>{let{id:n,type:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${m.B8}/api/patients/visit-details-full`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:n,type:r})});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),_=(0,p.A)("patients/searchPatients",(async(e,t)=>{let{searchQuery:n,page:r,limit:a}=e,{rejectWithValue:i}=t;try{const e=await fetch(`${m.B8}/api/dashboard/search?q=${encodeURIComponent(n)}&page=${r||1}&limit=${a||10}`,{method:"GET",credentials:"include"});if(!e.ok){return i(await e.json())}const t=await e.json();return{results:t,searchQuery:n,currentPage:r,totalPages:t.totalPages}}catch(s){return i(s.message)}}),{useGlobalLoader:!0}),S=(0,p.A)("patients/opdRevisit",(async(e,t)=>{let{patientId:n,visit:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${m.B8}/api/patients/${n}/revisit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),E=(0,p.A)("patients/fetchRegistrationDetails",(async(e,t)=>{let{registrationNumber:n,type:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${m.B8}/api/patients/registration-details`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({registrationNumber:n,type:r})});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),C=(0,p.A)("patients/fetchAdmittedPatients",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${m.B8}/api/patients/admittedpatients`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok){return n(await e.json())}return await e.json()}catch(r){return n(r.message)}})),D=(0,p.A)("patients/fetchAdmittedPatientsSearch",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${m.B8}/api/patients/admittedpatientsSearch`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({searchQuery:e})});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}})),T=(0,p.A)("patients/fetchRegistrationAndIPDNumbers",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${m.B8}/api/patients/registration-ipd-numbers`,{credentials:"include"});if(!e.ok){return n(await e.json())}return await e.json()}catch(r){return n(r.message)}})),k=(0,p.A)("patients/fetchDischargedPatientsByDate",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${m.B8}/api/patients/discharged-by-date`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({dischargeDate:e})});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}})),A=(0,p.A)("patients/fetchOPDDetails",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${m.B8}/api/patients/opd-details`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({visitId:e})});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}})),P=(0,p.A)("patients/fetchIPDAdmissionDetailsFull",(async(e,t)=>{let{admissionId:n}=e,{rejectWithValue:r}=t;try{const e=await fetch(`${m.B8}/api/patients/visit-details-full`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:n,type:"IPD"})});if(!e.ok){return r(await e.json())}return await e.json()}catch(a){return r(a.message)}}),{useGlobalLoader:!0}),O=(0,p.A)("patients/editIPDAdmission",(async(e,t)=>{let{admissionId:n,data:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${m.B8}/api/patients/ipd-admission/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),R=(0,p.A)("patients/updateOperationName",(async(e,t)=>{let{admissionId:n,operationName:r,billId:a,includeInBill:i,serviceDetails:s}=e,{rejectWithValue:o}=t;try{const e=await fetch(`${m.B8}/api/patients/ipd-admission/${n}/operation`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({operationName:r,billId:a,includeInBill:i,serviceDetails:s})});if(!e.ok){return o(await e.json())}return await e.json()}catch(l){return o(l.message)}})),M=(0,p.A)("patients/deletePatient",(async(e,t)=>{let{patientId:n,visitId:r,admissionId:a}=e,{rejectWithValue:i}=t;try{const e=await fetch(`${m.B8}/api/patients/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({visitId:r,admissionId:a})});if(!e.ok){return i(await e.json())}return{result:await e.json()}}catch(s){return i(s.message)}}),{useGlobalLoader:!0}),I=(0,r.Z0)({name:"patients",initialState:{patientlist:[],patientsStatus:"idle",selectedPatient:null,status:"idle",todaysPatientList:[],prescriptionUpdateStatus:"idle",registerPatientStatus:"idle",patientDetails:null,patientDetailsStatus:"idle",addLabReportStatus:"idle",error:null,visitDetails:null,visitDetailsStatus:"idle",searchResults:[],searchQuery:"",searchStatus:"idle",registrationDetails:null,registrationDetailsStatus:"idle",admittedPatients:[],admittedPatientsStatus:"idle",registrationNumber:null,ipdNumber:null,numbersStatus:"idle",editPatientStatus:"idle",opdDetails:null,opdDetailsStatus:"idle",ipdAdmissionDetailsFull:null,ipdAdmissionDetailsFullStatus:"idle",editIPDAdmissionStatus:"idle"},reducers:{setSelectedPatient:(e,t)=>{e.selectedPatient=t.payload},setSelectedPatientForBill:(e,t)=>{e.selectedPatient=e.patientlist.find((e=>e.patient._id===t.payload))}},extraReducers:e=>{e.addCase(f.pending,(e=>{e.status="loading"})).addCase(f.fulfilled,((e,t)=>{e.status="succeeded",e.patientlist=t.payload.data,t.payload.isToday&&(e.todaysPatientList=t.payload.data)})).addCase(f.rejected,((e,t)=>{e.status="failed",e.error=t.error.message})).addCase(x.pending,(e=>{e.prescriptionUpdateStatus="loading"})).addCase(x.fulfilled,((e,t)=>{e.prescriptionUpdateStatus="succeeded";const n=t.payload,r=e.patientlist.findIndex((e=>e._id===n._id));-1!==r&&(e.patientlist[r]={...e.patientlist[r],...n})})).addCase(x.rejected,((e,t)=>{e.prescriptionUpdateStatus="failed",e.error=t.error.message})).addCase(v.pending,(e=>{e.registerPatientStatus="loading"})).addCase(v.fulfilled,((e,t)=>{e.registerPatientStatus="succeeded"})).addCase(v.rejected,((e,t)=>{e.registerPatientStatus="failed",e.error=t.payload})).addCase(y.pending,(e=>{e.patientDetailsStatus="loading"})).addCase(y.fulfilled,((e,t)=>{e.patientDetailsStatus="succeeded",e.patientDetails=t.payload})).addCase(y.rejected,((e,t)=>{e.patientDetailsStatus="failed",e.patientDetails=null})).addCase(b.pending,(e=>{e.addLabReportStatus="loading"})).addCase(b.fulfilled,((e,t)=>{e.addLabReportStatus="succeeded"})).addCase(b.rejected,((e,t)=>{e.addLabReportStatus="failed",e.error=t.payload})).addCase(h.Ou.fulfilled,((e,t)=>{const n=t.payload,{assignedRoom:r,assignedBed:a,department:i,patient:s,...o}=n,l=e.patientlist.findIndex((e=>e._id===n._id));-1!==l&&(e.patientlist[l]={...e.patientlist[l],...o}),e.selectedPatient&&e.selectedPatient._id===n._id&&(e.selectedPatient={...e.selectedPatient,...n})})).addCase(w.pending,(e=>{e.registerPatientStatus="loading"})).addCase(w.fulfilled,((e,t)=>{e.registerPatientStatus="succeeded";const n=t.payload.patient,r=e.patientlist.findIndex((e=>e._id===n._id));-1!==r&&(e.patientlist[r]=n),e.selectedPatient&&e.selectedPatient._id===n._id&&(e.selectedPatient=n)})).addCase(w.rejected,((e,t)=>{e.registerPatientStatus="failed",e.error=t.payload})).addCase(j.pending,(e=>{e.visitDetailsStatus="loading",e.visitDetails=null})).addCase(j.fulfilled,((e,t)=>{e.visitDetailsStatus="succeeded",e.visitDetails=t.payload})).addCase(j.rejected,((e,t)=>{e.visitDetailsStatus="failed",e.visitDetails=null,e.error=t.payload})).addCase(_.pending,(e=>{e.searchStatus="loading"})).addCase(_.fulfilled,((e,t)=>{e.searchStatus="succeeded",e.searchResults=t.payload.results,e.searchQuery=t.payload.searchQuery})).addCase(_.rejected,((e,t)=>{e.searchStatus="failed",e.error=t.payload})).addCase(S.pending,(e=>{e.status="loading"})).addCase(S.fulfilled,((e,t)=>{e.status="succeeded";const n=t.payload.patient,r=e.patientlist.findIndex((e=>e._id===n._id));-1!==r&&(e.patientlist[r]=n),e.selectedPatient&&e.selectedPatient._id===n._id&&(e.selectedPatient=n)})).addCase(S.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(E.pending,(e=>{e.registrationDetailsStatus="loading",e.registrationDetails=null})).addCase(E.fulfilled,((e,t)=>{e.registrationDetailsStatus="succeeded",e.registrationDetails=t.payload})).addCase(E.rejected,((e,t)=>{e.registrationDetailsStatus="failed",e.registrationDetails=null,e.error=t.payload})).addCase(C.pending,(e=>{e.admittedPatientsStatus="loading"})).addCase(C.fulfilled,((e,t)=>{e.admittedPatientsStatus="succeeded",e.admittedPatients=t.payload})).addCase(C.rejected,((e,t)=>{e.admittedPatientsStatus="failed",e.error=t.payload})).addCase(T.pending,(e=>{e.numbersStatus="loading"})).addCase(T.fulfilled,((e,t)=>{e.numbersStatus="succeeded",e.registrationNumber=t.payload.registrationNumber,e.ipdNumber=t.payload.ipdNumber})).addCase(T.rejected,((e,t)=>{e.numbersStatus="failed",e.error=t.payload})).addCase(g.pending,(e=>{e.editPatientStatus="loading"})).addCase(g.fulfilled,((e,t)=>{e.editPatientStatus="succeeded";const n=t.payload,r=e.patientlist.findIndex((e=>e.registrationNumber===n.registrationNumber));-1!==r&&(e.patientlist[r]=n)})).addCase(g.rejected,(e=>{e.editPatientStatus="failed"})).addCase(A.pending,(e=>{e.opdDetailsStatus="loading",e.opdDetails=null})).addCase(A.fulfilled,((e,t)=>{e.opdDetailsStatus="succeeded",e.opdDetails=t.payload})).addCase(A.rejected,((e,t)=>{e.opdDetailsStatus="failed",e.opdDetails=null,e.error=t.payload})).addCase(P.pending,(e=>{e.ipdAdmissionDetailsFullStatus="loading",e.ipdAdmissionDetailsFull=null})).addCase(P.fulfilled,((e,t)=>{e.ipdAdmissionDetailsFullStatus="succeeded",e.ipdAdmissionDetailsFull=t.payload})).addCase(P.rejected,((e,t)=>{e.ipdAdmissionDetailsFullStatus="failed",e.ipdAdmissionDetailsFull=null,e.error=t.payload})).addCase(O.pending,(e=>{e.editIPDAdmissionStatus="loading"})).addCase(O.fulfilled,((e,t)=>{e.editIPDAdmissionStatus="succeeded";const n=t.payload,r=e.patientlist.findIndex((e=>e._id===n._id&&"IPD"===e.type));-1!==r&&(e.patientlist[r]={...e.patientlist[r],...n,doctor:n.assignedDoctor,patient:n.patient});const a=e.admittedPatients.findIndex((e=>e._id===n._id));-1!==a&&(e.admittedPatients[a]={...e.admittedPatients[a],...n,patient:{...e.admittedPatients[a].patient,name:n.patientName,registrationNumber:n.registrationNumber},doctor:n.assignedDoctor}),e.selectedPatient&&e.selectedPatient._id===n._id&&(e.selectedPatient={...e.selectedPatient,...n,doctor:n.assignedDoctor,patient:e.selectedPatient.patient})})).addCase(O.rejected,((e,t)=>{e.editIPDAdmissionStatus="failed",e.error=t.payload})).addCase(R.pending,(e=>{e.status="loading"})).addCase(R.fulfilled,((e,t)=>{e.status="succeeded";const n=t.payload,r=e.patientlist.findIndex((e=>e._id===n._id&&"IPD"===e.type));-1!==r&&(e.patientlist[r].operationName=n.operationName);const a=e.admittedPatients.findIndex((e=>e._id===n._id));-1!==a&&(e.admittedPatients[a].operationName=n.operationName),e.selectedPatient&&e.selectedPatient._id===n._id&&(e.selectedPatient.operationName=n.operationName)})).addCase(R.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(M.pending,(e=>{e.status="loading"})).addCase(M.fulfilled,((e,t)=>{e.status="succeeded";const{patientId:n,visitId:r,admissionId:a}=t.meta.arg;e.patientlist=r||a?e.patientlist.filter((e=>e._id!==(r||a))):e.patientlist.filter((e=>e.patient._id!==n))})).addCase(M.rejected,((e,t)=>{e.status="failed",e.error=t.payload}))}}),{setSelectedPatient:L,setSelectedPatientForBill:F}=I.actions,B=(d([e=>e.patients.selectedPatient,e=>e.patients.patientDetailsStatus],((e,t)=>({patientData:e,status:t}))),d([e=>e.patients.visitDetails,e=>e.patients.visitDetailsStatus],((e,t)=>({visitDetails:e,status:t}))),d([e=>e.patients.registrationDetails,e=>e.patients.registrationDetailsStatus],((e,t)=>({registrationDetails:e,status:t}))),I.reducer)},6210:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case o:case s:case m:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case h:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===i}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),i=n(9987),s=n(5752),o=n(6924),l=n(4052),c=n(4543),d=n(1268),u="[object Arguments]",m="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,v,g){var x=l(e),y=l(t),b=x?m:o(e),w=y?m:o(t),j=(b=b==u?p:b)==p,N=(w=w==u?p:w)==p,_=b==w;if(_&&c(e)){if(!c(t))return!1;x=!0,j=!1}if(_&&!j)return g||(g=new r),x||d(e)?a(e,t,n,f,v,g):i(e,t,b,n,f,v,g);if(!(1&n)){var S=j&&h.call(e,"__wrapped__"),E=N&&h.call(t,"__wrapped__");if(S||E){var C=S?e.value():e,D=E?t.value():t;return g||(g=new r),v(C,D,n,f,g)}}return!!_&&(g||(g=new r),s(e,t,n,f,v,g))}},6465:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(1844),a=n(1176);function i(e,t,n){const[i,s]=(0,r.x)(n?.in,e,t);return+(0,a.o)(i)===+(0,a.o)(s)}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&!1!==a(o[s],s,o););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,i){var s=n.length,o=s,l=!i;if(null==e)return!o;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var d=(c=n[s])[0],u=e[d],m=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var p=new r;if(i)var h=i(u,m,d,e,t,p);if(!(void 0===h?a(m,u,3,i,p):h))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6590:(e,t,n)=>{"use strict";n.d(t,{Oh:()=>i});var r=n(5043),a=0;function i(){r.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??s()),document.body.insertAdjacentElement("beforeend",e[1]??s()),a++,()=>{1===a&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),a--}}),[])}function s(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e===e,s=r(e),o=void 0!==t,l=null===t,c=t===t,d=r(t);if(!l&&!d&&!s&&e>t||s&&o&&c&&!l&&!d||a&&o&&c||!n&&c||!i)return 1;if(!a&&!s&&!d&&e<t||d&&n&&i&&!a&&!s||l&&n&&i||!o&&i||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{"use strict";n.d(t,{F:()=>J,$:()=>Q});var r=n(5043),a=n(7920),i=n(2894),s=n(1862),o=n(2814),l=n(7490),c=n(4204),d=n(503),u=n(1664),m=n(858),p=n(579);var h="ScrollArea",[f,v]=(0,s.A)(h),[g,x]=f(h),y=r.forwardRef(((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:s,scrollHideDelay:l=600,...d}=e,[u,m]=r.useState(null),[h,f]=r.useState(null),[v,x]=r.useState(null),[y,b]=r.useState(null),[w,j]=r.useState(null),[N,_]=r.useState(0),[S,E]=r.useState(0),[C,D]=r.useState(!1),[T,k]=r.useState(!1),A=(0,o.s)(t,(e=>m(e))),P=(0,c.jH)(s);return(0,p.jsx)(g,{scope:n,type:i,dir:P,scrollHideDelay:l,scrollArea:u,viewport:h,onViewportChange:f,content:v,onContentChange:x,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:C,onScrollbarXEnabledChange:D,scrollbarY:w,onScrollbarYChange:j,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:_,onCornerHeightChange:E,children:(0,p.jsx)(a.sG.div,{dir:P,...d,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})}));y.displayName=h;var b="ScrollAreaViewport",w=r.forwardRef(((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:s,...l}=e,c=x(b,n),d=r.useRef(null),u=(0,o.s)(t,d,c.onViewportChange);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,p.jsx)(a.sG.div,{"data-radix-scroll-area-viewport":"",...l,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,p.jsx)("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})}));w.displayName=b;var j="ScrollAreaScrollbar",N=r.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,i=x(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l="horizontal"===e.orientation;return r.useEffect((()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)})),[l,s,o]),"hover"===i.type?(0,p.jsx)(_,{...a,ref:t,forceMount:n}):"scroll"===i.type?(0,p.jsx)(S,{...a,ref:t,forceMount:n}):"auto"===i.type?(0,p.jsx)(E,{...a,ref:t,forceMount:n}):"always"===i.type?(0,p.jsx)(C,{...a,ref:t}):null}));N.displayName=j;var _=r.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,s=x(j,e.__scopeScrollArea),[o,l]=r.useState(!1);return r.useEffect((()=>{const e=s.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),l(!0)},r=()=>{t=window.setTimeout((()=>l(!1)),s.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}}),[s.scrollArea,s.scrollHideDelay]),(0,p.jsx)(i.C,{present:n||o,children:(0,p.jsx)(E,{"data-state":o?"visible":"hidden",...a,ref:t})})})),S=r.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,s=x(j,e.__scopeScrollArea),o="horizontal"===e.orientation,l=q((()=>d("SCROLL_END")),100),[c,d]=(u="hidden",h={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer(((e,t)=>h[e][t]??e),u));var u,h;return r.useEffect((()=>{if("idle"===c){const e=window.setTimeout((()=>d("HIDE")),s.scrollHideDelay);return()=>window.clearTimeout(e)}}),[c,s.scrollHideDelay,d]),r.useEffect((()=>{const e=s.viewport,t=o?"scrollLeft":"scrollTop";if(e){let n=e[t];const r=()=>{const r=e[t];n!==r&&(d("SCROLL"),l()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}}),[s.viewport,o,d,l]),(0,p.jsx)(i.C,{present:n||"hidden"!==c,children:(0,p.jsx)(C,{"data-state":"hidden"===c?"hidden":"visible",...a,ref:t,onPointerEnter:(0,m.m)(e.onPointerEnter,(()=>d("POINTER_ENTER"))),onPointerLeave:(0,m.m)(e.onPointerLeave,(()=>d("POINTER_LEAVE")))})})})),E=r.forwardRef(((e,t)=>{const n=x(j,e.__scopeScrollArea),{forceMount:a,...s}=e,[o,l]=r.useState(!1),c="horizontal"===e.orientation,d=q((()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?e:t)}}),10);return G(n.viewport,d),G(n.content,d),(0,p.jsx)(i.C,{present:a||o,children:(0,p.jsx)(C,{"data-state":o?"visible":"hidden",...s,ref:t})})})),C=r.forwardRef(((e,t)=>{const{orientation:n="vertical",...a}=e,i=x(j,e.__scopeScrollArea),s=r.useRef(null),o=r.useRef(0),[l,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=W(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>s.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function m(e,t){return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr";const a=U(n),i=a/2,s=t||i,o=a-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,u="ltr"===r?[0,d]:[-1*d,0];return z([l,c],u)(e)}(e,o.current,l,t)}return"horizontal"===n?(0,p.jsx)(D,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const e=$(i.viewport.scrollLeft,l,i.dir);s.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=m(e,i.dir))}}):"vertical"===n?(0,p.jsx)(T,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const e=$(i.viewport.scrollTop,l);s.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=m(e))}}):null})),D=r.forwardRef(((e,t)=>{const{sizes:n,onSizesChange:a,...i}=e,s=x(j,e.__scopeScrollArea),[l,c]=r.useState(),d=r.useRef(null),u=(0,o.s)(t,d,s.onScrollbarXChange);return r.useEffect((()=>{d.current&&c(getComputedStyle(d.current))}),[d]),(0,p.jsx)(P,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:"rtl"===s.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===s.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(s.viewport){const r=s.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),H(r,n)&&t.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&a({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:B(l.paddingLeft),paddingEnd:B(l.paddingRight)}})}})})),T=r.forwardRef(((e,t)=>{const{sizes:n,onSizesChange:a,...i}=e,s=x(j,e.__scopeScrollArea),[l,c]=r.useState(),d=r.useRef(null),u=(0,o.s)(t,d,s.onScrollbarYChange);return r.useEffect((()=>{d.current&&c(getComputedStyle(d.current))}),[d]),(0,p.jsx)(P,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(s.viewport){const r=s.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),H(r,n)&&t.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&a({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:B(l.paddingTop),paddingEnd:B(l.paddingBottom)}})}})})),[k,A]=f(j),P=r.forwardRef(((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:s,onThumbChange:c,onThumbPointerUp:d,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:v,onResize:g,...y}=e,b=x(j,n),[w,N]=r.useState(null),_=(0,o.s)(t,(e=>N(e))),S=r.useRef(null),E=r.useRef(""),C=b.viewport,D=i.content-i.viewport,T=(0,l.c)(v),A=(0,l.c)(h),P=q(g,10);function O(e){if(S.current){const t=e.clientX-S.current.left,n=e.clientY-S.current.top;f({x:t,y:n})}}return r.useEffect((()=>{const e=e=>{const t=e.target,n=w?.contains(t);n&&T(e,D)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[C,w,D,T]),r.useEffect(A,[i,A]),G(w,P),G(b.content,P),(0,p.jsx)(k,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:(0,l.c)(c),onThumbPointerUp:(0,l.c)(d),onThumbPositionChange:A,onThumbPointerDown:(0,l.c)(u),children:(0,p.jsx)(a.sG.div,{...y,ref:_,style:{position:"absolute",...y.style},onPointerDown:(0,m.m)(e.onPointerDown,(e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),S.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),O(e)}})),onPointerMove:(0,m.m)(e.onPointerMove,O),onPointerUp:(0,m.m)(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),S.current=null}))})})})),O="ScrollAreaThumb",R=r.forwardRef(((e,t)=>{const{forceMount:n,...r}=e,a=A(O,e.__scopeScrollArea);return(0,p.jsx)(i.C,{present:n||a.hasThumb,children:(0,p.jsx)(M,{ref:t,...r})})})),M=r.forwardRef(((e,t)=>{const{__scopeScrollArea:n,style:i,...s}=e,l=x(O,n),c=A(O,n),{onThumbPositionChange:d}=c,u=(0,o.s)(t,(e=>c.onThumbChange(e))),h=r.useRef(void 0),f=q((()=>{h.current&&(h.current(),h.current=void 0)}),100);return r.useEffect((()=>{const e=l.viewport;if(e){const t=()=>{if(f(),!h.current){const t=V(e,d);h.current=t,d()}};return d(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[l.viewport,f,d]),(0,p.jsx)(a.sG.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:(0,m.m)(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;c.onThumbPointerDown({x:n,y:r})})),onPointerUp:(0,m.m)(e.onPointerUp,c.onThumbPointerUp)})}));R.displayName=O;var I="ScrollAreaCorner",L=r.forwardRef(((e,t)=>{const n=x(I,e.__scopeScrollArea),r=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&r?(0,p.jsx)(F,{...e,ref:t}):null}));L.displayName=I;var F=r.forwardRef(((e,t)=>{const{__scopeScrollArea:n,...i}=e,s=x(I,n),[o,l]=r.useState(0),[c,d]=r.useState(0),u=Boolean(o&&c);return G(s.scrollbarX,(()=>{const e=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(e),d(e)})),G(s.scrollbarY,(()=>{const e=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(e),l(e)})),u?(0,p.jsx)(a.sG.div,{...i,ref:t,style:{width:o,height:c,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null}));function B(e){return e?parseInt(e,10):0}function W(e,t){const n=e/t;return isNaN(n)?0:n}function U(e){const t=W(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr";const r=U(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,o=i-r,l="ltr"===n?[0,s]:[-1*s,0],c=(0,u.q)(e,l);return z([0,s],[0,o])(c)}function z(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function H(e,t){return e>0&&e<t}var V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=n.left!==i.left,o=n.top!==i.top;(s||o)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function q(e,t){const n=(0,l.c)(e),a=r.useRef(0);return r.useEffect((()=>()=>window.clearTimeout(a.current)),[]),r.useCallback((()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,t)}),[n,t])}function G(e,t){const n=(0,l.c)(t);(0,d.N)((()=>{let t=0;if(e){const r=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)}));return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}}),[e,n])}var K=y,Y=w,X=L,Z=n(9766);const J=r.forwardRef(((e,t)=>{let{className:n,children:r,...a}=e;return(0,p.jsxs)(K,{ref:t,className:(0,Z.cn)("relative overflow-hidden",n),...a,children:[(0,p.jsx)(Y,{className:"h-full w-full rounded-[inherit]",children:r}),(0,p.jsx)(Q,{}),(0,p.jsx)(X,{})]})}));J.displayName=K.displayName;const Q=r.forwardRef(((e,t)=>{let{className:n,orientation:r="vertical",...a}=e;return(0,p.jsx)(N,{ref:t,orientation:r,className:(0,Z.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...a,children:(0,p.jsx)(R,{className:"relative flex-1 rounded-full bg-border"})})}));Q.displayName=N.displayName},6638:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m,I7:()=>u,QK:()=>s,Vx:()=>c,X_:()=>d,jc:()=>l,ub:()=>o});var r=n(6756),a=n(989),i=n(9250);const s=(0,a.A)("templates/fetchTemplates",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${i.B8}/api/hospitals/template/read`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error("Failed to fetch templates");return await e.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),o=(0,a.A)("templates/updateTemplate",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${i.B8}/api/hospitals/template/create`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update template");return await t.json()}catch(r){return n(r.message)}})),l=(0,a.A)("templates/bulkUpload",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${i.B8}/api/hospitals/template/bulk-upload`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to bulk upload templates");return await t.json()}catch(r){return n(r.message)}})),c=(0,r.zD)("templates/updateServiceBillCollections",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${i.B8}/api/hospitals/template/service_collections`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update service bill collections");return await t.json()}catch(r){return n(r.message)}})),d=(0,a.A)("templates/editTemplate",(async(e,t)=>{let{field:n,index:r,template:a}=e,{rejectWithValue:s}=t;try{const e=await fetch(`${i.B8}/api/hospitals/template/edit`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({field:n,index:r,newValue:a})});if(!e.ok)throw new Error("Failed to update template");return await e.json()}catch(o){return s(o.message)}})),u=(0,a.A)("templates/deleteTemplate",(async(e,t)=>{let{field:n,index:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${i.B8}/api/hospitals/template/delete`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({field:n,index:r})});if(!e.ok)throw new Error("Failed to delete template");return await e.json()}catch(s){return a(s.message)}})),m=(0,r.Z0)({name:"templates",initialState:{birthCertificateTemplate:"",labTestsTemplate:[],headerTemplateArray:[],diagnosisTemplate:[],mergeTemplate:"",dischargeSummaryTemplateArray:[],dischargeFormTemplateArray:[],opdPrescriptionTemplateArray:[],opdRxTemplateArray:[],consentFormTemplateArray:[],status:"idle",error:null,serviceBillCollections:[],dischargeFormTemplates:null,updateTempleteStatus:"idle",labBillingTemplate:"",opdBillTokenTemplate:""},reducers:{},extraReducers:e=>{e.addCase(s.pending,(e=>{e.status="loading"})).addCase(s.fulfilled,((e,t)=>{e.status="succeeded",e.labTestsTemplate=t.payload.labTestsTemplate,e.headerTemplateArray=t.payload.headerTemplateArray||[],e.headerTemplate=t.payload.headerTemplate||"",e.dischargeSummaryTemplate=t.payload.dischargeSummaryTemplate||"",e.diagnosisTemplate=t.payload.diagnosisTemplate,e.dischargeSummaryTemplateArray=t.payload.dischargeSummaryTemplateArray||[],e.dischargeFormTemplateArray=t.payload.dischargeFormTemplateArray||[],e.opdPrescriptionTemplateArray=t.payload.opdPrescriptionTemplateArray||[],e.opdRxTemplateArray=t.payload.opdRxTemplateArray||[],e.comorbidities=t.payload.comorbidities,e.medicinelist=t.payload.medicinelist,e.mergeTemplate=t.payload.mergeTemplate,e.serviceBillCollections=t.payload.service_collections,e.dischargeFormTemplates=t.payload.dischargeFormTemplates,e.consentFormTemplateArray=t.payload.consentFormArray,e.birthCertificateTemplate=t.payload.birthCertificateTemplate,e.labReportUiTemplate=t.payload.labReportUiTemplate,e.labBillingTemplate=t.payload.labBillingTemplate||"",e.opdBillTokenTemplate=t.payload.opdBillTokenTemplate||""})).addCase(s.rejected,((e,t)=>{e.status="failed",e.error=t.payload.message||"Failed to fetch templates"})).addCase(o.pending,(e=>{e.updateTempleteStatus="loading"})).addCase(o.fulfilled,((e,t)=>{e.updateTempleteStatus="succeeded",t.payload.diagnosisTemplate&&(e.diagnosisTemplate=t.payload.diagnosisTemplate),t.payload.medicinelist&&(e.medicinelist=t.payload.medicinelist),t.payload.comorbidities&&(e.comorbidities=t.payload.comorbidities),t.payload.labTestsTemplate&&(e.labTestsTemplate=t.payload.labTestsTemplate),t.payload.headerTemplateArray&&(e.headerTemplateArray=t.payload.headerTemplateArray||[]),t.payload.dischargeSummaryTemplateArray&&(e.dischargeSummaryTemplateArray=t.payload.dischargeSummaryTemplateArray||[]),t.payload.dischargeFormTemplateArray&&(e.dischargeFormTemplateArray=t.payload.dischargeFormTemplateArray||[]),t.payload.opdPrescriptionTemplateArray&&(e.opdPrescriptionTemplateArray=t.payload.opdPrescriptionTemplateArray||[]),t.payload.opdRxTemplateArray&&(e.opdRxTemplateArray=t.payload.opdRxTemplateArray||[]),t.payload.opdBillTokenTemplate&&(e.opdBillTokenTemplate=t.payload.opdBillTokenTemplate)})).addCase(o.rejected,((e,t)=>{e.updateTempleteStatus="failed"})).addCase(c.fulfilled,((e,t)=>{e.serviceBillCollections=t.payload})).addCase(d.fulfilled,((e,t)=>{e.labTestsTemplate=t.payload.labTestsTemplate})).addCase(u.fulfilled,((e,t)=>{e.labTestsTemplate=t.payload.labTestsTemplate})).addCase(l.pending,(e=>{e.updateTempleteStatus="loading"})).addCase(l.fulfilled,((e,t)=>{e.updateTempleteStatus="succeeded",t.payload.labTestsTemplate&&(e.labTestsTemplate=t.payload.labTestsTemplate)})).addCase(l.rejected,((e,t)=>{e.updateTempleteStatus="failed",e.error=t.payload}))}}).reducer},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6691:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(2316);function a(e,t){const n=(0,r.a)(e,t?.in);return n.setHours(23,59,59,999),n}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},6756:(e,t,n)=>{"use strict";function r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.d(t,{U1:()=>pe,zD:()=>je,Z0:()=>De});var a=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),i=()=>Math.random().toString(36).substring(7).split("").join("."),s={INIT:`@@redux/INIT${i()}`,REPLACE:`@@redux/REPLACE${i()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${i()}`};function o(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function l(e,t,n){if("function"!==typeof e)throw new Error(r(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(r(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(r(1));return n(l)(e,t)}let i=e,c=t,d=new Map,u=d,m=0,p=!1;function h(){u===d&&(u=new Map,d.forEach(((e,t)=>{u.set(t,e)})))}function f(){if(p)throw new Error(r(3));return c}function v(e){if("function"!==typeof e)throw new Error(r(4));if(p)throw new Error(r(5));let t=!0;h();const n=m++;return u.set(n,e),function(){if(t){if(p)throw new Error(r(6));t=!1,h(),u.delete(n),d=null}}}function g(e){if(!o(e))throw new Error(r(7));if("undefined"===typeof e.type)throw new Error(r(8));if("string"!==typeof e.type)throw new Error(r(17));if(p)throw new Error(r(9));try{p=!0,c=i(c,e)}finally{p=!1}return(d=u).forEach((e=>{e()})),e}g({type:s.INIT});return{dispatch:g,subscribe:v,getState:f,replaceReducer:function(e){if("function"!==typeof e)throw new Error(r(10));i=e,g({type:s.REPLACE})},[a]:function(){const e=v;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(r(11));function n(){const e=t;e.next&&e.next(f())}n();return{unsubscribe:e(n)}},[a](){return this}}}}}function c(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}const a=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:s.INIT}))throw new Error(r(12));if("undefined"===typeof n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(o){i=o}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const o={};for(let i=0;i<a.length;i++){const l=a[i],c=n[l],d=e[l],u=c(d,t);if("undefined"===typeof u){t&&t.type;throw new Error(r(14))}o[l]=u,s=s||u!==d}return s=s||a.length!==Object.keys(e).length,s?o:e}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function u(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var m=u(),p=u,h=Symbol.for("immer-nothing"),f=Symbol.for("immer-draftable"),v=Symbol.for("immer-state");function g(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var x=Object.getPrototypeOf;function y(e){return!!e&&!!e[v]}function b(e){return!!e&&(j(e)||Array.isArray(e)||!!e[f]||!!e.constructor?.[f]||C(e)||D(e))}var w=Object.prototype.constructor.toString();function j(e){if(!e||"object"!==typeof e)return!1;const t=x(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===w}function N(e,t){0===_(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function _(e){const t=e[v];return t?t.type_:Array.isArray(e)?1:C(e)?2:D(e)?3:0}function S(e,t){return 2===_(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function E(e,t,n){const r=_(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function C(e){return e instanceof Map}function D(e){return e instanceof Set}function T(e){return e.copy_||e.base_}function k(e,t){if(C(e))return new Map(e);if(D(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=j(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[v];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(x(e),t)}{const t=x(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return O(e)||y(e)||!b(e)||(_(e)>1&&(e.set=e.add=e.clear=e.delete=P),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return A(n,!0)}))),e}function P(){g(2)}function O(e){return Object.isFrozen(e)}var R,M={};function I(e){const t=M[e];return t||g(0),t}function L(){return R}function F(e,t){t&&(I("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function B(e){W(e),e.drafts_.forEach($),e.drafts_=null}function W(e){e===R&&(R=e.parent_)}function U(e){return R={drafts_:[],parent_:R,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $(e){const t=e[v];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function z(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[v].modified_&&(B(t),g(4)),b(e)&&(e=H(t,e),t.parent_||q(t,e)),t.patches_&&I("Patches").generateReplacementPatches_(n[v].base_,e,t.patches_,t.inversePatches_)):e=H(t,n,[]),B(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==h?e:void 0}function H(e,t,n){if(O(t))return t;const r=t[v];if(!r)return N(t,((a,i)=>V(e,r,t,a,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return q(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),N(a,((a,s)=>V(e,r,t,a,s,n,i))),q(e,t,!1),n&&e.patches_&&I("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function V(e,t,n,r,a,i,s){if(y(a)){const s=H(e,a,i&&t&&3!==t.type_&&!S(t.assigned_,r)?i.concat(r):void 0);if(E(n,r,s),!y(s))return;e.canAutoFreeze_=!1}else s&&n.add(a);if(b(a)&&!O(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;H(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||q(e,a)}}function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&A(t,n)}var G={get(e,t){if(t===v)return e;const n=T(e);if(!S(n,t))return function(e,t,n){const r=X(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!b(r)?r:r===Y(e.base_,t)?(J(e),e.copy_[t]=Q(r,e)):r},has:(e,t)=>t in T(e),ownKeys:e=>Reflect.ownKeys(T(e)),set(e,t,n){const r=X(T(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Y(T(e),t),s=r?.[v];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(i=r)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==n||S(e.base_,t)))return!0;J(e),Z(e)}var a,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Y(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,J(e),Z(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=T(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){g(11)},getPrototypeOf:e=>x(e.base_),setPrototypeOf(){g(12)}},K={};function Y(e,t){const n=e[v];return(n?T(n):e)[t]}function X(e,t){if(!(t in e))return;let n=x(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=x(n)}}function Z(e){e.modified_||(e.modified_=!0,e.parent_&&Z(e.parent_))}function J(e){e.copy_||(e.copy_=k(e.base_,e.scope_.immer_.useStrictShallowCopy_))}N(G,((e,t)=>{K[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),K.deleteProperty=function(e,t){return K.set.call(this,e,t,void 0)},K.set=function(e,t,n){return G.set.call(this,e[0],t,n,e[0])};function Q(e,t){const n=C(e)?I("MapSet").proxyMap_(e,t):D(e)?I("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:L(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=G;n&&(a=[r],i=K);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:L()).drafts_.push(n),n}function ee(e){if(!b(e)||O(e))return e;const t=e[v];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=k(e,t.scope_.immer_.useStrictShallowCopy_)}else n=k(e,!0);return N(n,((e,t)=>{E(n,e,ee(t))})),t&&(t.finalized_=!1),n}var te=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return r.produce(e,(e=>t.call(this,e,...i)))}}let r;if("function"!==typeof t&&g(6),void 0!==n&&"function"!==typeof n&&g(7),b(e)){const a=U(this),i=Q(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?B(a):W(a)}return F(a,n),z(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===h&&(r=void 0),this.autoFreeze_&&A(r,!0),n){const t=[],a=[];I("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}g(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,(t=>e(t,...a)))};let r,a;return[this.produce(e,n,((e,t)=>{r=e,a=t})),r,a]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){b(e)||g(8),y(e)&&(e=function(e){y(e)||g(10);return ee(e)}(e));const t=U(this),n=Q(e,void 0);return n[v].isManual_=!0,W(t),n}finishDraft(e,t){const n=e&&e[v];n&&n.isManual_||g(9);const{scope_:r}=n;return F(r,t),z(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=I("Patches").applyPatches_;return y(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},ne=te.produce;te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseStrictShallowCopy.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te);var re="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?d:d.apply(null,arguments)},ae=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function ie(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Ae(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return o(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var se=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function oe(e){return b(e)?ne(e,(()=>{})):e}function le(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var ce=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new se;return t&&("boolean"===typeof t?i.push(m):i.push(p(t.extraArgument))),i},de="RTK_autoBatch",ue=e=>t=>{setTimeout(t,e)},me=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new se(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,i=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ue(10):"callback"===e.type?e.queueNotification:ue(e.timeout),l=()=>{i=!1,a&&(a=!1,s.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return r=!e?.meta?.[de],a=!r,a&&(i||(i=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function pe(e){const t=ce(),{reducer:n,middleware:a,devTools:i=!0,preloadedState:s,enhancers:u}=e||{};let m,p;if("function"===typeof n)m=n;else{if(!o(n))throw new Error(Ae(1));m=c(n)}p="function"===typeof a?a(t):t();let h=d;i&&(h=re({trace:!1,..."object"===typeof i&&i}));const f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,a)=>{const i=e(n,a);let s=()=>{throw new Error(r(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},l=t.map((e=>e(o)));return s=d(...l)(i.dispatch),{...i,dispatch:s}}}(...p),v=me(f);return l(m,s,h(..."function"===typeof u?u(v):v()))}function he(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Ae(28));if(r in t)throw new Error(Ae(29));return t[r]=n,a},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var fe=(e,t)=>ae(e)?e.match(t):e(t);function ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>fe(t,e)))}var ge=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},xe=["name","message","stack","code"],ye=class{constructor(e,t){this.payload=e,this.meta=t}_type},be=class{constructor(e,t){this.payload=e,this.meta=t}_type},we=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of xe)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},je=(()=>{function e(e,t,n){const r=ie(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),a=ie(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),i=ie(e+"/rejected",((e,t,r,a,i)=>({payload:a,error:(n&&n.serializeError||we)(e||"Rejected"),meta:{...i||{},arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e){return(s,o,l)=>{const c=n?.idGenerator?n.idGenerator(e):ge(),d=new AbortController;let u,m;function p(e){m=e,d.abort()}const h=async function(){let h;try{let i=n?.condition?.(e,{getState:o,extra:l});if(null!==(f=i)&&"object"===typeof f&&"function"===typeof f.then&&(i=await i),!1===i||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const v=new Promise(((e,t)=>{u=()=>{t({name:"AbortError",message:m||"Aborted"})},d.signal.addEventListener("abort",u)}));s(a(c,e,n?.getPendingMeta?.({requestId:c,arg:e},{getState:o,extra:l}))),h=await Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:o,extra:l,requestId:c,signal:d.signal,abort:p,rejectWithValue:(e,t)=>new ye(e,t),fulfillWithValue:(e,t)=>new be(e,t)})).then((t=>{if(t instanceof ye)throw t;return t instanceof be?r(t.payload,c,e,t.meta):r(t,c,e)}))])}catch(v){h=v instanceof ye?i(null,c,e,v.payload,v.meta):i(v,c,e)}finally{u&&d.signal.removeEventListener("abort",u)}var f;return n&&!n.dispatchConditionRejection&&i.match(h)&&h.meta.condition||s(h),h}();return Object.assign(h,{abort:p,requestId:c,arg:e,unwrap:()=>h.then(Ne)})}}),{pending:a,rejected:i,fulfilled:r,settled:ve(i,r),typePrefix:e})}return e.withTypes=()=>e,e})();function Ne(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var _e=Symbol.for("rtk-slice-createasyncthunk");function Se(e,t){return`${e}/${t}`}function Ee(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[_e];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Ae(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Ae(12));if(n in s.sliceCaseReducersByType)throw new Error(Ae(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?he(e.extraReducers):[e.extraReducers],a={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,a,i]=he(t);if("function"===typeof e)n=()=>oe(e());else{const t=oe(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...a.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===s.filter((e=>!!e)).length&&(s=[i]),s.reduce(((e,n)=>{if(n){if(y(e)){const r=n(e,t);return void 0===r?e:r}if(b(e))return ne(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in a)e.addCase(t,a[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}i.forEach((r=>{const i=a[r],s={reducerName:r,type:Se(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,a,{type:i,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Ae(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(s,r).exposeAction(s,a?ie(i,a):ie(i))}(s,i,o):function(e,t,n,r){let{type:a,reducerName:i}=e;if(!r)throw new Error(Ae(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,m=r(a,s,u);n.exposeAction(i,m),o&&n.addCase(m.fulfilled,o);l&&n.addCase(m.pending,l);c&&n.addCase(m.rejected,c);d&&n.addMatcher(m.settled,d);n.exposeCaseReducer(i,{fulfilled:o||Te,pending:l||Te,rejected:c||Te,settled:d||Te})}(s,i,o,t)}));const c=e=>e,d=new Map;let u;function m(e,t){return u||(u=l()),u(e,t)}function p(){return u||(u=l()),u.getInitialState()}function h(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=p()),r}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=le(d,n,(()=>new WeakMap));return le(r,t,(()=>{const r={};for(const[a,i]of Object.entries(e.selectors??{}))r[a]=Ce(i,t,p,n);return r}))}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const f={name:n,reducer:m,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p,...h(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??r;return e.inject({reducerPath:a,reducer:m},n),{...f,...h(a,!0)}}};return f}}function Ce(e,t,n,r){function a(a){let i=t(a);"undefined"===typeof i&&r&&(i=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(i,...o)}return a.unwrapped=e,a}var De=Ee();function Te(){}var{assign:ke}=Object;Symbol.for("rtk-state-proxy-original");function Ae(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},6817:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a&&r.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=o},6851:(e,t,n)=>{"use strict";n.d(t,{DX:()=>s,xV:()=>l});var r=n(5043),a=n(2814),i=n(579),s=r.forwardRef(((e,t)=>{const{children:n,...a}=e,s=r.Children.toArray(n),l=s.find(c);if(l){const e=l.props.children,n=s.map((t=>t===l?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t));return(0,i.jsx)(o,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,i.jsx)(o,{...a,ref:t,children:n})}));s.displayName="Slot";var o=r.forwardRef(((e,t)=>{const{children:n,...i}=e;if(r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=function(){i(...arguments),a(...arguments)}:a&&(n[r]=a):"style"===r?n[r]={...a,...i}:"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props);return n.type!==r.Fragment&&(s.ref=t?(0,a.t)(t,e):e),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null}));o.displayName="SlotClone";var l=e=>{let{children:t}=e;return(0,i.jsx)(i.Fragment,{children:t})};function c(e){return r.isValidElement(e)&&e.type===l}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),i=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):i(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),i=n(5387),s=n(2070),o=n(6600),l=n(6913),c=n(6996),d="[object Map]",u="[object Promise]",m="[object Set]",p="[object WeakMap]",h="[object DataView]",f=c(r),v=c(a),g=c(i),x=c(s),y=c(o),b=l;(r&&b(new r(new ArrayBuffer(1)))!=h||a&&b(new a)!=d||i&&b(i.resolve())!=u||s&&b(new s)!=m||o&&b(new o)!=p)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return h;case v:return d;case g:return u;case x:return m;case y:return p}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),i=n(6686),s=n(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?m:o).test(s(e))}},6981:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var r=n(2440),a=n(2316);function i(e,t,n){const i=(0,a.a)(e,n?.in);return isNaN(t)?(0,r.w)(n?.in||e,NaN):t?(i.setDate(i.getDate()+t),i):i}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,i,s,o){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,s,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),i=n(9096),s=n(4052),o=n(929);e.exports=function(e,t,n){var l=s(e)?r:a;return n&&o(e,t,n)&&(t=void 0),l(e,i(t,3))}},7067:(e,t,n)=>{"use strict";e.exports=n(4612)},7099:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});const r=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},a=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},i={p:a,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return r(e,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",r(i,t)).replace("{{time}}",a(s,t))}}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),i=n(4052),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(s&&e&&e[s])}},7152:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(5043),a=n(3390),i=n(1140),s=n(1981),o=n(2264),l=n(7459),c=n(6604),d=n(9786),u=n(6210),m=n(614),p=n(1360),h=n(781),f=n(4259),v=n(7365),g=n(9989),x=n(8414),y=n(5598),b=n(5830),w=n(3416),j=n(3003),N=n(579);const _=[{value:"text",label:"Text Input"},{value:"textarea",label:"Text Area"},{value:"date",label:"Date"},{value:"time",label:"Time"},{value:"multiselect",label:"Multi Select"},{value:"vitals",label:"Vitals"},{value:"investigations",label:"Investigations"},{value:"medicineAdvice",label:"Medicine Advice"}],S={diagnosis:{type:"multiselect",component:"MultiSelectInput",suggestions:"diagnosisTemplate",width:"full",requiresTemplate:!0},comorbidities:{type:"multiselect",component:"MultiSelectInput",suggestions:"comorbidities",width:"full",extraComponent:"ComorbidityHandling",requiresTemplate:!0}},E=e=>{let{config:t,enabledFields:n,onSave:E,onCancel:C,initialValues:D={}}=e;const{toast:T}=(0,b.dj)(),{updateTempleteStatus:k}=(0,j.d4)((e=>e.templates)),[A,P]=(0,r.useState)(null),[O,R]=(0,r.useState)(null),[M,I]=(0,r.useState)(null),[L,F]=(0,r.useState)(D.templateName||""),[B,W]=(0,r.useState)(D.isDefault||!1),[U,$]=(0,r.useState)({name:"",content:""}),[z,H]=(0,r.useState)((()=>((e,t)=>{const n=e.sections.map((e=>{const n=t.sections.find((t=>t.id===e.id)),r=new Map(e.fields.map((e=>[e.id,e])));let a=[];return n?(a=n.fields.map((t=>({...r.get(t.id)||t,...t,hidden:!1,templates:t.templates||[],sectionId:e.id}))),e.fields.forEach((t=>{n.fields.some((e=>e.id===t.id))||a.push({...t,hidden:!0,templates:t.templates||[],sectionId:e.id})}))):a=e.fields.map((t=>({...t,hidden:!0,templates:t.templates||[],sectionId:e.id}))),{...e,fields:a}})),r=t.sections.filter((t=>!e.sections.some((e=>e.id===t.id)))).map((e=>({...e,fields:e.fields.map((t=>({...t,hidden:!1,templates:t.templates||[],sectionId:e.id})))})));return{...e,sections:[...n,...r]}})(t,n))),V=(e,t,n)=>{H((r=>({...r,sections:r.sections.map((r=>r.id!==e?r:{...r,fields:r.fields.map((e=>{if(e.id!==t)return e;const a={...e,...n,sectionId:r.id,templates:n.templates||e.templates||[]};return S[e.id]?{...a,...S[e.id]}:a}))}))})))},q=(e,t)=>e!==t&&z.sections.some((n=>n.fields.some((n=>n.id===e&&n.id!==t)))),G=e=>{let{sectionId:t}=e;const[n,i]=(0,r.useState)({label:"",type:"text",id:""});return(0,N.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-secondary/5 rounded-md",children:[(0,N.jsx)(o.p,{placeholder:"Field Label",value:n.label,onChange:e=>i({...n,label:e.target.value}),className:"h-8"}),(0,N.jsx)(o.p,{placeholder:"Field ID",value:n.id,onChange:e=>i({...n,id:e.target.value}),className:"h-8"}),(0,N.jsxs)(x.l6,{value:n.type,onValueChange:e=>i({...n,type:e}),children:[(0,N.jsx)(x.bq,{className:"w-[140px] h-8",children:(0,N.jsx)(x.yv,{placeholder:"Field Type"})}),(0,N.jsx)(x.gC,{children:_.map((e=>(0,N.jsx)(x.eb,{value:e.value,children:e.label},e.value)))})]}),(0,N.jsx)(a.$,{size:"sm",variant:"ghost",onClick:()=>{q(n.id)?T({title:"Error",description:"Field ID must be unique",variant:"destructive"}):((e,t)=>{H((n=>({...n,sections:n.sections.map((n=>{if(n.id!==e)return n;const r=Object.entries(S).find((e=>{let[n,r]=e;return r.type===t.type})),a={id:t.id,label:t.label,type:t.type,hidden:!1,width:"full",sectionId:n.id,templates:[],..."multiselect"===t.type&&{component:"MultiSelectInput",suggestions:"[]"},...r&&r[1]};return{...n,fields:[...n.fields,a]}}))}))),R(null)})(t,n)},disabled:!n.label||!n.type||!n.id,children:(0,N.jsx)(u.A,{className:"h-4 w-4"})}),(0,N.jsx)(a.$,{size:"sm",variant:"ghost",onClick:()=>R(null),children:(0,N.jsx)(m.A,{className:"h-4 w-4"})})]})},K=e=>{var t;let{field:n}=e;const[l,d]=(0,r.useState)({...n}),[u,h]=(0,r.useState)({name:"",content:""}),f=(e,t)=>{d((n=>({...n,[e]:t})))},v=()=>{I(null)};return(0,N.jsxs)(y.Cf,{className:"max-w-4xl max-h-[90vh] flex flex-col gap-0 p-0",onInteractOutside:v,children:[(0,N.jsx)(y.c7,{className:"px-6 py-4 border-b",children:(0,N.jsxs)(y.L3,{children:["Field Settings: ",n.label]})}),(0,N.jsx)(c.F,{className:"p-4 h-[90vh]",children:(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsx)(i.Zp,{className:"p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(s.J,{className:"text-sm font-medium",children:"Field ID"}),(0,N.jsx)(o.p,{value:l.id,onChange:e=>f("id",e.target.value),placeholder:"Unique field identifier",className:"h-9"})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(s.J,{className:"text-sm font-medium",children:"Field Label"}),(0,N.jsx)(o.p,{value:l.label,onChange:e=>f("label",e.target.value),placeholder:"Field label",className:"h-9"})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(s.J,{className:"text-sm font-medium",children:"Field Type"}),(0,N.jsxs)(x.l6,{value:l.type,onValueChange:e=>f("type",e),children:[(0,N.jsx)(x.bq,{className:"h-9",children:(0,N.jsx)(x.yv,{})}),(0,N.jsx)(x.gC,{children:_.map((e=>(0,N.jsx)(x.eb,{value:e.value,children:e.label},e.value)))})]})]})]})}),"textarea"===n.type&&"clinicalInfo"===n.sectionId&&(0,N.jsx)(i.Zp,{className:"p-4",children:(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsx)(s.J,{className:"text-lg font-semibold",children:"Pre-saved Templates"}),(0,N.jsxs)("div",{className:"space-y-4",children:[null===(t=l.templates)||void 0===t?void 0:t.map(((e,t)=>(0,N.jsx)("div",{className:"flex items-start gap-2 p-3 bg-secondary/10 rounded-md border",children:(0,N.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)(s.J,{className:"font-medium",children:e.name}),(0,N.jsx)(a.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{d((t=>({...t,templates:t.templates.filter(((t,n)=>n!==e))})))})(t),children:(0,N.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,N.jsx)("div",{className:"text-sm text-muted-foreground",children:e.content})]})},t))),(0,N.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,N.jsx)(s.J,{className:"text-sm font-medium",children:"Add New Template"}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsx)(o.p,{placeholder:"Template Name",value:u.name,onChange:e=>h((t=>({...t,name:e.target.value}))),className:"h-9"}),(0,N.jsx)(w.T,{placeholder:"Template Content",value:u.content,onChange:e=>h((t=>({...t,content:e.target.value}))),className:"min-h-[100px]"}),(0,N.jsxs)(a.$,{type:"button",variant:"outline",onClick:()=>{u.name&&u.content?(d((e=>({...e,templates:[...e.templates||[],u]}))),h({name:"",content:""})):T({title:"Error",description:"Both template name and content are required",variant:"destructive"})},className:"w-full h-9",children:[(0,N.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Add Template"]})]})]})]})]})})]})}),(0,N.jsx)(y.Es,{className:"px-6 py-4 border-t",children:(0,N.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,N.jsx)(a.$,{variant:"outline",onClick:v,children:"Cancel"}),(0,N.jsx)(a.$,{disabled:"loading"===k,onClick:()=>{q(l.id,n.id)?T({title:"Error",description:"Field ID must be unique",variant:"destructive"}):(V(n.sectionId,n.id,l),I(null))},children:"loading"===k?"Saving ":"Save Settings"})]})})]})};return(0,N.jsxs)(i.Zp,{className:"w-full max-w-2xl mx-auto flex flex-col h-[600px] min-h-[400px] max-h-[90vh]",children:[(0,N.jsx)(i.aR,{className:"border-b py-3",children:(0,N.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)(i.ZB,{children:"Customize Form Fields"}),(0,N.jsx)(a.$,{variant:"ghost",size:"sm",onClick:C,children:(0,N.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,N.jsxs)("div",{className:"flex items-center gap-4",children:[(0,N.jsxs)("div",{className:"flex-1",children:[(0,N.jsx)(s.J,{htmlFor:"templateName",className:"text-sm font-medium mb-1",children:"Template Name"}),(0,N.jsx)(o.p,{id:"templateName",placeholder:"Enter template name",value:L,onChange:e=>F(e.target.value),className:"h-8"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)(l.d,{id:"isDefault",checked:B,onCheckedChange:W}),(0,N.jsx)(s.J,{htmlFor:"isDefault",className:"text-sm",children:"Set as default"})]})]})]})}),(0,N.jsx)(c.F,{className:"flex-1",children:(0,N.jsx)(i.Wu,{className:"p-4",children:(0,N.jsx)(d.JY,{onDragEnd:e=>{if(!e.destination)return;const{source:t,destination:n}=e,r=t.droppableId,a=z.sections.find((e=>e.id===r)),i=Array.from(a.fields),[s]=i.splice(t.index,1);i.splice(n.index,0,s),H({...z,sections:z.sections.map((e=>e.id===r?{...e,fields:i}:e))})},children:z.sections.map((e=>(0,N.jsxs)("div",{className:"mb-4 last:mb-0",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold",children:e.title||e.id}),(0,N.jsxs)(a.$,{variant:"ghost",size:"sm",onClick:()=>R(e.id),children:[(0,N.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Add Field"]})]}),O===e.id&&(0,N.jsx)(G,{sectionId:e.id}),(0,N.jsx)(d.gL,{droppableId:e.id,children:t=>(0,N.jsxs)("div",{...t.droppableProps,ref:t.innerRef,className:"space-y-1.5",children:[e.fields.map(((t,n)=>(0,N.jsx)(d.sx,{draggableId:t.id,index:n,children:n=>(0,N.jsxs)("div",{ref:n.innerRef,...n.draggableProps,className:"flex items-center justify-between p-2 bg-secondary/10 rounded-md "+(t.hidden?"opacity-50":""),children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,N.jsx)("div",{...n.dragHandleProps,children:(0,N.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})}),A===t.id?(0,N.jsx)("div",{className:"flex items-center gap-2 flex-1",children:(0,N.jsx)(o.p,{value:t.label,onChange:n=>V(e.id,t.id,{label:n.target.value}),className:"h-7 text-sm",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&P(null)}})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(s.J,{className:"text-sm flex-1",children:[t.label,S[t.id]&&(0,N.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Template Required)"})]}),(0,N.jsxs)(y.lG,{open:(null===M||void 0===M?void 0:M.id)===t.id,children:[(0,N.jsx)(y.zM,{asChild:!0,children:(0,N.jsx)(a.$,{variant:"ghost",size:"sm",className:"h-7 w-7",onClick:()=>I(t),children:(0,N.jsx)(v.A,{className:"h-3 w-3"})})}),(null===M||void 0===M?void 0:M.id)===t.id&&(0,N.jsx)(K,{field:t})]}),(0,N.jsx)(a.$,{variant:"ghost",size:"sm",className:"h-7 w-7",onClick:()=>P(t.id),children:(0,N.jsx)(g.A,{className:"h-3 w-3"})})]})]}),(0,N.jsx)("div",{className:"flex items-center gap-2",children:(0,N.jsx)(l.d,{checked:!t.hidden,onCheckedChange:()=>{return n=e.id,r=t.id,void H({...z,sections:z.sections.map((e=>e.id!==n?e:{...e,fields:e.fields.map((e=>e.id!==r?e:{...e,hidden:!e.hidden}))}))});var n,r}})})]})},t.id))),t.placeholder]})})]},e.id)))})})}),(0,N.jsx)("div",{className:"p-3 border-t mt-auto",children:(0,N.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,N.jsx)(a.$,{variant:"outline",onClick:C,size:"sm",children:"Cancel"}),(0,N.jsx)(a.$,{onClick:()=>{if(!L.trim())return void T({title:"Error",description:"Template name is required",variant:"destructive"});const e={...z,sections:z.sections.map((e=>({...e,fields:e.fields.filter((e=>!e.hidden)).map((e=>{var t;const n={...e};return delete n.sectionId,null!==(t=n.templates)&&void 0!==t&&t.length||delete n.templates,n}))})))};E({name:L,value:e,isDefault:B})},size:"sm",children:"Save Changes"})]})})]})}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),i=n(4190),s=n(1946),o=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},7237:(e,t,n)=>{"use strict";e.exports=n(8365)},7251:(e,t,n)=>{var r=n(8724),a=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new a(r,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,s=new Array(i);a<i;a++)s[a]=r[a].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,i),!0;case 6:return d.fn.call(d.context,t,r,a,i,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||s(this,i);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7358:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(2316);function a(e,t){return+(0,r.a)(e)<+(0,r.a)(t)}},7365:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7368:(e,t,n)=>{"use strict";n.d(t,{A:()=>m,P:()=>u});var r=n(5043),a=n(2264),i=n(5949),s=n(6817),o=n(8796),l=n(6178),c=n(6604),d=n(579);const u=(0,r.forwardRef)(((e,t)=>{let{suggestions:n=[],placeholder:u,value:m,setValue:p,onSuggestionSelect:h,showStock:f=!1}=e;const[v,g]=(0,r.useState)([]),[x,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(-1),j=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=[...n.filter((e=>{var t,n,r;return null===e||void 0===e||null===(t=e.name)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(null===(r=m||"")||void 0===r?void 0:r.toLowerCase())}))].sort(((e,t)=>e.isTemplate&&!t.isTemplate?-1:!e.isTemplate&&t.isTemplate?1:0));g(e),w(-1)}),[m,n]);const{refs:N,floatingStyles:_}=(0,o.we)({placement:"bottom-start",middleware:[(0,l.cY)(4),(0,l.UU)({fallbackPlacements:["top-start"]}),(0,l.BN)()],strategy:"absolute"});return(0,r.useEffect)((()=>{if(b>=0&&j.current){const e=j.current.children[b];e&&e.scrollIntoView({block:"nearest"})}}),[b]),(0,d.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,d.jsxs)("div",{className:"relative ",ref:N.setReference,children:[(0,d.jsx)(a.p,{ref:t,type:"text",value:m,onChange:e=>{p(e.target.value),y(!0)},onKeyDown:e=>{"ArrowDown"===e.key?(e.preventDefault(),w((e=>e<v.length-1?e+1:e))):"ArrowUp"===e.key?(e.preventDefault(),w((e=>e>0?e-1:-1))):"Enter"===e.key&&b>=0&&(p(v[b].name),y(!1),h&&h(v[b]))},onFocus:()=>y(!0),onBlur:()=>setTimeout((()=>y(!1)),200),placeholder:u||"Search or type",className:"pr-8 hover:cursor-pointer font-semibold"}),(0,d.jsx)(s.A,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 opacity-50 "})]}),x&&v.length>0&&(0,d.jsx)("div",{ref:N.setFloating,style:{..._,width:"100%",position:"absolute",left:0,marginTop:"4px"},className:"z-[9999] bg-popover rounded-md border shadow-md",children:(0,d.jsx)(c.F,{className:""+(v.length>5?"h-[200px]":""),children:(0,d.jsx)("ul",{children:v.map(((e,n)=>(0,d.jsx)("li",{onClick:()=>(e=>{p(e.name),y(!1),h&&h(e),t&&t.current&&t.current.focus()})(e),className:`px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground ${n===b?"bg-accent text-accent-foreground":""} ${e.isTemplate?"border-l-4 border-blue-500":""}`,children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"capitalize",children:e.name}),e.isTemplate&&(0,d.jsx)(i.E,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:"Template"})]}),f&&void 0!==e.quantity&&(0,d.jsx)(i.E,{variant:e.quantity<=100?"destructive":"success",children:e.quantity})]})},e._id)))})})})]})})),m=u},7424:(e,t,n)=>{var r=n(755),a=n(2536),i=n(5647),s=n(929),o=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])}));e.exports=o},7451:(e,t,n)=>{"use strict";n.d(t,{UE:()=>X,ll:()=>H,rD:()=>J,UU:()=>G,jD:()=>Y,ER:()=>Z,cY:()=>V,BN:()=>q,Ej:()=>K});const r=["top","right","bottom","left"],a=Math.min,i=Math.max,s=Math.round,o=Math.floor,l=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},d={start:"end",end:"start"};function u(e,t,n){return i(e,a(t,n))}function m(e,t){return"function"===typeof e?e(t):e}function p(e){return e.split("-")[0]}function h(e){return e.split("-")[1]}function f(e){return"x"===e?"y":"x"}function v(e){return"y"===e?"height":"width"}function g(e){return["top","bottom"].includes(p(e))?"y":"x"}function x(e){return f(g(e))}function y(e){return e.replace(/start|end/g,(e=>d[e]))}function b(e){return e.replace(/left|right|bottom|top/g,(e=>c[e]))}function w(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function j(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function N(e,t,n){let{reference:r,floating:a}=e;const i=g(t),s=x(t),o=v(s),l=p(t),c="y"===i,d=r.x+r.width/2-a.width/2,u=r.y+r.height/2-a.height/2,m=r[o]/2-a[o]/2;let f;switch(l){case"top":f={x:d,y:r.y-a.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-a.width,y:u};break;default:f={x:r.x,y:r.y}}switch(h(t)){case"start":f[s]-=m*(n&&c?-1:1);break;case"end":f[s]+=m*(n&&c?-1:1)}return f}async function _(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=m(t,e),f=w(h),v=o[p?"floating"===u?"reference":"floating":u],g=j(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(v)))||n?v:v.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(o.floating)),b=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},N=j(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:l}):x);return{top:(g.top-N.top+f.top)/b.y,bottom:(N.bottom-g.bottom+f.bottom)/b.y,left:(g.left-N.left+f.left)/b.x,right:(N.right-g.right+f.right)/b.x}}function S(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function E(e){return r.some((t=>e[t]>=0))}var C=n(5702);function D(e){const t=(0,C.L9)(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=(0,C.sb)(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=s(n)!==i||s(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function T(e){return(0,C.vq)(e)?e:e.contextElement}function k(e){const t=T(e);if(!(0,C.sb)(t))return l(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=D(t);let o=(i?s(n.width):n.width)/r,c=(i?s(n.height):n.height)/a;return o&&Number.isFinite(o)||(o=1),c&&Number.isFinite(c)||(c=1),{x:o,y:c}}const A=l(0);function P(e){const t=(0,C.zk)(e);return(0,C.Tc)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:A}function O(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),i=T(e);let s=l(1);t&&(r?(0,C.vq)(r)&&(s=k(r)):s=k(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,C.zk)(e))&&t}(i,n,r)?P(i):l(0);let c=(a.left+o.x)/s.x,d=(a.top+o.y)/s.y,u=a.width/s.x,m=a.height/s.y;if(i){const e=(0,C.zk)(i),t=r&&(0,C.vq)(r)?(0,C.zk)(r):r;let n=e,a=(0,C._m)(n);for(;a&&r&&t!==n;){const e=k(a),t=a.getBoundingClientRect(),r=(0,C.L9)(a),i=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=i,d+=s,n=(0,C.zk)(a),a=(0,C._m)(n)}}return j({width:u,height:m,x:c,y:d})}function R(e,t){const n=(0,C.CP)(e).scrollLeft;return t?t.left+n:O((0,C.ep)(e)).left+n}function M(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:R(e,r)),y:r.top+t.scrollTop}}function I(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=(0,C.zk)(e),r=(0,C.ep)(e),a=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const e=(0,C.Tc)();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=(0,C.ep)(e),n=(0,C.CP)(e),r=e.ownerDocument.body,a=i(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=i(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+R(e);const l=-n.scrollTop;return"rtl"===(0,C.L9)(r).direction&&(o+=i(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:l}}((0,C.ep)(e));else if((0,C.vq)(t))r=function(e,t){const n=O(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=(0,C.sb)(e)?k(e):l(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:r*i.y}}(t,n);else{const n=P(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return j(r)}function L(e,t){const n=(0,C.$4)(e);return!(n===t||!(0,C.vq)(n)||(0,C.eu)(n))&&("fixed"===(0,C.L9)(n).position||L(n,t))}function F(e,t,n){const r=(0,C.sb)(t),a=(0,C.ep)(t),i="fixed"===n,s=O(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=l(0);if(r||!r&&!i)if(("body"!==(0,C.mq)(t)||(0,C.ZU)(a))&&(o=(0,C.CP)(t)),r){const e=O(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else a&&(c.x=R(a));const d=!a||r||i?l(0):M(a,o);return{x:s.left+o.scrollLeft-c.x-d.x,y:s.top+o.scrollTop-c.y-d.y,width:s.width,height:s.height}}function B(e){return"static"===(0,C.L9)(e).position}function W(e,t){if(!(0,C.sb)(e)||"fixed"===(0,C.L9)(e).position)return null;if(t)return t(e);let n=e.offsetParent;return(0,C.ep)(e)===n&&(n=n.ownerDocument.body),n}function U(e,t){const n=(0,C.zk)(e);if((0,C.Tf)(e))return n;if(!(0,C.sb)(e)){let t=(0,C.$4)(e);for(;t&&!(0,C.eu)(t);){if((0,C.vq)(t)&&!B(t))return t;t=(0,C.$4)(t)}return n}let r=W(e,t);for(;r&&(0,C.Lv)(r)&&B(r);)r=W(r,t);return r&&(0,C.eu)(r)&&B(r)&&!(0,C.sQ)(r)?n:r||(0,C.gJ)(e)||n}const $={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i="fixed"===a,s=(0,C.ep)(r),o=!!t&&(0,C.Tf)(t.floating);if(r===s||o&&i)return n;let c={scrollLeft:0,scrollTop:0},d=l(1);const u=l(0),m=(0,C.sb)(r);if((m||!m&&!i)&&(("body"!==(0,C.mq)(r)||(0,C.ZU)(s))&&(c=(0,C.CP)(r)),(0,C.sb)(r))){const e=O(r);d=k(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const p=!s||m||i?l(0):M(s,c,!0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}},getDocumentElement:C.ep,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[..."clippingAncestors"===n?(0,C.Tf)(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=(0,C.v9)(e,[],!1).filter((e=>(0,C.vq)(e)&&"body"!==(0,C.mq)(e))),a=null;const i="fixed"===(0,C.L9)(e).position;let s=i?(0,C.$4)(e):e;for(;(0,C.vq)(s)&&!(0,C.eu)(s);){const t=(0,C.L9)(s),n=(0,C.sQ)(s);n||"fixed"!==t.position||(a=null),(i?!n&&!a:!n&&"static"===t.position&&a&&["absolute","fixed"].includes(a.position)||(0,C.ZU)(s)&&!n&&L(e,s))?r=r.filter((e=>e!==s)):a=t,s=(0,C.$4)(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],l=o[0],c=o.reduce(((e,n)=>{const r=I(t,n,s);return e.top=i(r.top,e.top),e.right=a(r.right,e.right),e.bottom=a(r.bottom,e.bottom),e.left=i(r.left,e.left),e}),I(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:U,getElementRects:async function(e){const t=this.getOffsetParent||U,n=this.getDimensions,r=await n(e.floating);return{reference:F(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=D(e);return{width:t,height:n}},getScale:k,isElement:C.vq,isRTL:function(e){return"rtl"===(0,C.L9)(e).direction}};function z(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function H(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c="function"===typeof ResizeObserver,layoutShift:d="function"===typeof IntersectionObserver,animationFrame:u=!1}=r,m=T(e),p=s||l?[...m?(0,C.v9)(m):[],...(0,C.v9)(t)]:[];p.forEach((e=>{s&&e.addEventListener("scroll",n,{passive:!0}),l&&e.addEventListener("resize",n)}));const h=m&&d?function(e,t){let n,r=null;const s=(0,C.ep)(e);function l(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function c(d,u){void 0===d&&(d=!1),void 0===u&&(u=1),l();const m=e.getBoundingClientRect(),{left:p,top:h,width:f,height:v}=m;if(d||t(),!f||!v)return;const g={rootMargin:-o(h)+"px "+-o(s.clientWidth-(p+f))+"px "+-o(s.clientHeight-(h+v))+"px "+-o(p)+"px",threshold:i(0,a(1,u))||1};let x=!0;function y(t){const r=t[0].intersectionRatio;if(r!==u){if(!x)return c();r?c(!1,r):n=setTimeout((()=>{c(!1,1e-7)}),1e3)}1!==r||z(m,e.getBoundingClientRect())||c(),x=!1}try{r=new IntersectionObserver(y,{...g,root:s.ownerDocument})}catch(b){r=new IntersectionObserver(y,g)}r.observe(e)}(!0),l}(m,n):null;let f,v=-1,g=null;c&&(g=new ResizeObserver((e=>{let[r]=e;r&&r.target===m&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),m&&!u&&g.observe(m),g.observe(t));let x=u?O(e):null;return u&&function t(){const r=O(e);x&&!z(x,r)&&n();x=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;p.forEach((e=>{s&&e.removeEventListener("scroll",n),l&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=g)||e.disconnect(),g=null,u&&cancelAnimationFrame(f)}}const V=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,i=await(null==r.isRTL?void 0:r.isRTL(a.floating)),s=p(n),o=h(n),l="y"===g(n),c=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,u=m(t,e);let{mainAxis:f,crossAxis:v,alignmentAxis:x}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"===typeof x&&(v="end"===o?-1*x:x),l?{x:v*d,y:f*c}:{x:f*c,y:v*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},q=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=m(e,t),c={x:n,y:r},d=await _(t,l),h=g(p(a)),v=f(h);let x=c[v],y=c[h];if(i){const e="y"===v?"bottom":"right";x=u(x+d["y"===v?"top":"left"],x,x-d[e])}if(s){const e="y"===h?"bottom":"right";y=u(y+d["y"===h?"top":"left"],y,y-d[e])}const b=o.fn({...t,[v]:x,[h]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[v]:i,[h]:s}}}}}},G=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...S}=m(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const E=p(a),C=g(o),D=p(o)===o,T=await(null==l.isRTL?void 0:l.isRTL(c.floating)),k=f||(D||!N?[b(o)]:function(e){const t=b(e);return[y(e),t,y(t)]}(o)),A="none"!==j;!f&&A&&k.push(...function(e,t,n,r){const a=h(e);let i=function(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:s;default:return[]}}(p(e),"start"===n,r);return a&&(i=i.map((e=>e+"-"+a)),t&&(i=i.concat(i.map(y)))),i}(o,N,j,T));const P=[o,...k],O=await _(t,S),R=[];let M=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&R.push(O[E]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=h(e),a=x(e),i=v(a);let s="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=b(s)),[s,b(s)]}(a,s,T);R.push(O[e[0]],O[e[1]])}if(M=[...M,{placement:a,overflows:R}],!R.every((e=>e<=0))){var I,L;const e=((null==(I=i.flip)?void 0:I.index)||0)+1,t=P[e];if(t)return{data:{index:e,overflows:M},reset:{placement:t}};let n=null==(L=M.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:L.placement;if(!n)switch(w){case"bestFit":{var F;const e=null==(F=M.filter((e=>{if(A){const t=g(e.placement);return t===C||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:F[0];e&&(n=e);break}case"initialPlacement":n=o}if(a!==n)return{reset:{placement:n}}}return{}}}},K=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...u}=m(e,t),f=await _(t,u),v=p(s),x=h(s),y="y"===g(s),{width:b,height:w}=o.floating;let j,N;"top"===v||"bottom"===v?(j=v,N=x===(await(null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=v,j="end"===x?"top":"bottom");const S=w-f.top-f.bottom,E=b-f.left-f.right,C=a(w-f[j],S),D=a(b-f[N],E),T=!t.middlewareData.shift;let k=C,A=D;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(A=E),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=S),T&&!x){const e=i(f.left,0),t=i(f.right,0),n=i(f.top,0),r=i(f.bottom,0);y?A=b-2*(0!==e||0!==t?e+t:i(f.left,f.right)):k=w-2*(0!==n||0!==r?n+r:i(f.top,f.bottom))}await d({...t,availableWidth:A,availableHeight:k});const P=await l.getDimensions(c.floating);return b!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}},Y=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=m(e,t);switch(r){case"referenceHidden":{const e=S(await _(t,{...a,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:E(e)}}}case"escaped":{const e=S(await _(t,{...a,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:E(e)}}}default:return{}}}}},X=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:p=0}=m(e,t)||{};if(null==d)return{};const f=w(p),g={x:n,y:r},y=x(i),b=v(y),j=await o.getDimensions(d),N="y"===y,_=N?"top":"left",S=N?"bottom":"right",E=N?"clientHeight":"clientWidth",C=s.reference[b]+s.reference[y]-g[y]-s.floating[b],D=g[y]-s.reference[y],T=await(null==o.getOffsetParent?void 0:o.getOffsetParent(d));let k=T?T[E]:0;k&&await(null==o.isElement?void 0:o.isElement(T))||(k=l.floating[E]||s.floating[b]);const A=C/2-D/2,P=k/2-j[b]/2-1,O=a(f[_],P),R=a(f[S],P),M=O,I=k-j[b]-R,L=k/2-j[b]/2+A,F=u(M,L,I),B=!c.arrow&&null!=h(i)&&L!==F&&s.reference[b]/2-(L<M?O:R)-j[b]/2<0,W=B?L<M?L-M:L-I:0;return{[y]:g[y]+W,data:{[y]:F,centerOffset:L-F-W,...B&&{alignmentOffset:W}},reset:B}}}),Z=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=m(e,t),d={x:n,y:r},u=g(a),h=f(u);let v=d[h],x=d[u];const y=m(o,t),b="number"===typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const e="y"===h?"height":"width",t=i.reference[h]-i.floating[e]+b.mainAxis,n=i.reference[h]+i.reference[e]-b.mainAxis;v<t?v=t:v>n&&(v=n)}if(c){var w,j;const e="y"===h?"width":"height",t=["top","left"].includes(p(a)),n=i.reference[u]-i.floating[e]+(t&&(null==(w=s.offset)?void 0:w[u])||0)+(t?0:b.crossAxis),r=i.reference[u]+i.reference[e]+(t?0:(null==(j=s.offset)?void 0:j[u])||0)-(t?b.crossAxis:0);x<n?x=n:x>r&&(x=r)}return{[h]:v,[u]:x}}}},J=(e,t,n)=>{const r=new Map,a={platform:$,...n},i={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=N(c,r,l),m=r,p={},h=0;for(let f=0;f<o.length;f++){const{name:n,fn:i}=o[f],{x:v,y:g,data:x,reset:y}=await i({x:d,y:u,initialPlacement:r,placement:m,strategy:a,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=v?v:d,u=null!=g?g:u,p={...p,[n]:{...p[n],...x}},y&&h<=50&&(h++,"object"===typeof y&&(y.placement&&(m=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:d,y:u}=N(c,m,l))),f=-1)}return{x:d,y:u,placement:m,strategy:a,middlewareData:p}})(e,t,{...a,platform:i})}},7459:(e,t,n)=>{"use strict";n.d(t,{d:()=>S});var r=n(5043),a=n(858),i=n(2814),s=n(1862),o=n(3642),l=n(3168),c=n(3124),d=n(7920),u=n(579),m="Switch",[p,h]=(0,s.A)(m),[f,v]=p(m),g=r.forwardRef(((e,t)=>{const{__scopeSwitch:n,name:s,checked:l,defaultChecked:c,required:m,disabled:p,value:h="on",onCheckedChange:v,form:g,...x}=e,[y,j]=r.useState(null),N=(0,i.s)(t,(e=>j(e))),_=r.useRef(!1),S=!y||(g||!!y.closest("form")),[E=!1,C]=(0,o.i)({prop:l,defaultProp:c,onChange:v});return(0,u.jsxs)(f,{scope:n,checked:E,disabled:p,children:[(0,u.jsx)(d.sG.button,{type:"button",role:"switch","aria-checked":E,"aria-required":m,"data-state":w(E),"data-disabled":p?"":void 0,disabled:p,value:h,...x,ref:N,onClick:(0,a.m)(e.onClick,(e=>{C((e=>!e)),S&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())}))}),S&&(0,u.jsx)(b,{control:y,bubbles:!_.current,name:s,value:h,checked:E,required:m,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})}));g.displayName=m;var x="SwitchThumb",y=r.forwardRef(((e,t)=>{const{__scopeSwitch:n,...r}=e,a=v(x,n);return(0,u.jsx)(d.sG.span,{"data-state":w(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})}));y.displayName=x;var b=e=>{const{control:t,checked:n,bubbles:a=!0,...i}=e,s=r.useRef(null),o=(0,l.Z)(n),d=(0,c.X)(t);return r.useEffect((()=>{const e=s.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&r){const t=new Event("click",{bubbles:a});r.call(e,n),e.dispatchEvent(t)}}),[o,n,a]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return e?"checked":"unchecked"}var j=g,N=y,_=n(9766);const S=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,u.jsx)(j,{className:(0,_.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...r,ref:t,children:(0,u.jsx)(N,{className:(0,_.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})}));S.displayName=j.displayName},7490:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(5043);function a(e){const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),r.useMemo((()=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current?.(...n)}),[])}},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),i=n(9115),s=n(1069);e.exports=function(e){return function(t){t=s(t);var n=a(t)?i(t):void 0,o=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return o[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7784:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ")};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,r.forwardRef)(((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:n,strokeWidth:l?24*Number(o)/Number(s):o,className:a("lucide",c),...m},[...u.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(d)?d:[d]])})),o=(e,t)=>{const n=(0,r.forwardRef)(((n,i)=>{let{className:o,...l}=n;return(0,r.createElement)(s,{ref:i,iconNode:t,className:a(`lucide-${c=e,c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,o),...l});var c}));return n.displayName=`${e}`,n}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7920:(e,t,n)=>{"use strict";n.d(t,{hO:()=>l,sG:()=>o});var r=n(5043),a=n(7950),i=n(6851),s=n(579),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=r.forwardRef(((e,n)=>{const{asChild:r,...a}=e,o=r?i.DX:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(o,{...a,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});function l(e,t){e&&a.flushSync((()=>e.dispatchEvent(t)))}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8087:(e,t,n)=>{"use strict";n.d(t,{$B:()=>d,Ay:()=>p,PK:()=>l,_Z:()=>c,nB:()=>o,xA:()=>s});var r=n(6756),a=n(9250),i=n(989);const s=(0,i.A)("babies/createBaby",(async e=>{try{const t=await fetch(`${a.B8}/api/babies`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to register baby")}return await t.json()}catch(t){throw t.message||"Failed to register baby"}}),{useGlobalLoader:!0}),o=(0,i.A)("babies/saveCertificate",(async e=>{try{const t=await fetch(`${a.B8}/api/babies/`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to register baby")}return await t.json()}catch(t){throw t.message||"Failed to register baby"}})),l=(0,i.A)("babies/getBabiesByAdmission",(async e=>{try{const t=await fetch(`${a.B8}/api/babies/admission/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to fetch baby records")}return await t.json()}catch(t){throw t.message||"Failed to fetch baby records"}})),c=(0,i.A)("babies/fetchAllBabies",(async()=>{try{const e=await fetch(`${a.B8}/api/babies/`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch babies")}return await e.json()}catch(e){throw e.message||"Failed to fetch babies"}})),d=(0,i.A)("babies/searchByNumber",(async e=>{try{const t=await fetch(`${a.B8}/api/babies/search`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({searchNumber:e})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to search babies")}return await t.json()}catch(t){throw t.message||"Failed to search babies"}})),u=(0,r.Z0)({name:"babies",initialState:{babies:[],currentPatientBabies:[],searchResults:[],status:"idle",fetchCurrentPatientBabiesStatus:"idle",createBabyStatus:"idle",editBabyStatus:"idle",searchStatus:"idle",error:null},reducers:{resetBabyState:e=>{e.status="idle",e.error=null}},extraReducers:e=>{e.addCase(s.pending,(e=>{e.createBabyStatus="loading",e.error=null})).addCase(s.fulfilled,((e,t)=>{e.createBabyStatus="succeeded",e.babies.unshift(t.payload),e.currentPatientBabies.unshift(t.payload)})).addCase(s.rejected,((e,t)=>{e.createBabyStatus="failed",e.error=t.error.message})).addCase(o.pending,(e=>{e.editBabyStatus="loading",e.error=null})).addCase(o.fulfilled,((e,t)=>{e.editBabyStatus="succeeded";const n=e.babies.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.babies[n]=t.payload);const r=e.currentPatientBabies.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.currentPatientBabies[r]=t.payload)})).addCase(o.rejected,((e,t)=>{e.editBabyStatus="failed",e.error=t.error.message})).addCase(l.pending,(e=>{e.fetchCurrentPatientBabiesStatus="loading",e.error=null})).addCase(l.fulfilled,((e,t)=>{e.fetchCurrentPatientBabiesStatus="succeeded",e.currentPatientBabies=t.payload})).addCase(l.rejected,((e,t)=>{e.fetchCurrentPatientBabiesStatus="failed",e.error=t.error.message})).addCase(c.pending,(e=>{e.status="loading",e.error=null})).addCase(c.fulfilled,((e,t)=>{e.status="succeeded",e.babies=t.payload})).addCase(c.rejected,((e,t)=>{e.status="failed",e.error=t.error.message})).addCase(d.pending,(e=>{e.searchStatus="loading",e.error=null})).addCase(d.fulfilled,((e,t)=>{e.searchStatus="succeeded",e.searchResults=t.payload})).addCase(d.rejected,((e,t)=>{e.searchStatus="failed",e.error=t.error.message}))}}),{resetBabyState:m}=u.actions,p=u.reducer},8106:(e,t,n)=>{"use strict";n.d(t,{AM:()=>Y,hl:()=>Z,Wv:()=>X});var r=n(5043),a=n(858),i=n(2814),s=n(1862),o=n(1184),l=n(6590),c=n(276),d=n(4490),u=n(2043),m=n(3321),p=n(2894),h=n(7920),f=n(6851),v=n(3642),g=n(5754),x=n(1672),y=n(579),b="Popover",[w,j]=(0,s.A)(b,[u.Bk]),N=(0,u.Bk)(),[_,S]=w(b),E=e=>{const{__scopePopover:t,children:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!1}=e,l=N(t),c=r.useRef(null),[m,p]=r.useState(!1),[h=!1,f]=(0,v.i)({prop:a,defaultProp:i,onChange:s});return(0,y.jsx)(u.bL,{...l,children:(0,y.jsx)(_,{scope:t,contentId:(0,d.B)(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:r.useCallback((()=>f((e=>!e))),[f]),hasCustomAnchor:m,onCustomAnchorAdd:r.useCallback((()=>p(!0)),[]),onCustomAnchorRemove:r.useCallback((()=>p(!1)),[]),modal:o,children:n})})};E.displayName=b;var C="PopoverAnchor",D=r.forwardRef(((e,t)=>{const{__scopePopover:n,...a}=e,i=S(C,n),s=N(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return r.useEffect((()=>(o(),()=>l())),[o,l]),(0,y.jsx)(u.Mz,{...s,...a,ref:t})}));D.displayName=C;var T="PopoverTrigger",k=r.forwardRef(((e,t)=>{const{__scopePopover:n,...r}=e,s=S(T,n),o=N(n),l=(0,i.s)(t,s.triggerRef),c=(0,y.jsx)(h.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":z(s.open),...r,ref:l,onClick:(0,a.m)(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:(0,y.jsx)(u.Mz,{asChild:!0,...o,children:c})}));k.displayName=T;var A="PopoverPortal",[P,O]=w(A,{forceMount:void 0}),R=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=S(A,t);return(0,y.jsx)(P,{scope:t,forceMount:n,children:(0,y.jsx)(p.C,{present:n||i.open,children:(0,y.jsx)(m.Z,{asChild:!0,container:a,children:r})})})};R.displayName=A;var M="PopoverContent",I=r.forwardRef(((e,t)=>{const n=O(M,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=S(M,e.__scopePopover);return(0,y.jsx)(p.C,{present:r||i.open,children:i.modal?(0,y.jsx)(L,{...a,ref:t}):(0,y.jsx)(F,{...a,ref:t})})}));I.displayName=M;var L=r.forwardRef(((e,t)=>{const n=S(M,e.__scopePopover),s=r.useRef(null),o=(0,i.s)(t,s),l=r.useRef(!1);return r.useEffect((()=>{const e=s.current;if(e)return(0,g.Eq)(e)}),[]),(0,y.jsx)(x.A,{as:f.DX,allowPinchZoom:!0,children:(0,y.jsx)(B,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,(e=>{e.preventDefault(),l.current||n.triggerRef.current?.focus()})),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;l.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.m)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})})})),F=r.forwardRef(((e,t)=>{const n=S(M,e.__scopePopover),a=r.useRef(!1),i=r.useRef(!1);return(0,y.jsx)(B,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||n.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const r=t.target,s=n.triggerRef.current?.contains(r);s&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})})),B=r.forwardRef(((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:h,...f}=e,v=S(M,n),g=N(n);return(0,l.Oh)(),(0,y.jsx)(c.n,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,y.jsx)(o.qW,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>v.onOpenChange(!1),children:(0,y.jsx)(u.UC,{"data-state":z(v.open),role:"dialog",id:v.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})})),W="PopoverClose",U=r.forwardRef(((e,t)=>{const{__scopePopover:n,...r}=e,i=S(W,n);return(0,y.jsx)(h.sG.button,{type:"button",...r,ref:t,onClick:(0,a.m)(e.onClick,(()=>i.onOpenChange(!1)))})}));U.displayName=W;var $=r.forwardRef(((e,t)=>{const{__scopePopover:n,...r}=e,a=N(n);return(0,y.jsx)(u.i3,{...a,...r,ref:t})}));function z(e){return e?"open":"closed"}$.displayName="PopoverArrow";var H=E,V=k,q=R,G=I,K=n(9766);const Y=H,X=V,Z=r.forwardRef(((e,t)=>{let{className:n,align:r="center",sideOffset:a=4,...i}=e;return(0,y.jsx)(q,{children:(0,y.jsx)(G,{ref:t,align:r,sideOffset:a,className:(0,K.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})})}));Z.displayName=G.displayName},8114:e=>{e.exports=function(e,t){return e.has(t)}},8134:(e,t,n)=>{"use strict";n.d(t,{GP:()=>R});var r=n(1669),a=n(849),i=n(8848),s=n(8621),o=n(2316);function l(e,t){const n=(0,o.a)(e,t?.in);return(0,i.m)(n,(0,s.D)(n))+1}var c=n(5385),d=n(1425),u=n(2750),m=n(9504);function p(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const h={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return p("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):p(n+1,2)},d:(e,t)=>p(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>p(e.getHours()%12||12,t.length),H:(e,t)=>p(e.getHours(),t.length),m:(e,t)=>p(e.getMinutes(),t.length),s:(e,t)=>p(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return p(Math.trunc(r*Math.pow(10,n-3)),t.length)}},f="midnight",v="noon",g="morning",x="afternoon",y="evening",b="night",w={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return h.y(e,t)},Y:function(e,t,n,r){const a=(0,m.h)(e,r),i=a>0?a:1-a;if("YY"===t){return p(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):p(i,t.length)},R:function(e,t){return p((0,d.p)(e),t.length)},u:function(e,t){return p(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return p(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return p(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return h.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return p(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=(0,u.N)(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):p(a,t.length)},I:function(e,t,n){const r=(0,c.s)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):p(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):h.d(e,t)},D:function(e,t,n){const r=l(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):p(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return p(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return p(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return p(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?v:0===r?f:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?y:r>=12?x:r>=4?g:b,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return h.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):h.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):h.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):h.s(e,t)},S:function(e,t){return h.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return N(r);case"XXXX":case"XX":return _(r);default:return _(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return N(r);case"xxxx":case"xx":return _(r);default:return _(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+j(r,":");default:return"GMT"+_(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+j(r,":");default:return"GMT"+_(r,":")}},t:function(e,t,n){return p(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return p(+e,t.length)}};function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+t+p(i,2)}function N(e,t){if(e%60===0){return(e>0?"-":"+")+p(Math.abs(e)/60,2)}return _(e,t)}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+p(Math.trunc(r/60),2)+t+p(r%60,2)}var S=n(7099),E=n(4942),C=n(8521);function D(e){return!(!(0,C.$)(e)&&"number"!==typeof e||isNaN(+(0,o.a)(e)))}const T=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A=/^'([^]*?)'?$/,P=/''/g,O=/[a-zA-Z]/;function R(e,t,n){const i=(0,a.q)(),s=n?.locale??i.locale??r.c,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,d=(0,o.a)(e,n?.in);if(!D(d))throw new RangeError("Invalid time value");let u=t.match(k).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,S.m[t])(e,s.formatLong)}return e})).join("").match(T).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:M(e)};if(w[t])return{isToken:!0,value:e};if(t.match(O))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));s.localize.preprocessor&&(u=s.localize.preprocessor(d,u));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return u.map((r=>{if(!r.isToken)return r.value;const a=r.value;(!n?.useAdditionalWeekYearTokens&&(0,E.xM)(a)||!n?.useAdditionalDayOfYearTokens&&(0,E.ef)(a))&&(0,E.Ss)(a,t,String(e));return(0,w[a[0]])(d,a,s.localize,m)})).join("")}function M(e){const t=e.match(A);return t?t[1].replace(P,"'"):e}},8145:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>DischargeSummary});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5043),react_router_dom__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(3216),react_redux__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(3003),_components_ui_card__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1140),_components_ui_input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2264),_templates_dischargesummary__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(2698),_components_ui_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3390),_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3416),_assets_Data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9250),_components_ui_label__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1981),_redux_slices_pharmacySlice__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(112),_components_ui_badge__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5949),lucide_react__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(614),lucide_react__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(9292),lucide_react__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(9855),lucide_react__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(781),lucide_react__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(5469),lucide_react__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(6210),lucide_react__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(8326),_TemplateLabReport__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5872),_redux_slices_patientSlice_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6195),_components_custom_MultiSelectInput__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5962),_components_ui_select__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8414),_redux_slices_templatesSlice__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6638),_components_custom_registration_CustomSearchSuggestion__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7368),react_to_print__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3141),react_to_print__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react_to_print__WEBPACK_IMPORTED_MODULE_15__),_components_custom_reports_DischargeSummaryPDF__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(961),_redux_slices_dischargeSlice__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2191),_hooks_use_toast__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(5830),_components_ui_table__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(3340),_config_dischargeSummaryConfig__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(8901),_components_custom_FormCustomizer__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(7152),_redux_slices_babySlice__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(8087),_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(6604),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(579);const convertTo24Hour=(e,t)=>{if(!e)return"";let[n,r]=e.split(":");return n=parseInt(n),"PM"===t&&12!==n&&(n+=12),"AM"===t&&12===n&&(n=0),`${n.toString().padStart(2,"0")}:${r}`},LabReportTable=e=>{let{report:t}=e;return _jsxs(Table,{children:[_jsx(TableHeader,{children:_jsxs(TableRow,{children:[_jsx(TableHead,{children:"Test"}),_jsx(TableHead,{children:"Result"}),_jsx(TableHead,{children:"Unit"}),_jsx(TableHead,{children:"Normal Range"})]})}),_jsx(TableBody,{children:Object.entries(t).map((e=>{let[t,n]=e;return _jsxs(TableRow,{children:[_jsx(TableCell,{children:n.label}),_jsx(TableCell,{children:n.value}),_jsx(TableCell,{children:n.unit}),_jsx(TableCell,{children:n.normalRange})]},t)}))})]})},FormField=e=>{let{field:t,value:n,label:r,onChange:a,suggestions:i,extraProps:s={}}=e;const o=e=>{const n=e.map((e=>e.name)).join(", ");a({target:{name:t.id,value:n}})},l=e=>{a({target:{name:t.id,value:e}})};switch(t.type){case"text":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center "+("half"===t.width?"sm:col-span-1":"sm:col-span-2"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:t.id,className:"w-24 font-bold",children:[(null===r||void 0===r?void 0:r.toUpperCase())||t.label,":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{id:t.id,name:t.id,value:n,onChange:a,className:"h-8",...s})]});case"date":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:t.id,className:"w-24 font-bold",children:[t.label,":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{id:t.id,name:t.id,type:"date",value:n,onChange:a,className:"h-8",...s})]});case"textarea":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:t.id,children:t.label}),t.templates&&t.templates.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:t.templates.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"relative group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("button",{onClick:()=>{n===e.content?l(""):l(e.content)},className:"px-3 py-1 rounded-full text-sm font-medium transition-colors\n                      "+(n===e.content?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"),type:"button",children:e.name}),n!==e.content&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"absolute z-50 invisible group-hover:visible bg-popover text-popover-foreground p-3 rounded-lg shadow-lg min-w-[200px] max-w-[400px] mt-2 left-0 whitespace-pre-wrap text-sm border",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"font-semibold mb-1",children:"Template Preview:"}),e.content]})]},t)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.T,{id:t.id,name:t.id,value:n,onChange:a,className:"mt-1 min-h-[9rem] leading-tight",...s})]});case"time":{let e=n.split(" ");const i=n?e[0]:"";let o=n&&e[1]||"AM";1===e.length&&(o=(0,_assets_Data__WEBPACK_IMPORTED_MODULE_5__.IF)(i).split(" ")[1]);const l=i;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:t.id,className:"w-24 font-bold",children:[(null===r||void 0===r?void 0:r.toUpperCase())||t.label,":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{id:t.id,name:t.id,type:"time",value:(0,_assets_Data__WEBPACK_IMPORTED_MODULE_5__.IF)(l).split(" ")[0],onChange:e=>{const n=e.target.value;if(n){const e=(0,_assets_Data__WEBPACK_IMPORTED_MODULE_5__.IF)(n).split(" ");a({target:{name:t.id,value:`${e[0]} ${e[1]||o}`}})}},className:"h-8 w-32",...s}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.l6,{value:o,onValueChange:e=>{if(i){const n=convertTo24Hour(i,e),r=(0,_assets_Data__WEBPACK_IMPORTED_MODULE_5__.IF)(n).split(" ");a({target:{name:t.id,value:`${r[0]} ${e}`}})}},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.bq,{className:"w-20",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.yv,{placeholder:"AM/PM"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.gC,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"AM",children:"AM"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"PM",children:"PM"})]})]})]})]})}case"multiselect":const e="string"===typeof n?n.split(",").map((e=>({name:e.trim()}))).filter((e=>e.name)):Array.isArray(n)?n.map((e=>"string"===typeof e?e.trim():e.name)).filter((e=>""!==(null===e||void 0===e?void 0:e.trim()))).map((e=>({name:e}))):[],c=Array.isArray(i)?i.map((e=>"string"===typeof e?{name:e}:e)):[];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:t.id,children:t.label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"mt-1 space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"flex flex-wrap gap-1",children:e.map(((n,r)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_8__.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 text-sm rounded",children:[n.name,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_25__.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>{const n=e.filter(((e,t)=>t!==r));"diagnosis"===t.id?o(n):a({target:{name:t.id,value:n.map((e=>e.name)).join(", ")}})}})]},r)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_custom_MultiSelectInput__WEBPACK_IMPORTED_MODULE_11__.A,{suggestions:c,selectedValues:e,setSelectedValues:e=>{"diagnosis"===t.id?o(e):a({target:{name:t.id,value:e.map((e=>e.name)).join(", ")}})},placeholder:`Select ${t.label.toLowerCase()}`,...s}),"ComorbidityHandling"===t.extraComponent&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.l6,{onValueChange:e=>{s.onComorbidityHandlingChange&&s.onComorbidityHandlingChange(e)},defaultValue:s.comorbidityHandling||"separate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.bq,{className:"w-40",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.yv,{placeholder:"Handle"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.gC,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"separate",children:"Separate"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"clinical_summary",children:"Clinical Summary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"diagnosis",children:"Diagnosis"})]})]})]})]});case"checkbox":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("input",{type:"checkbox",id:t.id,checked:n,onChange:e=>a({target:{name:t.id,value:e.target.checked}}),className:"h-4 w-4 rounded border-gray-300"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:t.id,children:t.label})]});case"babyTable":return s.showBabyDetails?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:t.id,children:t.label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(BabyTable,{value:n||[],onChange:e=>a({target:{name:t.id,value:e}})})]}):null;default:return null}},BabyTable=e=>{let{value:t=[],onChange:n}=e;const r=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.wA)(),{searchResults:a,searchStatus:i}=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.babies)),s=(e,r,a)=>{const i=t.map(((t,n)=>n===e?{...t,[r]:a}:t));n(i)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if("succeeded"===i&&a.length>0){const e=a[0],r=t.map((t=>t.number===e.birthCounter?{...t,sex:e.gender.toLowerCase(),weight:e.weight,date:e.dateOfBirth.split("T")[0],time:e.timeOfBirth,apgar:Object.values(e.apgarScore).join(",")}:t));n(r)}}),[a,i]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_23__.F,{className:"w-full border rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"min-w-[800px]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.XI,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.A0,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.Hj,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nd,{children:"Baby No."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nd,{children:"Sex"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nd,{children:"Weight (g)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nd,{children:"Date"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nd,{children:"Time"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nd,{children:"APGAR Score"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nd,{children:"Action"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.BF,{children:t.map(((e,a)=>{var i,o;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.Hj,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nA,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"text",value:e.number,onChange:e=>s(a,"number",e.target.value),className:"flex-1 pr-10"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-transparent ",onClick:t=>{t.stopPropagation(),e.number&&r((0,_redux_slices_babySlice__WEBPACK_IMPORTED_MODULE_22__.$B)(e.number))},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_27__.A,{className:"h-4 w-4 text-muted-foreground cursor-pointer"})})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nA,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.l6,{value:e.sex,onValueChange:e=>s(a,"sex",e),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.bq,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.yv,{placeholder:"Sex"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.gC,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"male",children:"Male"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"female",children:"Female"})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nA,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"number",step:"0.01",value:e.weight,onChange:e=>s(a,"weight",e.target.value)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nA,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"date",value:e.date,onChange:e=>s(a,"date",e.target.value)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nA,{className:"flex gap-2 items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"time",value:(null===(i=e.time)||void 0===i?void 0:i.split(" ")[0])||"",onChange:e=>((e,t)=>{let[n,r]=t.split(":");n=parseInt(n),0===n&&(n=12),n>12&&(n-=12);const a=n>=12?"PM":"AM",i=`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")} ${a}`;s(e,"time",i)})(a,e.target.value),className:"w-24"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.l6,{value:(null===(o=e.time)||void 0===o?void 0:o.split(" ")[1])||"AM",onValueChange:t=>{var n;const r=(null===(n=e.time)||void 0===n?void 0:n.split(" ")[0])||"";s(a,"time",`${r} ${t}`)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.bq,{className:"w-20",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.yv,{placeholder:"AM/PM"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.gC,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"AM",children:"AM"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_12__.eb,{value:"PM",children:"PM"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nA,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"text",value:e.apgar,onChange:e=>s(a,"apgar",e.target.value)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_table__WEBPACK_IMPORTED_MODULE_19__.nA,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{variant:"destructive",size:"icon",onClick:()=>(e=>{const r=t.filter(((t,n)=>n!==e)).map(((e,t)=>({...e,number:t+1})));n(r)})(a),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_28__.A,{className:"h-4 w-4"})})})]},a)}))})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_23__.$,{orientation:"horizontal"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",variant:"outline",onClick:()=>{n([...t,{number:"",sex:"",weight:"",date:"",time:"",apgar:""}])},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_29__.A,{className:"h-4 w-4 mr-2"})," Add Baby"]})]})};function DischargeSummary(){var _location$state,_location$state2,_location$state5;const{patientId:patientId}=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_30__.g)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.wA)(),navigate=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_30__.Zp)(),location=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_30__.zy)(),[patient,setPatient]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),ignoreList=(null===(_location$state=location.state)||void 0===_location$state?void 0:_location$state.ignoreList)||!1,dischargeData=(null===(_location$state2=location.state)||void 0===_location$state2?void 0:_location$state2.dischargeData)||null,[hasDischarged,setHasDischarged]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),dischargeSummaryTemplates=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.templates.dischargeSummaryTemplateArray)),[selectedTemplateDischargeSummary,setSelectedTemplateDischargeSummary]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(dischargeSummaryTemplates[0]||{name:"Template 1",value:_templates_dischargesummary__WEBPACK_IMPORTED_MODULE_31__.P}),savedConfig=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.templates.dischargeFormTemplateArray)),[formConfig,setFormConfig]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>{var e,t,n;const r=(0,_config_dischargeSummaryConfig__WEBPACK_IMPORTED_MODULE_20__.xX)();return(null!==(e=location.state)&&void 0!==e&&null!==(t=e.selectedTemplate)&&void 0!==t&&t.value||null!==(n=location.state)&&void 0!==n&&n.selectedTemplate)&&(location.state.selectedTemplate.value||location.state.selectedTemplate)||r})),{diagnosisTemplate:diagnosisTemplate=[],comorbidities:comorbidities=[],medicinelist:medicinelist=[]}=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.templates)),patientFromStore=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.patients.patientlist.find((e=>e._id===patientId)))),labTestsTemplate=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.templates.labTestsTemplate)),allLabTests=[...(null===labTestsTemplate||void 0===labTestsTemplate?void 0:labTestsTemplate.map((e=>({name:e.name,isTemplate:!0}))))||[]],initialFormData={admissionDate:"",dateDischarged:"",bookingTime:"",timeDischarged:"",diagnosis:"",clinicalSummary:"",treatment:"",conditionOnAdmission:"",conditionOnDischarge:"",comorbidityHandling:"separate",vitals:{admission:{bloodPressure:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:""},discharge:{bloodPressure:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:""}},investigations:[{name:"",category:"",isIncluded:!0}],medicineAdvice:[{name:"",dosage:"",duration:""}],notes:"",comorbidities:[{name:""}],hasBabyDetails:!1,babies:[]},[formData,setFormData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialFormData),getAllFieldIds=e=>{const t=new Set;return e.sections.forEach((e=>{e.fields.forEach((e=>{t.add(e.id)}))})),t},mergeDataWithFormFields=(e,t)=>{var n,r,a;const i=getAllFieldIds(t),s={...initialFormData},o=["admissionDate","dateDischarged","bookingTime","timeDischarged","diagnosis","clinicalSummary","treatment","conditionOnAdmission","conditionOnDischarge","notes","comorbidities"];return o.forEach((t=>{void 0!==(null===e||void 0===e?void 0:e[t])&&(s[t]=e[t])})),(null===e||void 0===e||null===(n=e.medicineAdvice)||void 0===n?void 0:n.length)>0&&(s.medicineAdvice=e.medicineAdvice.map((e=>({name:e.name||"",dosage:e.dosage||"",duration:e.duration||""})))),(null===e||void 0===e||null===(r=e.investigations)||void 0===r?void 0:r.length)>0&&(s.investigations=e.investigations.map((e=>({name:e.name||"",category:e.category||"",report:e.report||null,date:e.date||null})))),(null===e||void 0===e||null===(a=e.comorbidities)||void 0===a?void 0:a.length)>0&&(s.comorbidities=e.comorbidities.map((e=>"string"===typeof e?{name:e}:e))),null!==e&&void 0!==e&&e.vitals&&(s.vitals={admission:{...initialFormData.vitals.admission,...e.vitals.admission||{}},discharge:{...initialFormData.vitals.discharge,...e.vitals.discharge||{}}}),i.forEach((t=>{const n=t.includes(".")?t.split(".").reduce(((e,t)=>null===e||void 0===e?void 0:e[t]),e):null===e||void 0===e?void 0:e[t];if(void 0!==n&&!o.includes(t))if(t.includes(".")){const e=t.split(".");let r=s;e.forEach(((t,a)=>{a===e.length-1?r[t]=n:(r[t]=r[t]||{},r=r[t])}))}else s[t]=n})),s};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{(async()=>{if(!hasDischarged)if(patientFromStore||dischargeData){if(dischargeData){var e,t,n,r,a,i,s,o;const{labReport:l,...c}=dischargeData;if(setPatient(c),dischargeData.formConfig||formConfig){const e=mergeDataWithFormFields(dischargeData.dischargeData||dischargeData,dischargeData.formConfig||formConfig);setFormData(e)}setPatientInfo({name:dischargeData.patientName||(null===(e=dischargeData.patient)||void 0===e?void 0:e.name)||"",age:(null===(t=dischargeData.patient)||void 0===t?void 0:t.age)||"",gender:(null===(n=dischargeData.patient)||void 0===n?void 0:n.gender)||"",contactNumber:dischargeData.contactNumber||(null===(r=dischargeData.patient)||void 0===r?void 0:r.contactNumber)||"",address:(null===(a=dischargeData.patient)||void 0===a?void 0:a.address)||"",roomNumber:(null===(i=dischargeData.assignedRoom)||void 0===i?void 0:i.roomNumber)||"",registrationNumber:dischargeData.registrationNumber||"",ipdNumber:dischargeData.ipdNumber||"",relation:dischargeData.relation?null===(s=dischargeData.relation)||void 0===s?void 0:s.toLowerCase():"",...dischargeData.relation?{[null===(o=dischargeData.relation)||void 0===o?void 0:o.toLowerCase()]:dischargeData.guardianName||""}:{}})}else if(!ignoreList){const{labReport:e,...t}=patientFromStore;setPatient(patientFromStore)}}else try{if(patientId){const e=await dispatch((0,_redux_slices_patientSlice_js__WEBPACK_IMPORTED_MODULE_10__.Al)({id:patientId,type:"IPD"})).unwrap(),{labReport:t,...n}=e;if(setPatient(n),e.dischargeData&&e.formConfig){const t=mergeDataWithFormFields(e.dischargeData,e.formConfig);setFormData(t),setFormConfig(e.formConfig)}}}catch(l){console.error("Error fetching patient details:",l)}})()}),[dispatch,patientId,patientFromStore,null===(_location$state5=location.state)||void 0===_location$state5?void 0:_location$state5.patient,dischargeData,ignoreList,formConfig,hasDischarged]);const medicines=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.pharmacy.items)),itemsStatus=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.pharmacy.itemsStatus)),hospital=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.hospital.hospitalInfo)),templateStatus=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.templates.status));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{"idle"===itemsStatus&&dispatch((0,_redux_slices_pharmacySlice__WEBPACK_IMPORTED_MODULE_7__.LN)())}),[dispatch,itemsStatus]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{"idle"===templateStatus&&dispatch((0,_redux_slices_templatesSlice__WEBPACK_IMPORTED_MODULE_13__.QK)())}),[dispatch,templateStatus]);const[selectedTemplate,setSelectedTemplate]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[isLabReportOpen,setIsLabReportOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[selectedInvestigation,setSelectedInvestigation]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[patientInfo,setPatientInfo]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({name:"",age:"",gender:"",contactNumber:"",address:"",roomNumber:"",registrationNumber:"",ipdNumber:""});(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{var e,t,n,r,a,i,s,o;patient&&!hasDischarged&&(setFormData((e=>{var t,n,r,a,i,s,o,l,c,d,u,m,p,h,f,v,g,x,y,b,w,j,N;return{...e,admissionDate:patient.bookingDate?new Date(patient.bookingDate).toISOString().split("T")[0]:"",dateDischarged:patient.dateDischarged?new Date(patient.dateDischarged).toISOString().split("T")[0]:"",diagnosis:Array.isArray(patient.diagnosis)?patient.diagnosis.join(", "):patient.diagnosis||"",clinicalSummary:patient.clinicalSummary||"",treatment:patient.treatment||"",conditionOnAdmission:patient.conditionOnAdmission||"",conditionOnDischarge:patient.conditionOnDischarge||"",vitals:{admission:{bloodPressure:(null===(t=patient.vitals)||void 0===t||null===(n=t.admission)||void 0===n?void 0:n.bloodPressure)||"",heartRate:(null===(r=patient.vitals)||void 0===r||null===(a=r.admission)||void 0===a?void 0:a.heartRate)||"",temperature:(null===(i=patient.vitals)||void 0===i||null===(s=i.admission)||void 0===s?void 0:s.temperature)||"",oxygenSaturation:(null===(o=patient.vitals)||void 0===o||null===(l=o.admission)||void 0===l?void 0:l.oxygenSaturation)||"",respiratoryRate:(null===(c=patient.vitals)||void 0===c||null===(d=c.admission)||void 0===d?void 0:d.respiratoryRate)||""},discharge:{bloodPressure:(null===(u=patient.vitals)||void 0===u||null===(m=u.discharge)||void 0===m?void 0:m.bloodPressure)||"",heartRate:(null===(p=patient.vitals)||void 0===p||null===(h=p.discharge)||void 0===h?void 0:h.heartRate)||"",temperature:(null===(f=patient.vitals)||void 0===f||null===(v=f.discharge)||void 0===v?void 0:v.temperature)||"",oxygenSaturation:(null===(g=patient.vitals)||void 0===g||null===(x=g.discharge)||void 0===x?void 0:x.oxygenSaturation)||"",respiratoryRate:(null===(y=patient.vitals)||void 0===y||null===(b=y.discharge)||void 0===b?void 0:b.respiratoryRate)||""}},investigations:(null===(w=patient.labReports)||void 0===w?void 0:w.length)>0?patient.labReports.map((e=>({...e,isIncluded:!0}))):[{name:"",category:"",isIncluded:!0}],medicineAdvice:patient.medicineAdvice||patient.medicineAdvice||(null===(j=patient.dischargeData)||void 0===j?void 0:j.medicineAdvice)||[{name:"",dosage:"",duration:""}],notes:patient.notes||"",comorbidities:(null===(N=patient.comorbidities)||void 0===N?void 0:N.map((e=>({name:e}))))||[{name:""}]}})),setPatientInfo({name:(null===(e=patient.patient)||void 0===e?void 0:e.name)||patient.name||"",age:(null===(t=patient.patient)||void 0===t?void 0:t.age)||patient.age||"",gender:(null===(n=patient.patient)||void 0===n?void 0:n.gender)||patient.gender||"",relation:patient.relation?null===(r=patient.relation)||void 0===r?void 0:r.toLowerCase():"",...patient.relation?{[null===(a=patient.relation)||void 0===a?void 0:a.toLowerCase()]:patient.guardianName||""}:{},contactNumber:(null===(i=patient.patient)||void 0===i?void 0:i.contactNumber)||patient.contactNumber||"",address:(null===(s=patient.patient)||void 0===s?void 0:s.address)||patient.address||"",roomNumber:(null===(o=patient.assignedRoom)||void 0===o?void 0:o.roomNumber)||patient.roomNumber||"",registrationNumber:patient.registrationNumber||patient.registrationNumber||"",ipdNumber:patient.ipdNumber||""}))}),[patient,hasDischarged]);const[selectedReport,setSelectedReport]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),handlePatientInfoChange=e=>{const{name:t,value:n}=e.target;setPatientInfo((e=>({...e,[t]:n})))},handleInputChange=e=>{const{name:t,value:n}=e.target;setFormData((e=>({...e,[t]:n})))},handleDateChange=(e,t)=>{setFormData((n=>({...n,[e]:t})))},handleInvestigationChange=(e,t)=>{const n=[...formData.investigations];n[e]={name:t.name,category:t.category||"",isIncluded:!0},setFormData((e=>({...e,investigations:n})))},handleAddInvestigation=()=>{setFormData((e=>({...e,investigations:[...e.investigations,{name:"",category:"",isIncluded:!0}]})))},toggleInvestigation=e=>{setFormData((t=>({...t,investigations:t.investigations.map(((t,n)=>n===e?{...t,isIncluded:!t.isIncluded}:t))})))},handleRemoveInvestigation=e=>{setFormData((t=>({...t,investigations:t.investigations.filter(((t,n)=>n!==e))})))},handleComorbiditiesChange=e=>{setFormData((t=>({...t,comorbidities:e})))},handleRemoveSelected=e=>{setFormData((t=>({...t,comorbidities:t.comorbidities.filter((t=>t.name!==e))})))},handleComorbidityHandlingChange=e=>{setFormData((t=>({...t,comorbidityHandling:e})))},{toast:toast}=(0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_18__.dj)(),{status:dischargeStatus,savingStatus:savingStatus}=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>e.discharge)),[isPrintDialogOpen,setIsPrintDialogOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),userPermissions=(0,react_redux__WEBPACK_IMPORTED_MODULE_26__.d4)((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.permissions)||[]})),hasDischargePermission=userPermissions.includes("can_discharge"),handleSubmit=async e=>{if(e.preventDefault(),!hasDischargePermission)return void toast({title:"Permission Denied",description:"You don't have permission to discharge patients.",variant:"destructive"});const t={patientId:patientId||patient._id,...formData,formConfig:formConfig,comorbidities:(()=>{const e=formData.comorbidities;return"string"===typeof e?e.split(",").map((e=>e.trim())):Array.isArray(e)?e.map((e=>"string"===typeof e?e.trim():e.name)).filter((e=>""!==(null===e||void 0===e?void 0:e.trim()))):[]})(),medicineAdvice:formData.medicineAdvice.filter((e=>""!==e.name.trim())).map((e=>({name:e.name,duration:e.duration,dosage:e.dosage}))),investigations:formData.investigations.filter((e=>""!==e.name.trim()&&e.isIncluded)).map((e=>({name:e.name,category:e.category,report:e.report,date:e.date||(new Date).toISOString()})))};try{await dispatch((0,_redux_slices_dischargeSlice__WEBPACK_IMPORTED_MODULE_17__.Ou)(t)).unwrap(),setHasDischarged(!0),toast({title:"Success",description:"Patient discharged successfully",variant:"success"}),handlePrint()}catch(n){toast({title:"Error",description:"Failed to discharge patient. Please try again.",variant:"destructive"})}},handleSave=async e=>{e.preventDefault();const t={patientId:patientId||patient._id,...formData,formConfig:formConfig,comorbidities:(()=>{const e=formData.comorbidities;return"string"===typeof e?e.split(",").map((e=>e.trim())):Array.isArray(e)?e.map((e=>"string"===typeof e?e.trim():e.name)).filter((e=>""!==(null===e||void 0===e?void 0:e.trim()))):[]})(),medicineAdvice:formData.medicineAdvice.filter((e=>""!==e.name.trim())).map((e=>({name:e.name,duration:e.duration,dosage:e.dosage}))),investigations:formData.investigations.filter((e=>""!==e.name.trim()&&e.isIncluded)).map((e=>({name:e.name,category:e.category,report:e.report,date:e.date||(new Date).toISOString()})))};try{await dispatch((0,_redux_slices_dischargeSlice__WEBPACK_IMPORTED_MODULE_17__.mo)(t)).unwrap(),toast({title:"Success",description:"Discharge data saved successfully",variant:"success"})}catch(n){toast({title:"Error",description:"Failed to save discharge data. Please try again.",variant:"destructive"})}},handleTestSelect=e=>{setFormData((t=>({...t,selectedTest:e.name,selectedCategory:e.category})))},handleOpenLabReport=e=>{const t=null===labTestsTemplate||void 0===labTestsTemplate?void 0:labTestsTemplate.find((t=>t.name.toLowerCase()===e.name.toLowerCase()));setSelectedTemplate(t||null),setSelectedInvestigation(e),setIsLabReportOpen(!0)},handleCloseLabReport=()=>{setSelectedInvestigation(null),setSelectedTemplate(null),setIsLabReportOpen(!1)},handleSaveLabReport=e=>{const t=formData.investigations.map((t=>t.name.toLowerCase()===selectedInvestigation.name.toLowerCase()?{...t,name:e.name,report:e.report,date:e.date}:t));t.some((t=>t.name.toLowerCase()===e.name.toLowerCase()))||t.push({name:e.name,report:e.report,date:e.date}),setFormData((e=>({...e,investigations:t}))),setSelectedInvestigation({name:e.name,report:e.report,date:e.date}),toast({title:"Success",description:"Lab report saved successfully",variant:"success"}),handleCloseLabReport()},handleMedicineAdviceChange=(e,t,n,r)=>{setFormData((a=>({...a,[r]:a[r].map(((r,a)=>a===e?{...r,[t]:n}:r))})))},handleMedicineAdviceSuggestionSelect=(e,t,n)=>{handleMedicineAdviceChange(e,"name",t.name,n)},addMedicineAdvice=e=>{setFormData((t=>({...t,[e]:[...t[e]||[],{name:"",dosage:"",duration:""}]})))},removeMedicineAdvice=(e,t)=>{setFormData((n=>{var r;return{...n,[t]:null===(r=n[t])||void 0===r?void 0:r.filter(((t,n)=>n!==e))}}))},handleVitalsChange=(e,t,n)=>{setFormData((r=>({...r,vitals:{...r.vitals,[e]:{...r.vitals[e],[t]:n}}})))},renderVitalsInputs=e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("span",{className:"w-24",children:"BP:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{placeholder:"mmHg",value:formData.vitals[e].bloodPressure,onChange:t=>handleVitalsChange(e,"bloodPressure",t.target.value),className:"h-8"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("span",{className:"w-24",children:"HR:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{placeholder:"bpm",type:"number",value:formData.vitals[e].heartRate,onChange:t=>handleVitalsChange(e,"heartRate",t.target.value),className:"h-8"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("span",{className:"w-24",children:"Temp:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{placeholder:"\xb0C",type:"number",value:formData.vitals[e].temperature,onChange:t=>handleVitalsChange(e,"temperature",t.target.value),className:"h-8"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("span",{className:"w-24",children:"SpO2:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{placeholder:"%",type:"number",value:formData.vitals[e].oxygenSaturation,onChange:t=>handleVitalsChange(e,"oxygenSaturation",t.target.value),className:"h-8"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("span",{className:"w-24",children:"RR:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{placeholder:"breaths/min",type:"number",value:formData.vitals[e].respiratoryRate,onChange:t=>handleVitalsChange(e,"respiratoryRate",t.target.value),className:"h-8"})]})]}),[customDiagnosis,setCustomDiagnosis]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[customDiagnosesList,setCustomDiagnosesList]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),handleAddDiagnosis=e=>{if(!e.trim())return;const t=formData.diagnosis?formData.diagnosis.split(", "):[];diagnosisTemplate.includes(e)||customDiagnosesList.includes(e)||setCustomDiagnosesList((t=>[...t,e])),t.includes(e)?setFormData((t=>({...t,diagnosis:t.diagnosis.split(", ").filter((t=>t!==e)).join(", ")}))):setFormData((t=>({...t,diagnosis:t.diagnosis?`${t.diagnosis}, ${e}`:e}))),setCustomDiagnosis("")},getMatchingDiagnoses=e=>e?diagnosisTemplate.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))):[],handleDiagnosisChange=e=>{const t=e.map((e=>e.name)).join(", ");setFormData((e=>({...e,diagnosis:t})))},handleRemoveDiagnosis=e=>{const t=formData.diagnosis.split(", ").filter((t=>t!==e)).join(", ");setFormData((e=>({...e,diagnosis:t})))},renderTextArea=(e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:e,children:t}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.T,{id:e,name:e,value:formData[e],onChange:handleInputChange,className:"mt-1 min-h-[6rem] leading-tight"})]}),handleBack=()=>{navigate(-1)},componentRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),handlePrint=(0,react_to_print__WEBPACK_IMPORTED_MODULE_15__.useReactToPrint)({content:()=>componentRef.current,pageStyle:"\n      @media print {\n        @page {\n          size: A4;\n           margin:20mm;\n          \n        }\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n          position: relative;\n          min-height: 100vh;\n         padding:20px;\n        }\n      }\n    "}),[showCustomizer,setShowCustomizer]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[customConfig,setCustomConfig]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),handleCustomizeForm=()=>{setShowCustomizer(!0)},handleSaveCustomConfig=async e=>{try{await dispatch((0,_redux_slices_templatesSlice__WEBPACK_IMPORTED_MODULE_13__.ub)({dischargeFormTemplateArray:[...(savedConfig||[]).filter((t=>t.name!==e.name)),e]})).unwrap(),setFormConfig(e.value),setShowCustomizer(!1),toast({title:"Success",description:"Form template saved successfully",variant:"success"})}catch(t){toast({title:"Error",description:"Failed to save form template",variant:"destructive"})}},handleCancelCustomize=()=>{setShowCustomizer(!1)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(formConfig){const e=formConfig.sections.find((e=>"patientInfo"===e.id));if(e){const t={};e.fields.forEach((e=>{t[e.id]=patientInfo[e.id]||""})),setPatientInfo((e=>({...e,...t})))}}}),[formConfig]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"container mx-auto py-2 sm:py-4 px-2 sm:px-4 lg:px-6 max-w-7xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_1__.Zp,{className:"w-full shadow-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_1__.aR,{className:"bg-primary text-primary-foreground py-2 sm:py-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"flex items-center justify-between flex-wrap sm:flex-nowrap gap-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{variant:"ghost",size:"icon",onClick:handleBack,className:"h-8 w-8 text-primary-foreground hover:text-primary hover:bg-primary-foreground",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_32__.A,{className:"h-4 w-4"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_1__.ZB,{className:"text-lg sm:text-xl",children:"Discharge Summary"})]})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_1__.Wu,{className:"p-2 sm:p-4 md:p-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[formConfig.sections.map((section=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:" bg-white rounded-lg p-2 sm:p-4",children:[section.title&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("h2",{className:"text-base sm:text-lg font-semibold mb-2 text-primary",children:section.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:" gap-2 sm:gap-4 text-sm sm:text-base",children:section.fields.map((field=>{if("vitals"===field.type)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:" py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:field.id,children:field.label}),renderVitalsInputs(field.prefix)]},field.id);if("investigations"===field.type)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:" py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:field.id,children:field.label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"space-y-2 mt-2",children:[formData.investigations.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-2 mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"sm:col-span-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_custom_registration_CustomSearchSuggestion__WEBPACK_IMPORTED_MODULE_14__.P,{suggestions:allLabTests,placeholder:"Select investigation",value:e.name,setValue:e=>handleInvestigationChange(t,{name:e}),onSuggestionSelect:e=>handleInvestigationChange(t,e)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",variant:e.isIncluded?"default":"outline",size:"icon",onClick:()=>toggleInvestigation(t),"aria-label":"Toggle Investigation",disabled:!e.name,children:e.isIncluded?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_33__.A,{className:"h-4 w-4 text-white-500",strokeWidth:4}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_25__.A,{className:"h-4 w-4 text-red-500 font-bold",strokeWidth:4})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>handleOpenLabReport(e),"aria-label":"Open Lab Report",disabled:!e.name,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_34__.A,{className:"h-5 w-5"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>handleRemoveInvestigation(t),disabled:1===formData.investigations.length,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_28__.A,{className:"h-4 w-4"})})]})]},t))),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:handleAddInvestigation,variant:"outline",className:"mt-2 font-semibold",type:"button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_29__.A,{className:"h-4 w-4 mr-2"})," Add Investigation"]})]})]},field.id);var _formData$field$id;if("medicineAdvice"===field.type)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:" py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_6__.J,{htmlFor:field.id,children:field.label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"space-y-2 mt-2",children:[null===(_formData$field$id=formData[field.id])||void 0===_formData$field$id?void 0:_formData$field$id.map(((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2 mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_custom_registration_CustomSearchSuggestion__WEBPACK_IMPORTED_MODULE_14__.P,{suggestions:null===medicinelist||void 0===medicinelist?void 0:medicinelist.map((e=>({name:e}))),placeholder:"Select medicine/advice",value:e.name,setValue:e=>handleMedicineAdviceChange(t,"name",e,field.id),onSuggestionSelect:e=>handleMedicineAdviceSuggestionSelect(t,e,field.id)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"text",placeholder:"Dosage",value:e.dosage,onChange:e=>handleMedicineAdviceChange(t,"dosage",e.target.value,field.id),className:"font-medium",onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"text",placeholder:"Duration",value:e.duration,onChange:e=>handleMedicineAdviceChange(t,"duration",e.target.value,field.id),className:"font-medium",onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>removeMedicineAdvice(t,field.id),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_28__.A,{className:"h-4 w-4"})})]},t))),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",onClick:()=>addMedicineAdvice(field.id),variant:"outline",className:"mt-2 font-semibold",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_29__.A,{className:"h-4 w-4 mr-2"})," Add Medicine/Advice"]})]})]},field.id);let value,onChange,label;var _patientInfo$relation;"patientInfo"===section.id?"admissionDate"===field.id||"dateDischarged"===field.id||"timeDischarged"===field.id||"admittedTime"===field.id||"bookingTime"===field.id?(value=("admittedTime"===field.id?formData.admittedTime||formData.bookingTime:formData[field.id])||"",onChange=handleInputChange):(value=patientInfo[field.id]||(null===formData||void 0===formData?void 0:formData[field.id])||"",field.id===(null===patientInfo||void 0===patientInfo||null===(_patientInfo$relation=patientInfo.relation)||void 0===_patientInfo$relation?void 0:_patientInfo$relation.toLowerCase())&&(value=patientInfo[patientInfo.relation.toLowerCase()]||"",label=patientInfo.relation),onChange=handlePatientInfoChange):(value=field.id.includes(".")?field.id.split(".").reduce(((e,t)=>null===e||void 0===e?void 0:e[t]),formData):formData[field.id],onChange=e=>{if("multiselect"===field.type){const t=Array.isArray(e)?e.map((e=>e.name)).join(", "):e.target.value;handleInputChange({target:{name:field.id,value:t}})}else handleInputChange(e)});let suggestions=[];if(field.suggestions)switch(field.suggestions){case"diagnosisTemplate":suggestions=diagnosisTemplate;break;case"comorbidities":suggestions=comorbidities;break;case"medicinelist":suggestions=medicinelist;break;default:try{suggestions=eval(field.suggestions)||[]}catch(e){console.error("Error evaluating suggestions:",e)}}const extraProps={...field.extraProps,onComorbidityHandlingChange:handleComorbidityHandlingChange,comorbidityHandling:formData.comorbidityHandling,showBabyDetails:!field.dependsOn||formData[field.dependsOn]};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(FormField,{field:field,value:value,label:label,onChange:onChange,suggestions:suggestions,extraProps:extraProps},field.id)}))})]},section.id))),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end mt-4 space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",variant:"outline",onClick:handlePrint,className:"w-full sm:w-auto text-sm sm:text-base py-2 px-4",children:"Print"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",onClick:handleSave,variant:"outline",disabled:"loading"===savingStatus||!patientId,className:"w-full sm:w-auto text-sm sm:text-base py-2 px-4",children:"loading"===savingStatus?"Saving...":"Save"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"button",onClick:handleSubmit,disabled:"loading"===dischargeStatus||!patientId||!hasDischargePermission,className:"w-full sm:w-auto text-sm sm:text-base py-2 px-4",children:hasDischargePermission?"loading"===dischargeStatus?"Discharging...":"Discharge":"No Permission to Discharge"})]})]})})]}),showCustomizer&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_custom_FormCustomizer__WEBPACK_IMPORTED_MODULE_21__.A,{config:_config_dischargeSummaryConfig__WEBPACK_IMPORTED_MODULE_20__.wr,enabledFields:formConfig,onSave:handleSaveCustomConfig,onCancel:handleCancelCustomize})})}),isLabReportOpen&&selectedInvestigation&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-2 sm:p-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full sm:w-11/12 md:w-3/4 lg:w-2/3 p-3 sm:p-4 overflow-y-auto max-h-[90vh]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex justify-between items-center mb-2 sm:mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("h2",{className:"text-base sm:text-lg font-semibold",children:["Lab Report: ",selectedInvestigation.name]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:handleCloseLabReport,variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_25__.A,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),selectedTemplate?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_TemplateLabReport__WEBPACK_IMPORTED_MODULE_9__.A,{template:selectedTemplate,patientData:patient,onSave:handleSaveLabReport,onClose:e=>{e?handleSaveLabReport(e):handleCloseLabReport()},component:"DischargeSummary",searchWhere:"ipd"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("h1",{children:"No Template Found"})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{style:{display:"none"},className:"print-content",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_components_custom_reports_DischargeSummaryPDF__WEBPACK_IMPORTED_MODULE_16__.A,{ref:componentRef,formData:{...formData,admittedTime:formData.admittedTime||(0,_assets_Data__WEBPACK_IMPORTED_MODULE_5__.IF)(formData.bookingTime),investigations:formData.investigations.filter((e=>""!==e.name.trim()&&e.report&&e.isIncluded)).map((e=>({name:e.name,report:e.report,date:e.date||(new Date).toISOString()}))),comorbidities:(()=>{const e=formData.comorbidities;return"string"===typeof e?e.split(",").map((e=>e.trim())):Array.isArray(e)?e.map((e=>"string"===typeof e?e.trim():e.name)).filter((e=>""!==e.trim())):[]})()},formConfig:formConfig,patient:patientInfo,hospital:hospital,templateString:null===selectedTemplateDischargeSummary||void 0===selectedTemplateDischargeSummary?void 0:selectedTemplateDischargeSummary.value})})]})}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),i=n(2074),s=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=s},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,m=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,f=9007199254740991,v=u(1286742750677284.5),g={};function x(e,t){var n,r,a,i,s,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),o?D(t,m):t;if(c=e.d,d=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a){for(i<0?(r=c,i=-i,l=d.length):(r=d,a=s,l=c.length),i>(l=(s=Math.ceil(m/7))>l?s+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=d.length)<0&&(i=l,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/h|0,c[i]%=h;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?D(t,m):t}function y(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=S(n)),i+=r;(n=7-(r=(s=e[t])+"").length)&&(i+=S(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return w(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return D(w(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return N(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(o=!1,t=w(E(n,s),E(e,s),s),o=!0,D(t,i))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T(t,e):x(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):D(new r(n),a)},g.naturalExponential=g.exp=function(){return j(this)},g.naturalLogarithm=g.ln=function(){return E(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x(t,e):T(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,a,i,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),r=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new d(a.toString()),a=s=(n=d.precision)+3;;)if(r=(i=r).plus(w(c,i,s+2)).times(.5),b(i.d).slice(0,s)===(t=b(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(D(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;s+=4}return o=!0,D(r,n)},g.times=g.mul=function(e){var t,n,r,a,i,s,l,c,d,u=this,m=u.constructor,p=u.d,f=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,(c=p.length)<(d=f.length)&&(i=p,p=f,f=i,s=c,c=d,d=s),i=[],r=s=c+d;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+f[r]*p[a-r-1]+t,i[a--]=l%h|0,t=l/h|0;i[a]=(i[a]+t)%h|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,o?D(e,m.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(y(e,0,i),void 0===t?t=r.rounding:y(t,0,8),D(n,e+N(n)+1,t))},g.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=k(r,!0):(y(e,0,i),void 0===t?t=a.rounding:y(t,0,8),n=k(r=D(new a(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?k(a):(y(e,0,i),void 0===t?t=s.rounding:y(t,0,8),n=k((r=D(new s(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return D(new t(e),N(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,i,s,c,d=this,m=d.constructor,p=+(e=new m(e));if(!e.s)return new m(a);if(!(d=new m(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(a))return d;if(r=m.precision,e.eq(a))return D(d,r);if(c=(t=e.e)>=(n=e.d.length-1),s=d.s,c){if((n=p<0?-p:p)<=f){for(i=new m(a),t=Math.ceil(r/7+4),o=!1;n%2&&A((i=i.times(d)).d,t),0!==(n=u(n/2));)A((d=d.times(d)).d,t);return o=!0,e.s<0?new m(a).div(i):D(i,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,d.s=1,o=!1,i=e.times(E(d,r+12)),o=!0,(i=j(i)).s=s,i},g.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?r=k(a,(n=N(a))<=s.toExpNeg||n>=s.toExpPos):(y(e,1,i),void 0===t?t=s.rounding:y(t,0,8),r=k(a=D(new s(a),e,t),e<=(n=N(a))||n<=s.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(y(e,1,i),void 0===t?t=n.rounding:y(t,0,8)),D(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=N(e),n=e.constructor;return k(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%h|0,r=n/h|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*h+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,s){var o,c,d,u,m,p,f,v,g,x,y,b,w,j,_,S,E,C,T=r.constructor,k=r.s==a.s?1:-1,A=r.d,P=a.d;if(!r.s)return new T(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,E=P.length,_=A.length,v=(f=new T(k)).d=[],d=0;P[d]==(A[d]||0);)++d;if(P[d]>(A[d]||0)&&--c,(b=null==i?i=T.precision:s?i+(N(r)-N(a))+1:i)<0)return new T(0);if(b=b/7+2|0,d=0,1==E)for(u=0,P=P[0],b++;(d<_||u)&&b--;d++)w=u*h+(A[d]||0),v[d]=w/P|0,u=w%P|0;else{for((u=h/(P[0]+1)|0)>1&&(P=e(P,u),A=e(A,u),E=P.length,_=A.length),j=E,x=(g=A.slice(0,E)).length;x<E;)g[x++]=0;(C=P.slice()).unshift(0),S=P[0],P[1]>=h/2&&++S;do{u=0,(o=t(P,g,E,x))<0?(y=g[0],E!=x&&(y=y*h+(g[1]||0)),(u=y/S|0)>1?(u>=h&&(u=h-1),1==(o=t(m=e(P,u),g,p=m.length,x=g.length))&&(u--,n(m,E<p?C:P,p))):(0==u&&(o=u=1),m=P.slice()),(p=m.length)<x&&m.unshift(0),n(g,m,x),-1==o&&(o=t(P,g,E,x=g.length))<1&&(u++,n(g,E<x?C:P,x)),x=g.length):0===o&&(u++,g=[0]),v[d++]=u,o&&g[0]?g[x++]=A[j]||0:(g=[A[j]],x=1)}while((j++<_||void 0!==g[0])&&b--)}return v[0]||v.shift(),f.e=c,D(f,s?i+N(f)+1:i)}}();function j(e,t){var n,r,i,s,l,c=0,u=0,p=e.constructor,h=p.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new p(a);for(null==t?(o=!1,l=h):l=t,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(l+=Math.log(m(2,u))/Math.LN10*2+5|0,n=r=i=new p(a),p.precision=l;;){if(r=D(r.times(e),l),n=n.times(++c),b((s=i.plus(w(r,n,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;u--;)i=D(i.times(i),l);return p.precision=h,null==t?(o=!0,D(i,h)):i}i=s}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function _(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return D(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,i,s,c,d,u,m,p,h=1,f=e,v=f.d,g=f.constructor,x=g.precision;if(f.s<1)throw Error(l+(f.s?"NaN":"-Infinity"));if(f.eq(a))return new g(0);if(null==t?(o=!1,m=x):m=t,f.eq(10))return null==t&&(o=!0),_(g,m);if(m+=10,g.precision=m,r=(n=b(v)).charAt(0),s=N(f),!(Math.abs(s)<15e14))return u=_(g,m+2,x).times(s+""),f=E(new g(r+"."+n.slice(1)),m-10).plus(u),g.precision=x,null==t?(o=!0,D(f,x)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((f=f.times(e)).d)).charAt(0),h++;for(s=N(f),r>1?(f=new g("0."+n),s++):f=new g(r+"."+n.slice(1)),d=c=f=w(f.minus(a),f.plus(a),m),p=D(f.times(f),m),i=3;;){if(c=D(c.times(p),m),b((u=d.plus(w(c,new g(i),m))).d).slice(0,m)===b(d.d).slice(0,m))return d=d.times(2),0!==s&&(d=d.plus(_(g,m+2,x).times(s+""))),d=w(d,new g(h),m),g.precision=x,null==t?(o=!0,D(d,x)):d;d=u,i+=2}}function C(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=u(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>v||e.e<-v))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function D(e,t,n){var r,a,i,s,l,c,p,f,g=e.d;for(s=1,i=g[0];i>=10;i/=10)s++;if((r=t-s)<0)r+=7,a=t,p=g[f=0];else{if((f=Math.ceil((r+1)/7))>=(i=g.length))return e;for(p=i=g[f],s=1;i>=10;i/=10)s++;a=(r%=7)-7+s}if(void 0!==n&&(l=p/(i=m(10,s-a-1))%10|0,c=t<0||void 0!==g[f+1]||p%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?p/m(10,s-a):0:g[f-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(i=N(e),g.length=1,t=t-i-1,g[0]=m(10,(7-t%7)%7),e.e=u(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=f,i=1,f--):(g.length=f+1,i=m(10,7-r),g[f]=a>0?(p/m(10,s-a)%m(10,a)|0)*i:0),c)for(;;){if(0==f){(g[0]+=i)==h&&(g[0]=1,++e.e);break}if(g[f]+=i,g[f]!=h)break;g[f--]=0,i=1}for(r=g.length;0===g[--r];)g.pop();if(o&&(e.e>v||e.e<-v))throw Error(d+N(e));return e}function T(e,t){var n,r,a,i,s,l,c,d,u,m,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),o?D(t,f):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),s=d-r){for((u=s<0)?(n=c,s=-s,l=m.length):(n=m,r=d,l=c.length),s>(a=Math.max(Math.ceil(f/7),l)+2)&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for((u=(a=c.length)<(l=m.length))&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}s=0}for(u&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>s;){if(c[--a]<m[a]){for(i=a;i&&0===c[--i];)c[i]=h-1;--c[i],c[a]+=h}c[a]-=m[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?D(t,f):t):new p(0)}function k(e,t,n){var r,a=N(e),i=b(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+S(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+S(-a-1)+i,n&&(r=n-s)>0&&(i+=S(r))):a>=s?(i+=S(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+S(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=S(r))),e.s<0?"-"+i:i}function A(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(u(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);C(t,e)}if(i.prototype=g,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=P,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(s),s.default=s.Decimal=s,a=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),i=n(3279),s=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=s},8326:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8365:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,s=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,d){var u=s(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=l((function(){function e(e){if(!o){if(o=!0,i=e,e=r(e),void 0!==d&&m.hasValue){var t=m.value;if(d(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=r(e);return void 0!==d&&d(t,n)?(i=e,t):(i=e,s=n)}var i,s,o=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,d]);var p=i(e,u[0],u[1]);return o((function(){m.hasValue=!0,m.value=p}),[p]),c(p),p}},8387:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function a(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{$:()=>a,A:()=>i});const i=a},8414:(e,t,n)=>{"use strict";n.d(t,{l6:()=>Ge,gC:()=>Je,eb:()=>Qe,bq:()=>Ye,yv:()=>Ke});var r=n(5043),a=n(852),i=n(7950),s=n(1664),o=n(858),l=n(5463),c=n(2814),d=n(1862),u=n(4204),m=n(1184),p=n(6590),h=n(276),f=n(4490),v=n(2043),g=n(3321),x=n(7920),y=n(6851),b=n(7490),w=n(3642),j=n(503),N=n(3168),_=n(4451),S=n(5754),E=n(1672),C=n(579),D=[" ","Enter","ArrowUp","ArrowDown"],T=[" ","Enter"],k="Select",[A,P,O]=(0,l.N)(k),[R,M]=(0,d.A)(k,[O,v.Bk]),I=(0,v.Bk)(),[L,F]=R(k),[B,W]=R(k),U=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:p,disabled:h,required:g,form:x}=e,y=I(t),[b,j]=r.useState(null),[N,_]=r.useState(null),[S,E]=r.useState(!1),D=(0,u.jH)(d),[T=!1,k]=(0,w.i)({prop:a,defaultProp:i,onChange:s}),[P,O]=(0,w.i)({prop:o,defaultProp:l,onChange:c}),R=r.useRef(null),M=!b||(x||!!b.closest("form")),[F,W]=r.useState(new Set),U=Array.from(F).map((e=>e.props.value)).join(";");return(0,C.jsx)(v.bL,{...y,children:(0,C.jsxs)(L,{required:g,scope:t,trigger:b,onTriggerChange:j,valueNode:N,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:(0,f.B)(),value:P,onValueChange:O,open:T,onOpenChange:k,dir:D,triggerPointerDownPosRef:R,disabled:h,children:[(0,C.jsx)(A.Provider,{scope:t,children:(0,C.jsx)(B,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback((e=>{W((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:r.useCallback((e=>{W((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),M?(0,C.jsxs)(Te,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:p,value:P,onChange:e=>O(e.target.value),disabled:h,form:x,children:[void 0===P?(0,C.jsx)("option",{value:""}):null,Array.from(F)]},U):null]})})};U.displayName=k;var $="SelectTrigger",z=r.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...i}=e,s=I(n),l=F($,n),d=l.disabled||a,u=(0,c.s)(t,l.onTriggerChange),m=P(n),p=r.useRef("touch"),[h,f,g]=ke((e=>{const t=m().filter((e=>!e.disabled)),n=t.find((e=>e.value===l.value)),r=Ae(t,e,n);void 0!==r&&l.onValueChange(r.value)})),y=e=>{d||(l.onOpenChange(!0),g()),e&&(l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,C.jsx)(v.Mz,{asChild:!0,...s,children:(0,C.jsx)(x.sG.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":De(l.value)?"":void 0,...i,ref:u,onClick:(0,o.m)(i.onClick,(e=>{e.currentTarget.focus(),"mouse"!==p.current&&y(e)})),onPointerDown:(0,o.m)(i.onPointerDown,(e=>{p.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())})),onKeyDown:(0,o.m)(i.onKeyDown,(e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||D.includes(e.key)&&(y(),e.preventDefault())}))})})}));z.displayName=$;var H="SelectValue",V=r.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:s="",...o}=e,l=F(H,n),{onValueNodeHasChildrenChange:d}=l,u=void 0!==i,m=(0,c.s)(t,l.onValueNodeChange);return(0,j.N)((()=>{d(u)}),[d,u]),(0,C.jsx)(x.sG.span,{...o,ref:m,style:{pointerEvents:"none"},children:De(l.value)?(0,C.jsx)(C.Fragment,{children:s}):i})}));V.displayName=H;var q=r.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return(0,C.jsx)(x.sG.span,{"aria-hidden":!0,...a,ref:t,children:r||"\u25bc"})}));q.displayName="SelectIcon";var G=e=>(0,C.jsx)(g.Z,{asChild:!0,...e});G.displayName="SelectPortal";var K="SelectContent",Y=r.forwardRef(((e,t)=>{const n=F(K,e.__scopeSelect),[a,s]=r.useState();if((0,j.N)((()=>{s(new DocumentFragment)}),[]),!n.open){const t=a;return t?i.createPortal((0,C.jsx)(Z,{scope:e.__scopeSelect,children:(0,C.jsx)(A.Slot,{scope:e.__scopeSelect,children:(0,C.jsx)("div",{children:e.children})})}),t):null}return(0,C.jsx)(Q,{...e,ref:t})}));Y.displayName=K;var X=10,[Z,J]=R(K),Q=r.forwardRef(((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:d,sideOffset:u,align:f,alignOffset:v,arrowPadding:g,collisionBoundary:x,collisionPadding:b,sticky:w,hideWhenDetached:j,avoidCollisions:N,..._}=e,D=F(K,n),[T,k]=r.useState(null),[A,O]=r.useState(null),R=(0,c.s)(t,(e=>k(e))),[M,I]=r.useState(null),[L,B]=r.useState(null),W=P(n),[U,$]=r.useState(!1),z=r.useRef(!1);r.useEffect((()=>{if(T)return(0,S.Eq)(T)}),[T]),(0,p.Oh)();const H=r.useCallback((e=>{const[t,...n]=W().map((e=>e.ref.current)),[r]=n.slice(-1),a=document.activeElement;for(const i of e){if(i===a)return;if(i?.scrollIntoView({block:"nearest"}),i===t&&A&&(A.scrollTop=0),i===r&&A&&(A.scrollTop=A.scrollHeight),i?.focus(),document.activeElement!==a)return}}),[W,A]),V=r.useCallback((()=>H([M,T])),[H,M,T]);r.useEffect((()=>{U&&V()}),[U,V]);const{onOpenChange:q,triggerPointerDownPosRef:G}=D;r.useEffect((()=>{if(T){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(G.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():T.contains(n.target)||q(!1),document.removeEventListener("pointermove",t),G.current=null};return null!==G.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[T,q,G]),r.useEffect((()=>{const e=()=>q(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[q]);const[Y,X]=ke((e=>{const t=W().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=Ae(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),J=r.useCallback(((e,t,n)=>{const r=!z.current&&!n;(void 0!==D.value&&D.value===t||r)&&(I(e),r&&(z.current=!0))}),[D.value]),Q=r.useCallback((()=>T?.focus()),[T]),ne=r.useCallback(((e,t,n)=>{const r=!z.current&&!n;(void 0!==D.value&&D.value===t||r)&&B(e)}),[D.value]),re="popper"===a?te:ee,ae=re===te?{side:d,sideOffset:u,align:f,alignOffset:v,arrowPadding:g,collisionBoundary:x,collisionPadding:b,sticky:w,hideWhenDetached:j,avoidCollisions:N}:{};return(0,C.jsx)(Z,{scope:n,content:T,viewport:A,onViewportChange:O,itemRefCallback:J,selectedItem:M,onItemLeave:Q,itemTextRefCallback:ne,focusSelectedItem:V,selectedItemText:L,position:a,isPositioned:U,searchRef:Y,children:(0,C.jsx)(E.A,{as:y.DX,allowPinchZoom:!0,children:(0,C.jsx)(h.n,{asChild:!0,trapped:D.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,o.m)(i,(e=>{D.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:(0,C.jsx)(m.qW,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:(0,C.jsx)(re,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:e=>e.preventDefault(),..._,...ae,onPlaced:()=>$(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:(0,o.m)(_.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||X(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=W().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>H(t))),e.preventDefault()}}))})})})})})}));Q.displayName="SelectContentImpl";var ee=r.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:a,...i}=e,o=F(K,n),l=J(K,n),[d,u]=r.useState(null),[m,p]=r.useState(null),h=(0,c.s)(t,(e=>p(e))),f=P(n),v=r.useRef(!1),g=r.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:N}=l,_=r.useCallback((()=>{if(o.trigger&&o.valueNode&&d&&m&&y&&b&&w){const e=o.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),r=w.getBoundingClientRect();if("rtl"!==o.dir){const a=r.left-t.left,i=n.left-a,o=e.left-i,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-X,m=(0,s.q)(i,[X,Math.max(X,u-c)]);d.style.minWidth=l+"px",d.style.left=m+"px"}else{const a=t.right-r.right,i=window.innerWidth-n.right-a,o=window.innerWidth-e.right-i,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-X,m=(0,s.q)(i,[X,Math.max(X,u-c)]);d.style.minWidth=l+"px",d.style.right=m+"px"}const i=f(),l=window.innerHeight-2*X,c=y.scrollHeight,u=window.getComputedStyle(m),p=parseInt(u.borderTopWidth,10),h=parseInt(u.paddingTop,10),g=parseInt(u.borderBottomWidth,10),x=p+h+c+parseInt(u.paddingBottom,10)+g,j=Math.min(5*b.offsetHeight,x),N=window.getComputedStyle(y),_=parseInt(N.paddingTop,10),S=parseInt(N.paddingBottom,10),E=e.top+e.height/2-X,C=l-E,D=b.offsetHeight/2,T=p+h+(b.offsetTop+D),k=x-T;if(T<=E){const e=i.length>0&&b===i[i.length-1].ref.current;d.style.bottom="0px";const t=m.clientHeight-y.offsetTop-y.offsetHeight,n=T+Math.max(C,D+(e?S:0)+t+g);d.style.height=n+"px"}else{const e=i.length>0&&b===i[0].ref.current;d.style.top="0px";const t=Math.max(E,p+y.offsetTop+(e?_:0)+D)+k;d.style.height=t+"px",y.scrollTop=T-E+y.offsetTop}d.style.margin=`${X}px 0`,d.style.minHeight=j+"px",d.style.maxHeight=l+"px",a?.(),requestAnimationFrame((()=>v.current=!0))}}),[f,o.trigger,o.valueNode,d,m,y,b,w,o.dir,a]);(0,j.N)((()=>_()),[_]);const[S,E]=r.useState();(0,j.N)((()=>{m&&E(window.getComputedStyle(m).zIndex)}),[m]);const D=r.useCallback((e=>{e&&!0===g.current&&(_(),N?.(),g.current=!1)}),[_,N]);return(0,C.jsx)(ne,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:D,children:(0,C.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,C.jsx)(x.sG.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})}));ee.displayName="SelectItemAlignedPosition";var te=r.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=X,...i}=e,s=I(n);return(0,C.jsx)(v.UC,{...s,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));te.displayName="SelectPopperPosition";var[ne,re]=R(K,{}),ae="SelectViewport",ie=r.forwardRef(((e,t)=>{const{__scopeSelect:n,nonce:a,...i}=e,s=J(ae,n),l=re(ae,n),d=(0,c.s)(t,s.onViewportChange),u=r.useRef(0);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,C.jsx)(A.Slot,{scope:n,children:(0,C.jsx)(x.sG.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:(0,o.m)(i.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=l;if(r?.current&&n){const e=Math.abs(u.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*X,a=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),s=Math.max(a,i);if(s<r){const a=s+e,i=Math.min(r,a),o=a-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}u.current=t.scrollTop}))})})]})}));ie.displayName=ae;var se="SelectGroup",[oe,le]=R(se),ce=r.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,a=(0,f.B)();return(0,C.jsx)(oe,{scope:n,id:a,children:(0,C.jsx)(x.sG.div,{role:"group","aria-labelledby":a,...r,ref:t})})}));ce.displayName=se;var de="SelectLabel",ue=r.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,a=le(de,n);return(0,C.jsx)(x.sG.div,{id:a.id,...r,ref:t})}));ue.displayName=de;var me="SelectItem",[pe,he]=R(me),fe=r.forwardRef(((e,t)=>{const{__scopeSelect:n,value:a,disabled:i=!1,textValue:s,...l}=e,d=F(me,n),u=J(me,n),m=d.value===a,[p,h]=r.useState(s??""),[v,g]=r.useState(!1),y=(0,c.s)(t,(e=>u.itemRefCallback?.(e,a,i))),b=(0,f.B)(),w=r.useRef("touch"),j=()=>{i||(d.onValueChange(a),d.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,C.jsx)(pe,{scope:n,value:a,disabled:i,textId:b,isSelected:m,onItemTextChange:r.useCallback((e=>{h((t=>t||(e?.textContent??"").trim()))}),[]),children:(0,C.jsx)(A.ItemSlot,{scope:n,value:a,disabled:i,textValue:p,children:(0,C.jsx)(x.sG.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:y,onFocus:(0,o.m)(l.onFocus,(()=>g(!0))),onBlur:(0,o.m)(l.onBlur,(()=>g(!1))),onClick:(0,o.m)(l.onClick,(()=>{"mouse"!==w.current&&j()})),onPointerUp:(0,o.m)(l.onPointerUp,(()=>{"mouse"===w.current&&j()})),onPointerDown:(0,o.m)(l.onPointerDown,(e=>{w.current=e.pointerType})),onPointerMove:(0,o.m)(l.onPointerMove,(e=>{w.current=e.pointerType,i?u.onItemLeave?.():"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:(0,o.m)(l.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&u.onItemLeave?.()})),onKeyDown:(0,o.m)(l.onKeyDown,(e=>{""!==u.searchRef?.current&&" "===e.key||(T.includes(e.key)&&j()," "===e.key&&e.preventDefault())}))})})})}));fe.displayName=me;var ve="SelectItemText",ge=r.forwardRef(((e,t)=>{const{__scopeSelect:n,className:a,style:s,...o}=e,l=F(ve,n),d=J(ve,n),u=he(ve,n),m=W(ve,n),[p,h]=r.useState(null),f=(0,c.s)(t,(e=>h(e)),u.onItemTextChange,(e=>d.itemTextRefCallback?.(e,u.value,u.disabled))),v=p?.textContent,g=r.useMemo((()=>(0,C.jsx)("option",{value:u.value,disabled:u.disabled,children:v},u.value)),[u.disabled,u.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=m;return(0,j.N)((()=>(y(g),()=>b(g))),[y,b,g]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.sG.span,{id:u.textId,...o,ref:f}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?i.createPortal(o.children,l.valueNode):null]})}));ge.displayName=ve;var xe="SelectItemIndicator",ye=r.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return he(xe,n).isSelected?(0,C.jsx)(x.sG.span,{"aria-hidden":!0,...r,ref:t}):null}));ye.displayName=xe;var be="SelectScrollUpButton",we=r.forwardRef(((e,t)=>{const n=J(be,e.__scopeSelect),a=re(be,e.__scopeSelect),[i,s]=r.useState(!1),o=(0,c.s)(t,a.onScrollButtonChange);return(0,j.N)((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),i?(0,C.jsx)(_e,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));we.displayName=be;var je="SelectScrollDownButton",Ne=r.forwardRef(((e,t)=>{const n=J(je,e.__scopeSelect),a=re(je,e.__scopeSelect),[i,s]=r.useState(!1),o=(0,c.s)(t,a.onScrollButtonChange);return(0,j.N)((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),i?(0,C.jsx)(_e,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));Ne.displayName=je;var _e=r.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...i}=e,s=J("SelectScrollButton",n),l=r.useRef(null),c=P(n),d=r.useCallback((()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)}),[]);return r.useEffect((()=>()=>d()),[d]),(0,j.N)((()=>{const e=c().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[c]),(0,C.jsx)(x.sG.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:(0,o.m)(i.onPointerDown,(()=>{null===l.current&&(l.current=window.setInterval(a,50))})),onPointerMove:(0,o.m)(i.onPointerMove,(()=>{s.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(a,50))})),onPointerLeave:(0,o.m)(i.onPointerLeave,(()=>{d()}))})})),Se=r.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return(0,C.jsx)(x.sG.div,{"aria-hidden":!0,...r,ref:t})}));Se.displayName="SelectSeparator";var Ee="SelectArrow",Ce=r.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,a=I(n),i=F(Ee,n),s=J(Ee,n);return i.open&&"popper"===s.position?(0,C.jsx)(v.i3,{...a,...r,ref:t}):null}));function De(e){return""===e||void 0===e}Ce.displayName=Ee;var Te=r.forwardRef(((e,t)=>{const{value:n,...a}=e,i=r.useRef(null),s=(0,c.s)(t,i),o=(0,N.Z)(n);return r.useEffect((()=>{const e=i.current,t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(o!==n&&r){const t=new Event("change",{bubbles:!0});r.call(e,n),e.dispatchEvent(t)}}),[o,n]),(0,C.jsx)(_.s,{asChild:!0,children:(0,C.jsx)("select",{...a,ref:s,defaultValue:n})})}));function ke(e){const t=(0,b.c)(e),n=r.useRef(""),a=r.useRef(0),i=r.useCallback((e=>{const r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout((()=>e("")),1e3))}(r)}),[t]),s=r.useCallback((()=>{n.current="",window.clearTimeout(a.current)}),[]);return r.useEffect((()=>()=>window.clearTimeout(a.current)),[]),[n,i,s]}function Ae(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,a=n?e.indexOf(n):-1;let i=(s=e,o=Math.max(a,0),s.map(((e,t)=>s[(o+t)%s.length])));var s,o;1===r.length&&(i=i.filter((e=>e!==n)));const l=i.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}Te.displayName="BubbleSelect";var Pe=U,Oe=z,Re=V,Me=q,Ie=G,Le=Y,Fe=ie,Be=ue,We=fe,Ue=ge,$e=ye,ze=we,He=Ne,Ve=Se,qe=n(9766);const Ge=Pe,Ke=Re,Ye=r.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,C.jsxs)(Oe,{ref:t,className:(0,qe.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...i,children:[r,(0,C.jsx)(Me,{asChild:!0,children:(0,C.jsx)(a.TBE,{className:"h-4 w-4 opacity-50"})})]})}));Ye.displayName=Oe.displayName;const Xe=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,C.jsx)(ze,{ref:t,className:(0,qe.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,C.jsx)(a.Mtm,{})})}));Xe.displayName=ze.displayName;const Ze=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,C.jsx)(He,{ref:t,className:(0,qe.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,C.jsx)(a.D3D,{})})}));Ze.displayName=He.displayName;const Je=r.forwardRef(((e,t)=>{let{className:n,children:r,position:a="popper",...i}=e;return(0,C.jsx)(Ie,{children:(0,C.jsxs)(Le,{ref:t,className:(0,qe.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:a,...i,children:[(0,C.jsx)(Xe,{}),(0,C.jsx)(Fe,{className:(0,qe.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,C.jsx)(Ze,{})]})})}));Je.displayName=Le.displayName;r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,C.jsx)(Be,{ref:t,className:(0,qe.cn)("px-2 py-1.5 text-sm font-semibold",n),...r})})).displayName=Be.displayName;const Qe=r.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,C.jsxs)(We,{ref:t,className:(0,qe.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...i,children:[(0,C.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,C.jsx)($e,{children:(0,C.jsx)(a.Srz,{className:"h-4 w-4"})})}),(0,C.jsx)(Ue,{children:r})]})}));Qe.displayName=We.displayName;r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,C.jsx)(Ve,{ref:t,className:(0,qe.cn)("-mx-1 my-1 h-px bg-muted",n),...r})})).displayName=Ve.displayName},8468:(e,t,n)=>{var r=n(5816),a=n(644),i=n(4020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,a,n)}},8521:(e,t,n)=>{"use strict";function r(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}n.d(t,{$:()=>r})},8541:(e,t,n)=>{var r=n(9812),a=n(149),i=n(4052),s=n(9841),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8605:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(849),a=n(2316);function i(e,t){const n=(0,r.q)(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=(0,a.a)(e,t?.in),o=s.getDay(),l=6+(o<i?-7:0)-(o-i);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}},8621:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(2316);function a(e,t){const n=(0,r.a)(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),i=n(2154),s=n(8734),o=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8739:(e,t,n)=>{"use strict";n.d(t,{W:()=>a,k:()=>r});const r='(reportData, patientData, hospital, ref) => {\n  const formatDate = (date) => {\n    if (!date) return "";\n    return new Date(date).toLocaleDateString(\'en-IN\', { \n      day: \'2-digit\', \n      month: \'2-digit\', \n      year: \'numeric\' \n    });\n  };\n\n  // Add color calculation functions\n  const getValueColor = (value, normalRange, gender) => {\n    if (!value || !normalRange) return "inherit";\n  \n    // Handle gender-specific ranges\n    if (normalRange.toLowerCase().includes("male") && normalRange.toLowerCase().includes("female")) {\n      const ranges = normalRange.split(/[,;]/).map(r => r.trim());\n      const genderRange = ranges.find(r => \n        r.toLowerCase().includes(gender.toLowerCase()) || \n        r.toLowerCase().startsWith(gender.toLowerCase().charAt(0))\n      );\n      \n      if (genderRange) {\n        normalRange = genderRange\n          .replace(/s*(male|female|m|f)?:?s*/gi, "")\n          .replace(/[()]/g, "")\n          .trim();\n      }\n    }\n  \n    const numericValue = parseFloat(value);\n    if (isNaN(numericValue)) return "inherit";\n  \n    if (normalRange.includes("-")) {\n      const [min, max] = normalRange.split("-").map(v => parseFloat(v));\n      if (!isNaN(min) && !isNaN(max)) {\n        if (numericValue < min) return "#FF4444";\n        if (numericValue > max) return "#FF4444";\n        return "#2ECC71";\n      }\n    } else if (normalRange.startsWith("<")) {\n      const max = parseFloat(normalRange.substring(1));\n      if (!isNaN(max)) return numericValue > max ? "#FF4444" : "#2ECC71";\n    } else if (normalRange.startsWith(">")) {\n      const min = parseFloat(normalRange.substring(1));\n      if (!isNaN(min)) return numericValue < min ? "#FF4444" : "#2ECC71";\n    }\n  \n    return "inherit";\n  };\n\n  const shouldUseTextarea = (unit, normalRange) => {\n    return !(["",undefined,null,"N/A"].includes(unit) && ["",undefined,null,"N/A"].includes(normalRange))\n  };\n\n  const getGenderSpecificRange = (normalRange, gender) => {\n    if (!normalRange || !gender) return normalRange;\n\n    if (normalRange.toLowerCase().includes("male") && normalRange.toLowerCase().includes("female")) {\n      const ranges = normalRange.split(/[,;]/).map(r => r.trim());\n      const genderRange = ranges.find(r => \n        r.toLowerCase().includes(gender.toLowerCase()) || \n        r.toLowerCase().startsWith(gender.toLowerCase().charAt(0))\n      );\n      \n      if (genderRange) {\n        return genderRange\n          .replace(/s*(male|female|m|f)?:?s*/gi, "")\n          .replace(/[()]/g, "")\n          .trim();\n      }\n    }\n    return normalRange;\n  };\n\n  return React.createElement("div", { \n    ref: ref, \n    className: "relative font-[Tinos] bg-white w-[210mm] min-h-[297mm] mx-auto box-border p-[5mm] print:absolute print:left-0 print:top-0 print:w-full print:[&_*]:visible print:visible print:p-5 print:[&_.no-print]:hidden"\n  },\n   \n    React.createElement(HospitalHeader, { hospitalInfo: hospital }),\n\n    React.createElement("div", { \n      className: "mt-[5px] p-2 bg-[#f8f9fa] rounded-[2mm] border border-[#e2e8f0] grid grid-cols-3 gap-2"\n    },\n     \n        React.createElement("div", { className: "flex items-center" },\n          React.createElement("span", { className: " font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Name:"),\n          React.createElement("span", { className: " text-[#2c3e50]" }, patientData?.patientName)\n        ),\n        React.createElement("div", { className: "flex items-center" },\n          React.createElement("span", { className: " font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Age/Gender:"),\n          React.createElement("span", { className: " text-[#2c3e50]" }, `${patientData?.patient?.age || patientData.age} YEARS/${patientData?.patient?.gender?.charAt(0) || patientData.gender?.charAt(0)}`)\n        ),\n        React.createElement("div", { className: "flex items-center" },\n          React.createElement("span", { className: " font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Reg/Lab No:"),\n          React.createElement("span", { className: " text-[#2c3e50]" }, `${patientData?.registrationNumber ? patientData.registrationNumber : "--"}/${patientData?.labNumber ? patientData.labNumber : "--"}`)\n        ),\n        React.createElement("div", { className: "flex items-start min-h-[24px]" },\n          React.createElement("span", { className: "font-bold text-[#34495e] mr-[2mm] min-w-[20mm] mt-[2px]" }, "Address:"),\n          React.createElement("span", { \n            className: "text-[#2c3e50] flex-1 break-words overflow-hidden",\n            style: {\n              lineHeight: \'1.2\',\n              maxHeight: \'2.4em\',\n              overflow: \'hidden\',\n              textOverflow: \'ellipsis\'\n            }\n          }, patientData?.address)\n        ),\n        React.createElement("div", { className: "flex items-center" },\n          React.createElement("span", { className: " font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Contact:"),\n          React.createElement("span", { className: " text-[#2c3e50]" }, patientData?.contactNumber)\n        ),\n        React.createElement("div", { className: "flex items-center" },\n          React.createElement("span", { className: " font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Date:"),\n          React.createElement("span", { className: " text-[#2c3e50]" }, formatDate(reportData?.date))\n        )\n    ),\n\n    // Report Title\n    React.createElement("div", { className: "text-center my-1" },\n      React.createElement("h2", { className: "text-[16px] font-bold underline tracking-wider" },\n       reportData?.name\n      )\n    ),\n\n    // Notes if present\n  \n\n    // Report Content\n    React.createElement("div", { className: "border-t-2 border-b-2 border-[#ecf0f1] pb-[60mm]" },\n      // Only show table header if there are table-format fields\n      reportData.order && reportData.order.some(item => \n        item.type === \'field\' && shouldUseTextarea(item.unit, item.normalRange)\n      ) && React.createElement("div", { \n        className: "grid grid-cols-12 gap-4 bg-[#f8f9fa] py-1 font-bold text-[14px] mb-2",\n        style: { pageBreakAfter: "avoid" }\n      },\n        React.createElement("div", { className: "col-span-5 font-bold pr-[2mm]" }, "Test Name"),\n        React.createElement("div", { className: "col-span-2 font-bold text-center" }, "Result"),\n        React.createElement("div", { className: "col-span-2 font-bold text-center" }, "Unit"),\n        React.createElement("div", { className: "col-span-3 font-bold text-right" }, "Normal Range")\n      ),\n\n      // Ordered Items (Fields and Sections)\n      reportData.order && reportData.order.map((item, index) => {\n        if (item.type === \'section\') {\n          return React.createElement("div", {\n            key: `section-${index}`,\n            className: "col-span-12  p-1 font-bold text-[14px] text-[#2c3e50]"\n          }, item.name);\n        } else {\n          // Check if field should use textarea format\n          const useTableFormat = shouldUseTextarea(item.unit, item.normalRange);\n          \n          return item.value ? React.createElement("div", {\n            key: `field-${index}`,\n            className: useTableFormat ? \n              "grid grid-cols-12 gap-4 py-[2px] items-center text-[13px]" :\n              "grid grid-cols-12 gap-5 py-[2px] items-baseline"\n          },\n            useTableFormat ? \n              // Table format\n              React.createElement(React.Fragment, null,\n                React.createElement("div", { className: "col-span-5 text-[#2c3e50] pr-[2mm] pl-4 " }, \n                  item.label\n                ),\n                React.createElement("div", {\n                  className: "col-span-2 text-center font-bold",\n                  style: { \n                    color: getValueColor(\n                      item.value, \n                      item.normalRange, \n                      patientData?.gender || patientData?.patient?.gender\n                    )\n                  }\n                }, item.value || \'-\'),\n                React.createElement("div", { className: "col-span-2 text-center" }, \n                  item.unit || \'-\'\n                ),\n                React.createElement("div", { className: "col-span-3 text-right" },\n                  getGenderSpecificRange(\n                    item.normalRange, \n                    patientData?.gender || patientData?.patient?.gender\n                  ) || \'-\'\n                )\n              ) :\n              // Textarea format\n              React.createElement(React.Fragment, null,\n                React.createElement("div", { className: "text-[15px] col-span-2 font-bold" }, \n                  item.label\n                ),\n                React.createElement("div", {\n                  className: "text-[14px] flex col-span-10 whitespace-pre-wrap break-all w-full",\n                  style: {\n                    color: getValueColor(\n                      item.value, \n                      item.normalRange, \n                      patientData?.gender || patientData?.patient?.gender\n                    ),\n                    wordBreak: \'break-word\',\n                    overflowWrap: \'break-word\',\n                    lineHeight: \'1.2\'\n                  }\n                }, item.value || \'\')\n              )\n          ):React.createElement("div",null);\n        }\n      })\n    ),\n      reportData.notes && React.createElement("div", { \n      className: "mb-4 p-2 bg-[#f8f9fa] rounded border border-[#e2e8f0]"\n    },\n      React.createElement("strong", {}, "Notes: "),\n      React.createElement("span", {}, reportData.notes)\n    ),\n\n    // Footer\n    React.createElement("div", { className: "absolute bottom-[7mm] left-[10mm] right-[10mm] pt-[5mm]" },\n      React.createElement("div", { className: "text-right pr-[20mm] border-t border-black pt-[4mm]" },\n        React.createElement("div", { className: "text-[10pt] font-bold" }, "Doctor\'s Signature")\n      ),\n      React.createElement("div", { className: "text-[8pt] text-[#666] mb-[2mm] text-center" },\n        "This is a computer-generated report and does not require a physical signature."\n      )\n    )\n  );\n}',a='(reportsData, patientData, hospital, ref) => {\n  const formatDate = (date) => {\n    if (!date) return "";\n    return new Date(date).toLocaleDateString(\'en-IN\', { \n      day: \'2-digit\', \n      month: \'2-digit\', \n      year: \'numeric\' \n    });\n  };\n\n  const getValueColor = (value, normalRange, gender) => {\n    if (!value || !normalRange) return "inherit";\n  \n    if (normalRange.toLowerCase().includes("male") && normalRange.toLowerCase().includes("female")) {\n      const ranges = normalRange.split(/[,;]/).map(r => r.trim());\n      const genderRange = ranges.find(r => \n        r.toLowerCase().includes(gender.toLowerCase()) || \n        r.toLowerCase().startsWith(gender.toLowerCase().charAt(0))\n      );\n      \n      if (genderRange) {\n        normalRange = genderRange\n          .replace(/s*(male|female|m|f)?:?s*/gi, "")\n          .replace(/[()]/g, "")\n          .trim();\n      }\n    }\n  \n    const numericValue = parseFloat(value);\n    if (isNaN(numericValue)) return "inherit";\n  \n    if (normalRange.includes("-")) {\n      const [min, max] = normalRange.split("-").map(v => parseFloat(v));\n      if (!isNaN(min) && !isNaN(max)) {\n        if (numericValue < min) return "#FF4444";\n        if (numericValue > max) return "#FF4444";\n        return "#2ECC71";\n      }\n    } else if (normalRange.startsWith("<")) {\n      const max = parseFloat(normalRange.substring(1));\n      if (!isNaN(max)) return numericValue > max ? "#FF4444" : "#2ECC71";\n    } else if (normalRange.startsWith(">")) {\n      const min = parseFloat(normalRange.substring(1));\n      if (!isNaN(min)) return numericValue < min ? "#FF4444" : "#2ECC71";\n    }\n  \n    return "inherit";\n  };\n\n  const shouldUseTextarea = (unit, normalRange) => {\n    return !(["",undefined,null,"N/A"].includes(unit) && ["",undefined,null,"N/A"].includes(normalRange))\n  };\n\n  const getGenderSpecificRange = (normalRange, gender) => {\n    if (!normalRange || !gender) return normalRange;\n\n    if (normalRange.toLowerCase().includes("male") && normalRange.toLowerCase().includes("female")) {\n      const ranges = normalRange.split(/[,;]/).map(r => r.trim());\n      const genderRange = ranges.find(r => \n        r.toLowerCase().includes(gender.toLowerCase()) || \n        r.toLowerCase().startsWith(gender.toLowerCase().charAt(0))\n      );\n      \n      if (genderRange) {\n        return genderRange\n          .replace(/s*(male|female|m|f)?:?s*/gi, "")\n          .replace(/[()]/g, "")\n          .trim();\n      }\n    }\n    return normalRange;\n  };\n\n  // Group reports by table/non-table format\n  const groupedReports = reportsData.reduce((acc, report) => {\n    // Process report fields and sections into ordered items\n    const orderedItems = report.sections\n      ? (() => {\n          const items = [];\n          let currentPosition = 0;\n\n          // Sort sections by position\n          const sortedSections = [...(report.sections || [])].sort(\n            (a, b) => a.position - b.position\n          );\n\n          // Get all fields as array\n          const fields = Object.entries(report.report || {}).map(([key, value]) => ({\n            id: key,\n            ...value\n          }));\n\n          // Process each section and its fields\n          sortedSections.forEach((section, idx) => {\n            // Add fields before this section\n            const fieldsBeforeSection = fields.slice(\n              currentPosition,\n              section.position\n            );\n            items.push(\n              ...fieldsBeforeSection.map((field, index) => ({\n                type: "field",\n                ...field,\n                position: currentPosition + index,\n              }))\n            );\n\n            // Add the section\n            items.push({\n              type: "section",\n              id: section._id,\n              name: section.name,\n              position: section.position,\n            });\n\n            currentPosition = section.position;\n\n            // If it\'s the last section, add remaining fields\n            if (idx === sortedSections.length - 1) {\n              const remainingFields = fields.slice(currentPosition);\n              items.push(\n                ...remainingFields.map((field, index) => ({\n                  type: "field",\n                  ...field,\n                  position: currentPosition + index,\n                }))\n              );\n            }\n          });\n\n          // If no sections, just add all fields\n          if (sortedSections.length === 0) {\n            items.push(\n              ...fields.map((field, index) => ({\n                type: "field",\n                ...field,\n                position: index,\n              }))\n            );\n          }\n\n          return items;\n        })()\n      : Object.entries(report.report || {}).map(([key, value], index) => ({\n          type: "field",\n          id: key,\n          ...value,\n          position: index,\n        }));\n\n    // Check if report has any table format entries\n    const hasTableEntries = orderedItems.some(\n      item => item.type === "field" && shouldUseTextarea(item.unit, item.normalRange)\n    );\n\n    if (hasTableEntries) {\n      acc.tableReports.push({...report, orderedItems});\n    } else {\n      acc.nonTableReports.push({...report, orderedItems});\n    }\n    return acc;\n  }, { tableReports: [], nonTableReports: [] });\n\n  // Calculate footer height for proper content area sizing\n  const footerHeight = 50; // height in mm\n\n  return React.createElement("div", { \n    ref: ref, \n    className: "relative font-[Tinos] bg-white w-[210mm] min-h-[297mm] mx-auto box-border p-[10mm] print:absolute print:left-0 print:top-0 print:w-full print:[&_*]:visible print:visible print:p-5 print:[&_.no-print]:hidden"\n  },\n   \n\n    React.createElement(HospitalHeader, { hospitalInfo: hospital }),\n\n    React.createElement("div", { \n      className: "mt-[5px] p-2 bg-[#f8f9fa] rounded-[2mm] border border-[#e2e8f0] grid grid-cols-3 gap-2"\n    },\n      React.createElement("div", { className: "flex items-center" },\n        React.createElement("span", { className: "font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Name:"),\n        React.createElement("span", { className: "text-[#2c3e50]" }, patientData?.patientName)\n      ),\n      React.createElement("div", { className: "flex items-center" },\n        React.createElement("span", { className: "font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Age/Gender:"),\n        React.createElement("span", { className: "text-[#2c3e50]" }, \n          `${patientData?.patient?.age || patientData?.age} YEARS/${patientData?.patient?.gender || patientData?.gender}`\n        )\n      ),\n      React.createElement("div", { className: "flex items-center" },\n        React.createElement("span", { className: "font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Reg No/Lab No:"),\n        React.createElement("span", { className: "text-[#2c3e50]" }, \n          `${patientData?.registrationNumber ? patientData.registrationNumber : "--"}/${patientData?.labNumber ? patientData.labNumber : "--"}`\n        )\n      ),\n      React.createElement("div", { className: "flex items-start min-h-[24px]" },\n        React.createElement("span", { className: "font-bold text-[#34495e] mr-[2mm] min-w-[20mm] mt-[2px]" }, "Address:"),\n        React.createElement("span", { \n          className: "text-[#2c3e50] flex-1 break-words overflow-hidden",\n          style: {\n            lineHeight: \'1.2\',\n            maxHeight: \'2.4em\',\n            overflow: \'hidden\',\n            textOverflow: \'ellipsis\'\n          }\n        }, patientData?.address)\n      ),\n      React.createElement("div", { className: "flex items-center" },\n        React.createElement("span", { className: "font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Contact:"),\n        React.createElement("span", { className: "text-[#2c3e50]" }, patientData?.contactNumber)\n      ),\n      React.createElement("div", { className: "flex items-center" },\n        React.createElement("span", { className: "font-bold text-[#34495e] mr-[2mm] min-w-[20mm]" }, "Date:"),\n        React.createElement("span", { className: "text-[#2c3e50]" }, formatDate(reportsData[0]?.date))\n      )\n    ),\n\n    // Report Title (with page-break-after: avoid to keep with content)\n    React.createElement("div", { className: "text-center my-2" },\n      React.createElement("h2", { className: "text-lg font-bold underline tracking-wider" },\n        reportsData.map(report => report.name).join(", ")\n      )\n    ),\n\n    // Report Content (with padding to avoid footer overlap)\n    React.createElement("div", { className: "border-t-2 border-b-2 border-[#ecf0f1] pb-[10mm]" },\n      // Table format reports\n      groupedReports.tableReports.length > 0 && React.createElement(React.Fragment, null,\n        React.createElement("div", { \n          className: "grid grid-cols-12 gap-4 bg-[#f8f9fa] pt-1 tracking-wide font-bold text-[16px] mb-2",\n        },\n          React.createElement("div", { className: "col-span-5 font-bold pr-[2mm]" }, "Test Name"),\n          React.createElement("div", { className: "col-span-2 font-bold text-center" }, "Result"),\n          React.createElement("div", { className: "col-span-2 font-bold text-center" }, "Unit"),\n          React.createElement("div", { className: "col-span-3 font-bold text-right" }, "Normal Range")\n        ),\n\n        groupedReports.tableReports.map((reportData, reportIndex) => \n          React.createElement("div", { \n            key: reportIndex, \n            className: "mb-1",\n          },\n            React.createElement("h3", { \n              className: "text-base mb-1 tracking-wider font-bold",\n            }, \n              React.createElement("span",{},reportData.name),\n              React.createElement("span",{className:"text-xs pl-3"},formatDate(reportData.date))\n            ),\n            reportData.orderedItems.map((item, index) => \n              item.type === "section" \n                ? React.createElement("div", {\n                    key: `section-${index}`,\n                    className: "col-span-12  pr-[2mm] pl-4 font-bold text-[16px] text-[#2c3e50]"\n                  }, item.name)\n                : item.value ? React.createElement("div", { \n                    key: `table-${reportIndex}-${index}`,\n                    className: "grid grid-cols-12 gap-4 items-center text-[14px]",\n                  },\n                    React.createElement("div", { className: "col-span-5 text-[#2c3e50] pr-[2mm] pl-4" }, item.label),\n                    React.createElement("div", { \n                      className: "col-span-2 text-[10pt] text-center font-bold",\n                      style: { color: getValueColor(item.value, item.normalRange, patientData?.patient?.gender || patientData.gender) }\n                    }, item.value),\n                    React.createElement("div", { className: "col-span-2 text-center" }, item.unit),\n                    React.createElement("div", { className: "col-span-3 text-right" }, \n                      getGenderSpecificRange(item.normalRange, patientData?.patient?.gender || patientData.gender)\n                    )\n                  ) : React.createElement("div",null)\n            )\n          )\n        )\n      ),\n\n      // Non-table format reports\n      groupedReports.nonTableReports.length > 0 && React.createElement(React.Fragment, null,\n        groupedReports.nonTableReports.map((reportData, reportIndex) => \n          React.createElement("div", { \n            key: reportIndex, \n            className: "",\n          },\n            React.createElement("h3", { \n              className: "text-base font-bold tracking-wider",\n            }, \n              React.createElement("span",{},reportData.name),\n              React.createElement("span",{className:"text-xs pl-3"},formatDate(reportData.date))\n            ),\n            reportData.orderedItems.map((item, index) => \n              item.type === "section"\n                ? React.createElement("div", {\n                    key: `section-${index}`,\n                    className: "text-base mb-1 pl-4 text-[#2c3e50]"\n                  }, item.name)\n                : item.value ? React.createElement("div", { \n                    key: `non-table-${reportIndex}-${index}`,\n                    className: "grid grid-cols-12 gap-5 py-1 items-baseline"\n                  },\n                    React.createElement("div", { className: "text-[12pt] pl-4 col-span-2 font-bold" }, item.label),\n                    React.createElement("div", { \n                      className: "text-[11pt] flex col-span-10 whitespace-pre-wrap break-all w-full",\n                      style: {\n                        color: getValueColor(item.value, item.normalRange, patientData?.patient?.gender || patientData.gender),\n                        wordBreak: "break-word",\n                        overflowWrap: "break-word",\n                        lineHeight: "1"\n                      }\n                    }, item.value)\n                  ) : React.createElement("div",null)\n            )\n          )\n        )\n      )\n    )\n    \n  \n  );\n}'},8756:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(6981);function a(e,t,n){return(0,r.f)(e,-t,n)}},8796:(e,t,n)=>{"use strict";var r;n.d(t,{we:()=>E});var a=n(5043),i=n(5702),s=(n(7950),n(6178));const o={...r||(r=n.t(a,2))},l=o.useInsertionEffect||(e=>e());function c(e){const t=a.useRef((()=>{0}));return l((()=>{t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const d="ArrowUp",u="ArrowDown",m="ArrowLeft",p="ArrowRight";var h="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;const f=[m,p],v=[d,u];let g=!1,x=0;const y=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+x++;const b=o.useId||function(){const[e,t]=a.useState((()=>g?y():void 0));return h((()=>{null==e&&t(y())}),[]),a.useEffect((()=>{g=!0}),[]),e};function w(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const j=a.createContext(null),N=a.createContext(null),_=()=>{var e;return(null==(e=a.useContext(j))?void 0:e.id)||null},S=()=>a.useContext(N);function E(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=b(),s=a.useRef({}),[o]=a.useState((()=>w())),l=null!=_(),[d,u]=a.useState(r.reference),m=c(((e,t,r)=>{s.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),p=a.useMemo((()=>({setPositionReference:u})),[]),h=a.useMemo((()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference})),[d,r.reference,r.floating]);return a.useMemo((()=>({dataRef:s,open:t,onOpenChange:m,elements:h,events:o,floatingId:i,refs:p})),[t,m,h,o,i,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[l,d]=a.useState(null),[u,m]=a.useState(null),p=(null==o?void 0:o.domReference)||l,f=a.useRef(null),v=S();h((()=>{p&&(f.current=p)}),[p]);const g=(0,s.we)({...e,elements:{...o,...u&&{reference:u}}}),x=a.useCallback((e=>{const t=(0,i.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;m(t),g.refs.setReference(t)}),[g.refs]),y=a.useCallback((e=>{((0,i.vq)(e)||null===e)&&(f.current=e,d(e)),((0,i.vq)(g.refs.reference.current)||null===g.refs.reference.current||null!==e&&!(0,i.vq)(e))&&g.refs.setReference(e)}),[g.refs]),j=a.useMemo((()=>({...g.refs,setReference:y,setPositionReference:x,domReference:f})),[g.refs,y,x]),N=a.useMemo((()=>({...g.elements,domReference:p})),[g.elements,p]),E=a.useMemo((()=>({...g,...r,refs:j,elements:N,nodeId:t})),[g,j,N,t,r]);return h((()=>{r.dataRef.current.floatingContext=E;const e=null==v?void 0:v.nodesRef.current.find((e=>e.id===t));e&&(e.context=E)})),a.useMemo((()=>({...g,context:E,refs:j,elements:N})),[g,j,N,E])}},8848:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(9219),a=n(1844),i=n(4524),s=n(1176);function o(e,t,n){const[o,l]=(0,a.x)(n?.in,e,t),c=(0,s.o)(o),d=(0,s.o)(l),u=+c-(0,r.G)(c),m=+d-(0,r.G)(d);return Math.round((u-m)/i.w4)}},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8901:(e,t,n)=>{"use strict";n.d(t,{wr:()=>r,xX:()=>a});const r={sections:[{id:"patientInfo",title:"Patient Information",className:"bg-secondary/10 rounded-lg p-3 mb-4",fields:[{id:"name",label:"Name",type:"text",width:"full"},{id:"age",label:"Age",type:"text",width:"half"},{id:"gender",label:"Gender",type:"text",width:"half"},{id:"registrationNumber",label:"UHID No",type:"text",width:"full",searchable:!0},{id:"ipdNumber",label:"IPD No",type:"text",width:"full"},{id:"contactNumber",label:"Contact",type:"text",width:"full"},{id:"address",label:"Address",type:"text",width:"full"},{id:"roomNumber",label:"Room",type:"text",width:"full"},{id:"admissionDate",label:"Admit Date",type:"date",width:"full"},{id:"dateDischarged",label:"Discharge Date",type:"date",width:"full"},{id:"timeDischarged",label:"Discharge Time",type:"time",width:"full"},{id:"admittedTime",label:"Admitted Time",type:"time",width:"full"},{id:"husband",label:"Husband Name",type:"text",width:"full"}]},{id:"clinicalInfo",fields:[{id:"diagnosis",label:"Diagnosis",type:"multiselect",component:"MultiSelectInput",suggestions:"diagnosisTemplate",width:"full"},{id:"clinicalSummary",label:"Clinical Summary",type:"textarea",width:"full"},{id:"comorbidities",label:"Comorbidities",type:"multiselect",component:"MultiSelectInput",suggestions:"comorbidities",width:"full",extraComponent:"ComorbidityHandling"},{id:"admissionVitals",label:"Admission Vitals",type:"vitals",prefix:"admission",width:"full"},{id:"conditionOnAdmission",label:"Condition on Admission",type:"textarea",width:"full"},{id:"investigations",label:"Investigations",type:"investigations",width:"full"},{id:"treatment",label:"Treatment",type:"textarea",width:"full"},{id:"babyDetails",label:"Baby Details",type:"babyTable",component:"BabyTable",width:"full"},{id:"dischargeVitals",label:"Discharge Vitals",type:"vitals",prefix:"discharge",width:"full"},{id:"conditionOnDischarge",label:"Condition on Discharge",type:"textarea",width:"full"},{id:"medicineAdvice",label:"Medicine/Advice",type:"medicineAdvice",width:"full"}]}]},a=()=>r},8902:(e,t,n)=>{var r=n(4816),a=n(6179),i=n(6704);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=a,s.prototype.has=i,e.exports=s},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),i=n(4052),s=n(9194),o=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,d=(t=r(t,e)).length,u=!1;++c<d;){var m=l(t[c]);if(!(u=null!=e&&n(e,m)))break;e=e[m]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&o(d)&&s(m,d)&&(i(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),i=n(3279),s=n(4052),o=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?a(e[0],e[1]):r(e):o(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),i=n(715);e.exports=function(e){return a(e)?i(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9219:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=n(2316);function a(e){const t=(0,r.a)(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}},9250:(e,t,n)=>{"use strict";n.d(t,{B8:()=>y,GF:()=>A,IF:()=>E,SM:()=>_,Ur:()=>N,Yq:()=>w,aj:()=>j,hn:()=>P,tP:()=>S,vv:()=>b});var r=n(5043),a=n(3390),i=n(8106),s=n(3400),o=n(852),l=n(1208),c=n(8134),d=n(1176),u=n(6691),m=n(8756),p=n(1620),h=n(8605),f=n(4912),v=n(3695),g=n(9766),x=n(579);const y="https://thehospital.in",b=e=>{const t=e%1!==0,n=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:t?2:0}).format(Math.abs(e)).replace(/^(\D+)/,"\u20b9");return e<0?`-${n}`:n},w=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},j={"Patient Management":[{id:"create_patients",label:"Create Patients"},{id:"delete_patients",label:"Delete Patients"},{id:"edit_patients",label:"Edit Patients"},{id:"can_discharge",label:"Can Discharge"},{id:"give_discount",label:"Give Discount"}],"Inventory Management":[{id:"edit_inventory_price",label:"Edit Prices"}],"Financial Management":[{id:"view_financial",label:"View Financial Data"},{id:"edit_bills",label:"Edit Bills"},{id:"view_reports",label:"View Reports"},{id:"record_expense",label:"Record Expense"},{id:"view_otherscollection_all",label:"View Other's collection for all days"},{id:"view_otherscollection_for_just_today",label:"View Other's collection for only today"}],"Staff Management":[{id:"view_staff",label:"View Staff"},{id:"create_staff",label:"Create Staff"},{id:"edit_staff",label:"Edit Staff"},{id:"delete_staff",label:"Delete Staff"}],"Hospital Management":[{id:"edit_hospital",label:"Edit Hospital"}]},N=e=>{let{from:t,to:n,onSelect:d,onSearch:u,onCancel:m}=e;const[p,h]=(0,r.useState)(!1),f=new Date,v=(0,l.a)(f,1);return(0,x.jsx)("div",{className:(0,g.cn)("grid gap-2"),children:(0,x.jsxs)(i.AM,{open:p,onOpenChange:h,children:[(0,x.jsx)(i.Wv,{asChild:!0,children:(0,x.jsxs)(a.$,{id:"date",variant:"outline",className:(0,g.cn)("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[(0,x.jsx)(o.CTc,{className:"mr-2 h-4 w-4"}),t?n?(0,x.jsxs)(x.Fragment,{children:[(0,c.GP)(t,"LLL dd, y")," - ",(0,c.GP)(n,"LLL dd, y")]}):(0,c.GP)(t,"LLL dd, y"):(0,x.jsx)("span",{children:"Pick a date range"})]})}),(0,x.jsxs)(i.hl,{className:"w-auto p-0",align:"start",children:[(0,x.jsx)(s.V,{initialFocus:!0,mode:"range",defaultMonth:v,selected:{from:t,to:n},onSelect:d,numberOfMonths:2,toDate:f}),(0,x.jsxs)("div",{className:"flex justify-end gap-2 p-2",children:[(0,x.jsx)(a.$,{variant:"outline",size:"sm",onClick:()=>{m(),h(!1)},children:"Cancel"}),(0,x.jsx)(a.$,{size:"sm",onClick:()=>{u(),h(!1)},children:"Search"})]})]})]})})},_=e=>{const t=new Date;let n,r;switch(e){case"Today":n=(0,d.o)(t),r=(0,u.D)(t);break;case"Yesterday":const e=(0,m.e)(t,1);n=(0,d.o)(e),r=(0,u.D)(e);break;case"This Week":n=(0,p.k)(t,{weekStartsOn:0}),r=(0,h.$)(t,{weekStartsOn:0});break;case"This Month":n=(0,f.w)(t),r=(0,v.p)(t);break;case"Last 7 Days":n=(0,d.o)((0,m.e)(t,6)),r=(0,u.D)(t);break;default:n=(0,d.o)((0,m.e)(t,30)),r=(0,u.D)(t)}return{from:n,to:r}},S=(e,t)=>{if(0===t)return e>0?100:0;const n=(e-t)/Math.abs(t)*100;return Number(n.toFixed(2))},E=e=>{if(!e||"string"!==typeof e)return"";const t=e.trim().replace(/\s+/g," "),n=t.split(" ");if(2===n.length){const[e,t]=n,r=t.toUpperCase();if(e.includes(":")&&("AM"===r||"PM"===r)){const[t,n]=e.split(":"),a=parseInt(t,10),i=parseInt(n,10);if(!isNaN(a)&&!isNaN(i)&&a>=1&&a<=12&&i>=0&&i<=59)return`${t.padStart(2,"0")}:${n.padStart(2,"0")} ${r}`}}try{const[e,n]=t.split(":"),r=parseInt(e,10),a=parseInt(n,10);if(isNaN(r)||isNaN(a)||r<0||r>23||a<0||a>59)return"";const i=r>=12?"PM":"AM";return`${(r%12||12).toString().padStart(2,"0")}:${n.toString().padStart(2,"0")} ${i}`}catch(r){return""}},C=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],D=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],T=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];function k(e){if(0===e)return"";let t="";if(e>=100&&(t+=C[Math.floor(e/100)]+" Hundred ",e%=100),e>=20)t+=D[Math.floor(e/10)]+" ",e%=10;else if(e>=10)return t+=T[e-10]+" ",t.trim();return e>0&&(t+=C[e]+" "),t.trim()}function A(e){if(0===e)return"Zero";const t=Math.floor(e/1e7),n=Math.floor(e%1e7/1e5),r=Math.floor(e%1e5/1e3),a=e%1e3;let i="";return t>0&&(i+=k(t)+" Crore "),n>0&&(i+=k(n)+" Lakh "),r>0&&(i+=k(r)+" Thousand "),a>0&&(i+=k(a)),i.trim()}const P="https://thousandwayshospital.s3.ap-south-1.amazonaws.com"},9256:(e,t,n)=>{var r=n(6532),a=n(3781),i=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9292:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9364:(e,t,n)=>{var r=n(9742),a=n(9096),i=n(61);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),i=n(8673);e.exports=function(e){return r(e,i,a)}},9415:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(1620);function a(e,t){return(0,r.k)(e,{...t,weekStartsOn:1})}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9504:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(849),a=n(2440),i=n(1620),s=n(2316);function o(e,t){const n=(0,s.a)(e,t?.in),o=n.getFullYear(),l=(0,r.q)(),c=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=(0,a.w)(t?.in||e,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const u=(0,i.k)(d,t),m=(0,a.w)(t?.in||e,0);m.setFullYear(o,0,c),m.setHours(0,0,0,0);const p=(0,i.k)(m,t);return+n>=+u?o+1:+n>=+p?o:o-1}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return i.call(e,t)})))}:a;e.exports=o},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,i){for(var s=-1,o=n(t((r-e)/(a||1)),0),l=Array(o);o--;)l[i?o:++s]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,i=e.length;++a<i;){var s=e[a],o=t(s);if(null!=o&&(void 0===l?o===o&&!r(o):n(o,l)))var l=o,c=s}return c}},9766:(e,t,n)=>{"use strict";n.d(t,{cn:()=>Z});var r=n(8387);const a=e=>{const t=l(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),i(n,t)||o(e)},getConflictingClassGroupIds:(e,t)=>{const a=n[e]||[];return t&&r[e]?[...a,...r[e]]:a}}},i=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?i(e.slice(1),r):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(s)}))?.classGroupId},s=/^\[(.+)\]$/,o=e=>{if(s.test(e)){const t=s.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},l=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return m(Object.entries(e.classGroups),n).forEach((e=>{let[n,a]=e;c(a,r,n,t)})),r},c=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return u(e)?void c(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[a,i]=e;c(i,d(t,a),n,r)}))}else{(""===e?t:d(t,e)).classGroupId=n}}))},d=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},u=e=>e.isThemeGetter,m=(e,t)=>t?e.map((e=>{let[n,r]=e;return[n,r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e))]})):e,p=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):a(e,t)}}},h=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,a=t[0],i=t.length,s=e=>{const n=[];let s,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===a&&(r||e.slice(u,u+i)===t)){n.push(e.slice(l,u)),l=u+i;continue}if("/"===c){s=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:n,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return n?e=>n({className:e,parseClassName:s}):s},f=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},v=/\s+/;function g(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=x(e))&&(r&&(r+=" "),r+=t);return r}const x=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=x(e[r]))&&(n&&(n+=" "),n+=t);return n};function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,s,o,l=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=(e=>({cache:p(e.cacheSize),parseClassName:h(e),...a(e)}))(r),s=i.cache.get,o=i.cache.set,l=c,c(t)};function c(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(v);let o="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(e);let m=Boolean(u),p=r(m?d.substring(0,u):d);if(!p){if(!m){o=e+(o.length>0?" "+o:o);continue}if(p=r(d),!p){o=e+(o.length>0?" "+o:o);continue}m=!1}const h=f(t).join(":"),v=c?h+"!":h,g=v+p;if(i.includes(g))continue;i.push(g);const x=a(p,m);for(let n=0;n<x.length;++n){const e=x[n];i.push(v+e)}o=e+(o.length>0?" "+o:o)}return o})(e,i);return o(e,n),n}return function(){return l(g.apply(null,arguments))}}const b=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},w=/^\[(?:([a-z-]+):)?(.+)\]$/i,j=/^\d+\/\d+$/,N=new Set(["px","full","screen"]),_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,T=e=>A(e)||N.has(e)||j.test(e),k=e=>H(e,"length",V),A=e=>Boolean(e)&&!Number.isNaN(Number(e)),P=e=>H(e,"number",A),O=e=>Boolean(e)&&Number.isInteger(Number(e)),R=e=>e.endsWith("%")&&A(e.slice(0,-1)),M=e=>w.test(e),I=e=>_.test(e),L=new Set(["length","size","percentage"]),F=e=>H(e,L,q),B=e=>H(e,"position",q),W=new Set(["image","url"]),U=e=>H(e,W,K),$=e=>H(e,"",G),z=()=>!0,H=(e,t,n)=>{const r=w.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},V=e=>S.test(e)&&!E.test(e),q=()=>!1,G=e=>C.test(e),K=e=>D.test(e),Y=(Symbol.toStringTag,()=>{const e=b("colors"),t=b("spacing"),n=b("blur"),r=b("brightness"),a=b("borderColor"),i=b("borderRadius"),s=b("borderSpacing"),o=b("borderWidth"),l=b("contrast"),c=b("grayscale"),d=b("hueRotate"),u=b("invert"),m=b("gap"),p=b("gradientColorStops"),h=b("gradientColorStopPositions"),f=b("inset"),v=b("margin"),g=b("opacity"),x=b("padding"),y=b("saturate"),w=b("scale"),j=b("sepia"),N=b("skew"),_=b("space"),S=b("translate"),E=()=>["auto",M,t],C=()=>[M,t],D=()=>["",T,k],L=()=>["auto",A,M],W=()=>["","0",M],H=()=>[A,M];return{cacheSize:500,separator:":",theme:{colors:[z],spacing:[T,k],blur:["none","",I,M],brightness:H(),borderColor:[e],borderRadius:["none","","full",I,M],borderSpacing:C(),borderWidth:D(),contrast:H(),grayscale:W(),hueRotate:H(),invert:W(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[R,k],inset:E(),margin:E(),opacity:H(),padding:C(),saturate:H(),scale:H(),sepia:W(),skew:H(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",M]}],container:["container"],columns:[{columns:[I]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",M]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",O,M]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",M]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",O,M]}],"grid-cols":[{"grid-cols":[z]}],"col-start-end":[{col:["auto",{span:["full",O,M]},M]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[z]}],"row-start-end":[{row:["auto",{span:[O,M]},M]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",M]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",M]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",M,t]}],"min-w":[{"min-w":[M,t,"min","max","fit"]}],"max-w":[{"max-w":[M,t,"none","full","min","max","fit","prose",{screen:[I]},I]}],h:[{h:[M,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[M,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[M,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[M,t,"auto","min","max","fit"]}],"font-size":[{text:["base",I,k]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",P]}],"font-family":[{font:[z]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",M]}],"line-clamp":[{"line-clamp":["none",A,P]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",T,M]}],"list-image":[{"list-image":["none",M]}],"list-style-type":[{list:["none","disc","decimal",M]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",T,k]}],"underline-offset":[{"underline-offset":["auto",T,M]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",B]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",F]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},U]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[T,M]}],"outline-w":[{outline:[T,k]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[T,k]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",I,$]}],"shadow-color":[{shadow:[z]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",I,M]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",M]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",M]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",M]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[O,M]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",M]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",M]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",M]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[T,k,P]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),X=y(Y);function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return X((0,r.$)(t))}},9786:(e,t,n)=>{"use strict";n.d(t,{JY:()=>Ra,sx:()=>vi,gL:()=>bi});var r=n(5043);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(null,arguments)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var p="function"===typeof Symbol&&Symbol.observable||"@@observable",h=function(){return Math.random().toString(36).substring(7).split("").join(".")},f={INIT:"@@redux/INIT"+h(),REPLACE:"@@redux/REPLACE"+h(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h()}};function v(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function g(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(m(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(m(1));return n(g)(e,t)}if("function"!==typeof e)throw new Error(m(2));var a=e,i=t,s=[],o=s,l=!1;function c(){o===s&&(o=s.slice())}function d(){if(l)throw new Error(m(3));return i}function u(e){if("function"!==typeof e)throw new Error(m(4));if(l)throw new Error(m(5));var t=!0;return c(),o.push(e),function(){if(t){if(l)throw new Error(m(6));t=!1,c();var n=o.indexOf(e);o.splice(n,1),s=null}}}function h(e){if(!v(e))throw new Error(m(7));if("undefined"===typeof e.type)throw new Error(m(8));if(l)throw new Error(m(9));try{l=!0,i=a(i,e)}finally{l=!1}for(var t=s=o,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:f.INIT}),(r={dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(m(10));a=e,h({type:f.REPLACE})}})[p]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(m(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[p]=function(){return this},e},r}function x(e,t){return function(){return t(e.apply(this,arguments))}}function y(e,t){if("function"===typeof e)return x(e,t);if("object"!==typeof e||null===e)throw new Error(m(16));var n={};for(var r in e){var a=e[r];"function"===typeof a&&(n[r]=x(a,t))}return n}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var w=r.createContext(null);var j=function(e){e()},N=function(){return j};var _={notify:function(){},get:function(){return[]}};function S(e,t){var n,r=_;function a(){s.onStateChange&&s.onStateChange()}function i(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=N(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var s={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=_)},getListeners:function(){return r}};return s}var E="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;const C=function(e){var t=e.store,n=e.context,a=e.children,i=(0,r.useMemo)((function(){var e=S(t);return{store:t,subscription:e}}),[t]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);E((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,s]);var o=n||w;return r.createElement(o.Provider,{value:i},a)};function D(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var T=n(219),k=n.n(T),A=n(2086),P=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],O=["reactReduxForwardedRef"],R=[],M=[null,null];function I(e,t){var n=e[1];return[t.payload,n+1]}function L(e,t,n){E((function(){return e.apply(void 0,t)}),n)}function F(e,t,n,r,a,i,s){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,s())}function B(e,t,n,r,a,i,s,o,l,c){if(e){var d=!1,u=null,m=function(){if(!d){var e,n,m=t.getState();try{e=r(m,a.current)}catch(p){n=p,u=p}n||(u=null),e===i.current?s.current||l():(i.current=e,o.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=m,n.trySubscribe(),m();return function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u}}}var W=function(){return[null,0]};function U(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,i=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,o=n.methodName,l=void 0===o?"connectAdvanced":o,c=n.renderCountProp,d=void 0===c?void 0:c,u=n.shouldHandleStateChanges,m=void 0===u||u,p=n.storeKey,h=void 0===p?"store":p,f=(n.withRef,n.forwardRef),v=void 0!==f&&f,g=n.context,x=void 0===g?w:g,y=D(n,P),b=x;return function(t){var n=t.displayName||t.name||"Component",a=i(n),o=s({},y,{getDisplayName:i,methodName:l,renderCountProp:d,shouldHandleStateChanges:m,storeKey:h,displayName:a,wrappedComponentName:n,WrappedComponent:t}),c=y.pure;var u=c?r.useMemo:function(e){return e()};function p(n){var a=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=D(n,O);return[n.context,e,t]}),[n]),i=a[0],l=a[1],c=a[2],d=(0,r.useMemo)((function(){return i&&i.Consumer&&(0,A.isContextConsumer)(r.createElement(i.Consumer,null))?i:b}),[i,b]),p=(0,r.useContext)(d),h=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(p)&&Boolean(p.store);var f=h?n.store:p.store,v=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(f)}),[f]),g=(0,r.useMemo)((function(){if(!m)return M;var e=S(f,h?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,h,p]),x=g[0],y=g[1],w=(0,r.useMemo)((function(){return h?p:s({},p,{subscription:x})}),[h,p,x]),j=(0,r.useReducer)(I,R,W),N=j[0][0],_=j[1];if(N&&N.error)throw N.error;var E=(0,r.useRef)(),C=(0,r.useRef)(c),T=(0,r.useRef)(),k=(0,r.useRef)(!1),P=u((function(){return T.current&&c===C.current?T.current:v(f.getState(),c)}),[f,N,c]);L(F,[C,E,k,c,P,T,y]),L(B,[m,f,x,v,C,E,k,T,y,_],[f,x,v]);var U=(0,r.useMemo)((function(){return r.createElement(t,s({},P,{ref:l}))}),[l,t,P]);return(0,r.useMemo)((function(){return m?r.createElement(d.Provider,{value:w},U):U}),[d,U,w])}var f=c?r.memo(p):p;if(f.WrappedComponent=t,f.displayName=p.displayName=a,v){var g=r.forwardRef((function(e,t){return r.createElement(f,s({},e,{reactReduxForwardedRef:t}))}));return g.displayName=a,g.WrappedComponent=t,k()(g,t)}return k()(f,t)}}function $(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function z(e,t){if($(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!$(e[n[a]],t[n[a]]))return!1;return!0}function H(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function V(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function q(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=V(e);var a=r(t,n);return"function"===typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=V(a),a=r(t,n)),a},r}}const G=[function(e){return"function"===typeof e?q(e):void 0},function(e){return e?void 0:H((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?H((function(t){return function(e,t){var n={},r=function(r){var a=e[r];"function"===typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}(e,t)})):void 0}];const K=[function(e){return"function"===typeof e?q(e):void 0},function(e){return e?void 0:H((function(){return{}}))}];function Y(e,t,n){return s({},n,e,t)}const X=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,s=!1;return function(t,n,o){var l=e(t,n,o);return s?a&&i(l,r)||(r=l):(s=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Y}}];var Z=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function J(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}}function Q(e,t,n,r,a){var i,s,o,l,c,d=a.areStatesEqual,u=a.areOwnPropsEqual,m=a.areStatePropsEqual,p=!1;function h(a,p){var h=!u(p,s),f=!d(a,i,p,s);return i=a,s=p,h&&f?(o=e(i,s),t.dependsOnOwnProps&&(l=t(r,s)),c=n(o,l,s)):h?(e.dependsOnOwnProps&&(o=e(i,s)),t.dependsOnOwnProps&&(l=t(r,s)),c=n(o,l,s)):f?function(){var t=e(i,s),r=!m(t,o);return o=t,r&&(c=n(o,l,s)),c}():c}return function(a,d){return p?h(a,d):(o=e(i=a,s=d),l=t(r,s),c=n(o,l,s),p=!0,c)}}function ee(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=D(t,Z),s=n(e,i),o=r(e,i),l=a(e,i);return(i.pure?Q:J)(s,o,l,e,i)}var te=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ne(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function re(e,t){return e===t}function ae(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?U:n,a=t.mapStateToPropsFactories,i=void 0===a?K:a,o=t.mapDispatchToPropsFactories,l=void 0===o?G:o,c=t.mergePropsFactories,d=void 0===c?X:c,u=t.selectorFactory,m=void 0===u?ee:u;return function(e,t,n,a){void 0===a&&(a={});var o=a,c=o.pure,u=void 0===c||c,p=o.areStatesEqual,h=void 0===p?re:p,f=o.areOwnPropsEqual,v=void 0===f?z:f,g=o.areStatePropsEqual,x=void 0===g?z:g,y=o.areMergedPropsEqual,b=void 0===y?z:y,w=D(o,te),j=ne(e,i,"mapStateToProps"),N=ne(t,l,"mapDispatchToProps"),_=ne(n,d,"mergeProps");return r(m,s({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:j,initMapDispatchToProps:N,initMergeProps:_,pure:u,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:x,areMergedPropsEqual:b},w))}}const ie=ae();var se,oe=n(7950);function le(e,t){var n=(0,r.useState)((function(){return{inputs:t,result:e()}}))[0],a=(0,r.useRef)(!0),i=(0,r.useRef)(n),s=a.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,r.useEffect)((function(){a.current=!1,i.current=s}),[s]),s.result}se=oe.unstable_batchedUpdates,j=se;var ce=le,de=function(e,t){return le((function(){return e}),t)},ue=n(3404),me=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},pe=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},he=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},fe={top:0,right:0,bottom:0,left:0},ve=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?fe:n,a=e.border,i=void 0===a?fe:a,s=e.padding,o=void 0===s?fe:s,l=me(pe(t,r)),c=me(he(t,i)),d=me(he(c,o));return{marginBox:l,borderBox:me(t),paddingBox:c,contentBox:d,margin:r,border:i,padding:o}},ge=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&(0,ue.A)(!1),n},xe=function(e,t){var n,r,a=e.borderBox,i=e.border,s=e.margin,o=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ve({borderBox:l,border:i,margin:s,padding:o})},ye=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),xe(e,t)},be=function(e,t){var n={top:ge(t.marginTop),right:ge(t.marginRight),bottom:ge(t.marginBottom),left:ge(t.marginLeft)},r={top:ge(t.paddingTop),right:ge(t.paddingRight),bottom:ge(t.paddingBottom),left:ge(t.paddingLeft)},a={top:ge(t.borderTopWidth),right:ge(t.borderRightWidth),bottom:ge(t.borderBottomWidth),left:ge(t.borderLeftWidth)};return ve({borderBox:e,margin:n,padding:r,border:a})},we=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return be(t,n)},je=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Ne(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],a=t[n],!(r===a||je(r)&&je(a)))return!1;var r,a;return!0}const _e=function(e,t){var n;void 0===t&&(t=Ne);var r,a=[],i=!1;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return i&&n===this&&t(s,a)||(r=e.apply(this,s),i=!0,n=this,a=s),r}};const Se=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Ee(e,t){}Ee.bind(null,"warn"),Ee.bind(null,"error");function Ce(){}function De(e,t,n){var r=t.map((function(t){var r=function(e,t){return s({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Te=!0,ke="Invariant failed";function Ae(e){this.message=e}function Pe(e,t){if(!e)throw new Ae(Te?ke:ke+": "+(t||""))}Ae.prototype.toString=function(){return this.message};var Oe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Ce,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Ae&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=De(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Ae))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(r.Component),Re=function(e){return e+1},Me=function(e,t){var n=e.droppableId===t.droppableId,r=Re(e.index),a=Re(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},Ie=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Le=function(e){return"\n  The item has returned to its starting position\n  of "+Re(e.index)+"\n"},Fe={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:function(e){return"\n  You have lifted an item in position "+Re(e.source.index)+"\n"},onDragUpdate:function(e){var t=e.destination;if(t)return Me(e.source,t);var n=e.combine;return n?Ie(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Le(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Me(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Ie(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Le(e.source)+"\n  "}},Be={x:0,y:0},We=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Ue=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},$e=function(e,t){return e.x===t.x&&e.y===t.y},ze=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},He=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Ve=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},qe=function(e,t){return Math.min.apply(Math,t.map((function(t){return Ve(e,t)})))},Ge=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Ke=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Ye=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Xe=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=me({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):me(e)},Ze=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,i=function(e,t){return t?Ke(e,t.scroll.diff.displacement):e}(t.marginBox,a),o=function(e,t,n){var r;return n&&n.increasedBy?s({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Xe(o,a)}},Je=function(e,t){e.frame||Pe(!1);var n=e.frame,r=Ue(t,n.scroll.initial),a=ze(r),i=s({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}});return s({},e,{frame:i,subject:Ze({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Qe(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function et(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function tt(e,t){if(e.find)return e.find(t);var n=et(e,t);return-1!==n?e[n]:void 0}function nt(e){return Array.prototype.slice.call(e)}var rt=_e((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),at=_e((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),it=_e((function(e){return Qe(e)})),st=_e((function(e){return Qe(e)})),ot=_e((function(e,t){var n=st(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function lt(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function ct(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var dt=_e((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),ut=function(e,t){return e.descriptor.droppableId===t.descriptor.id},mt={point:Be,value:0},pt={invisible:{},visible:{},all:[]},ht={displaced:pt,displacedBy:mt,at:null},ft=function(e,t){return function(n){return e<=n&&n<=t}},vt=function(e){var t=ft(e.top,e.bottom),n=ft(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;var s=r.top<e.top&&r.bottom>e.bottom,o=r.left<e.left&&r.right>e.right;return!(!s||!o)||(s&&i||o&&a)}},gt=function(e){var t=ft(e.top,e.bottom),n=ft(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},xt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},yt={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},bt=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,s=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Be;return Ke(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(s,n,i)&&function(e,t,n){return n(t)(e)}(s,r,i)},wt=function(e){return bt(s({},e,{isVisibleThroughFrameFn:vt}))},jt=function(e){return bt(s({},e,{isVisibleThroughFrameFn:gt}))};function Nt(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,s=e.last;return t.reduce((function(e,t){var o=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return me(pe(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!wt({target:o,destination:n,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var i=a[e];return!i||i.shouldAnimate}(l,s,i),d={draggableId:l,shouldAnimate:c};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function _t(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:pt,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function St(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,s=e.last,o=e.index,l=e.forceShouldAnimate,c=ut(t,r);if(null==o)return _t({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=tt(n,(function(e){return e.descriptor.index===o}));if(!d)return _t({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=dt(t,n),m=n.indexOf(d);return{displaced:Nt({afterDragging:u.slice(m),destination:r,displacedBy:i,last:s,viewport:a.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Et(e,t){return Boolean(t.effected[e])}var Ct=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,s=e.insideDestination,o=e.previousImpact,l=e.viewport,c=e.afterCritical,d=o.at;if(d||Pe(!1),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,s=t?i+1:i-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return s<o||s>(n?l:l+1)?null:s}({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:s});return null==u?null:St({draggable:r,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})}var m=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var s=a.draggableId,o=r[s].descriptor.index;return Et(s,i)?t?o:o-1:t?o+1:o}({isMovingForward:t,destination:i,displaced:o.displaced,draggables:a,combine:d.combine,afterCritical:c});return null==m?null:St({draggable:r,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:m})},Dt=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=ct(n);a||Pe(!1);var i=a.draggableId,s=r[i].page.borderBox.center,o=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Et(r,n)?i?Be:ze(a.point):i?a.point:Be}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return We(s,o)},Tt=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},kt=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},At=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return He(t.line,n.marginBox[t.end]+Tt(t,r),kt(t,n.marginBox,r))},Pt=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return He(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),kt(t,n.marginBox,r))},Ot=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,s=ot(a.descriptor.id,r),o=n.page,l=a.axis;if(!s.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return He(t.line,n.contentBox[t.start]+Tt(t,r),kt(t,n.contentBox,r))}({axis:l,moveInto:a.page,isMoving:o});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var m=r[u];if(Et(u,i))return Pt({axis:l,moveRelativeTo:m.page,isMoving:o});var p=xe(m.page,d.point);return Pt({axis:l,moveRelativeTo:p,isMoving:o})}var h=s[s.length-1];if(h.descriptor.id===n.descriptor.id)return o.borderBox.center;if(Et(h.descriptor.id,i)){var f=xe(h.page,ze(i.displacedBy.point));return At({axis:l,moveRelativeTo:f,isMoving:o})}return At({axis:l,moveRelativeTo:h.page,isMoving:o})},Rt=function(e,t){var n=e.frame;return n?We(t,n.scroll.diff.displacement):t},Mt=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.afterCritical,s=n.page.borderBox.center,o=t.at;return r&&o?"REORDER"===o.type?Ot({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i}):Dt({impact:t,draggables:a,afterCritical:i}):s}(e),n=e.droppable;return n?Rt(n,t):t},It=function(e,t){var n=Ue(t,e.scroll.initial),r=ze(n);return{frame:me({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Lt(e,t){return e.map((function(e){return t[e]}))}var Ft=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return We(e.scroll.diff.displacement,t)}(e.viewport,t),a=Ue(r,n.page.borderBox.center);return We(n.client.borderBox.center,a)},Bt=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=void 0!==o&&o,c=Ue(r,t.page.borderBox.center),d={target:Ke(t.page.borderBox,c),destination:n,withDroppableDisplacement:i,viewport:a};return l?function(e){return bt(s({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=ft(e.top,e.bottom),r=ft(e.left,e.right);return function(e){return t===xt?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(d):jt(d)},Wt=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!r.isEnabled)return null;var u=ot(r.descriptor.id,a),m=ut(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!lt(i))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return s({},i,{at:t})}var l=i.displaced.all,c=l.length?l[0]:null;if(t)return c?o(c):null;var d=dt(n,a);if(!c)return d.length?o(d[d.length-1].descriptor.id):null;var u=et(d,(function(e){return e.descriptor.id===c}));-1===u&&Pe(!1);var m=u-1;return m<0?null:o(d[m].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||Ct({isMovingForward:t,isInHomeList:m,draggable:n,draggables:a,destination:r,insideDestination:u,previousImpact:i,viewport:o,afterCritical:d});if(!p)return null;var h=Mt({impact:p,draggable:n,droppable:r,draggables:a,afterCritical:d});if(Bt({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ft({pageBorderBoxCenter:h,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null};var f=Ue(h,l),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,o=It(n,We(n.scroll.current,i)),l=r.frame?Je(r,We(r.frame.scroll.current,i)):r,c=t.displaced,d=Nt({afterDragging:Lt(c.all,a),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=Nt({afterDragging:Lt(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),m={},p={},h=[c,d,u];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?p[e]=t:m[e]=!0})),s({},t,{displaced:{all:c.all,invisible:m,visible:p}})}({impact:p,viewport:o,destination:r,draggables:a,maxScrollChange:f});return{clientSelection:c,impact:v,scrollJumpRequest:f}},Ut=function(e){var t=e.subject.active;return t||Pe(!1),t},$t=function(e,t){var n=e.page.borderBox.center;return Et(e.descriptor.id,t)?Ue(n,t.displacedBy.point):n},zt=function(e,t){var n=e.page.borderBox;return Et(e.descriptor.id,t)?Ke(n,ze(t.displacedBy.point)):n},Ht=_e((function(e,t){var n=t[e.line];return{value:n,point:He(e.line,n)}})),Vt=function(e,t){return s({},e,{scroll:s({},e.scroll,{max:t})})},qt=function(e,t,n){var r=e.frame;ut(t,e)&&Pe(!1),e.subject.withPlaceholder&&Pe(!1);var a=Ht(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return He(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],i=ot(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-a;return i<=0?null:He(r.line,i)}(e,a,n),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return s({},e,{subject:Ze({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame})});var l=i?We(r.scroll.max,i):r.scroll.max,c=Vt(r,l);return s({},e,{subject:Ze({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c}),frame:c})},Gt=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,s=e.droppables,o=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,s=r.subject.active;if(!s)return null;var o=r.axis,l=ft(s[o.start],s[o.end]),c=it(a).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return vt(i.frame)(Ut(e))})).filter((function(e){var n=Ut(e);return t?s[o.crossAxisEnd]<n[o.crossAxisEnd]:n[o.crossAxisStart]<s[o.crossAxisStart]})).filter((function(e){var t=Ut(e),n=ft(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||n(s[o.start])||n(s[o.end])})).sort((function(e,n){var r=Ut(e)[o.crossAxisStart],a=Ut(n)[o.crossAxisStart];return t?r-a:a-r})).filter((function(e,t,n){return Ut(e)[o.crossAxisStart]===Ut(n[0])[o.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter((function(e){return ft(Ut(e)[o.start],Ut(e)[o.end])(n[o.line])}));return 1===d.length?d[0]:d.length>1?d.sort((function(e,t){return Ut(e)[o.start]-Ut(t)[o.start]}))[0]:c.sort((function(e,t){var r=qe(n,Ye(Ut(e))),a=qe(n,Ye(Ut(t)));return r!==a?r-a:Ut(e)[o.start]-Ut(t)[o.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:s,viewport:o});if(!c)return null;var d=ot(c.descriptor.id,i),u=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical,s=a.filter((function(e){return jt({target:zt(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var a=Ve(t,Rt(r,$t(e,i))),s=Ve(t,Rt(r,$t(n,i)));return a<s?-1:s<a?1:e.descriptor.index-n.descriptor.index}));return s[0]||null}({pageBorderBoxCenter:n,viewport:o,destination:c,insideDestination:d,afterCritical:l}),m=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,s=e.destination,o=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:pt,displacedBy:mt,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=Mt({impact:c,draggable:a,droppable:s,draggables:i,afterCritical:l}),u=ut(a,s)?s:qt(s,a,i);return Bt({draggable:a,destination:u,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var m=Boolean(t[s.axis.line]<=n.page.borderBox.center[s.axis.line]),p=function(){var e=n.descriptor.index;return n.descriptor.id===a.descriptor.id||m?e:e+1}(),h=Ht(s.axis,a.displaceBy);return St({draggable:a,insideDestination:r,destination:s,viewport:o,displacedBy:h,last:pt,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!m)return null;var p=Mt({impact:m,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Ft({pageBorderBoxCenter:p,draggable:r,viewport:o}),impact:m,scrollJumpRequest:null}},Kt=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Yt=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Kt(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],s=r||i,o=s.axis.direction,l="vertical"===o&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===o&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!a)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,m=t.dimensions,p=m.draggables,h=m.droppables;return l?Wt({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:s,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Gt({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:s,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Xt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Zt(e){var t=ft(e.top,e.bottom),n=ft(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Jt(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=it(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Zt(a)(t.center))return!0;var i=e.axis,s=a.center[i.crossAxisLine],o=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=ft(a[i.crossAxisStart],a[i.crossAxisEnd]),d=c(o),u=c(l);return!d&&!u||(d?o<s:l>s)}));return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=He(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Ve(a,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}var Qt=function(e,t){return me(Ke(e,t))};function en(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var tn=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,s=e.viewport,o=e.afterCritical,l=Qt(n.page.borderBox,t),c=Jt({pageBorderBox:l,draggable:n,droppables:a});if(!c)return ht;var d=a[c],u=ot(d.descriptor.id,r),m=function(e,t){var n=e.frame;return n?Qt(t,n.scroll.diff.value):t}(d,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,s=e.afterCritical;if(!a.isCombineEnabled)return null;var o=a.axis,l=Ht(a.axis,t.displaceBy),c=l.value,d=n[o.start],u=n[o.end],m=tt(dt(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[o.size]/4,i=Et(t,s),l=en({displaced:r.displaced,id:t});return i?l?u>n[o.start]+a&&u<n[o.end]-a:d>n[o.start]-c+a&&d<n[o.end]-c-a:l?u>n[o.start]+c+a&&u<n[o.end]+c-a:d>n[o.start]+a&&d<n[o.end]-a}));return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:m,draggable:n,previousImpact:i,destination:d,insideDestination:u,afterCritical:o})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,s=e.viewport,o=e.afterCritical,l=r.axis,c=Ht(r.axis,n.displaceBy),d=c.value,u=t[l.start],m=t[l.end],p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:tt(dt(n,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Et(t,o),a=en({displaced:i,id:t});return r?a?m<=n:u<n-d:a?m<=n+d:u<n})),inHomeList:ut(n,r)});return St({draggable:n,insideDestination:a,destination:r,viewport:s,last:i,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:m,draggable:n,destination:d,insideDestination:u,last:i.displaced,viewport:s,afterCritical:o})},nn=function(e,t){var n;return s({},e,((n={})[t.descriptor.id]=t,n))},rn=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=Kt(t),i=Kt(n);if(!a)return r;if(a===i)return r;var o=r[a];if(!o.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||Pe(!1);var n=e.frame;if(!n)return s({},e,{subject:Ze({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Pe(!1);var a=Vt(n,r);return s({},e,{subject:Ze({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})}(o);return nn(r,l)},an=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=r||t.dimensions,d=n||t.current.client.selection,u=Ue(d,t.initial.client.selection),m={offset:u,selection:d,borderBoxCenter:We(t.initial.client.borderBoxCenter,u)},p={selection:We(m.selection,l.scroll.current),borderBoxCenter:We(m.borderBoxCenter,l.scroll.current),offset:We(m.offset,l.scroll.diff.value)},h={client:m,page:p};if("COLLECTING"===t.phase)return s({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:h});var f=c.draggables[t.critical.draggable.id],v=i||tn({pageOffset:p.offset,draggable:f,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,s=rn({previousImpact:a,impact:i,droppables:r}),o=Kt(i);if(!o)return s;var l=r[o];if(ut(t,l))return s;if(l.subject.withPlaceholder)return s;var c=qt(l,t,n);return nn(s,c)}({draggable:f,impact:v,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return s({},t,{current:h,dimensions:{draggables:c.draggables,droppables:g},impact:v,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var sn=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(o.all,r);return s({},t,{displaced:Nt({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o})})},on=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,s=e.afterCritical,o=Mt({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:s});return Ft({pageBorderBoxCenter:o,draggable:n,viewport:i})},ln=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Pe(!1);var a=t.impact,i=r||t.viewport,s=n||t.dimensions,o=s.draggables,l=s.droppables,c=o[t.critical.draggable.id],d=Kt(a);d||Pe(!1);var u=l[d],m=sn({impact:a,viewport:i,destination:u,draggables:o}),p=on({impact:m,draggable:c,droppable:u,draggables:o,viewport:i,afterCritical:t.afterCritical});return an({impact:m,clientSelection:p,state:t,dimensions:s,viewport:i})},cn=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=Ht(n.axis,t.displaceBy),s=ot(n.descriptor.id,r),o=s.indexOf(t);-1===o&&Pe(!1);var l,c=s.slice(o+1),d=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:d};return{impact:{displaced:Nt({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:u}},dn=function(e){0},un=function(e){0},mn=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||Pe(!1),t}(n[t]),o=i.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=xe(t.client,n),i=ye(a,r);return s({},t,{placeholder:s({},t.placeholder,{client:a}),client:a,page:i})}({draggable:e,offset:We(a,o),initialWindowScroll:r.scroll.initial});return l}))},pn=function(e){return"SNAP"===e.movementMode},hn=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:nn(e.droppables,t)}}(e.dimensions,t);return!pn(e)||n?an({state:e,dimensions:r}):ln({state:e,dimensions:r})};function fn(e){return e.isDragging&&"SNAP"===e.movementMode?s({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vn={phase:"IDLE",completed:null,shouldFlush:!1},gn=function(e,t){if(void 0===e&&(e=vn),"FLUSH"===t.type)return s({},vn,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Pe(!1);var n=t.payload,r=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[r.draggable.id],d=o.droppables[r.droppable.id],u={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Be},m={client:u,page:{selection:We(u.selection,i.scroll.initial),borderBoxCenter:We(u.selection,i.scroll.initial),offset:We(u.selection,i.scroll.diff.value)}},p=it(o.droppables).every((function(e){return!e.isFixedOnPage})),h=cn({draggable:c,home:d,draggables:o.draggables,viewport:i}),f=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:o,initial:m,current:m,isWindowScrollAllowed:p,impact:f,afterCritical:h.afterCritical,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Pe(!1),s({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Pe(!1),function(e){var t=e.state,n=e.published;dn();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Je(n,e.scroll)})),a=s({},t.dimensions.droppables,{},rt(r)),i=at(mn({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),o=s({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete o[e]}));var l={droppables:a,draggables:o},c=Kt(t.impact),d=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],m=l.droppables[t.critical.droppable.id],p=cn({draggable:u,home:m,draggables:o,viewport:t.viewport}),h=p.impact,f=p.afterCritical,v=d&&d.isCombineEnabled?t.impact:h,g=tn({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:f});un();var x=s({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:l,afterCritical:f,forceShouldAnimate:!1});return"COLLECTING"===t.phase?x:s({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Xt(e)||Pe(!1);var v=t.payload.client;return $e(v,e.current.client.selection)?e:an({state:e,clientSelection:v,impact:pn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return fn(e);if("COLLECTING"===e.phase)return fn(e);Xt(e)||Pe(!1);var g=t.payload,x=g.id,y=g.newScroll,b=e.dimensions.droppables[x];if(!b)return e;var w=Je(b,y);return hn(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xt(e)||Pe(!1);var j=t.payload,N=j.id,_=j.isEnabled,S=e.dimensions.droppables[N];S||Pe(!1),S.isEnabled===_&&Pe(!1);var E=s({},S,{isEnabled:_});return hn(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xt(e)||Pe(!1);var C=t.payload,D=C.id,T=C.isCombineEnabled,k=e.dimensions.droppables[D];k||Pe(!1),k.isCombineEnabled===T&&Pe(!1);var A=s({},k,{isCombineEnabled:T});return hn(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Xt(e)||Pe(!1),e.isWindowScrollAllowed||Pe(!1);var P=t.payload.newScroll;if($e(e.viewport.scroll.current,P))return fn(e);var O=It(e.viewport,P);return pn(e)?ln({state:e,viewport:O}):an({state:e,viewport:O})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Xt(e))return e;var R=t.payload.maxScroll;if($e(R,e.viewport.scroll.max))return e;var M=s({},e.viewport,{scroll:s({},e.viewport.scroll,{max:R})});return s({phase:"DRAGGING"},e,{viewport:M})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Pe(!1);var I=Yt({state:e,type:t.type});return I?an({state:e,impact:I.impact,clientSelection:I.clientSelection,scrollJumpRequest:I.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&Pe(!1),s({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var F=t.payload,B=F.completed,W=F.dropDuration,U=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Pe(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:W,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},xn=function(e){return{type:"LIFT",payload:e}},yn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},bn=function(){return{type:"COLLECTION_STARTING",payload:null}},wn=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},jn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Nn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},_n=function(e){return{type:"MOVE",payload:e}},Sn=function(){return{type:"MOVE_UP",payload:null}},En=function(){return{type:"MOVE_DOWN",payload:null}},Cn=function(){return{type:"MOVE_RIGHT",payload:null}},Dn=function(){return{type:"MOVE_LEFT",payload:null}},Tn=function(){return{type:"FLUSH",payload:null}},kn=function(e){return{type:"DROP_COMPLETE",payload:e}},An=function(e){return{type:"DROP",payload:e}},Pn=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var On="cubic-bezier(.2,1,.1,1)",Rn={drop:0,combining:.7},Mn={drop:.75},In=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Ln={fluid:"opacity "+In,snap:"transform "+In+", opacity "+In,drop:function(e){var t=e+"s "+On;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+In,placeholder:"height "+In+", width "+In+", margin "+In},Fn=function(e){return $e(e,Be)?null:"translate("+e.x+"px, "+e.y+"px)"},Bn=Fn,Wn=function(e,t){var n=Fn(e);return n?t?n+" scale("+Mn.drop+")":n:null},Un=.33,$n=.55,zn=$n-Un,Hn=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),i=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Pe(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Pe(!1);var o=a.critical,l=a.dimensions,c=l.draggables[a.critical.draggable.id],d=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:s({},r,{displaced:pt}),didDropInsideDroppable:!0}:{impact:sn({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),u=d.impact,m=d.didDropInsideDroppable,p=m?lt(u):null,h=m?ct(u):null,f={index:o.draggable.index,droppableId:o.droppable.id},v={draggableId:c.descriptor.id,type:c.descriptor.type,source:f,reason:i,mode:a.movementMode,destination:p,combine:h},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,s=r.draggables,o=r.droppables,l=Kt(t),c=l?o[l]:null,d=o[n.descriptor.droppableId],u=on({impact:t,draggable:n,draggables:s,afterCritical:i,droppable:c||d,viewport:a});return Ue(u,n.client.borderBox.center)}({impact:u,draggable:c,dimensions:l,viewport:a.viewport,afterCritical:a.afterCritical}),x={critical:a.critical,afterCritical:a.afterCritical,result:v,impact:u};if(!$e(a.current.client.offset,g)||Boolean(v.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,a=Ve(t,n);if(a<=0)return Un;if(a>=1500)return $n;var i=Un+zn*(a/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:a.current.client.offset,destination:g,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:x}))}else n(kn({completed:x}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Vn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function qn(e){var t=e.onWindowScroll;var n=Se((function(){t(Vn())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),a=Ce;function i(){return a!==Ce}return{start:function(){i()&&Pe(!1),a=De(window,[r])},stop:function(){i()||Pe(!1),n.cancel(),a(),a=Ce},isActive:i}}var Gn=function(e){var t=qn({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Kn=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=et(e,(function(e){return e.timerId===t}));-1===n&&Pe(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Yn=function(e,t){dn(),t(),un()},Xn=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Zn=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},Jn=function(e,t){var n=function(e,t){var n=Kn(),r=null,a=function(n){r||Pe(!1),r=null,Yn(0,(function(){return Zn(e().onDragEnd,n,t,Fe.onDragEnd)}))};return{beforeCapture:function(t,n){r&&Pe(!1),Yn(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Pe(!1),Yn(0,(function(){var r=e().onBeforeDragStart;r&&r(Xn(t,n))}))},start:function(a,i){r&&Pe(!1);var s=Xn(a,i);r={mode:i,lastCritical:a,lastLocation:s.source,lastCombine:null},n.add((function(){Yn(0,(function(){return Zn(e().onDragStart,s,t,Fe.onDragStart)}))}))},update:function(a,i){var o=lt(i),l=ct(i);r||Pe(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);c&&(r.lastCritical=a);var d,u,m=(u=o,!(null==(d=r.lastLocation)&&null==u||null!=d&&null!=u&&d.droppableId===u.droppableId&&d.index===u.index));m&&(r.lastLocation=o);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(p&&(r.lastCombine=l),c||m||p){var h=s({},Xn(a,r.mode),{combine:l,destination:o});n.add((function(){Yn(0,(function(){return Zn(e().onDragUpdate,h,t,Fe.onDragUpdate)}))}))}},flush:function(){r||Pe(!1),n.flush()},drop:a,abort:function(){if(r){var e=s({},Xn(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var s=e.getState();"DRAGGING"===s.phase&&n.update(s.critical,s.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Qn=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Pe(!1),e.dispatch(kn({completed:r.completed}))}else t(n)}}},er=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=De(window,[i])}))}}}},tr=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(An({reason:r.reason})))}}}},nr=b,rr=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,i=e.getResponders,s=e.announce,o=e.autoScroller;return g(gn,nr(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(m(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(a)}));return r=b.apply(void 0,i)(n.dispatch),u(u({},n),{},{dispatch:r})}}}((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var i=a.payload,s=i.id,o=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(kn({completed:c.completed})),"IDLE"!==n().phase&&Pe(!1),r(Tn()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:l}});var d={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},u=e.startPublishing(d),m=u.critical,p=u.dimensions,h=u.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:m,dimensions:p,clientSelection:o,movementMode:l,viewport:h}})}else t(a)}}}}(n),Hn,Qn,er,tr,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&Pe(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(o),Gn,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Jn(i,s))))};var ar=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=Ue({x:n,y:t},{x:a,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},ir=function(){var e=document.documentElement;return e||Pe(!1),e},sr=function(){var e=ir();return ar({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},or=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;dn();var a=function(){var e=Vn(),t=sr(),n=e.y,r=e.x,a=ir(),i=a.clientWidth,s=a.clientHeight;return{frame:me({top:n,left:r,right:r+i,bottom:n+s}),scroll:{initial:e,current:e,max:t,diff:{value:Be,displacement:Be}}}}(),i=a.scroll.current,s=t.droppable,o=r.droppable.getAllByType(s.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)})),c={draggables:at(l),droppables:rt(o)};return un(),{dimensions:c,critical:t,viewport:a}};function lr(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var cr=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame((function(){a=null,dn();var e=r,i=e.additions,s=e.removals,o=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Be)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(o).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),d={additions:l,removals:Object.keys(s),modified:c};r={additions:{},removals:{},modified:{}},un(),n.publish(d)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||Pe(!1);var a=n.critical.draggable;"ADDITION"===t.type&&lr(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&lr(e,a,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||Pe(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||Pe(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||Pe(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&Pe(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),s={draggable:r.descriptor,droppable:i.descriptor},o=e.subscribe(a);return n={critical:s,unsubscribe:o},or({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return i},dr=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},ur=function(e){window.scrollBy(e.x,e.y)},mr=_e((function(e){return it(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),pr=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var i=function(e,t){var n=tt(mr(t),(function(t){return t.frame||Pe(!1),Zt(t.frame.pageMarginBox)(e)}));return n}(t,r);return i},hr=.25,fr=.05,vr=28,gr=function(e){return Math.pow(e,2)},xr={stopDampeningAt:1200,accelerateAt:360},yr=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},br=xr.accelerateAt,wr=xr.stopDampeningAt,jr=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return vr;if(e===t.startScrollingFrom)return 1;var n=yr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=vr*gr(1-n);return Math.ceil(r)}(t,n);return 0===i?0:a?Math.max(function(e,t){var n=t,r=wr,a=Date.now()-n;if(a>=wr)return e;if(a<br)return 1;var i=yr({startOfRange:br,endOfRange:r,current:a}),s=e*gr(i);return Math.ceil(s)}(i,r),1):i},Nr=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,s=function(e,t){return{startScrollingFrom:e[t.size]*hr,maxScrollValueAt:e[t.size]*fr}}(t,a);return n[a.end]<n[a.start]?jr({distanceToEdge:n[a.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i}):-1*jr({distanceToEdge:n[a.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i})},_r=Ge((function(e){return 0===e?0:e})),Sr=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,s={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},o=Nr({container:n,distanceToEdges:s,dragStartTime:t,axis:xt,shouldUseTimeDampening:i}),l=Nr({container:n,distanceToEdges:s,dragStartTime:t,axis:yt,shouldUseTimeDampening:i}),c=_r({x:l,y:o});if($e(c,Be))return null;var d=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return i||a?i&&a?null:{x:i?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return d?$e(d,Be)?null:d:null},Er=Ge((function(e){return 0===e?0:e>0?1:-1})),Cr=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,a=t.change,i=We(n,a),s={x:e(i.x,r.x),y:e(i.y,r.y)};return $e(s,Be)?null:s}}(),Dr=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=Er(r),s=Cr({max:a,current:n,change:i});return!s||(0!==i.x&&0===s.x||0!==i.y&&0===s.y)},Tr=function(e,t){return Dr({current:e.scroll.current,max:e.scroll.max,change:t})},kr=function(e,t){var n=e.frame;return!!n&&Dr({current:n.scroll.current,max:n.scroll.max,change:t})},Ar=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,s=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=Sr({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return s&&Tr(t,s)?s:null}({dragStartTime:n,viewport:t.viewport,subject:o,center:s,shouldUseTimeDampening:r});if(l)return void a(l)}var c=pr({center:s,destination:Kt(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var o=Sr({dragStartTime:a,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return o&&kr(t,o)?o:null}({dragStartTime:n,droppable:c,subject:o,center:s,shouldUseTimeDampening:r});d&&i(c.descriptor.id,d)}},Pr=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!kr(e,t))return t;var r=function(e,t){var n=e.frame;return n&&kr(e,t)?Cr({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=Ue(t,r);return n(e.descriptor.id,a),Ue(t,a)},i=function(e,t,n){if(!e)return n;if(!Tr(t,n))return n;var a=function(e,t){if(!Tr(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Cr({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var i=Ue(n,a);return r(i),Ue(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Kt(e.impact);r||Pe(!1);var s=a(e.dimensions.droppables[r],n);if(s){var o=e.viewport,l=i(e.isWindowScrollAllowed,o,s);l&&function(e,n){var r=We(e.current.client.selection,n);t({client:r})}(e,l)}}}},Or=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Se(t),a=Se(n),i=null,s=function(e){i||Pe(!1);var t=i,n=t.shouldUseTimeDampening,s=t.dragStartTime;Ar({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:s,shouldUseTimeDampening:n})};return{start:function(e){dn(),i&&Pe(!1);var t=Date.now(),n=!1,r=function(){n=!0};Ar({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},un(),n&&s(e)},stop:function(){i&&(r.cancel(),a.cancel(),i=null)},scroll:s}}({scrollWindow:n,scrollDroppable:t}),i=Pr({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):a.scroll(e))},start:a.start,stop:a.stop}},Rr="data-rbd",Mr=function(){var e=Rr+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Ir=function(){var e=Rr+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Lr=function(){var e=Rr+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Fr={contextId:Rr+"-scroll-container-context-id"},Br=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Wr=function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Mr.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),a=[function(){var e="\n      transition: "+Ln.outOfTheWay+";\n    ";return{selector:n(Ir.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(Lr.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Br(a,"always"),resting:Br(a,"resting"),dragging:Br(a,"dragging"),dropAnimating:Br(a,"dropAnimating"),userCancel:Br(a,"userCancel")}},Ur="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,$r=function(){var e=document.querySelector("head");return e||Pe(!1),e},zr=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var Hr=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Vr(e){return e instanceof Hr(e).HTMLElement}function qr(e,t){var n="["+Mr.contextId+'="'+e+'"]',r=nt(document.querySelectorAll(n));if(!r.length)return null;var a=tt(r,(function(e){return e.getAttribute(Mr.draggableId)===t}));return a&&Vr(a)?a:null}function Gr(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,i=r(a);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Pe(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Qe(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||Pe(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return Qe(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Kr=r.createContext(null),Yr=function(){var e=document.body;return e||Pe(!1),e},Xr={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Zr=function(e){return"rbd-announcement-"+e};var Jr=0,Qr={separator:"::"};function ea(e,t){return void 0===t&&(t=Qr),ce((function(){return""+e+t.separator+Jr++}),[t.separator,e])}var ta=r.createContext(null);function na(e){0}function ra(e,t){na()}function aa(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),t}var ia,sa=((ia={})[13]=!0,ia[9]=!0,ia),oa=function(e){sa[e.keyCode]&&e.preventDefault()},la=function(){var e="visibilitychange";return"undefined"===typeof document?e:tt([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var ca,da={type:"IDLE"};function ua(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var s={x:n,y:i},o=r();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(s);if("PENDING"!==o.type&&Pe(!1),function(e,t){return Math.abs(t.x-e.x)>=5||Math.abs(t.y-e.y)>=5}(o.point,s)){e.preventDefault();var l=o.actions.fluidLift(s);a({type:"DRAGGING",actions:l})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void oa(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Pe(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:la,fn:t}]}function ma(){}var pa=((ca={})[34]=!0,ca[33]=!0,ca[36]=!0,ca[35]=!0,ca);function ha(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(pa[r.keyCode]?r.preventDefault():oa(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:la,fn:n}]}var fa={type:"IDLE"};var va={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ga(e,t){if(null==t)return!1;if(Boolean(va[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ga(e,t.parentElement)}function xa(e,t){var n=t.target;return!!Vr(n)&&ga(e,n)}var ya=function(e){return me(e.getBoundingClientRect()).center};var ba=function(){var e="matches";return"undefined"===typeof document?e:tt([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function wa(e,t){return null==e?null:e[ba](t)?e:wa(e.parentElement,t)}function ja(e,t){return e.closest?e.closest(t):wa(e,t)}function Na(e,t){var n,r=t.target;if(!((n=r)instanceof Hr(n).Element))return null;var a=function(e){return"["+Mr.contextId+'="'+e+'"]'}(e),i=ja(r,a);return i&&Vr(i)?i:null}function _a(e){e.preventDefault()}function Sa(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function Ea(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!!i&&(!!i.options.isEnabled&&!!dr(n.getState(),a))}function Ca(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent;if(!Ea({lockAPI:t,store:r,registry:a,draggableId:i}))return null;var c=a.draggable.getById(i),d=function(e,t){var n="["+Ir.contextId+'="'+e+'"]',r=tt(nt(document.querySelectorAll(n)),(function(e){return e.getAttribute(Ir.id)===t}));return r&&Vr(r)?r:null}(n,c.descriptor.id);if(!d)return null;if(l&&!c.options.canDragInteractiveElements&&xa(d,l))return null;var u=t.claim(o||Ce),m="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function h(){return t.isActive(u)}var f=function(e,t){Sa({expected:e,phase:m,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),m="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var i=De(window,[{eventName:"click",fn:_a,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(An({reason:t}))}return"PRE_DRAG"!==m&&(n(),"PRE_DRAG"!==m&&Pe(!1)),r.dispatch(xn(e.liftActionArgs)),m="DRAGGING",s({isActive:function(){return Sa({expected:"DRAGGING",phase:m,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return Sa({expected:"PRE_DRAG",phase:m,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=Se((function(e){f((function(){return _n({client:e})}))}));return s({},v({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return f(Sn)},moveRight:function(){return f(Cn)},moveDown:function(){return f(En)},moveLeft:function(){return f(Dn)}};return v({liftActionArgs:{id:i,clientSelection:ya(d),movementMode:"SNAP"},cleanup:Ce,actions:e})},abort:function(){Sa({expected:"PRE_DRAG",phase:m,isLockActive:h,shouldWarn:!0})&&t.release()}}}var Da=[function(e){var t=(0,r.useRef)(da),n=(0,r.useRef)(Ce),a=ce((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,o,{sourceEvent:t});if(a){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),d(a,i)}}}}}}),[e]),i=ce((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),s=de((function(){n.current=De(window,[i,a],{passive:!1,capture:!0})}),[i,a]),o=de((function(){"IDLE"!==t.current.type&&(t.current=da,n.current(),s())}),[s]),l=de((function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[o]),c=de((function(){var e=ua({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=De(window,e,{capture:!0,passive:!1})}),[l,o]),d=de((function(e,n){"IDLE"!==t.current.type&&Pe(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Ur((function(){return s(),function(){n.current()}}),[s])},function(e){var t=(0,r.useRef)(ma),n=ce((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var i=e.tryGetLock(r,l,{sourceEvent:n});if(i){n.preventDefault();var s=!0,o=i.snapLift();t.current(),t.current=De(window,ha(o,l),{capture:!0,passive:!1})}}}function l(){s||Pe(!1),s=!1,t.current(),a()}}}}),[e]),a=de((function(){t.current=De(window,[n],{passive:!1,capture:!0})}),[n]);Ur((function(){return a(),function(){t.current()}}),[a])},function(e){var t=(0,r.useRef)(fa),n=(0,r.useRef)(Ce),a=de((function(){return t.current}),[]),i=de((function(e){t.current=e}),[]),s=ce((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,l,{sourceEvent:t});if(a){var i=t.touches[0],s={x:i.clientX,y:i.clientY};n.current(),m(a,s)}}}}}}),[e]),o=de((function(){n.current=De(window,[s],{capture:!0,passive:!1})}),[s]),l=de((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(fa),n.current(),o())}),[o,i]),c=de((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),d=de((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:a},r=De(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],i={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Pe(!1);var a=e.touches[0];if(a&&a.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:la,fn:t}]}(t),e),i=De(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:la,fn:t}]}(t),e);n.current=function(){r(),i()}}),[c,a,l]),u=de((function(){var e=a();"PENDING"!==e.type&&Pe(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,i]),m=de((function(e,t){"IDLE"!==a().type&&Pe(!1);var n=setTimeout(u,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,a,i,u]);Ur((function(){return o(),function(){n.current();var e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(fa))}}),[a,o,i]),Ur((function(){return De(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Ta(e){var t=e.contextId,n=e.store,a=e.registry,i=e.customSensors,s=e.enableDefaultSensors,o=[].concat(s?Da:[],i||[]),l=(0,r.useState)((function(){return function(){var e=null;function t(){e||Pe(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Pe(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=de((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Ur((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Ur((function(){return l.tryAbandon}),[l.tryAbandon]);var d=de((function(e){return Ea({lockAPI:l,registry:a,store:n,draggableId:e})}),[l,a,n]),u=de((function(e,r,i){return Ca({lockAPI:l,registry:a,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,a,n]),m=de((function(e){return function(e,t){var n=Na(e,t);return n?n.getAttribute(Mr.draggableId):null}(t,e)}),[t]),p=de((function(e){var t=a.draggable.findById(e);return t?t.options:null}),[a.draggable]),h=de((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(Tn()))}),[l,n]),f=de(l.isClaimed,[l]),v=ce((function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:f}}),[d,u,m,p,h,f]);na();for(var g=0;g<o.length;g++)o[g](v)}var ka=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Aa(e){return e.current||Pe(!1),e.current}function Pa(e){var t=e.contextId,n=e.setCallbacks,a=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,l=(0,r.useRef)(null);ra();var c=aa(e),d=de((function(){return ka(c.current)}),[c]),u=function(e){var t=ce((function(){return Zr(e)}),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),s(e.style,Xr),Yr().appendChild(e),function(){setTimeout((function(){var t=Yr();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),de((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),m=function(e){var t=e.contextId,n=e.text,a=ea("hidden-text",{separator:"-"}),i=ce((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:a}).contextId+"-"+e.uniqueId;var e}),[a,t]);return(0,r.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Yr().appendChild(e),function(){var t=Yr();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:o}),p=function(e,t){var n=ce((function(){return Wr(e)}),[e]),a=(0,r.useRef)(null),i=(0,r.useRef)(null),s=de(_e((function(e){var t=i.current;t||Pe(!1),t.textContent=e})),[]),o=de((function(e){var t=a.current;t||Pe(!1),t.textContent=e}),[]);Ur((function(){(a.current||i.current)&&Pe(!1);var r=zr(t),l=zr(t);return a.current=r,i.current=l,r.setAttribute(Rr+"-always",e),l.setAttribute(Rr+"-dynamic",e),$r().appendChild(r),$r().appendChild(l),o(n.always),s(n.resting),function(){var e=function(e){var t=e.current;t||Pe(!1),$r().removeChild(t),e.current=null};e(a),e(i)}}),[t,o,s,n.always,n.resting,e]);var l=de((function(){return s(n.dragging)}),[s,n.dragging]),c=de((function(e){s("DROP"!==e?n.userCancel:n.dropAnimating)}),[s,n.dropAnimating,n.userCancel]),d=de((function(){i.current&&s(n.resting)}),[s,n.resting]);return ce((function(){return{dragging:l,dropping:c,resting:d}}),[l,c,d])}(t,i),h=de((function(e){Aa(l).dispatch(e)}),[]),f=ce((function(){return y({publishWhileDragging:yn,updateDroppableScroll:wn,updateDroppableIsEnabled:jn,updateDroppableIsCombineEnabled:Nn,collectionStarting:bn},h)}),[h]),v=function(){var e=ce(Gr,[]);return(0,r.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=ce((function(){return cr(v,f)}),[v,f]),x=ce((function(){return Or(s({scrollWindow:ur,scrollDroppable:g.scrollDroppable},y({move:_n},h)))}),[g.scrollDroppable,h]),b=function(e){var t=(0,r.useRef)({}),n=(0,r.useRef)(null),a=(0,r.useRef)(null),i=(0,r.useRef)(!1),s=de((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),o=de((function(t){var n=qr(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=de((function(e,t){n.current===e&&(n.current=t)}),[]),c=de((function(){a.current||i.current&&(a.current=requestAnimationFrame((function(){a.current=null;var e=n.current;e&&o(e)})))}),[o]),d=de((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Mr.draggableId)===e&&(n.current=e)}),[]);return Ur((function(){return i.current=!0,function(){i.current=!1;var e=a.current;e&&cancelAnimationFrame(e)}}),[]),ce((function(){return{register:s,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[s,d,c,l])}(t),w=ce((function(){return rr({announce:u,autoScroller:x,dimensionMarshal:g,focusMarshal:b,getResponders:d,styleMarshal:p})}),[u,x,g,b,d,p]);l.current=w;var j=de((function(){var e=Aa(l);"IDLE"!==e.getState().phase&&e.dispatch(Tn())}),[]),N=de((function(){var e=Aa(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(ce((function(){return{isDragging:N,tryAbort:j}}),[N,j]));var _=de((function(e){return dr(Aa(l).getState(),e)}),[]),S=de((function(){return Xt(Aa(l).getState())}),[]),E=ce((function(){return{marshal:g,focus:b,contextId:t,canLift:_,isMovementAllowed:S,dragHandleUsageInstructionsId:m,registry:v}}),[t,g,m,b,_,S,v]);return Ta({contextId:t,store:w,registry:v,customSensors:a,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((function(){return j}),[j]),r.createElement(ta.Provider,{value:E},r.createElement(C,{context:Kr,store:w},e.children))}var Oa=0;function Ra(e){var t=ce((function(){return""+Oa++}),[]),n=e.dragHandleUsageInstructions||Fe.dragHandleUsageInstructions;return r.createElement(Oe,null,(function(a){return r.createElement(Pa,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Ma=function(e){return function(t){return e===t}},Ia=Ma("scroll"),La=Ma("auto"),Fa=(Ma("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Ba=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Fa(n,Ia)||Fa(n,La)},Wa=function e(t){return null==t||t===document.body||t===document.documentElement?null:Ba(t)?t:e(t.parentElement)},Ua=function(e){return{x:e.scrollLeft,y:e.scrollTop}},$a=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},za=function(e){return{closestScrollable:Wa(e),isFixedOnPage:$a(e)}},Ha=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,s=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,d=function(e,t){var n=we(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,s=a+t.scrollWidth,o=pe({top:r,right:s,bottom:i,left:a},n.border);return ve({borderBox:o,margin:n.margin,border:n.border,padding:n.padding})}(t,c),u=ye(d,a),m=function(){if(!c)return null;var e=we(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:ye(e,a),scroll:Ua(c),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,s=e.client,o=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=ar({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Be,displacement:Be}}}}(),d="vertical"===i?xt:yt;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:d,isEnabled:n,client:s,page:o,frame:c,subject:Ze({page:o,withPlaceholder:null,axis:d,frame:c})}}({descriptor:n,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:i,client:d,page:u,closest:m});return p},Va={passive:!1},qa={passive:!0},Ga=function(e){return e.shouldPublishImmediately?Va:qa};function Ka(e){var t=(0,r.useContext)(e);return t||Pe(!1),t}var Ya=function(e){return e&&e.env.closestScrollable||null};function Xa(){}var Za={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Ja=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Za:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Ln.placeholder:null}};var Qa=r.memo((function(e){var t=(0,r.useRef)(null),n=de((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),a=e.animate,i=e.onTransitionEnd,s=e.onClose,o=e.contextId,l=(0,r.useState)("open"===e.animate),c=l[0],d=l[1];(0,r.useEffect)((function(){return c?"open"!==a?(n(),d(!1),Xa):t.current?Xa:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):Xa}),[a,c,n]);var u=de((function(e){"height"===e.propertyName&&(i(),"close"===a&&s())}),[a,s,i]),m=Ja({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})})),ei=r.createContext(null);var ti=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return i(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(r.PureComponent),ni=5e3,ri=4500,ai=function(e,t){return t?Ln.drop(t.duration):e?Ln.snap:Ln.fluid},ii=function(e,t){return e?t?Rn.drop:Rn.combining:null};function si(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,a=e.dropping,i=Boolean(r),s=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),o=Boolean(a),l=o?Wn(n,i):Bn(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ai(s,a),transform:l,opacity:ii(i,o),zIndex:o?ri:ni,pointerEvents:"none"}}(e):{transform:Bn((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function oi(e){var t=ea("draggable"),n=e.descriptor,a=e.registry,i=e.getDraggableRef,s=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=ce((function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}}),[s,l,o]),d=de((function(e){var t=i();return t||Pe(!1),function(e,t,n){void 0===n&&(n=Be);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=be(a,r),s=ye(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:s}}(n,t,e)}),[n,i]),u=ce((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}}),[n,d,c,t]),m=(0,r.useRef)(u),p=(0,r.useRef)(!0);Ur((function(){return a.draggable.register(m.current),function(){return a.draggable.unregister(m.current)}}),[a.draggable]),Ur((function(){if(p.current)p.current=!1;else{var e=m.current;m.current=u,a.draggable.update(u,e)}}),[u,a.draggable])}function li(e,t,n){ra()}function ci(e){e.preventDefault()}var di=function(e,t){return e===t},ui=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function mi(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var pi={mapped:{type:"SECONDARY",offset:Be,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:mi(null)}};var hi=ie((function(){var e=function(){var e=_e((function(e,t){return{x:e,y:t}})),t=_e((function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=_e((function(e,n,r,a,i,s,o){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:s,mode:n,offset:e,dimension:r,forceShouldAnimate:o,snapshot:t(n,a,i,s,null)}}}));return function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var i=r.current.client.offset,s=r.dimensions.draggables[a.draggableId],o=Kt(r.impact),l=(d=r.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,s,a.isClone,o,l,c)}var d;if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==a.draggableId)return null;var m=a.isClone,p=r.dimensions.draggables[a.draggableId],h=u.result,f=h.mode,v=ui(h),g=function(e){return e.combine?e.combine.draggableId:null}(h),x={duration:r.dropDuration,curve:On,moveTo:r.newHomeClientOffset,opacity:g?Rn.drop:null,scale:g?Mn.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:x,draggingOver:v,combineWith:g,mode:f,forceShouldAnimate:null,snapshot:t(f,m,v,g,x)}}}return null}}(),t=function(){var e=_e((function(e,t){return{x:e,y:t}})),t=_e(mi),n=_e((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Be,e,!0):null},a=function(t,a,i,s){var o=i.displaced.visible[t],l=Boolean(s.inVirtualList&&s.effected[t]),c=ct(i),d=c&&c.draggableId===t?a:null;if(!o){if(!l)return r(d);if(i.displaced.invisible[t])return null;var u=ze(s.displacedBy.point),m=e(u.x,u.y);return n(m,d,!0)}if(l)return r(d);var p=i.displacedBy.point,h=e(p.x,p.y);return n(h,d,o.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||pi}}),{dropAnimationFinished:Pn},null,{context:Kr,pure:!0,areStatePropsEqual:di})((function(e){var t=(0,r.useRef)(null),n=de((function(e){t.current=e}),[]),a=de((function(){return t.current}),[]),i=Ka(ta),s=i.contextId,o=i.dragHandleUsageInstructionsId,l=i.registry,c=Ka(ei),d=c.type,u=c.droppableId,m=ce((function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}}),[e.draggableId,e.index,d,u]),p=e.children,h=e.draggableId,f=e.isEnabled,v=e.shouldRespectForcePress,g=e.canDragInteractiveElements,x=e.isClone,y=e.mapped,b=e.dropAnimationFinished;li(),na(),x||oi(ce((function(){return{descriptor:m,registry:l,getDraggableRef:a,canDragInteractiveElements:g,shouldRespectForcePress:v,isEnabled:f}}),[m,l,a,g,v,f]));var w=ce((function(){return f?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:ci}:null}),[s,o,h,f]),j=de((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&b()}),[b,y]),N=ce((function(){var e=si(y),t="DRAGGING"===y.type&&y.dropping?j:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:w}}),[s,w,h,y,j,n]),_=ce((function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}}),[m.droppableId,m.id,m.index,m.type]);return p(N,y.snapshot,_)}));function fi(e){return Ka(ei).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(hi,e):null}function vi(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return r.createElement(fi,s({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:a}))}var gi=function(e,t){return e===t.droppable.type},xi=function(e,t){return t.draggables[e.draggable.id]};var yi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Pe(!1),document.body}},bi=ie((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=s({},e,{shouldAnimatePlaceholder:!1}),n=_e((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=_e((function(r,a,i,s,o,l){var c=o.descriptor.id;if(o.descriptor.droppableId===r){var d=l?{render:l,dragging:n(o.descriptor)}:null,u={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!a)return t;if(!s)return e;var m={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}));return function(n,a){var i=a.droppableId,s=a.type,o=!a.isDropDisabled,l=a.renderClone;if(n.isDragging){var c=n.critical;if(!gi(s,c))return t;var d=xi(c,n.dimensions),u=Kt(n.impact)===i;return r(i,o,u,u,d,l)}if("DROP_ANIMATING"===n.phase){var m=n.completed;if(!gi(s,m.critical))return t;var p=xi(m.critical,n.dimensions);return r(i,o,ui(m.result)===i,Kt(m.impact)===i,p,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!gi(s,h.critical))return t;var f=Kt(h.impact)===i,v=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),g=h.critical.droppable.id===i;return f?v?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Kr,pure:!0,areStatePropsEqual:di})((function(e){var t=(0,r.useContext)(ta);t||Pe(!1);var n=t.contextId,a=t.isMovementAllowed,i=(0,r.useRef)(null),s=(0,r.useRef)(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,m=e.ignoreContainerClipping,p=e.isDropDisabled,h=e.isCombineEnabled,f=e.snapshot,v=e.useClone,g=e.updateViewportMaxScroll,x=e.getContainerForClone,y=de((function(){return i.current}),[]),b=de((function(e){i.current=e}),[]),w=(de((function(){return s.current}),[]),de((function(e){s.current=e}),[]));ra();var j=de((function(){a()&&g({maxScroll:sr()})}),[a,g]);!function(e){var t=(0,r.useRef)(null),n=Ka(ta),a=ea("droppable"),i=n.registry,s=n.marshal,o=aa(e),l=ce((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),d=ce((function(){return _e((function(e,n){t.current||Pe(!1);var r={x:e,y:n};s.updateDroppableScroll(l.id,r)}))}),[l.id,s]),u=de((function(){var e=t.current;return e&&e.env.closestScrollable?Ua(e.env.closestScrollable):Be}),[]),m=de((function(){var e=u();d(e.x,e.y)}),[u,d]),p=ce((function(){return Se(m)}),[m]),h=de((function(){var e=t.current,n=Ya(e);e&&n||Pe(!1),e.scrollOptions.shouldPublishImmediately?m():p()}),[p,m]),f=de((function(e,r){t.current&&Pe(!1);var a=o.current,i=a.getDroppableRef();i||Pe(!1);var s=za(i),c={ref:i,descriptor:l,env:s,scrollOptions:r};t.current=c;var d=Ha({ref:i,descriptor:l,env:s,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),u=s.closestScrollable;return u&&(u.setAttribute(Fr.contextId,n.contextId),u.addEventListener("scroll",h,Ga(c.scrollOptions))),d}),[n.contextId,l,h,o]),v=de((function(){var e=t.current,n=Ya(e);return e&&n||Pe(!1),Ua(n)}),[]),g=de((function(){var e=t.current;e||Pe(!1);var n=Ya(e);t.current=null,n&&(p.cancel(),n.removeAttribute(Fr.contextId),n.removeEventListener("scroll",h,Ga(e.scrollOptions)))}),[h,p]),x=de((function(e){var n=t.current;n||Pe(!1);var r=Ya(n);r||Pe(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=ce((function(){return{getDimensionAndWatchScroll:f,getScrollWhileDragging:v,dragStopped:g,scroll:x}}),[g,f,v,x]),b=ce((function(){return{uniqueId:a,descriptor:l,callbacks:y}}),[y,l,a]);Ur((function(){return c.current=b.descriptor,i.droppable.register(b),function(){t.current&&g(),i.droppable.unregister(b)}}),[y,l,g,b,s,i.droppable]),Ur((function(){t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,s]),Ur((function(){t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,s])}({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:m,getDroppableRef:y});var N=r.createElement(ti,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,a=e.data,i=e.animate;return r.createElement(Qa,{placeholder:a,onClose:t,innerRef:w,animate:i,contextId:n,onTransitionEnd:j})})),_=ce((function(){return{innerRef:b,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,N,b]),S=v?v.dragging.draggableId:null,E=ce((function(){return{droppableId:l,type:c,isUsingCloneFor:S}}),[l,S,c]);return r.createElement(ei.Provider,{value:E},o(_,f),function(){if(!v)return null;var e=v.dragging,t=v.render,n=r.createElement(fi,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return oe.createPortal(n,x())}())}));bi.defaultProps=yi},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9855:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9945:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});n(3800);var r=n(5043),a=n(579);const i=e=>r.memo((t=>{let{hospitalInfo:n}=t;const i=new Function("React","hospitalInfo",`return (${e});`);try{return i(r,n)}catch(s){return console.error("Error rendering dynamic component:",s),(0,a.jsx)("div",{children:"Error rendering template"})}}))},9987:(e,t,n)=>{var r=n(9812),a=n(2929),i=n(3211),s=n(3668),o=n(4160),l=n(2074),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,m){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=o;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var f=m.get(e);if(f)return f==t;r|=2,m.set(e,t);var v=s(p(e),p(t),r,c,u,m);return m.delete(e),v;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9989:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7784).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},9995:(e,t,n)=>{var r=n(9096),a=n(6571),i=n(8673);e.exports=function(e){return function(t,n,s){var o=Object(t);if(!a(t)){var l=r(n,3);t=i(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,s);return c>-1?o[l?t[c]:c]:void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var a=Object.create(null);__webpack_require__.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,__webpack_require__.d(a,i),a}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{scaleBand:()=>dw,scaleDiverging:()=>aE,scaleDivergingLog:()=>iE,scaleDivergingPow:()=>oE,scaleDivergingSqrt:()=>lE,scaleDivergingSymlog:()=>sE,scaleIdentity:()=>Jj,scaleImplicit:()=>lw,scaleLinear:()=>Zj,scaleLog:()=>oN,scaleOrdinal:()=>cw,scalePoint:()=>mw,scalePow:()=>vN,scaleQuantile:()=>DN,scaleQuantize:()=>TN,scaleRadial:()=>yN,scaleSequential:()=>ZS,scaleSequentialLog:()=>JS,scaleSequentialPow:()=>eE,scaleSequentialQuantile:()=>nE,scaleSequentialSqrt:()=>tE,scaleSequentialSymlog:()=>QS,scaleSqrt:()=>gN,scaleSymlog:()=>uN,scaleThreshold:()=>kN,scaleTime:()=>GS,scaleUtc:()=>KS,tickFormat:()=>Yj});var t=__webpack_require__(5043),n=__webpack_require__.t(t,2),r=__webpack_require__(4391),a=__webpack_require__(3216),i=__webpack_require__(7950),s=__webpack_require__.t(i,2),o=__webpack_require__(1387);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const d=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(H1){}new Map;const u=n.startTransition;s.flushSync,n.useId;function m(e){let{basename:n,children:r,future:i,window:s}=e,l=t.useRef();null==l.current&&(l.current=(0,o.zR)({window:s,v5Compat:!0}));let c=l.current,[d,m]=t.useState({action:c.action,location:c.location}),{v7_startTransition:p}=i||{},h=t.useCallback((e=>{p&&u?u((()=>m(e))):m(e)}),[m,p]);return t.useLayoutEffect((()=>c.listen(h)),[c,h]),t.useEffect((()=>(0,a.V8)(i)),[i]),t.createElement(a.Ix,{basename:n,children:r,location:d.location,navigationType:d.action,navigator:c,future:i})}const p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:u,replace:m,state:f,target:v,to:g,preventScrollReset:x,viewTransition:y}=e,b=c(e,d),{basename:w}=t.useContext(a.jb),j=!1;if("string"===typeof g&&h.test(g)&&(r=g,p))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=(0,o.pb)(t.pathname,w);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:j=!0}catch(H1){}let N=(0,a.$P)(g,{relative:s}),_=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:d}=void 0===n?{}:n,u=(0,a.Zp)(),m=(0,a.zy)(),p=(0,a.x$)(e,{relative:c});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:(0,o.AO)(m)===(0,o.AO)(p);u(e,{replace:n,state:s,preventScrollReset:l,relative:c,viewTransition:d})}}),[m,u,p,i,s,r,e,l,c,d])}(g,{replace:m,state:f,target:v,preventScrollReset:x,relative:s,viewTransition:y});return t.createElement("a",l({},b,{href:r||N,onClick:j||u?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:n,target:v}))}));var v,g,x,y;(g=v||(v={})).UseScrollRestoration="useScrollRestoration",g.UseSubmit="useSubmit",g.UseSubmitFetcher="useSubmitFetcher",g.UseFetcher="useFetcher",g.useViewTransitionState="useViewTransitionState",(y=x||(x={})).UseFetcher="useFetcher",y.UseFetchers="useFetchers",y.UseScrollRestoration="useScrollRestoration";var b=__webpack_require__(6604),w=__webpack_require__(3003),j=__webpack_require__(3390),N=__webpack_require__(7784);const _=(0,N.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var S=__webpack_require__(1360),E=__webpack_require__(9989),C=__webpack_require__(9855),D=__webpack_require__(6210),T=__webpack_require__(614),k=__webpack_require__(1140),A=__webpack_require__(8414),P=__webpack_require__(7152),O=__webpack_require__(8901),R=__webpack_require__(6638),M=__webpack_require__(9250),I=__webpack_require__(6756);const L=(0,I.zD)("staff/fetchStaffMembers",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/staff`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(500===e.status)throw new Error("Server error: 500 Internal Server Error");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(r){return n(r.message)}})),F=(0,I.zD)("staff/createStaffMember",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/staff`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(500===t.status)throw new Error("Server error: 500 Internal Server Error");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).staff}catch(r){return n(r.message)}})),B=(0,I.zD)("staff/updateStaffMember",(async(e,t)=>{let{id:n,data:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/staff/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(500===e.status)throw new Error("Server error: 500 Internal Server Error");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(i){return a(i.message)}})),W=(0,I.Z0)({name:"staff",initialState:{staffMembers:[],doctors:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(L.pending,(e=>{e.status="loading"})).addCase(L.fulfilled,((e,t)=>{var n;e.status="succeeded",e.staffMembers=t.payload,e.doctors=null===(n=e.staffMembers)||void 0===n?void 0:n.filter((e=>e.roles.includes("doctor")))})).addCase(L.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(F.pending,(e=>{e.status="loading"})).addCase(F.fulfilled,((e,t)=>{e.status="succeeded",e.staffMembers.push(t.payload)})).addCase(F.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(B.pending,(e=>{e.status="loading"})).addCase(B.fulfilled,((e,t)=>{e.status="succeeded";const n=e.staffMembers.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.staffMembers[n]=t.payload),e.doctors=e.staffMembers.filter((e=>e.roles.includes("doctor")))})).addCase(B.rejected,((e,t)=>{e.status="failed",e.error=t.payload}))}}),{getDoctors:U}=W.actions,z=W.reducer;var H=__webpack_require__(5830),V=__webpack_require__(1862),q=__webpack_require__(2814),G=__webpack_require__(5179),K=__webpack_require__(858),Y=__webpack_require__(6851),X=__webpack_require__(579),Z="AlertDialog",[J,Q]=(0,V.A)(Z,[G.Hs]),ee=(0,G.Hs)(),te=e=>{const{__scopeAlertDialog:t,...n}=e,r=ee(t);return(0,X.jsx)(G.bL,{...r,...n,modal:!0})};te.displayName=Z;var ne=t.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=ee(n);return(0,X.jsx)(G.l9,{...a,...r,ref:t})}));ne.displayName="AlertDialogTrigger";var re=e=>{const{__scopeAlertDialog:t,...n}=e,r=ee(t);return(0,X.jsx)(G.ZL,{...r,...n})};re.displayName="AlertDialogPortal";var ae=t.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=ee(n);return(0,X.jsx)(G.hJ,{...a,...r,ref:t})}));ae.displayName="AlertDialogOverlay";var ie="AlertDialogContent",[se,oe]=J(ie),le=t.forwardRef(((e,n)=>{const{__scopeAlertDialog:r,children:a,...i}=e,s=ee(r),o=t.useRef(null),l=(0,q.s)(n,o),c=t.useRef(null);return(0,X.jsx)(G.G$,{contentName:ie,titleName:ce,docsSlug:"alert-dialog",children:(0,X.jsx)(se,{scope:r,cancelRef:c,children:(0,X.jsxs)(G.UC,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:(0,K.m)(i.onOpenAutoFocus,(e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,X.jsx)(Y.xV,{children:a}),(0,X.jsx)(ve,{contentRef:o})]})})})}));le.displayName=ie;var ce="AlertDialogTitle",de=t.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=ee(n);return(0,X.jsx)(G.hE,{...a,...r,ref:t})}));de.displayName=ce;var ue="AlertDialogDescription",me=t.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=ee(n);return(0,X.jsx)(G.VY,{...a,...r,ref:t})}));me.displayName=ue;var pe=t.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=ee(n);return(0,X.jsx)(G.bm,{...a,...r,ref:t})}));pe.displayName="AlertDialogAction";var he="AlertDialogCancel",fe=t.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=oe(he,n),i=ee(n),s=(0,q.s)(t,a);return(0,X.jsx)(G.bm,{...i,...r,ref:s})}));fe.displayName=he;var ve=e=>{let{contentRef:n}=e;const r=`\`${ie}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${ie}\` by passing a \`${ue}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ie}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return t.useEffect((()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(r)}),[r,n]),null},ge=te,xe=ne,ye=re,be=ae,we=le,je=pe,Ne=fe,_e=de,Se=me,Ee=__webpack_require__(9766);const Ce=ge,De=xe,Te=ye,ke=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(be,{className:(0,Ee.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r,ref:t})}));ke.displayName=be.displayName;const Ae=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsxs)(Te,{children:[(0,X.jsx)(ke,{}),(0,X.jsx)(we,{ref:t,className:(0,Ee.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...r})]})}));Ae.displayName=we.displayName;const Pe=e=>{let{className:t,...n}=e;return(0,X.jsx)("div",{className:(0,Ee.cn)("flex flex-col space-y-0 text-center sm:text-left",t),...n})};Pe.displayName="AlertDialogHeader";const Oe=e=>{let{className:t,...n}=e;return(0,X.jsx)("div",{className:(0,Ee.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};Oe.displayName="AlertDialogFooter";const Re=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(_e,{ref:t,className:(0,Ee.cn)("text-lg font-semibold",n),...r})}));Re.displayName=_e.displayName;const Me=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Se,{ref:t,className:(0,Ee.cn)("text-sm text-muted-foreground",n),...r})}));Me.displayName=Se.displayName;const Ie=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(je,{ref:t,className:(0,Ee.cn)((0,j.r)(),n),...r})}));Ie.displayName=je.displayName;const Le=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Ne,{ref:t,className:(0,Ee.cn)((0,j.r)({variant:"outline"}),"mt-2 sm:mt-0",n),...r})}));function Fe(){var e;const n=(0,a.Zp)(),r=(0,w.wA)(),{toast:i}=(0,H.dj)(),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),h=(0,w.d4)((e=>e.templates.dischargeFormTemplateArray||[])),f=(0,w.d4)((e=>e.staff.doctors||[]));(0,t.useEffect)((()=>{r(L())}),[r]);return(0,X.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 max-w-7xl",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,X.jsx)(j.$,{onClick:()=>{n(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Discharge Form Templates"})]}),(0,X.jsx)("div",{className:"mb-6",children:(0,X.jsxs)(j.$,{onClick:()=>{c(null),o(!0)},children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Create New Template"]})}),(0,X.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:null===h||void 0===h?void 0:h.map((e=>(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{className:"pb-3",children:(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(k.ZB,{className:"text-lg",children:e.name}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>(e=>{c(e),o(!0)})(e),children:(0,X.jsx)(E.A,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>u(e),children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})]})]})}),(0,X.jsx)(k.Wu,{children:(0,X.jsx)("div",{className:"flex items-center text-sm text-muted-foreground",children:e.isDefault&&(0,X.jsxs)("div",{className:"flex items-center text-primary",children:[(0,X.jsx)(D.A,{className:"h-4 w-4 mr-1"}),"Default Template"]})})})]},e.name)))}),s&&(0,X.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,X.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[(0,X.jsx)(P.A,{config:(0,O.xX)(),enabledFields:(null===l||void 0===l?void 0:l.value)||(0,O.xX)(),onSave:async e=>{try{var t;if(null===(t=e.name)||void 0===t||!t.trim())return void i({title:"Error",description:"Template name is required",variant:"destructive"});const n=(l?h.filter((e=>e.name!==l.name)):h).map((t=>({...t,isDefault:!e.isDefault&&t.isDefault}))),a={...e,associatedDoctors:(null===l||void 0===l?void 0:l.associatedDoctors)||[],_id:null===l||void 0===l?void 0:l._id};n.push(a),await r((0,R.ub)({dischargeFormTemplateArray:n})).unwrap(),i({variant:"success",title:"Success",description:"Template saved successfully"}),o(!1),c(null)}catch(n){i({title:"Error",description:"Failed to save template",variant:"destructive"})}},onCancel:()=>{o(!1),c(null)},initialValues:{templateName:(null===l||void 0===l?void 0:l.name)||"",isDefault:(null===l||void 0===l?void 0:l.isDefault)||!1}}),(0,X.jsxs)("div",{className:"mt-1 border-t pt-1",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,X.jsxs)(A.l6,{value:m,onValueChange:p,children:[(0,X.jsx)(A.bq,{className:"w-[200px]",children:(0,X.jsx)(A.yv,{placeholder:"Select a doctor"})}),(0,X.jsx)(A.gC,{children:f.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]}),(0,X.jsx)(j.$,{onClick:()=>{if(!m)return;const e=f.find((e=>e._id===m));if(!e)return;if(h.some((t=>{var n;return t._id!==(null===l||void 0===l?void 0:l._id)&&(null===(n=t.associatedDoctors)||void 0===n?void 0:n.some((t=>t._id===e._id)))})))return void i({title:"Error",description:"This doctor is already assigned to another template",variant:"destructive"});const t={...l,associatedDoctors:[...(null===l||void 0===l?void 0:l.associatedDoctors)||[],{_id:e._id,name:e.name}]};c(t),p(null)},variant:"secondary",children:"Add Doctor"})]}),(0,X.jsx)("div",{className:"flex flex-wrap gap-2",children:null===l||void 0===l||null===(e=l.associatedDoctors)||void 0===e?void 0:e.map((e=>(0,X.jsxs)("div",{className:"flex items-center gap-2 bg-secondary  rounded",children:[(0,X.jsx)("span",{children:e.name}),(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>(e=>{const t={...l,associatedDoctors:l.associatedDoctors.filter((t=>t._id!==e))};c(t)})(e._id),children:(0,X.jsx)(T.A,{className:"h-3 w-3"})})]},e._id)))})]})]})}),(0,X.jsx)(Ce,{open:!!d,onOpenChange:()=>u(null),children:(0,X.jsxs)(Ae,{children:[(0,X.jsxs)(Pe,{children:[(0,X.jsx)(Re,{children:"Are you sure?"}),(0,X.jsxs)(Me,{children:['This will permanently delete the template "',null===d||void 0===d?void 0:d.name,'". This action cannot be undone.']})]}),(0,X.jsxs)(Oe,{children:[(0,X.jsx)(Le,{children:"Cancel"}),(0,X.jsx)(Ie,{onClick:()=>(async e=>{try{const t=h.filter((t=>t._id!==e._id));await r((0,R.ub)({dischargeFormTemplateArray:t})).unwrap(),i({title:"Success",description:"Template deleted successfully",variant:"success"}),u(null)}catch(t){i({title:"Error",description:"Failed to delete template",variant:"destructive"})}})(d),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}Le.displayName=Ne.displayName;var Be=__webpack_require__(6195);const We=(0,I.zD)("departments/fetchDepartments",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/departments`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(500===e.status)throw new Error("Server error: 500 Internal Server Error");return await e.json()}catch(r){return n(r.message)}})),Ue=(0,I.zD)("departments/createDepartment",(async(e,t)=>{let{name:n,staffIds:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/departments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:n,staffIds:r})});if(500===e.status)throw new Error("Server error: 500 Internal Server Error");return await e.json()}catch(i){return a(i.message)}})),$e=(0,I.zD)("departments/addDoctorToDepartment",(async(e,t)=>{let{departmentId:n,doctorId:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/departments/${n}/addDoctor`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({doctorId:r})});if(500===e.status)throw new Error("Server error: 500 Internal Server Error");return await e.json()}catch(i){return a(i.message)}})),ze=(0,I.zD)("departments/removeDoctorFromDepartment",(async(e,t)=>{let{departmentId:n,doctorId:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/departments/${n}/removeDoctor`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({doctorId:r})});if(500===e.status)throw new Error("Server error: 500 Internal Server Error");return await e.json()}catch(i){return a(i.message)}})),He=(0,I.zD)("departments/updateDepartment",(async(e,t)=>{let{id:n,name:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/departments/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:r})});if(!e.ok)throw new Error("Server error: 500 Internal Server Error");return await e.json()}catch(i){return a(i.message)}})),Ve=(0,I.zD)("departments/deleteDepartment",(async(e,t)=>{let{rejectWithValue:n}=t;try{if(500===(await fetch(`${M.B8}/api/departments/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"})).status)throw new Error("Server error: 500 Internal Server Error");return e}catch(r){return n(r.message)}})),qe=(0,I.Z0)({name:"departments",initialState:{departments:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(We.pending,(e=>{e.status="loading"})).addCase(We.fulfilled,((e,t)=>{e.status="succeeded",e.departments=t.payload})).addCase(We.rejected,((e,t)=>{e.status="failed",e.error=t.payload.error})).addCase(Ue.fulfilled,((e,t)=>{e.departments.push(t.payload)})).addCase($e.fulfilled,((e,t)=>{const n=e.departments.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.departments[n]=t.payload)})).addCase(ze.fulfilled,((e,t)=>{const n=e.departments.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.departments[n]=t.payload)})).addCase(He.fulfilled,((e,t)=>{const n=e.departments.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.departments[n]=t.payload)})).addCase(Ve.fulfilled,((e,t)=>{e.departments=e.departments.filter((e=>e._id!==t.payload))}))}}).reducer;var Ge=__webpack_require__(989);const Ke=(0,Ge.A)("user/loginUser",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Login failed")}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Ye=(0,Ge.A)("user/fetchUserData",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/staff/me`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(500===e.status)throw new Error("Server error: 500 Internal Server Error");if(!e.ok)throw new Error("Failed to fetch user data");return await e.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Xe=(0,I.Z0)({name:"user",initialState:{userData:null,status:"idle",error:null,isAuthenticated:!1,loginStatus:"idle",loginError:null},reducers:{clearUserData:e=>{e.userData=null,e.status="idle",e.error=null,e.isAuthenticated=!1,e.loginStatus="idle",e.loginError=null}},extraReducers:e=>{e.addCase(Ke.pending,(e=>{e.loginStatus="loading",e.loginError=null})).addCase(Ke.fulfilled,(e=>{e.loginStatus="succeeded",e.isAuthenticated=!0})).addCase(Ke.rejected,((e,t)=>{e.loginStatus="failed",e.loginError=t.payload,e.isAuthenticated=!1})).addCase(Ye.pending,(e=>{e.status="loading"})).addCase(Ye.fulfilled,((e,t)=>{e.status="succeeded",e.userData=t.payload,e.isAuthenticated=!0})).addCase(Ye.rejected,((e,t)=>{e.status="failed",e.error=t.payload,e.isAuthenticated=!1})).addCase(B.fulfilled,((e,t)=>{e.userData&&e.userData._id===t.payload._id&&(e.userData=t.payload)}))}}),{clearUserData:Ze}=Xe.actions,Je=Xe.reducer,Qe=(0,Ge.A)("rooms/fetchRooms",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/rooms`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch rooms");return e.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),et=(0,Ge.A)("rooms/createRoom",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/rooms`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){return n(await t.json())}return t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),tt=(0,Ge.A)("rooms/updateRoom",(async(e,t)=>{let{id:n,room:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/rooms/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!e.ok){return a(await e.json())}return e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),nt=(0,Ge.A)("rooms/deleteRoom",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/rooms/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){return n(await t.json())}return t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),rt=(0,Ge.A)("rooms/emptyBeds",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/rooms/empty-beds`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){return n(await t.json())}return t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),at=(0,I.Z0)({name:"rooms",initialState:{rooms:[],status:"idle",createRoomStatus:"idle",updateRoomStatus:"idle",deleteRoomStatus:"idle",emptyBedsStatus:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(Qe.pending,(e=>{e.status="loading"})).addCase(Qe.fulfilled,((e,t)=>{e.status="succeeded",e.rooms=t.payload})).addCase(Qe.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(et.pending,(e=>{e.createRoomStatus="loading"})).addCase(et.fulfilled,((e,t)=>{e.createRoomStatus="succeeded",e.rooms.push(t.payload)})).addCase(et.rejected,((e,t)=>{e.createRoomStatus="failed",e.error=t.payload})).addCase(tt.pending,(e=>{e.updateRoomStatus="loading"})).addCase(tt.fulfilled,((e,t)=>{e.updateRoomStatus="succeeded";const n=e.rooms.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.rooms[n]=t.payload)})).addCase(tt.rejected,((e,t)=>{e.updateRoomStatus="failed",e.error=t.payload})).addCase(nt.pending,(e=>{e.deleteRoomStatus="loading"})).addCase(nt.fulfilled,((e,t)=>{e.deleteRoomStatus="succeeded",e.rooms=e.rooms.filter((e=>e._id!==t.payload.room._id))})).addCase(nt.rejected,((e,t)=>{e.deleteRoomStatus="failed",e.error=t.payload})).addCase(rt.pending,(e=>{e.emptyBedsStatus="loading"})).addCase(rt.fulfilled,((e,t)=>{e.emptyBedsStatus="succeeded",t.payload.rooms.forEach((t=>{const n=e.rooms.findIndex((e=>e._id===t._id));-1!==n&&(e.rooms[n]=t)}))})).addCase(rt.rejected,((e,t)=>{e.emptyBedsStatus="failed",e.error=t.payload}))}}).reducer;var it=__webpack_require__(112),st=__webpack_require__(5126);const ot=(0,Ge.A)("billing/createService",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/service`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),lt=(0,Ge.A)("billing/fetchServices",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/billing/services`,{credentials:"include"});if(!e.ok){return n(await e.json())}return await e.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),ct=(0,Ge.A)("billing/updateService",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/service/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),dt=(0,Ge.A)("billing/deleteService",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/service/${e}`,{method:"DELETE",credentials:"include"});if(!t.ok){return n(await t.json())}return e}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),ut=(0,Ge.A)("billing/importServices",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/services/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({services:e}),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),mt=(0,I.Z0)({name:"services",initialState:{services:[],servicesStatus:"idle",createServiceStatus:"idle",updateServiceStatus:"idle",deleteServiceStatus:"idle",importServicesStatus:"idle",importServicesError:null,error:null},reducers:{},extraReducers:e=>{e.addCase(ot.pending,(e=>{e.createServiceStatus="loading",e.error=null})).addCase(ot.fulfilled,((e,t)=>{e.createServiceStatus="succeeded",e.services.push(t.payload)})).addCase(ot.rejected,((e,t)=>{e.createServiceStatus="failed",e.error=t.payload})).addCase(lt.pending,(e=>{e.servicesStatus="loading",e.error=null})).addCase(lt.fulfilled,((e,t)=>{e.servicesStatus="succeeded",e.services=t.payload})).addCase(lt.rejected,((e,t)=>{e.servicesStatus="failed",e.error=t.payload})).addCase(ct.pending,(e=>{e.updateServiceStatus="loading",e.error=null})).addCase(ct.fulfilled,((e,t)=>{e.updateServiceStatus="succeeded";const n=e.services.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.services[n]=t.payload)})).addCase(ct.rejected,((e,t)=>{e.updateServiceStatus="failed",e.error=t.payload})).addCase(dt.pending,(e=>{e.deleteServiceStatus="loading",e.error=null})).addCase(dt.fulfilled,((e,t)=>{e.deleteServiceStatus="succeeded",e.services=e.services.filter((e=>e._id!==t.payload))})).addCase(dt.rejected,((e,t)=>{e.deleteServiceStatus="failed",e.error=t.payload}))}}).reducer,pt=(0,Ge.A)("billing/createBill",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/create-bill`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),ht=(0,Ge.A)("billing/fetchBills",(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:t}=arguments.length>1?arguments[1]:void 0;try{var n,r,a,i;const s=new URLSearchParams;if((null===(n=e.dateRange)||void 0===n||!n.startDate)&&(null===(r=e.dateRange)||void 0===r||!r.endDate))return t("Please select a date range");if(null!==(a=e.dateRange)&&void 0!==a&&a.startDate){const t=new Date(e.dateRange.startDate+"T00:00:00");s.append("startDate",t)}if(null!==(i=e.dateRange)&&void 0!==i&&i.endDate){const t=new Date(e.dateRange.endDate+"T23:59:59");s.append("endDate",t)}const o=`${M.B8}/api/billing/get-bills${s.toString()?`?${s.toString()}`:""}`,l=await fetch(o,{credentials:"include"});if(!l.ok){return t(await l.json())}return await l.json()}catch(s){return t(s.message)}}),{useGlobalLoader:!0}),ft=(0,Ge.A)("billing/updateBill",(async(e,t)=>{let{billId:n,billData:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/billing/update-bill/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),vt=(0,Ge.A)("billing/deleteBill",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/delete-bill/${e}`,{method:"DELETE",credentials:"include"});if(!t.ok){return n(await t.json())}return e}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),gt=(0,Ge.A)("bills/addPayment",(async(e,t)=>{let{billId:n,payment:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/billing/${n}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),xt=(0,Ge.A)("billing/createOPDProcedureBill",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/create-opd-procedure-bill`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),yt=(0,Ge.A)("billing/fetchBillById",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/get-bill/${e}`,{credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),bt=(0,Ge.A)("billing/searchBillByInvoice",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/billing/search-invoice`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoiceNumber:e}),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),wt=(0,Ge.A)("bills/deletePayment",(async(e,t)=>{let{billId:n,paymentId:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/billing/${n}/payments/${r}`,{method:"DELETE",credentials:"include"});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),jt=(0,I.Z0)({name:"bills",initialState:{bills:[],billsStatus:"idle",createBillStatus:"idle",updateBillStatus:"idle",error:null,createOPDProcedureBillStatus:"idle",currentBill:null,currentBillStatus:"idle"},reducers:{setCreateBillStatusIdle:e=>{e.createBillStatus="idle",e.updateBillStatus="idle"},updateBillAfterPayment:(e,t)=>{const n=t.payload;e.bills=e.bills.map((e=>e._id===n._id?n:e))}},extraReducers:e=>{e.addCase(pt.pending,(e=>{e.createBillStatus="loading",e.error=null})).addCase(pt.fulfilled,((e,t)=>{e.createBillStatus="succeeded",e.bills.unshift(t.payload)})).addCase(pt.rejected,((e,t)=>{e.createBillStatus="failed",e.error=t.payload})).addCase(ht.pending,(e=>{e.billsStatus="loading",e.error=null})).addCase(ht.fulfilled,((e,t)=>{e.billsStatus="succeeded",e.bills=t.payload})).addCase(ht.rejected,((e,t)=>{e.billsStatus="failed",e.error=t.payload})).addCase(ft.pending,(e=>{e.updateBillStatus="loading",e.error=null})).addCase(ft.fulfilled,((e,t)=>{e.updateBillStatus="succeeded";const n=e.bills.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.bills[n]=t.payload)})).addCase(ft.rejected,((e,t)=>{e.updateBillStatus="failed",e.error=t.payload})).addCase(vt.pending,(e=>{e.error=null})).addCase(vt.fulfilled,((e,t)=>{e.bills=e.bills.filter((e=>e._id!==t.payload))})).addCase(vt.rejected,((e,t)=>{e.error=t.payload})).addCase(gt.fulfilled,((e,t)=>{const n=e.bills.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.bills[n]=t.payload)})).addCase(xt.pending,(e=>{e.createOPDProcedureBillStatus="loading",e.error=null})).addCase(xt.fulfilled,((e,t)=>{e.createOPDProcedureBillStatus="succeeded",e.bills.unshift(t.payload)})).addCase(xt.rejected,((e,t)=>{e.createOPDProcedureBillStatus="failed",e.error=t.payload})).addCase(yt.pending,(e=>{e.currentBillStatus="loading",e.error=null})).addCase(yt.fulfilled,((e,t)=>{e.currentBillStatus="succeeded",e.currentBill=t.payload})).addCase(yt.rejected,((e,t)=>{e.currentBillStatus="failed",e.error=t.payload})).addCase(bt.fulfilled,((e,t)=>{e.billsStatus="succeeded"})).addCase(bt.rejected,((e,t)=>{e.billsStatus="failed",e.error=t.payload})).addCase(wt.fulfilled,((e,t)=>{const n=e.bills.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.bills[n]=t.payload)})).addCase(wt.rejected,((e,t)=>{e.error=t.payload}))}}),{setCreateBillStatusIdle:Nt,updateBillAfterPayment:_t}=jt.actions,St=jt.reducer,Et=(0,Ge.A)("hospital/fetchHospitalInfo",(async()=>{const e=await fetch(`${M.B8}/api/hospitals/getHospital`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch hospital data");const t=await e.json();if(t.logo)try{const e=await fetch(t.logo),n=await e.blob();t.hospitalLogoBlob=URL.createObjectURL(n)}catch(n){console.error("Failed to fetch hospital logo:",n),t.hospitalLogoBlob=null}if(t.logo2)try{const e=await fetch(t.logo2),n=await e.blob();t.hospitalLogo2Blob=URL.createObjectURL(n)}catch(n){console.error("Failed to fetch hospital logo2:",n),t.hospitalLogo2Blob=null}if(t.morelogos&&t.morelogos.length>0){t.moreLogosBlobs=[];for(const e of t.morelogos)try{const n=await fetch(e),r=await n.blob();t.moreLogosBlobs.push(URL.createObjectURL(r))}catch(n){console.error("Failed to fetch additional logo:",n),t.moreLogosBlobs.push(null)}}if(t.serviceDiscontinuedDate){const e=new Date(t.serviceDiscontinuedDate),n=new Date;e.setHours(0,0,0,0),n.setHours(0,0,0,0),t.serviceDiscontinuedDate=e;const r=Math.ceil((e-n)/864e5);t.discontinuedDaysLeft=r}return t}),{useGlobalLoading:!0}),Ct=(0,Ge.A)("hospital/updateHospitalInfo",(async e=>{const t=await fetch(`${M.B8}/api/hospitals/${e.hospitalId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update hospital data");const n=await t.json();if(n.logo)try{const e=await fetch(n.logo),t=await e.blob();n.hospitalLogoBlob=URL.createObjectURL(t)}catch(r){console.error("Failed to fetch updated hospital logo:",r),n.hospitalLogoBlob=null}if(n.logo2)try{const e=await fetch(n.logo2),t=await e.blob();n.hospitalLogo2Blob=URL.createObjectURL(t)}catch(r){console.error("Failed to fetch updated hospital logo2:",r),n.hospitalLogo2Blob=null}if(n.morelogos&&n.morelogos.length>0){n.moreLogosBlobs=[];for(const e of n.morelogos)try{const t=await fetch(e),r=await t.blob();n.moreLogosBlobs.push(URL.createObjectURL(r))}catch(r){console.error("Failed to fetch updated additional logo:",r),n.moreLogosBlobs.push(null)}}return n}),{useGlobalLoading:!0}),Dt=(0,I.Z0)({name:"hospital",initialState:{hospitalInfo:null,hospitalLogoBlob:null,hospitalLogo2Blob:null,moreLogosBlobs:[],hospitalInfoStatus:"idle",updateStatus:"idle",error:null},reducers:{cleanupLogoBlob:e=>{e.hospitalLogoBlob&&(URL.revokeObjectURL(e.hospitalLogoBlob),e.hospitalLogoBlob=null),e.hospitalLogo2Blob&&(URL.revokeObjectURL(e.hospitalLogo2Blob),e.hospitalLogo2Blob=null),e.moreLogosBlobs&&e.moreLogosBlobs.length>0&&(e.moreLogosBlobs.forEach((e=>{e&&URL.revokeObjectURL(e)})),e.moreLogosBlobs=[])}},extraReducers:e=>{e.addCase(Et.pending,(e=>{e.hospitalInfoStatus="loading",e.hospitalLogoBlob&&URL.revokeObjectURL(e.hospitalLogoBlob),e.hospitalLogo2Blob&&URL.revokeObjectURL(e.hospitalLogo2Blob),e.moreLogosBlobs&&e.moreLogosBlobs.length>0&&(e.moreLogosBlobs.forEach((e=>{e&&URL.revokeObjectURL(e)})),e.moreLogosBlobs=[])})).addCase(Et.fulfilled,((e,t)=>{e.hospitalInfoStatus="succeeded",e.hospitalInfo=t.payload,e.hospitalLogoBlob=t.payload.hospitalLogoBlob,e.hospitalLogo2Blob=t.payload.hospitalLogo2Blob,e.moreLogosBlobs=t.payload.moreLogosBlobs||[]})).addCase(Et.rejected,((e,t)=>{e.hospitalInfoStatus="failed",e.error=t.error.message})).addCase(Ct.pending,(e=>{e.updateStatus="loading",e.hospitalLogoBlob&&URL.revokeObjectURL(e.hospitalLogoBlob),e.hospitalLogo2Blob&&URL.revokeObjectURL(e.hospitalLogo2Blob),e.moreLogosBlobs&&e.moreLogosBlobs.length>0&&(e.moreLogosBlobs.forEach((e=>{e&&URL.revokeObjectURL(e)})),e.moreLogosBlobs=[])})).addCase(Ct.fulfilled,((e,t)=>{e.updateStatus="succeeded",e.hospitalInfo=t.payload.hospital,e.hospitalLogoBlob=t.payload.hospital.hospitalLogoBlob,e.hospitalLogo2Blob=t.payload.hospital.hospitalLogo2Blob,e.moreLogosBlobs=t.payload.hospital.moreLogosBlobs||[]})).addCase(Ct.rejected,((e,t)=>{e.updateStatus="failed",e.error=t.error.message}))}}),{cleanupLogoBlob:Tt}=Dt.actions,kt=Dt.reducer,At=(0,Ge.A)("dashboard/fetchData",(async(e,t)=>{let{startDate:n,endDate:r,range:a}=e,{getState:i}=t;i();const s=new URLSearchParams({startDate:n,endDate:r}),o=await fetch(`${M.B8}/api/dashboard/daily-stats?${s}`,{credentials:"include"});if(!o.ok)throw new Error("Failed to fetch dashboard data");return await o.json()}),{useGlobalLoader:!0}),Pt=(0,I.Z0)({name:"dashboard",initialState:{dashboardData:[],dashboardDataStatus:"idle",dashboardRange:"idle",error:null},reducers:{setDashboardDataStatusIdle:e=>{e.dashboardDataStatus="idle"}},extraReducers:e=>{e.addCase(At.pending,(e=>{e.dashboardDataStatus="loading"})).addCase(At.fulfilled,((e,t)=>{e.dashboardDataStatus="succeeded",e.dashboardData=t.payload,e.dashboardRange=t.meta.arg.range})).addCase(At.rejected,((e,t)=>{e.dashboardDataStatus="failed",e.error=t.error.message}))}}),{setDashboardDataStatusIdle:Ot}=Pt.actions,Rt=Pt.reducer;var Mt=__webpack_require__(2191);const It=(0,Ge.A)("expenses/createExpense",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/expenses/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Lt=(0,Ge.A)("expenses/updateExpense",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/expenses/update/${e._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Ft=(0,Ge.A)("expenses/payExpense",(async(e,t)=>{let{id:n,paymentData:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/expenses/${n}/pay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});if(!e.ok){return a(await e.json())}return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),Bt=(0,Ge.A)("expenses/deleteExpense",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/expenses/${e}`,{method:"DELETE",credentials:"include"});if(!t.ok){return n(await t.json())}return e}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Wt=(0,Ge.A)("expenses/fetchExpenses",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=new URL(`${M.B8}/api/expenses`);e&&(e.startDate&&t.searchParams.append("startDate",e.startDate),e.endDate&&t.searchParams.append("endDate",e.endDate));const r=await fetch(t,{method:"GET",credentials:"include"});if(!r.ok){return n(await r.json())}return await r.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Ut=(0,I.Z0)({name:"expenses",initialState:{expenses:[],expensesStatus:"idle",createExpenseStatus:"idle",updateExpenseStatus:"idle",payExpenseStatus:"idle",deleteExpenseStatus:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(It.pending,(e=>{e.createExpenseStatus="loading",e.error=null})).addCase(It.fulfilled,((e,t)=>{e.createExpenseStatus="succeeded",e.expenses.unshift(t.payload)})).addCase(It.rejected,((e,t)=>{e.createExpenseStatus="failed",e.error=t.payload})).addCase(Lt.pending,(e=>{e.updateExpenseStatus="loading",e.error=null})).addCase(Lt.fulfilled,((e,t)=>{e.updateExpenseStatus="succeeded";const n=e.expenses.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.expenses[n]=t.payload)})).addCase(Lt.rejected,((e,t)=>{e.updateExpenseStatus="failed",e.error=t.payload})).addCase(Ft.pending,(e=>{e.payExpenseStatus="loading",e.error=null})).addCase(Ft.fulfilled,((e,t)=>{e.payExpenseStatus="succeeded";const n=e.expenses.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.expenses[n]=t.payload)})).addCase(Ft.rejected,((e,t)=>{e.payExpenseStatus="failed",e.error=t.payload})).addCase(Bt.pending,(e=>{e.deleteExpenseStatus="loading",e.error=null})).addCase(Bt.fulfilled,((e,t)=>{e.deleteExpenseStatus="succeeded",e.expenses=e.expenses.filter((e=>e._id!==t.payload))})).addCase(Bt.rejected,((e,t)=>{e.deleteExpenseStatus="failed",e.error=t.payload})).addCase(Wt.pending,(e=>{e.expensesStatus="loading",e.error=null})).addCase(Wt.fulfilled,((e,t)=>{e.expensesStatus="succeeded",e.expenses=t.payload})).addCase(Wt.rejected,((e,t)=>{e.expensesStatus="failed",e.error=t.payload}))}}).reducer;var $t=__webpack_require__(8087);const zt=(0,Ge.A)("payments/fetchPayments",(async(e,t)=>{let{startDate:n,endDate:r}=e,{rejectWithValue:a}=t;try{const e=new URLSearchParams({startDate:n,endDate:r}),t=await fetch(`${M.B8}/api/payments/filter?${e}`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch payments");return await t.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),Ht=(0,Ge.A)("payments/fetchPaymentStats",(async(e,t)=>{let{startDate:n,endDate:r}=e,{rejectWithValue:a}=t;try{const e=new URLSearchParams({startDate:n,endDate:r}),t=await fetch(`${M.B8}/api/payments/statistics?${e}`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch payment statistics");return await t.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),Vt=(0,Ge.A)("payments/deletePayment",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/payments/${e}`,{method:"DELETE",credentials:"include"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to delete payment")}return(await t.json()).deletedPaymentId}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),qt=(0,I.Z0)({name:"payments",initialState:{payments:[],stats:{income:0,expense:0,net:0},status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(zt.pending,(e=>{e.status="loading"})).addCase(zt.fulfilled,((e,t)=>{e.status="succeeded",e.payments=t.payload})).addCase(zt.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(Ht.fulfilled,((e,t)=>{e.stats=t.payload})).addCase(Vt.pending,(e=>{e.status="deleting",e.error=null})).addCase(Vt.fulfilled,((e,t)=>{if(e.status="succeeded",e.payments=e.payments.filter((e=>e._id!==t.payload)),e.stats&&e.payments.length>0){const t=e.payments.filter((e=>"Income"===e.type)).reduce(((e,t)=>e+(t.amount||0)),0),n=e.payments.filter((e=>"Expense"===e.type)).reduce(((e,t)=>e+(t.amount||0)),0);e.stats={income:t,expense:n,net:t-n}}e.error=null})).addCase(Vt.rejected,((e,t)=>{e.status="failed",e.error=t.payload}))}}).reducer,Gt=(0,Ge.A)("lab/fetchRegistrations",(async(e,t)=>{let{startDate:n,endDate:r}=e,{rejectWithValue:a}=t;try{const e=new URLSearchParams({startDate:n,endDate:r}).toString(),t=await fetch(`${M.B8}/api/lab/registrations?${e}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),i=await t.json();return i.success?i.registrations:a(i.message||"Failed to fetch lab registrations")}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),Kt=(0,Ge.A)("lab/createRegistration",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/lab/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),r=await t.json();return r.success?r.labRegistration:n(r.message||"Failed to create lab registration")}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Yt=(0,Ge.A)("lab/updateTestStatus",(async(e,t)=>{let{registrationId:n,testName:r,newStatus:a}=e,{rejectWithValue:i}=t;try{const e=await fetch(`${M.B8}/api/lab/update-test-status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationId:n,testName:r,newStatus:a}),credentials:"include"}),t=await e.json();return t.success?t:i(t.message||"Failed to update test status")}catch(s){return i(s.message)}}),{useGlobalLoader:!0}),Xt=(0,Ge.A)("lab/addPayment",(async(e,t)=>{let{labId:n,payment:r}=e,{rejectWithValue:a}=t;try{const e=await fetch(`${M.B8}/api/lab/${n}/payment`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!e.ok)return a("Failed to add payment");return await e.json()}catch(i){return a(i.message)}}),{useGlobalLoader:!0}),Zt=(0,Ge.A)("lab/searchRegistrations",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/lab/search`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchQuery:e})}),r=await t.json();return r.success?r.registrations:n(r.message||"Failed to search lab registrations")}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),Jt=(0,Ge.A)("lab/addTests",(async(e,t)=>{let{id:n,labTests:r,testsToRemove:a,paymentInfo:i}=e,{rejectWithValue:s}=t;try{const e=await fetch(`${M.B8}/api/lab/add-tests/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({labTests:r,testsToRemove:a,paymentInfo:{totalAmount:i.totalAmount,amountPaid:i.amountPaid,paymentMethod:i.paymentMethod,additionalDiscount:i.additionalDiscount}}),credentials:"include"});if(!e.ok){return s((await e.json()).message||"Failed to update tests")}return await e.json()}catch(o){return s(o.message||"Failed to update tests")}}),{useGlobalLoader:!0}),Qt=(0,Ge.A)("lab/updateRegistration",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/lab/update/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),r=await t.json();return r.success?r.labRegistration:n(r.message||"Failed to update lab registration")}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),en=(0,Ge.A)("lab/deleteRegistration",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/lab/delete/${e}`,{method:"DELETE",credentials:"include"}),r=await t.json();return r.success?{registrationId:e}:n(r.error||"Failed to delete lab registration")}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),tn=(0,Ge.A)("lab/fetchLabData",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/lab/lab-data`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)return n("Failed to fetch lab data");const t=await e.json();return t.success?t:n(t.message||"Failed to fetch lab data")}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),nn=(0,I.Z0)({name:"lab",initialState:{registrations:[],registrationsStatus:"idle",createRegistrationStatus:"idle",updateRegistrationStatus:"idle",deleteRegistrationStatus:"idle",updateTestStatus:"idle",error:null,searchResults:[],searchStatus:"idle",labCategories:[],labReportFields:{},fetchLabDataStatus:"idle"},reducers:{setCreateRegistrationStatusIdle:e=>{e.createRegistrationStatus="idle"},setUpdateRegistrationStatusIdle:e=>{e.updateRegistrationStatus="idle"},setDeleteRegistrationStatusIdle:e=>{e.deleteRegistrationStatus="idle"},setUpdateTestStatusIdle:e=>{e.updateTestStatus="idle"},clearSearchResults:e=>{e.searchResults=[],e.searchStatus="idle"}},extraReducers:e=>{e.addCase(Gt.pending,(e=>{e.registrationsStatus="loading",e.error=null})).addCase(Gt.fulfilled,((e,t)=>{e.registrationsStatus="succeeded",e.registrations=t.payload})).addCase(Gt.rejected,((e,t)=>{e.registrationsStatus="failed",e.error=t.payload})).addCase(Kt.pending,(e=>{e.createRegistrationStatus="loading",e.error=null})).addCase(Kt.fulfilled,((e,t)=>{e.createRegistrationStatus="succeeded",e.registrations.push(t.payload)})).addCase(Kt.rejected,((e,t)=>{e.createRegistrationStatus="failed",e.error=t.payload})).addCase(Yt.pending,(e=>{e.updateTestStatus="loading",e.error=null})).addCase(Yt.fulfilled,((e,t)=>{e.updateTestStatus="succeeded";const n=e.registrations.findIndex((e=>e._id===t.payload.registration._id));-1!==n&&(e.registrations[n]=t.payload.registration)})).addCase(Yt.rejected,((e,t)=>{e.updateTestStatus="failed",e.error=t.payload})).addCase(Xt.pending,(e=>{e.updateTestStatus="loading"})).addCase(Xt.fulfilled,((e,t)=>{e.updateTestStatus="succeeded";const n=e.registrations.findIndex((e=>e._id===t.payload.labRegistration._id));if(-1!==n){let r={...t.payload.labRegistration,payments:[...e.registrations[n].payments,t.payload.payment]};e.registrations[n]=r}})).addCase(Xt.rejected,((e,t)=>{e.updateTestStatus="failed",e.error=t.payload})).addCase(Zt.pending,(e=>{e.searchStatus="loading",e.error=null})).addCase(Zt.fulfilled,((e,t)=>{e.searchStatus="succeeded",e.searchResults=t.payload})).addCase(Zt.rejected,((e,t)=>{e.searchStatus="failed",e.error=t.payload})).addCase(Jt.pending,(e=>{e.updateTestStatus="loading"})).addCase(Jt.fulfilled,((e,t)=>{e.updateTestStatus="succeeded";const n=e.registrations.findIndex((e=>e._id===t.payload.labRegistration._id));-1!==n&&(e.registrations[n]={...e.registrations[n],...t.payload.labRegistration,payments:t.payload.labRegistration.payments})})).addCase(Jt.rejected,((e,t)=>{var n;e.updateTestStatus="failed",e.error=(null===(n=t.payload)||void 0===n?void 0:n.error)||"Failed to update tests"})).addCase(Qt.pending,(e=>{e.updateRegistrationStatus="loading",e.error=null})).addCase(Qt.fulfilled,((e,t)=>{e.updateRegistrationStatus="succeeded";const n=e.registrations.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.registrations[n]=t.payload)})).addCase(Qt.rejected,((e,t)=>{e.updateRegistrationStatus="failed",e.error=t.payload})).addCase(en.pending,(e=>{e.deleteRegistrationStatus="loading",e.error=null})).addCase(en.fulfilled,((e,t)=>{e.deleteRegistrationStatus="succeeded",e.registrations=e.registrations.filter((e=>e._id!==t.payload.registrationId)),e.searchResults=e.searchResults.filter((e=>e._id!==t.payload.registrationId))})).addCase(en.rejected,((e,t)=>{e.deleteRegistrationStatus="failed",e.error=t.payload})).addCase(tn.pending,(e=>{e.fetchLabDataStatus="loading",e.error=null})).addCase(tn.fulfilled,((e,t)=>{e.fetchLabDataStatus="succeeded",e.labCategories=t.payload.labCategories,e.labReportFields=t.payload.labReportFields})).addCase(tn.rejected,((e,t)=>{e.fetchLabDataStatus="failed",e.error=t.payload}))}}),{setCreateRegistrationStatusIdle:rn,setUpdateRegistrationStatusIdle:an,setUpdateTestStatusIdle:sn,clearSearchResults:on,setDeleteRegistrationStatusIdle:ln}=nn.actions,cn=nn.reducer,dn=(0,Ge.A)("hospitalSettings/fetch",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/hospitals/settings`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch hospital settings");return await e.json()}catch(r){return n(r.message)}})),un=(0,Ge.A)("hospitalSettings/update",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/hospitals/postsettings`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update hospital settings");return await t.json()}catch(r){return n(r.message)}})),mn=(0,I.Z0)({name:"hospitalSettings",initialState:{settings:null,status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(dn.pending,(e=>{e.status="loading"})).addCase(dn.fulfilled,((e,t)=>{e.status="succeeded",e.settings=t.payload})).addCase(dn.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(un.fulfilled,((e,t)=>{e.settings=t.payload}))}}).reducer,pn=(0,Ge.A)("consultationFees/fetchAll",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/consultation-fees`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){return n(await e.json())}return await e.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),hn=(0,Ge.A)("consultationFees/update",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/consultation-fees`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),fn=(0,Ge.A)("consultationFees/updateTypes",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/consultation-fees/types`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({types:e})});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}}),{useGlobalLoader:!0}),vn=(0,I.Z0)({name:"consultationFees",initialState:{doctorWiseFee:[],consultationTypes:[],masterFollowup:-1,masterConsultationFeesDoctor:{},masterConsultationFeesType:{},status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(pn.pending,(e=>{e.status="loading"})).addCase(pn.fulfilled,((e,t)=>{e.status="succeeded",e.doctorWiseFee=t.payload.doctorWiseFee||[];const n={};t.payload.consultationTypes&&t.payload.doctorWiseFee.length>0&&t.payload.consultationTypes.forEach((e=>{const r=t.payload.doctorWiseFee.map((t=>t.consultationType[e])).filter((e=>void 0!==e)),a=r.length>0&&r.every((e=>e===r[0]));n[e]=a?r[0]:-1})),e.masterConsultationFeesType=n;const r={};t.payload.doctorWiseFee.length>0&&t.payload.doctorWiseFee.forEach((e=>{const t=Object.values(e.consultationType),n=t.length>0&&t.every((e=>e===t[0]));r[e.doctor._id]=n?t[0]:-1})),e.masterConsultationFeesDoctor=r;const a=t.payload.doctorWiseFee.map((e=>e.followUpDateWithin)),i=a.length>0&&a.every((e=>e===a[0]));e.masterFollowup=i?a[0]:-1,e.consultationTypes=t.payload.consultationTypes||[],e.error=null})).addCase(pn.rejected,((e,t)=>{var n;e.status="failed",e.error=(null===(n=t.payload)||void 0===n?void 0:n.message)||"Failed to fetch consultation fees"})).addCase(hn.pending,(e=>{e.status="loading"})).addCase(hn.fulfilled,((e,t)=>{e.status="succeeded",e.doctorWiseFee=t.payload.doctorWiseFee,e.consultationTypes=t.payload.consultationTypes,e.error=null})).addCase(hn.rejected,((e,t)=>{var n;e.status="failed",e.error=(null===(n=t.payload)||void 0===n?void 0:n.message)||"Failed to update consultation fee"})).addCase(fn.pending,(e=>{e.status="loading"})).addCase(fn.fulfilled,((e,t)=>{e.status="succeeded",e.doctorWiseFee=t.payload.doctorWiseFee,e.consultationTypes=t.payload.consultationTypes,e.error=null})).addCase(fn.rejected,((e,t)=>{var n;e.status="failed",e.error=(null===(n=t.payload)||void 0===n?void 0:n.message)||"Failed to update consultation types"}))}}).reducer,gn=(0,I.U1)({reducer:{patients:Be.Ay,staff:z,departments:qe,rooms:at,pharmacy:it.Ay,user:Je,loader:st.A,services:mt,bills:St,hospital:kt,templates:R.Ay,dashboard:Rt,discharge:Mt.Ay,expenses:Ut,babies:$t.Ay,payments:qt,lab:cn,hospitalSettings:mn,consultationFees:vn}});var xn=__webpack_require__(2264),yn=__webpack_require__(3141),bn=__webpack_require__(9945),wn=__webpack_require__(1203);const jn=(0,t.forwardRef)(((e,n)=>{const{patient:r,templateString:a}=e,{hospitalInfo:i}=(0,w.d4)((e=>e.hospital)),s=(0,w.d4)((e=>e.templates.headerTemplateArray)),o=(null===s||void 0===s?void 0:s.length)>0?s[0].value:wn.h,l=(0,bn.G)(o),c=new Function("React","HospitalHeader",`return (${a});`);try{return c(t,l)(r,i,n)}catch(d){return console.error("Error rendering Consent form:",d),t.createElement("div",null,"Error rendering Consent form template")}})),Nn=(0,N.A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var _n=__webpack_require__(3642),Sn=__webpack_require__(7920),En=__webpack_require__(5463),Cn=__webpack_require__(4204),Dn=__webpack_require__(1184),Tn=__webpack_require__(6590),kn=__webpack_require__(276),An=__webpack_require__(4490),Pn=__webpack_require__(2043),On=__webpack_require__(3321),Rn=__webpack_require__(2894),Mn=__webpack_require__(7490),In="rovingFocusGroup.onEntryFocus",Ln={bubbles:!1,cancelable:!0},Fn="RovingFocusGroup",[Bn,Wn,Un]=(0,En.N)(Fn),[$n,zn]=(0,V.A)(Fn,[Un]),[Hn,Vn]=$n(Fn),qn=t.forwardRef(((e,t)=>(0,X.jsx)(Bn.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,X.jsx)(Bn.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,X.jsx)(Gn,{...e,ref:t})})})));qn.displayName=Fn;var Gn=t.forwardRef(((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,p=t.useRef(null),h=(0,q.s)(n,p),f=(0,Cn.jH)(s),[v=null,g]=(0,_n.i)({prop:o,defaultProp:l,onChange:c}),[x,y]=t.useState(!1),b=(0,Mn.c)(d),w=Wn(r),j=t.useRef(!1),[N,_]=t.useState(0);return t.useEffect((()=>{const e=p.current;if(e)return e.addEventListener(In,b),()=>e.removeEventListener(In,b)}),[b]),(0,X.jsx)(Hn,{scope:r,orientation:a,dir:f,loop:i,currentTabStopId:v,onItemFocus:t.useCallback((e=>g(e)),[g]),onItemShiftTab:t.useCallback((()=>y(!0)),[]),onFocusableItemAdd:t.useCallback((()=>_((e=>e+1))),[]),onFocusableItemRemove:t.useCallback((()=>_((e=>e-1))),[]),children:(0,X.jsx)(Sn.sG.div,{tabIndex:x||0===N?-1:0,"data-orientation":a,...m,ref:h,style:{outline:"none",...e.style},onMouseDown:(0,K.m)(e.onMouseDown,(()=>{j.current=!0})),onFocus:(0,K.m)(e.onFocus,(e=>{const t=!j.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(In,Ln);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=w().filter((e=>e.focusable));Zn([e.find((e=>e.active)),e.find((e=>e.id===v)),...e].filter(Boolean).map((e=>e.ref.current)),u)}}j.current=!1})),onBlur:(0,K.m)(e.onBlur,(()=>y(!1)))})})})),Kn="RovingFocusGroupItem",Yn=t.forwardRef(((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:i=!1,tabStopId:s,...o}=e,l=(0,An.B)(),c=s||l,d=Vn(Kn,r),u=d.currentTabStopId===c,m=Wn(r),{onFocusableItemAdd:p,onFocusableItemRemove:h}=d;return t.useEffect((()=>{if(a)return p(),()=>h()}),[a,p,h]),(0,X.jsx)(Bn.ItemSlot,{scope:r,id:c,focusable:a,active:i,children:(0,X.jsx)(Sn.sG.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:n,onMouseDown:(0,K.m)(e.onMouseDown,(e=>{a?d.onItemFocus(c):e.preventDefault()})),onFocus:(0,K.m)(e.onFocus,(()=>d.onItemFocus(c))),onKeyDown:(0,K.m)(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void d.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Xn[r]}(e,d.orientation,d.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=m().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const i=a.indexOf(e.currentTarget);a=d.loop?(r=i+1,(n=a).map(((e,t)=>n[(r+t)%n.length]))):a.slice(i+1)}setTimeout((()=>Zn(a)))}var n,r}))})})}));Yn.displayName=Kn;var Xn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var Jn=qn,Qn=Yn,er=__webpack_require__(5754),tr=__webpack_require__(1672),nr=["Enter"," "],rr=["ArrowUp","PageDown","End"],ar=["ArrowDown","PageUp","Home",...rr],ir={ltr:[...nr,"ArrowRight"],rtl:[...nr,"ArrowLeft"]},sr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},or="Menu",[lr,cr,dr]=(0,En.N)(or),[ur,mr]=(0,V.A)(or,[dr,Pn.Bk,zn]),pr=(0,Pn.Bk)(),hr=zn(),[fr,vr]=ur(or),[gr,xr]=ur(or),yr=e=>{const{__scopeMenu:n,open:r=!1,children:a,dir:i,onOpenChange:s,modal:o=!0}=e,l=pr(n),[c,d]=t.useState(null),u=t.useRef(!1),m=(0,Mn.c)(s),p=(0,Cn.jH)(i);return t.useEffect((()=>{const e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,X.jsx)(Pn.bL,{...l,children:(0,X.jsx)(fr,{scope:n,open:r,onOpenChange:m,content:c,onContentChange:d,children:(0,X.jsx)(gr,{scope:n,onClose:t.useCallback((()=>m(!1)),[m]),isUsingKeyboardRef:u,dir:p,modal:o,children:a})})})};yr.displayName=or;var br=t.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e,a=pr(n);return(0,X.jsx)(Pn.Mz,{...a,...r,ref:t})}));br.displayName="MenuAnchor";var wr="MenuPortal",[jr,Nr]=ur(wr,{forceMount:void 0}),_r=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=vr(wr,t);return(0,X.jsx)(jr,{scope:t,forceMount:n,children:(0,X.jsx)(Rn.C,{present:n||i.open,children:(0,X.jsx)(On.Z,{asChild:!0,container:a,children:r})})})};_r.displayName=wr;var Sr="MenuContent",[Er,Cr]=ur(Sr),Dr=t.forwardRef(((e,t)=>{const n=Nr(Sr,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=vr(Sr,e.__scopeMenu),s=xr(Sr,e.__scopeMenu);return(0,X.jsx)(lr.Provider,{scope:e.__scopeMenu,children:(0,X.jsx)(Rn.C,{present:r||i.open,children:(0,X.jsx)(lr.Slot,{scope:e.__scopeMenu,children:s.modal?(0,X.jsx)(Tr,{...a,ref:t}):(0,X.jsx)(kr,{...a,ref:t})})})})})),Tr=t.forwardRef(((e,n)=>{const r=vr(Sr,e.__scopeMenu),a=t.useRef(null),i=(0,q.s)(n,a);return t.useEffect((()=>{const e=a.current;if(e)return(0,er.Eq)(e)}),[]),(0,X.jsx)(Ar,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,K.m)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})})),kr=t.forwardRef(((e,t)=>{const n=vr(Sr,e.__scopeMenu);return(0,X.jsx)(Ar,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})})),Ar=t.forwardRef(((e,n)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:h,disableOutsideScroll:f,...v}=e,g=vr(Sr,r),x=xr(Sr,r),y=pr(r),b=hr(r),w=cr(r),[j,N]=t.useState(null),_=t.useRef(null),S=(0,q.s)(n,_,g.onContentChange),E=t.useRef(0),C=t.useRef(""),D=t.useRef(0),T=t.useRef(null),k=t.useRef("right"),A=t.useRef(0),P=f?tr.A:t.Fragment,O=f?{as:Y.DX,allowPinchZoom:!0}:void 0,R=e=>{const t=C.current+e,n=w().filter((e=>!e.disabled)),r=document.activeElement,a=n.find((e=>e.ref.current===r))?.textValue,i=function(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0])),a=r?t[0]:t,i=n?e.indexOf(n):-1;let s=(o=e,l=Math.max(i,0),o.map(((e,t)=>o[(l+t)%o.length])));var o,l;1===a.length&&(s=s.filter((e=>e!==n)));const c=s.find((e=>e.toLowerCase().startsWith(a.toLowerCase())));return c!==n?c:void 0}(n.map((e=>e.textValue)),t,a),s=n.find((e=>e.textValue===i))?.ref.current;!function e(t){C.current=t,window.clearTimeout(E.current),""!==t&&(E.current=window.setTimeout((()=>e("")),1e3))}(t),s&&setTimeout((()=>s.focus()))};t.useEffect((()=>()=>window.clearTimeout(E.current)),[]),(0,Tn.Oh)();const M=t.useCallback((e=>k.current===T.current?.side&&function(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return function(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const e=t[i].x,o=t[i].y,l=t[s].x,c=t[s].y;o>r!==c>r&&n<(l-e)*(r-o)/(c-o)+e&&(a=!a)}return a}(n,t)}(e,T.current?.area)),[]);return(0,X.jsx)(Er,{scope:r,searchRef:C,onItemEnter:t.useCallback((e=>{M(e)&&e.preventDefault()}),[M]),onItemLeave:t.useCallback((e=>{M(e)||(_.current?.focus(),N(null))}),[M]),onTriggerLeave:t.useCallback((e=>{M(e)&&e.preventDefault()}),[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:t.useCallback((e=>{T.current=e}),[]),children:(0,X.jsx)(P,{...O,children:(0,X.jsx)(kn.n,{asChild:!0,trapped:i,onMountAutoFocus:(0,K.m)(s,(e=>{e.preventDefault(),_.current?.focus({preventScroll:!0})})),onUnmountAutoFocus:o,children:(0,X.jsx)(Dn.qW,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:h,children:(0,X.jsx)(Jn,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:a,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:(0,K.m)(c,(e=>{x.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:(0,X.jsx)(Pn.UC,{role:"menu","aria-orientation":"vertical","data-state":ia(g.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:(0,K.m)(v.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&R(e.key));const a=_.current;if(e.target!==a)return;if(!ar.includes(e.key))return;e.preventDefault();const i=w().filter((e=>!e.disabled)).map((e=>e.ref.current));rr.includes(e.key)&&i.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(i)})),onBlur:(0,K.m)(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),C.current="")})),onPointerMove:(0,K.m)(e.onPointerMove,la((e=>{const t=e.target,n=A.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>A.current?"right":"left";k.current=t,A.current=e.clientX}})))})})})})})})}));Dr.displayName=Sr;var Pr=t.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e;return(0,X.jsx)(Sn.sG.div,{role:"group",...r,ref:t})}));Pr.displayName="MenuGroup";var Or=t.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e;return(0,X.jsx)(Sn.sG.div,{...r,ref:t})}));Or.displayName="MenuLabel";var Rr="MenuItem",Mr="menu.itemSelect",Ir=t.forwardRef(((e,n)=>{const{disabled:r=!1,onSelect:a,...i}=e,s=t.useRef(null),o=xr(Rr,e.__scopeMenu),l=Cr(Rr,e.__scopeMenu),c=(0,q.s)(n,s),d=t.useRef(!1);return(0,X.jsx)(Lr,{...i,ref:c,disabled:r,onClick:(0,K.m)(e.onClick,(()=>{const e=s.current;if(!r&&e){const t=new CustomEvent(Mr,{bubbles:!0,cancelable:!0});e.addEventListener(Mr,(e=>a?.(e)),{once:!0}),(0,Sn.hO)(e,t),t.defaultPrevented?d.current=!1:o.onClose()}})),onPointerDown:t=>{e.onPointerDown?.(t),d.current=!0},onPointerUp:(0,K.m)(e.onPointerUp,(e=>{d.current||e.currentTarget?.click()})),onKeyDown:(0,K.m)(e.onKeyDown,(e=>{const t=""!==l.searchRef.current;r||t&&" "===e.key||nr.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))})}));Ir.displayName=Rr;var Lr=t.forwardRef(((e,n)=>{const{__scopeMenu:r,disabled:a=!1,textValue:i,...s}=e,o=Cr(Rr,r),l=hr(r),c=t.useRef(null),d=(0,q.s)(n,c),[u,m]=t.useState(!1),[p,h]=t.useState("");return t.useEffect((()=>{const e=c.current;e&&h((e.textContent??"").trim())}),[s.children]),(0,X.jsx)(lr.ItemSlot,{scope:r,disabled:a,textValue:i??p,children:(0,X.jsx)(Qn,{asChild:!0,...l,focusable:!a,children:(0,X.jsx)(Sn.sG.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...s,ref:d,onPointerMove:(0,K.m)(e.onPointerMove,la((e=>{if(a)o.onItemLeave(e);else if(o.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}}))),onPointerLeave:(0,K.m)(e.onPointerLeave,la((e=>o.onItemLeave(e)))),onFocus:(0,K.m)(e.onFocus,(()=>m(!0))),onBlur:(0,K.m)(e.onBlur,(()=>m(!1)))})})})})),Fr=t.forwardRef(((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return(0,X.jsx)(qr,{scope:e.__scopeMenu,checked:n,children:(0,X.jsx)(Ir,{role:"menuitemcheckbox","aria-checked":sa(n)?"mixed":n,...a,ref:t,"data-state":oa(n),onSelect:(0,K.m)(a.onSelect,(()=>r?.(!!sa(n)||!n)),{checkForDefaultPrevented:!1})})})}));Fr.displayName="MenuCheckboxItem";var Br="MenuRadioGroup",[Wr,Ur]=ur(Br,{value:void 0,onValueChange:()=>{}}),$r=t.forwardRef(((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=(0,Mn.c)(r);return(0,X.jsx)(Wr,{scope:e.__scopeMenu,value:n,onValueChange:i,children:(0,X.jsx)(Pr,{...a,ref:t})})}));$r.displayName=Br;var zr="MenuRadioItem",Hr=t.forwardRef(((e,t)=>{const{value:n,...r}=e,a=Ur(zr,e.__scopeMenu),i=n===a.value;return(0,X.jsx)(qr,{scope:e.__scopeMenu,checked:i,children:(0,X.jsx)(Ir,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":oa(i),onSelect:(0,K.m)(r.onSelect,(()=>a.onValueChange?.(n)),{checkForDefaultPrevented:!1})})})}));Hr.displayName=zr;var Vr="MenuItemIndicator",[qr,Gr]=ur(Vr,{checked:!1}),Kr=t.forwardRef(((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=Gr(Vr,n);return(0,X.jsx)(Rn.C,{present:r||sa(i.checked)||!0===i.checked,children:(0,X.jsx)(Sn.sG.span,{...a,ref:t,"data-state":oa(i.checked)})})}));Kr.displayName=Vr;var Yr=t.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e;return(0,X.jsx)(Sn.sG.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})}));Yr.displayName="MenuSeparator";var Xr=t.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e,a=pr(n);return(0,X.jsx)(Pn.i3,{...a,...r,ref:t})}));Xr.displayName="MenuArrow";var Zr="MenuSub",[Jr,Qr]=ur(Zr),ea=e=>{const{__scopeMenu:n,children:r,open:a=!1,onOpenChange:i}=e,s=vr(Zr,n),o=pr(n),[l,c]=t.useState(null),[d,u]=t.useState(null),m=(0,Mn.c)(i);return t.useEffect((()=>(!1===s.open&&m(!1),()=>m(!1))),[s.open,m]),(0,X.jsx)(Pn.bL,{...o,children:(0,X.jsx)(fr,{scope:n,open:a,onOpenChange:m,content:d,onContentChange:u,children:(0,X.jsx)(Jr,{scope:n,contentId:(0,An.B)(),triggerId:(0,An.B)(),trigger:l,onTriggerChange:c,children:r})})})};ea.displayName=Zr;var ta="MenuSubTrigger",na=t.forwardRef(((e,n)=>{const r=vr(ta,e.__scopeMenu),a=xr(ta,e.__scopeMenu),i=Qr(ta,e.__scopeMenu),s=Cr(ta,e.__scopeMenu),o=t.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:e.__scopeMenu},u=t.useCallback((()=>{o.current&&window.clearTimeout(o.current),o.current=null}),[]);return t.useEffect((()=>u),[u]),t.useEffect((()=>{const e=l.current;return()=>{window.clearTimeout(e),c(null)}}),[l,c]),(0,X.jsx)(br,{asChild:!0,...d,children:(0,X.jsx)(Lr,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":ia(r.open),...e,ref:(0,q.t)(n,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,K.m)(e.onPointerMove,la((t=>{s.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||o.current||(s.onPointerGraceIntentChange(null),o.current=window.setTimeout((()=>{r.onOpenChange(!0),u()}),100))}))),onPointerLeave:(0,K.m)(e.onPointerLeave,la((e=>{u();const t=r.content?.getBoundingClientRect();if(t){const n=r.content?.dataset.side,a="right"===n,i=a?-5:5,o=t[a?"left":"right"],c=t[a?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+i,y:e.clientY},{x:o,y:t.top},{x:c,y:t.top},{x:c,y:t.bottom},{x:o,y:t.bottom}],side:n}),window.clearTimeout(l.current),l.current=window.setTimeout((()=>s.onPointerGraceIntentChange(null)),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}}))),onKeyDown:(0,K.m)(e.onKeyDown,(t=>{const n=""!==s.searchRef.current;e.disabled||n&&" "===t.key||ir[a.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())}))})})}));na.displayName=ta;var ra="MenuSubContent",aa=t.forwardRef(((e,n)=>{const r=Nr(Sr,e.__scopeMenu),{forceMount:a=r.forceMount,...i}=e,s=vr(Sr,e.__scopeMenu),o=xr(Sr,e.__scopeMenu),l=Qr(ra,e.__scopeMenu),c=t.useRef(null),d=(0,q.s)(n,c);return(0,X.jsx)(lr.Provider,{scope:e.__scopeMenu,children:(0,X.jsx)(Rn.C,{present:a||s.open,children:(0,X.jsx)(lr.Slot,{scope:e.__scopeMenu,children:(0,X.jsx)(Ar,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&c.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,K.m)(e.onFocusOutside,(e=>{e.target!==l.trigger&&s.onOpenChange(!1)})),onEscapeKeyDown:(0,K.m)(e.onEscapeKeyDown,(e=>{o.onClose(),e.preventDefault()})),onKeyDown:(0,K.m)(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),n=sr[o.dir].includes(e.key);t&&n&&(s.onOpenChange(!1),l.trigger?.focus(),e.preventDefault())}))})})})})}));function ia(e){return e?"open":"closed"}function sa(e){return"indeterminate"===e}function oa(e){return sa(e)?"indeterminate":e?"checked":"unchecked"}function la(e){return t=>"mouse"===t.pointerType?e(t):void 0}aa.displayName=ra;var ca=yr,da=br,ua=_r,ma=Dr,pa=Pr,ha=Or,fa=Ir,va=Fr,ga=$r,xa=Hr,ya=Kr,ba=Yr,wa=Xr,ja=ea,Na=na,_a=aa,Sa="DropdownMenu",[Ea,Ca]=(0,V.A)(Sa,[mr]),Da=mr(),[Ta,ka]=Ea(Sa),Aa=e=>{const{__scopeDropdownMenu:n,children:r,dir:a,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=Da(n),d=t.useRef(null),[u=!1,m]=(0,_n.i)({prop:i,defaultProp:s,onChange:o});return(0,X.jsx)(Ta,{scope:n,triggerId:(0,An.B)(),triggerRef:d,contentId:(0,An.B)(),open:u,onOpenChange:m,onOpenToggle:t.useCallback((()=>m((e=>!e))),[m]),modal:l,children:(0,X.jsx)(ca,{...c,open:u,onOpenChange:m,dir:a,modal:l,children:r})})};Aa.displayName=Sa;var Pa="DropdownMenuTrigger",Oa=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=ka(Pa,n),s=Da(n);return(0,X.jsx)(da,{asChild:!0,...s,children:(0,X.jsx)(Sn.sG.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:(0,q.t)(t,i.triggerRef),onPointerDown:(0,K.m)(e.onPointerDown,(e=>{r||0!==e.button||!1!==e.ctrlKey||(i.onOpenToggle(),i.open||e.preventDefault())})),onKeyDown:(0,K.m)(e.onKeyDown,(e=>{r||(["Enter"," "].includes(e.key)&&i.onOpenToggle(),"ArrowDown"===e.key&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})})}));Oa.displayName=Pa;var Ra=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Da(t);return(0,X.jsx)(ua,{...r,...n})};Ra.displayName="DropdownMenuPortal";var Ma="DropdownMenuContent",Ia=t.forwardRef(((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,i=ka(Ma,r),s=Da(r),o=t.useRef(!1);return(0,X.jsx)(ma,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...a,ref:n,onCloseAutoFocus:(0,K.m)(e.onCloseAutoFocus,(e=>{o.current||i.triggerRef.current?.focus(),o.current=!1,e.preventDefault()})),onInteractOutside:(0,K.m)(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;i.modal&&!r||(o.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));Ia.displayName=Ma;var La=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(pa,{...a,...r,ref:t})}));La.displayName="DropdownMenuGroup";var Fa=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(ha,{...a,...r,ref:t})}));Fa.displayName="DropdownMenuLabel";var Ba=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(fa,{...a,...r,ref:t})}));Ba.displayName="DropdownMenuItem";var Wa=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(va,{...a,...r,ref:t})}));Wa.displayName="DropdownMenuCheckboxItem";var Ua=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(ga,{...a,...r,ref:t})}));Ua.displayName="DropdownMenuRadioGroup";var $a=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(xa,{...a,...r,ref:t})}));$a.displayName="DropdownMenuRadioItem";var za=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(ya,{...a,...r,ref:t})}));za.displayName="DropdownMenuItemIndicator";var Ha=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(ba,{...a,...r,ref:t})}));Ha.displayName="DropdownMenuSeparator";var Va=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(wa,{...a,...r,ref:t})}));Va.displayName="DropdownMenuArrow";var qa=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(Na,{...a,...r,ref:t})}));qa.displayName="DropdownMenuSubTrigger";var Ga=t.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Da(n);return(0,X.jsx)(_a,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));Ga.displayName="DropdownMenuSubContent";var Ka=Aa,Ya=Oa,Xa=Ra,Za=Ia,Ja=Fa,Qa=Ba,ei=Wa,ti=$a,ni=za,ri=Ha,ai=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:a,defaultOpen:i}=e,s=Da(t),[o=!1,l]=(0,_n.i)({prop:r,defaultProp:i,onChange:a});return(0,X.jsx)(ja,{...s,open:o,onOpenChange:l,children:n})},ii=qa,si=Ga,oi=__webpack_require__(852);const li=Ka,ci=Ya,di=ai,ui=t.forwardRef(((e,t)=>{let{className:n,inset:r,children:a,...i}=e;return(0,X.jsxs)(ii,{ref:t,className:(0,Ee.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",n),...i,children:[a,(0,X.jsx)(oi.vKP,{className:"ml-auto h-4 w-4"})]})}));ui.displayName=ii.displayName;const mi=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(si,{ref:t,className:(0,Ee.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));mi.displayName=si.displayName;const pi=t.forwardRef(((e,t)=>{let{className:n,sideOffset:r=4,...a}=e;return(0,X.jsx)(Xa,{children:(0,X.jsx)(Za,{ref:t,sideOffset:r,className:(0,Ee.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...a})})}));pi.displayName=Za.displayName;const hi=t.forwardRef(((e,t)=>{let{className:n,inset:r,...a}=e;return(0,X.jsx)(Qa,{ref:t,className:(0,Ee.cn)("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",n),...a})}));hi.displayName=Qa.displayName;t.forwardRef(((e,t)=>{let{className:n,children:r,checked:a,...i}=e;return(0,X.jsxs)(ei,{ref:t,className:(0,Ee.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:a,...i,children:[(0,X.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,X.jsx)(ni,{children:(0,X.jsx)(oi.Srz,{className:"h-4 w-4"})})}),r]})})).displayName=ei.displayName;t.forwardRef(((e,t)=>{let{className:n,children:r,...a}=e;return(0,X.jsxs)(ti,{ref:t,className:(0,Ee.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...a,children:[(0,X.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,X.jsx)(ni,{children:(0,X.jsx)(oi.RiX,{className:"h-4 w-4 fill-current"})})}),r]})})).displayName=ti.displayName;const fi=t.forwardRef(((e,t)=>{let{className:n,inset:r,...a}=e;return(0,X.jsx)(Ja,{ref:t,className:(0,Ee.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",n),...a})}));fi.displayName=Ja.displayName;const vi=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(ri,{ref:t,className:(0,Ee.cn)("-mx-1 my-1 h-px bg-muted",n),...r})}));vi.displayName=ri.displayName;const gi='(patient, hospitalInfo, ref) => {\n  const formatDate = (dateString) => {\n    if (!dateString) return "";\n    const date = new Date(dateString);\n    const months = [\'Jan\', \'Feb\', \'Mar\', \'Apr\', \'May\', \'Jun\', \'Jul\', \'Aug\', \'Sep\', \'Oct\', \'Nov\', \'Dec\'];\n    return `${date.getDate().toString().padStart(2, \'0\')}-${months[date.getMonth()]}-${date.getFullYear()}`;\n  };\n\n\n  return React.createElement("div", { ref: ref, className: "print-content", style : {marginTop : "20px"} },\n    React.createElement("div",null,\n      React.createElement(HospitalHeader, { hospitalInfo: hospitalInfo })\n    ),\n    React.createElement("div", { style: { display: "flex", justifyContent: "center", marginBottom: "12px", marginTop : "10px" } },\n      React.createElement("span", { style: { textDecoration: "underline", textDecorationThickness: "2px", textUnderlineOffset: "4px", fontSize: "20px" } }, "Admission Form")\n    ),\n    React.createElement("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr" } },\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Patient Name:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.patient?.name || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Guardian Name:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.guardianName || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "UHID Number:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.registrationNumber || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "IPD Number:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.ipdNumber || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Room No:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.assignedRoom?.roomNumber || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Age:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.patient?.age ? `${patient?.patient?.age} Years` : "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Gender:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.patient?.gender || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Address:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.patient?.address || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Mobile No:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.patient?.contactNumber || "")\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Admission Date:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } },\n          `${formatDate(patient?.bookingDate)} ${patient?.bookingTime || ""}`\n        )\n      ),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(3, 1fr)" } },\n        React.createElement("span", null, "Consultant:"),\n        React.createElement("span", { style: { fontWeight: "600", textTransform: "capitalize", gridColumn: "span 2" } }, patient?.doctor?.name || "")\n      )\n    ),\n    React.createElement("div", { style: { margin: "8px 0", backgroundColor: "black", height: "1px" } }),\n    React.createElement("div", { style: { textDecoration: "underline", fontWeight: "600", margin: "0 16px", textUnderlineOffset: "2px" } }, "Person to notify in case of Emergency"),\n    React.createElement("div", { style: { display: "flex", justifyContent: "space-between", marginBottom: "16px", margin: "0 16px" } },\n      React.createElement("div", { style: { textTransform: "capitalize" } }, `Name: ${patient?.guardianName || ""}`),\n      React.createElement("div", null, `Mobile No: ${patient?.patient?.contactNumber || ""}`),\n      React.createElement("div", { style: { textTransform: "capitalize" } }, `Relation with Patient : ${patient?.relation || ""}`)\n    ),\n    React.createElement("div", { style: { display : "flex", flexDirection : "column", gap : "12px", marginTop: "16px", textAlign: "justify", padding: "0 16px" } },\n      React.createElement("p", { style: { fontSize: "18px", fontWeight: "600", marginBottom: "8px" } }, "\u0938\u093e\u092e\u093e\u0928\u094d\u092f \u0938\u0939\u092e\u0924\u093f"),\n      React.createElement("p", null,\n        "\u092e\u0948\u0902, __________________________________________ (\u0930\u094b\u0917\u0940/\u0930\u093f\u0936\u094d\u0924\u0947\u0926\u093e\u0930) \u0938\u091a\u0947\u0924 \u092e\u0928 \u0915\u0940 \u0938\u094d\u0925\u093f\u0924\u093f \u092e\u0947\u0902 \u0905\u0938\u094d\u092a\u0924\u093e\u0932 \u0915\u0947 \u0938\u0932\u093e\u0939\u0915\u093e\u0930\u094b\u0902 \u0914\u0930 \u092a\u0948\u0930\u093e\u092e\u0947\u0921\u093f\u0915\u0932 \u0915\u0930\u094d\u092e\u093f\u092f\u094b\u0902 \u0915\u094b \u091a\u093f\u0915\u093f\u0924\u094d\u0938\u093e \u092a\u0930\u0940\u0915\u094d\u0937\u0923, \u092a\u0948\u0925\u094b\u0932\u0949\u091c\u093f\u0915\u0932 \u0914\u0930 \u0930\u0947\u0921\u093f\u092f\u094b\u0932\u0949\u091c\u093f\u0915\u0932 \u0914\u0930 \u092e\u0947\u0921\u093f\u0915\u0932/\u0938\u0930\u094d\u091c\u093f\u0915\u0932 \u0909\u092a\u091a\u093e\u0930 \u092f\u093e \u0915\u093f\u0938\u0940 \u092d\u0940 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0940 \u092a\u094d\u0930\u0915\u094d\u0930\u093f\u092f\u093e \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0938\u0939\u092e\u0924\u093f \u0926\u0947\u0924\u093e \u0939\u0942\u0902 \u0914\u0930 \u0905\u0927\u093f\u0915\u0943\u0924 \u0915\u0930\u0924\u093e \u0939\u0942\u0902\u0964"\n      ),\n      React.createElement("p", null,\n        "\u0913\u092a\u0940\u0921\u0940/\u0906\u0908\u092a\u0940\u0921\u0940 \u092e\u0947\u0902 \u0930\u094b\u0917\u0940 \u0926\u0947\u0916\u092d\u093e\u0932 \u0915\u0947 \u0926\u094c\u0930\u093e\u0928 \u092a\u094d\u0930\u0936\u093e\u0938\u0928\u093f\u0915/\u092c\u0940\u092e\u093e \u0909\u0926\u094d\u0926\u0947\u0936\u094d\u092f \u0915\u0947 \u0932\u093f\u090f \u0915\u093e\u0917\u091c\u093e\u0924 \u0915\u0947 \u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u0940\u0915\u0930\u0923 \u0914\u0930 \u0928\u0948\u0926\u093e\u0928\u093f\u0915 \u0905\u0928\u0941\u0938\u0902\u0927\u093e\u0928 \u0914\u0930 \u0917\u094b\u092a\u0928\u0940\u092f\u0924\u093e \u0915\u0947 \u0932\u093f\u090f \u091c\u093e\u0928\u0915\u093e\u0930\u0940 \u0915\u0947 \u092a\u094d\u0930\u0915\u091f\u0940\u0915\u0930\u0923 \u0915\u0947 \u0938\u093e\u0925 \u0938\u0932\u093e\u0939 \u0926\u0940 \u091c\u093e\u0924\u0940 \u0939\u0948\u0964 \u0939\u092e \u092a\u0942\u0930\u0940 \u0924\u0930\u0939 \u0938\u0902\u0924\u0941\u0937\u094d\u091f \u0939\u0948\u0902 \u0914\u0930 \u0905\u092a\u0928\u0940 \u0907\u091a\u094d\u091b\u093e \u0938\u0947 \u0907\u0932\u093e\u091c/\u0938\u0930\u094d\u091c\u0930\u0940 \u0915\u0930\u093e\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902\u0964"\n      ),\n      React.createElement("p", null,\n        "\u0939\u092e \u0905\u0938\u094d\u092a\u0924\u093e\u0932 \u0915\u0947 \u092c\u093f\u0932 \u0915\u0947 \u0938\u092e\u092f \u092a\u0930 \u092d\u0941\u0917\u0924\u093e\u0928 \u0915\u0947 \u0932\u093f\u090f \u091c\u093f\u092e\u094d\u092e\u0947\u0926\u093e\u0930 \u0939\u094b\u0902\u0917\u0947\u0964 \u0909\u092a\u091a\u093e\u0930/\u0938\u0930\u094d\u091c\u0930\u0940 \u0915\u0947 \u0926\u094c\u0930\u093e\u0928 \u0914\u0930 \u0909\u0938\u0915\u0947 \u0926\u094c\u0930\u093e\u0928 \u0915\u093f\u0938\u0940 \u092d\u0940 \u091c\u091f\u093f\u0932\u0924\u093e \u0915\u0947 \u0932\u093f\u090f \u092e\u0948\u0902 \u0938\u094d\u0935\u092f\u0902 \u091c\u093f\u092e\u094d\u092e\u0947\u0926\u093e\u0930 \u0930\u0939\u0942\u0902\u0917\u093e\u0964 \u0938\u0930\u094d\u091c\u0930\u0940/\u0909\u092a\u091a\u093e\u0930 \u0938\u0947 \u0939\u094b\u0928\u0947 \u0935\u093e\u0932\u0940 \u0915\u093f\u0938\u0940 \u092d\u0940 \u091c\u091f\u093f\u0932\u0924\u093e \u0914\u0930 \u0916\u0924\u0930\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u0938\u094d\u092a\u0924\u093e\u0932, \u0905\u0938\u094d\u092a\u0924\u093e\u0932 \u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940, \u0921\u0949\u0915\u094d\u091f\u0930 \u091c\u093f\u092e\u094d\u092e\u0947\u0926\u093e\u0930 \u0928\u0939\u0940\u0902 \u0939\u094b\u0902\u0917\u0947\u0964"\n      ),\n      React.createElement("p", null,\n        "\u0905\u0938\u094d\u092a\u0924\u093e\u0932 \u0914\u0930 \u0905\u0938\u094d\u092a\u0924\u093e\u0932 \u0915\u0947 \u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940 \u0915\u093f\u0938\u0940 \u092d\u0940 \u091a\u094b\u0930\u0940 \u0939\u0941\u090f \u0938\u093e\u092e\u093e\u0928 \u0915\u0947 \u0932\u093f\u090f \u091c\u093f\u092e\u094d\u092e\u0947\u0926\u093e\u0930 \u0928\u0939\u0940\u0902 \u0939\u094b\u0902\u0917\u0947, \u092e\u0948\u0902 \u0905\u092a\u0928\u0947 \u0938\u093e\u092e\u093e\u0928 \u0915\u0940 \u0938\u0941\u0930\u0915\u094d\u0937\u093e \u0915\u0947 \u0932\u093f\u090f \u091c\u093f\u092e\u094d\u092e\u0947\u0926\u093e\u0930 \u0939\u0942\u0902\u0964"\n      ),\n      React.createElement("p", null,\n        "\u092e\u0948\u0902\u0928\u0947 \u090a\u092a\u0930 \u0932\u093f\u0916\u0940 \u0938\u092d\u0940 \u092c\u093e\u0924\u0947\u0902 \u092a\u0922\u093c\u0940 \u0939\u0948\u0902 \u0914\u0930 \u092e\u0941\u091d\u0947 \u0938\u092e\u091d\u093e\u092f\u093e \u092d\u0940 \u0917\u092f\u093e \u0939\u0948\u0964"\n      ),\n      React.createElement("p", null,\n        "\u090a\u092a\u0930 \u0926\u0940 \u0917\u0908 \u0938\u092d\u0940 \u091c\u093e\u0928\u0915\u093e\u0930\u093f\u092f\u094b\u0902 \u0915\u094b \u0938\u092e\u091d\u0928\u0947 \u0915\u0947 \u092c\u093e\u0926 \u092e\u0948\u0902 \u0905\u092a\u0928\u0940 \u0905\u0928\u0941\u092e\u0924\u093f \u0926\u0947\u0924\u093e \u0939\u0942\u0902\u0964"\n      )\n    ),\n    React.createElement("div", { style: { marginTop: "50px", display: "flex", justifyContent: "space-between", padding: "0 16px" } },\n      React.createElement("div", { style: { textAlign: "center" } },\n        React.createElement("p", { style: { borderTop: "1px solid black" } }, "Signature of Patient"),\n        React.createElement("p", { style: { textTransform: "uppercase", fontSize: "12px" } }, `(${patient?.patient?.name || ""})`)\n      ),\n      React.createElement("div", { style: { textAlign: "center" } },\n        React.createElement("p", { style: { borderTop: "1px solid black" } }, "Signature of Guardian"),\n        React.createElement("p", { style: { fontSize: "12px", textTransform: "uppercase" } }, patient?.guardianName ? `(${patient?.guardianName})` : "")\n      )\n    )\n  );\n}',xi=e=>{var n;let{patient:r}=e;const a=(0,w.d4)((e=>e.templates.consentFormTemplateArray)),[i,s]=(0,t.useState)(null),o=(0,t.useRef)(),l=(0,yn.useReactToPrint)({content:()=>o.current,pageStyle:"\n      @page {\n        size: A4;\n        margin: 20mm;\n      }\n      @media print {\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n          position: relative;\n          min-height: 100vh;\n          padding: 20px;\n        }\n      }\n    "}),c=e=>{s(e),setTimeout(l,100)};return(null===a||void 0===a?void 0:a.length)<=1?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(hi,{onClick:()=>c(a[0]),children:"Consent Form"}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)(jn,{ref:o,patient:r,templateString:(null===i||void 0===i?void 0:i.value)||gi})})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(di,{children:[(0,X.jsxs)(ui,{className:"cursor-pointer",children:[(0,X.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Consent Form"]}),(0,X.jsx)(mi,{sideOffset:2,alignOffset:-5,children:a.map((e=>(0,X.jsx)(hi,{onSelect:t=>{t.preventDefault(),c(e)},children:e.name},e.name)))})]}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)(jn,{ref:o,patient:r,templateString:(null===i||void 0===i?void 0:i.value)||(null===a||void 0===a||null===(n=a[0])||void 0===n?void 0:n.value)})})]})};function yi(){(0,w.d4)((e=>e.hospital.hospitalInfo));const e=(0,w.d4)((e=>e.templates.consentFormTemplateArray)),n=((0,w.wA)(),{patient:{name:"John Doe",age:45,gender:"Male",address:"123 Main St",contactNumber:"1234567890"},guardianName:"Jane Doe",registrationNumber:"REG001",ipdNumber:"IPD001",assignedRoom:{roomNumber:"101"},bookingDate:(new Date).toISOString(),bookingTime:"10:00 AM",doctor:{name:"Dr. Smith"},relation:"Spouse"}),[r,a]=(0,t.useState)([{name:"System Default",value:gi},...e||[]]),[i,s]=(0,t.useState)(r[0]||{name:"",value:""}),[o,l]=(0,t.useState)(null);return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex flex-col gap-6 mb-6",children:[(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Consent Form Template Preview"})}),(0,X.jsx)("div",{className:"flex flex-wrap gap-3",children:r.map(((e,t)=>(0,X.jsx)("div",{className:"relative",children:o===t?(0,X.jsx)("div",{className:"flex items-center gap-2",children:(0,X.jsx)(xn.p,{value:e.name,onChange:t=>((e,t)=>{const n=r.findIndex((t=>t===e));if(-1===n)return;const o=r.map(((e,r)=>r===n?{...e,name:t}:e));a(o),i===e&&s(o[n])})(e,t.target.value),onBlur:()=>l(null),onKeyDown:e=>{"Enter"===e.key&&l(null)},className:"w-[150px]",autoFocus:!0})}):(0,X.jsx)(j.$,{variant:"outline",className:(0,Ee.cn)("relative min-w-[150px]",i===e&&"border-2 border-primary bg-primary/10"),onClick:()=>s(e),onDoubleClick:()=>l(t),children:e.name||"Unnamed Template"})},t)))})]}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-4 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsxs)("div",{className:"bg-white shadow-lg",style:{width:"210mm",minHeight:"297mm",margin:"0 auto",breakAfter:"always",breakInside:"avoid"},children:[(0,X.jsx)("style",{children:"\n              @media print {\n                .print-content {\n                  page-break-inside: avoid;\n                  page-break-after: always;\n                }\n                \n                h1, h2, h3, table, tr, img {\n                  page-break-inside: avoid;\n                }\n                \n                .page-break-before {\n                  page-break-before: always;\n                }\n                \n                .page-header {\n                  position: running(header);\n                }\n                \n                @page {\n                  size: A4;\n                  margin: 8mm;\n                  @top-center {\n                    content: element(header);\n                  }\n                }\n              }\n            "}),(0,X.jsx)(jn,{patient:n,templateString:null===i||void 0===i?void 0:i.value})]})})]})}var bi=__webpack_require__(7368),wi=__webpack_require__(1981);const ji=[{name:"General"},{name:"Semi-Private"},{name:"Private"},{name:"ICU"},{name:"Deluxe AC"},{name:"Operation Theater"},{name:"Emergency"}],Ni=()=>{const e=(0,w.wA)(),n=(0,a.Zp)(),r=(0,a.zy)(),{toast:i}=(0,H.dj)(),s=(0,w.d4)((e=>e.rooms.createRoomStatus)),{rooms:o}=(0,w.d4)((e=>e.rooms)),l=new URLSearchParams(r.search).get("edit"),c=Boolean(l),[d,u]=(0,t.useState)({roomNumber:"",type:"",floor:"",capacity:"",ratePerDay:"",beds:[]});(0,t.useEffect)((()=>{if(c){const e=o.find((e=>e._id===l));e&&u({...e,beds:e.beds.map((e=>e.bedNumber))})}}),[c,l,o]);const m=(e,t)=>{u((n=>{const r={...n,[e]:["floor","capacity","ratePerDay"].includes(e)?Number(t):t};if("capacity"===e){const e=Number(t);r.beds=Array.from({length:e},((e,t)=>`${t+1}`))}return r}))},p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,X.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,X.jsx)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,X.jsx)(xn.p,{id:e,type:n,value:d[e],onChange:t=>m(e,t.target.value),placeholder:`Enter ${t.toLowerCase()}`,required:r,className:"w-full"})]})};return(0,X.jsxs)("div",{className:"max-w-2xl mx-auto md:mt-8 p-6 bg-white rounded-lg shadow-md",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(j.$,{onClick:()=>n(-1),variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("h2",{className:"text-2xl font-bold",children:[c?"Edit":"Create New"," Room"]})]}),(0,X.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r=c?tt({id:l,room:d}):et(d);e(r).unwrap().then((()=>{i({title:`Room ${c?"updated":"created"} successfully`,description:`The room has been ${c?"updated":"added"} in the system.`,variant:"success"}),n("/rooms")})).catch((e=>{i({title:`Failed to ${c?"update":"create"} room`,description:e.message||`There was an error ${c?"updating":"creating"} the room. Please try again.`,variant:"destructive"})}))},className:"space-y-6",children:[(0,X.jsxs)("div",{className:"flex flex-wrap gap-4",children:[p("roomNumber","Room Number/Name","text",!0),(0,X.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,X.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),(0,X.jsx)(bi.P,{suggestions:ji,placeholder:"Select room type",value:d.type,setValue:e=>m("type",e),onSuggestionSelect:e=>m("type",e.name)})]})]}),(0,X.jsxs)("div",{className:"flex flex-wrap gap-4",children:[p("floor","Floor","number"),p("capacity","Capacity","number",!0),p("ratePerDay","Rate per Day","number")]}),(()=>{const e=parseInt(d.capacity,10);return isNaN(e)||e<=0?null:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{className:"text-sm font-medium text-gray-700",children:"Bed Numbers/Names"}),(0,X.jsx)("div",{className:"grid grid-cols-2 gap-2",children:d.beds.map(((e,t)=>(0,X.jsx)(xn.p,{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...d.beds];n[e]=t,u((e=>({...e,beds:n})))})(t,e.target.value),placeholder:`Bed ${t+1}`,className:"w-full"},t)))})]})})(),(0,X.jsx)(j.$,{type:"submit",className:"w-full text-white",disabled:"loading"===s,children:"loading"===s?c?"Updating...":"Creating...":c?"Update Room":"Create Room"})]})]})},_i=(0,N.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Si=(0,N.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ei=(0,N.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ci=(0,N.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Di=(0,N.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ti=(0,N.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ki=(0,N.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ai=(0,N.A)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Pi=(0,N.A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Oi=(0,N.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ri=(0,N.A)("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]),Mi=(0,N.A)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),Ii=(0,N.A)("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Li=(0,N.A)("BriefcaseMedical",[["path",{d:"M12 11v4",key:"a6ujw6"}],["path",{d:"M14 13h-4",key:"1pl8zg"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M18 6v14",key:"1mu4gy"}],["path",{d:"M6 6v14",key:"1s15cj"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Fi=(0,N.A)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Bi=(0,N.A)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),Wi=(0,N.A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var Ui=__webpack_require__(7365),$i=__webpack_require__(4451),[zi,Hi]=(0,V.A)("Tooltip",[Pn.Bk]),Vi=(0,Pn.Bk)(),qi="TooltipProvider",Gi=700,Ki="tooltip.open",[Yi,Xi]=zi(qi),Zi=e=>{const{__scopeTooltip:n,delayDuration:r=Gi,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:s}=e,[o,l]=t.useState(!0),c=t.useRef(!1),d=t.useRef(0);return t.useEffect((()=>{const e=d.current;return()=>window.clearTimeout(e)}),[]),(0,X.jsx)(Yi,{scope:n,isOpenDelayed:o,delayDuration:r,onOpen:t.useCallback((()=>{window.clearTimeout(d.current),l(!1)}),[]),onClose:t.useCallback((()=>{window.clearTimeout(d.current),d.current=window.setTimeout((()=>l(!0)),a)}),[a]),isPointerInTransitRef:c,onPointerInTransitChange:t.useCallback((e=>{c.current=e}),[]),disableHoverableContent:i,children:s})};Zi.displayName=qi;var Ji="Tooltip",[Qi,es]=zi(Ji),ts=e=>{const{__scopeTooltip:n,children:r,open:a,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=Xi(Ji,e.__scopeTooltip),d=Vi(n),[u,m]=t.useState(null),p=(0,An.B)(),h=t.useRef(0),f=o??c.disableHoverableContent,v=l??c.delayDuration,g=t.useRef(!1),[x=!1,y]=(0,_n.i)({prop:a,defaultProp:i,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ki))):c.onClose(),s?.(e)}}),b=t.useMemo((()=>x?g.current?"delayed-open":"instant-open":"closed"),[x]),w=t.useCallback((()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)}),[y]),j=t.useCallback((()=>{window.clearTimeout(h.current),h.current=0,y(!1)}),[y]),N=t.useCallback((()=>{window.clearTimeout(h.current),h.current=window.setTimeout((()=>{g.current=!0,y(!0),h.current=0}),v)}),[v,y]);return t.useEffect((()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)}),[]),(0,X.jsx)(Pn.bL,{...d,children:(0,X.jsx)(Qi,{scope:n,contentId:p,open:x,stateAttribute:b,trigger:u,onTriggerChange:m,onTriggerEnter:t.useCallback((()=>{c.isOpenDelayed?N():w()}),[c.isOpenDelayed,N,w]),onTriggerLeave:t.useCallback((()=>{f?j():(window.clearTimeout(h.current),h.current=0)}),[j,f]),onOpen:w,onClose:j,disableHoverableContent:f,children:r})})};ts.displayName=Ji;var ns="TooltipTrigger",rs=t.forwardRef(((e,n)=>{const{__scopeTooltip:r,...a}=e,i=es(ns,r),s=Xi(ns,r),o=Vi(r),l=t.useRef(null),c=(0,q.s)(n,l,i.onTriggerChange),d=t.useRef(!1),u=t.useRef(!1),m=t.useCallback((()=>d.current=!1),[]);return t.useEffect((()=>()=>document.removeEventListener("pointerup",m)),[m]),(0,X.jsx)(Pn.Mz,{asChild:!0,...o,children:(0,X.jsx)(Sn.sG.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:c,onPointerMove:(0,K.m)(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(u.current||s.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))})),onPointerLeave:(0,K.m)(e.onPointerLeave,(()=>{i.onTriggerLeave(),u.current=!1})),onPointerDown:(0,K.m)(e.onPointerDown,(()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})})),onFocus:(0,K.m)(e.onFocus,(()=>{d.current||i.onOpen()})),onBlur:(0,K.m)(e.onBlur,i.onClose),onClick:(0,K.m)(e.onClick,i.onClose)})})}));rs.displayName=ns;var as="TooltipPortal",[is,ss]=zi(as,{forceMount:void 0}),os=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,i=es(as,t);return(0,X.jsx)(is,{scope:t,forceMount:n,children:(0,X.jsx)(Rn.C,{present:n||i.open,children:(0,X.jsx)(On.Z,{asChild:!0,container:a,children:r})})})};os.displayName=as;var ls="TooltipContent",cs=t.forwardRef(((e,t)=>{const n=ss(ls,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,s=es(ls,e.__scopeTooltip);return(0,X.jsx)(Rn.C,{present:r||s.open,children:s.disableHoverableContent?(0,X.jsx)(ps,{side:a,...i,ref:t}):(0,X.jsx)(ds,{side:a,...i,ref:t})})})),ds=t.forwardRef(((e,n)=>{const r=es(ls,e.__scopeTooltip),a=Xi(ls,e.__scopeTooltip),i=t.useRef(null),s=(0,q.s)(n,i),[o,l]=t.useState(null),{trigger:c,onClose:d}=r,u=i.current,{onPointerInTransitChange:m}=a,p=t.useCallback((()=>{l(null),m(!1)}),[m]),h=t.useCallback(((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...a,...function(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}(t.getBoundingClientRect())]);l(i),m(!0)}),[m]);return t.useEffect((()=>()=>p()),[p]),t.useEffect((()=>{if(c&&u){const e=e=>h(e,u),t=e=>h(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}}),[c,u,h,p]),t.useEffect((()=>{if(o){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=c?.contains(t)||u?.contains(t),a=!function(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const e=t[i].x,o=t[i].y,l=t[s].x,c=t[s].y;o>r!==c>r&&n<(l-e)*(r-o)/(c-o)+e&&(a=!a)}return a}(n,o);r?p():a&&(p(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[c,u,o,d,p]),(0,X.jsx)(ps,{...e,ref:s})})),[us,ms]=zi(Ji,{isInside:!1}),ps=t.forwardRef(((e,n)=>{const{__scopeTooltip:r,children:a,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=es(ls,r),d=Vi(r),{onClose:u}=c;return t.useEffect((()=>(document.addEventListener(Ki,u),()=>document.removeEventListener(Ki,u))),[u]),t.useEffect((()=>{if(c.trigger){const e=e=>{const t=e.target;t?.contains(c.trigger)&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[c.trigger,u]),(0,X.jsx)(Dn.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,X.jsxs)(Pn.UC,{"data-state":c.stateAttribute,...d,...l,ref:n,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,X.jsx)(Y.xV,{children:a}),(0,X.jsx)(us,{scope:r,isInside:!0,children:(0,X.jsx)($i.b,{id:c.contentId,role:"tooltip",children:i||a})})]})})}));cs.displayName=ls;var hs="TooltipArrow",fs=t.forwardRef(((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Vi(n);return ms(hs,n).isInside?null:(0,X.jsx)(Pn.i3,{...a,...r,ref:t})}));fs.displayName=hs;var vs=cs;const gs=Zi,xs=ts,ys=rs,bs=t.forwardRef(((e,t)=>{let{className:n,sideOffset:r=4,...a}=e;return(0,X.jsx)(vs,{ref:t,sideOffset:r,className:(0,Ee.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...a})}));bs.displayName=vs.displayName;const ws=[{name:"Quick Menu",icon:Oi,path:"/"},{name:"Patients List",icon:ki,path:"/patients"},{name:"Billings/Invoices",icon:Ri,path:"/billings"},{name:"Expenses/Debit",icon:Mi,path:"/expenses"},{name:"Doctors",icon:Ii,path:"/doctors"},{name:"Pharmacy",icon:Li,path:"/pharmacy"},{name:"Lab",icon:Fi,path:"/lab/list"},{name:"Rooms",icon:Bi,path:"/rooms"},{name:"Services",icon:Wi,path:"/services"},{name:"Statistics",icon:Pi,path:"/statistics"},{name:"Staffs",icon:ki,path:"/staff"},{name:"Settings",icon:Ui.A,path:"/settings"}],js=e=>{let{className:t}=e;return(0,X.jsxs)("svg",{className:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,X.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"#4299E1"}),(0,X.jsx)("path",{d:"M30 50H70",stroke:"white",strokeWidth:"8",strokeLinecap:"round"})," ",(0,X.jsx)("path",{d:"M50 30V70",stroke:"#48BB78",strokeWidth:"8",strokeLinecap:"round"})," ",(0,X.jsx)("circle",{cx:"50",cy:"50",r:"15",fill:"#F6E05E"})," ",(0,X.jsx)("path",{d:"M50 42V58M42 50H58",stroke:"#4299E1",strokeWidth:"4",strokeLinecap:"round"})," "]})};function Ns(e){let{isCollapsed:t}=e;const n=(0,a.Zp)(),r=(0,a.zy)();return(0,X.jsx)("div",{className:(0,Ee.cn)("hidden md:flex flex-col h-full bg-white border-r transition-all duration-300 fixed top-19 left-0 z-10 ",t?"w-16":"w-56"),children:(0,X.jsx)(b.F,{className:"flex-1 overflow-y-auto py-4",children:(0,X.jsx)("ul",{className:"space-y-1 px-3",children:ws.map((e=>{return(0,X.jsx)("li",{children:(0,X.jsx)(gs,{children:(0,X.jsxs)(xs,{children:[(0,X.jsx)(ys,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"ghost",className:(0,Ee.cn)("w-full justify-start",(a=e.path,("/"===a?"/"===r.pathname:r.pathname.startsWith(a))?"bg-blue-400 text-white":"text-gray-600 hover:bg-blue-300 hover:text-white"),t?"px-2":"px-4"),onClick:()=>n(e.path),children:[(0,X.jsx)(e.icon,{className:(0,Ee.cn)("h-5 w-5",t?"mr-0":"mr-3")}),!t&&(0,X.jsx)("span",{children:e.name})]})}),t&&(0,X.jsx)(bs,{side:"right",children:(0,X.jsx)("p",{className:"font-semibold",children:e.name})})]})})},e.name);var a}))})})})}var _s=__webpack_require__(917);const Ss=G.bL,Es=G.l9,Cs=(G.bm,G.ZL),Ds=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(G.hJ,{className:(0,Ee.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r,ref:t})}));Ds.displayName=G.hJ.displayName;const Ts=(0,_s.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ks=t.forwardRef(((e,t)=>{let{side:n="right",className:r,children:a,...i}=e;return(0,X.jsxs)(Cs,{children:[(0,X.jsx)(Ds,{}),(0,X.jsxs)(G.UC,{ref:t,className:(0,Ee.cn)(Ts({side:n}),r),...i,children:[(0,X.jsxs)(G.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,X.jsx)(oi.MKb,{className:"h-4 w-4"}),(0,X.jsx)("span",{className:"sr-only",children:"Close"})]}),a]})]})}));ks.displayName=G.UC.displayName;t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(G.hE,{ref:t,className:(0,Ee.cn)("text-lg font-semibold text-foreground",n),...r})})).displayName=G.hE.displayName;function As(){const e=(0,w.wA)(),n=(0,a.Zp)(),r=(0,a.zy)(),i=(0,t.useRef)(null),[s,o]=(0,t.useState)({hospitalId:"",username:"",password:""}),[l,c]=(0,t.useState)(!1),d=(0,w.d4)((e=>e.user.loginStatus)),u=(0,w.d4)((e=>e.user.loginError)),{toast:m}=(0,H.dj)(),[p,h]=(0,t.useState)(!1),v=(0,t.useRef)(null),[g,x]=(0,t.useState)(!1);(0,t.useEffect)((()=>{var e;null!==(e=r.state)&&void 0!==e&&e.scrollToFeatures&&i.current&&i.current.scrollIntoView({behavior:"smooth"})}),[r]);const y=e=>{var t;e.preventDefault(),null===(t=i.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},b=e=>{const{id:t,value:n}=e.target;o((e=>({...e,[t]:n})))},N=()=>{x(!1)};return(0,X.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,X.jsxs)("header",{className:"px-2 lg:px-6 h-16 flex items-center justify-between bg-white shadow-sm",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsxs)(Ss,{open:g,onOpenChange:x,children:[(0,X.jsx)(Es,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"ghost",size:"icon",className:"md:hidden mr-0",children:[(0,X.jsx)(_i,{className:"h-6 w-6"}),(0,X.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,X.jsx)(ks,{side:"left",children:(0,X.jsxs)("nav",{className:"flex flex-col gap-4 mt-4",children:[(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/",onClick:N,children:"Home"}),(0,X.jsx)("a",{href:"#features",className:"text-sm font-medium hover:underline underline-offset-4 cursor-pointer",onClick:e=>((e,t)=>{N(),"scrollToFeatures"===t&&y(e)})(e,"scrollToFeatures"),children:"Features"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/about",onClick:N,children:"About"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/contact",onClick:N,children:"Contact"})]})})]}),(0,X.jsxs)(f,{className:"flex items-center justify-center",to:"/",children:[(0,X.jsx)(js,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"}),(0,X.jsx)("span",{className:"ml-2 text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"The Hospital"})]})]}),(0,X.jsxs)("nav",{className:"hidden md:flex items-center space-x-4",children:[(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/",children:"Home"}),(0,X.jsx)("a",{href:"#features",className:"text-sm font-medium hover:underline underline-offset-4 cursor-pointer",onClick:y,children:"Features"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/about",children:"About"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/contact",children:"Contact"})]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"md:hidden mr-2",onClick:()=>{v.current&&v.current.scrollIntoView({behavior:"smooth",block:"center"})},children:[(0,X.jsx)(Si,{className:"h-4 w-4 mr-2"}),"Login"]})]}),(0,X.jsxs)("main",{className:"flex-1",children:[(0,X.jsx)("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-white",children:(0,X.jsx)("div",{className:"container px-4 md:px-6",children:(0,X.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1fr_400px] lg:gap-12 xl:grid-cols-[1fr_600px]",children:[(0,X.jsxs)("div",{className:"flex flex-col justify-center space-y-4",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl lg:text-6xl/none",children:"Streamline Your Hospital Management"}),(0,X.jsx)("p",{className:"max-w-[600px] text-gray-500 md:text-xl",children:"The Hospital provides a comprehensive solution for efficient hospital administration, patient care, and resource management."})]}),(0,X.jsxs)("div",{className:"hidden md:flex lg:flex flex-col gap-2 min-[400px]:flex-row",children:[(0,X.jsx)(j.$,{className:"w-full sm:w-auto inline-flex h-10 items-center justify-center rounded-md bg-blue-600 px-4 sm:px-8 text-sm font-medium text-white shadow transition-colors hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-blue-700 disabled:pointer-events-none disabled:opacity-50",onClick:()=>{v.current&&(v.current.focus(),v.current.scrollIntoView({behavior:"smooth",block:"center"}))},children:"Get Started"}),(0,X.jsx)(j.$,{className:"w-full sm:w-auto inline-flex h-10 items-center justify-center rounded-md border border-gray-200 bg-white px-4 sm:px-8 text-sm font-medium shadow-sm transition-colors hover:bg-gray-100 hover:text-gray-900 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50",variant:"outline",onClick:()=>{n("/about")},children:"Learn More"})]})]}),(0,X.jsx)(k.Zp,{className:"w-full max-w-sm mx-auto lg:mx-0",children:(0,X.jsx)(k.Wu,{className:"p-6",children:(0,X.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),s.hospitalId&&s.username&&s.password){c(!0);try{await e(Ke(s)).unwrap(),await e(Ye()),n("/")}catch(r){console.error("Login error:",r),m({title:"Login failed",description:"Please check your credentials and try again.",variant:"destructive"})}finally{c(!1)}}else m({title:"Incomplete form",description:"Please fill in all fields.",variant:"destructive"})},className:"space-y-4",children:[(0,X.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Login"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"hospitalId",children:"Hospital ID"}),(0,X.jsx)(xn.p,{className:"w-full font-semibold flex h-10 rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",id:"hospitalId",placeholder:"Enter your hospital ID",type:"text",required:!0,value:s.hospitalId,onChange:b,ref:v})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"username",children:"User ID"}),(0,X.jsx)(xn.p,{className:"w-full font-semibold flex h-10 rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",id:"username",placeholder:"Enter your user ID",type:"text",required:!0,value:s.username,onChange:b})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"password",children:"Password"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{className:"w-full flex h-10 rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 pr-10",id:"password",placeholder:"********",type:p?"text":"password",required:!0,value:s.password,onChange:b}),(0,X.jsx)("button",{type:"button",onClick:()=>{h(!p)},className:"absolute inset-y-0 right-0 flex items-center pr-3",children:p?(0,X.jsx)(Ei,{className:"h-4 w-4 text-gray-400"}):(0,X.jsx)(Ci,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,X.jsx)(j.$,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",type:"submit",disabled:l,children:l?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"}),"failed"===d&&(0,X.jsx)("p",{className:"text-red-500 text-sm",children:u})]})})})]})})}),(0,X.jsx)("section",{id:"features",ref:i,className:"w-full py-12 md:py-24 lg:py-32 bg-gray-100",children:(0,X.jsxs)("div",{className:"container px-4 md:px-6",children:[(0,X.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tighter text-center mb-8 sm:mb-12",children:"Key Features"}),(0,X.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Ti,{className:"h-12 w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-xl font-bold",children:"Secure Patient Records"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Maintain confidential patient information with our state-of-the-art security measures."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(ki,{className:"h-12 w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-xl font-bold",children:"Staff Management"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Efficiently manage schedules, assignments, and performance of your medical staff."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Ai,{className:"h-12 w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-xl font-bold",children:"Pharmacy Management"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Streamline medication dispensing, inventory control, and prescription tracking."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Pi,{className:"h-12 w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-xl font-bold",children:"Analytics Dashboard"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Gain insights into hospital operations with comprehensive analytics and reporting."})]})]})]})})]}),(0,X.jsxs)("footer",{className:"flex flex-col sm:flex-row justify-between items-center py-6 px-4 md:px-6 border-t bg-white",children:[(0,X.jsx)("p",{className:"text-xs text-gray-500 mb-2 sm:mb-0",children:"\xa9 2024 TheHospital. All rights reserved."}),(0,X.jsxs)("nav",{className:"flex gap-4",children:[(0,X.jsx)(f,{className:"text-xs hover:underline underline-offset-4",children:"Terms of Service"}),(0,X.jsx)(f,{className:"text-xs hover:underline underline-offset-4",children:"Privacy"})]})]})]})}t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(G.VY,{ref:t,className:(0,Ee.cn)("text-sm text-muted-foreground",n),...r})})).displayName=G.VY.displayName;var Ps=__webpack_require__(9292);const Os=(0,N.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Rs=(0,N.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ms=(0,N.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Is=(0,N.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var Ls=__webpack_require__(503),Fs="Avatar",[Bs,Ws]=(0,V.A)(Fs),[Us,$s]=Bs(Fs),zs=t.forwardRef(((e,n)=>{const{__scopeAvatar:r,...a}=e,[i,s]=t.useState("idle");return(0,X.jsx)(Us,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:(0,X.jsx)(Sn.sG.span,{...a,ref:n})})}));zs.displayName=Fs;var Hs="AvatarImage",Vs=t.forwardRef(((e,n)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:i=()=>{},...s}=e,o=$s(Hs,r),l=function(e,n){const[r,a]=t.useState("idle");return(0,Ls.N)((()=>{if(!e)return void a("error");let t=!0;const r=new window.Image,i=e=>()=>{t&&a(e)};return a("loading"),r.onload=i("loaded"),r.onerror=i("error"),r.src=e,n&&(r.referrerPolicy=n),()=>{t=!1}}),[e,n]),r}(a,s.referrerPolicy),c=(0,Mn.c)((e=>{i(e),o.onImageLoadingStatusChange(e)}));return(0,Ls.N)((()=>{"idle"!==l&&c(l)}),[l,c]),"loaded"===l?(0,X.jsx)(Sn.sG.img,{...s,ref:n,src:a}):null}));Vs.displayName=Hs;var qs="AvatarFallback",Gs=t.forwardRef(((e,n)=>{const{__scopeAvatar:r,delayMs:a,...i}=e,s=$s(qs,r),[o,l]=t.useState(void 0===a);return t.useEffect((()=>{if(void 0!==a){const e=window.setTimeout((()=>l(!0)),a);return()=>window.clearTimeout(e)}}),[a]),o&&"loaded"!==s.imageLoadingStatus?(0,X.jsx)(Sn.sG.span,{...i,ref:n}):null}));Gs.displayName=qs;var Ks=zs,Ys=Vs,Xs=Gs;const Zs=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Ks,{ref:t,className:(0,Ee.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...r})}));Zs.displayName=Ks.displayName;const Js=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Ys,{ref:t,className:(0,Ee.cn)("aspect-square h-full w-full",n),...r})}));Js.displayName=Ys.displayName;const Qs=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Xs,{ref:t,className:(0,Ee.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...r})}));Qs.displayName=Xs.displayName;var eo=__webpack_require__(8106),to="horizontal",no=["horizontal","vertical"],ro=t.forwardRef(((e,t)=>{const{decorative:n,orientation:r=to,...a}=e,i=function(e){return no.includes(e)}(r)?r:to,s=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return(0,X.jsx)(Sn.sG.div,{"data-orientation":i,...s,...a,ref:t})}));ro.displayName="Separator";var ao=ro;const io=t.forwardRef(((e,t)=>{let{className:n,orientation:r="horizontal",decorative:a=!0,...i}=e;return(0,X.jsx)(ao,{ref:t,decorative:a,orientation:r,className:(0,Ee.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",n),...i})}));io.displayName=ao.displayName;var so=__webpack_require__(5598);const oo=e=>{let{isOpen:t,setIsOpen:n}=e;const r=(0,w.d4)((e=>e.hospital.hospitalInfo)),i=(null===r||void 0===r?void 0:r.subscriptionTimeline)||[],s=(0,a.Zp)(),{daysLeft:o,extraDays:l}=(()=>{if(null===r||void 0===r||!r.renewalDate)return{daysLeft:0,isExpired:!0,extraDays:0};const e=new Date,t=new Date(r.renewalDate);e.setHours(0,0,0,0),t.setHours(0,0,0,0);const n=t.getTime()-e.getTime(),a=Math.ceil(n/864e5);return{daysLeft:a,isExpired:a<0,extraDays:a<0?Math.abs(a):0}})(),c=e=>{switch(e){case"install":return"\u2713";case"trial":return"\ud83d\udcc5";case"payment":return"\ud83d\udcb3";default:return"\u2022"}},d=e=>{switch(e){case"install":return"bg-green-500";case"trial":return"bg-blue-500";case"payment":return"bg-purple-500";default:return"bg-gray-500"}};return(0,X.jsx)(so.lG,{open:t,onOpenChange:n,children:(0,X.jsxs)(so.Cf,{className:"sm:max-w-[900px]",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"text-2xl font-bold text-red-600",children:"Subscription Renewal Alert"}),(0,X.jsx)(so.rr,{className:"mt-4",children:o<0?(0,X.jsx)("div",{className:"space-y-2",children:(0,X.jsx)("p",{className:"text-red-600 font-semibold",children:"Your 30 days trial period has ended!"})}):`Your subscription will expire in ${o} days. Renew now to avoid service interruption.`})]}),(0,X.jsx)("div",{className:"grid gap-4",children:(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"bg-red-50 p-2 rounded-lg border-2 border-red-200",children:[(0,X.jsx)("h4",{className:"font-bold text-red-800 text-lg mb-3",children:"\u26a0\ufe0f Important Notice"}),(0,X.jsx)("p",{className:"text-red-700 mb-4 text-sm",children:"Your hospital management services will be discontinued if the subscription is not extended. This may result in:"}),(0,X.jsxs)("ul",{className:"list-disc list-inside text-red-600 space-y-2 ml-2 text-sm",children:[(0,X.jsx)("li",{children:"Loss of access to patient records"}),(0,X.jsx)("li",{children:"Interruption in IPD & OPD services"}),(0,X.jsx)("li",{children:"Discontinuation of billing services"}),(0,X.jsx)("li",{children:"Suspension of all premium features"})]})]}),(0,X.jsxs)("div",{className:"bg-blue-50 p-2 rounded-lg border-2 border-blue-200",children:[(0,X.jsx)("h4",{className:"font-bold text-blue-800 text-lg mb-3",children:"\ud83d\udcde Contact for Renewal"}),(0,X.jsx)("p",{className:"text-blue-700 mb-2 text-sm",children:"Please contact our support team to extend your plan:"}),(0,X.jsx)("p",{className:"font-semibold text-blue-900 mb-1",children:"+91 9942000425"}),(0,X.jsx)("p",{className:"text-sm text-blue-600",children:"Our team is available 24/7 to assist you with the renewal process"})]})]}),(0,X.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,X.jsx)("h4",{className:"font-bold text-gray-800 text-lg mb-6",children:"\ud83d\udccb Subscription Timeline"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("div",{className:"absolute left-[45px] top-0 h-full w-0.5 bg-gray-300"}),i.map(((e,t)=>(0,X.jsxs)("div",{className:"flex items-start mb-4 relative",children:[(0,X.jsx)("div",{className:`flex items-center justify-center w-[24px] h-[24px] rounded-full text-white relative z-10 ${d(e.type)}`,children:c(e.type)}),(0,X.jsxs)("div",{className:"ml-8",children:[(0,X.jsx)("h5",{className:"font-semibold text-gray-800",children:e.event}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),(0,X.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},t))),(0,X.jsxs)("div",{className:"flex items-start relative",children:[(0,X.jsx)("div",{className:"flex items-center justify-center w-[24px] h-[24px] rounded-full text-white relative z-10 "+(o<0?"bg-red-500":o<=7?"bg-yellow-500":"bg-green-500"),children:o<0?"\u26a0\ufe0f":"\u2713"}),(0,X.jsxs)("div",{className:"ml-8",children:[(0,X.jsx)("h5",{className:"font-semibold text-gray-800",children:"Current Status"}),(0,X.jsx)("p",{className:"text-sm font-medium "+(o<0?"text-red-600":"text-green-600"),children:o<0?`${l} days overdue`:`${o} days remaining`}),(0,X.jsxs)("div",{className:"flex items-center mt-1 space-x-2",children:[(0,X.jsx)("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium "+(o<0?"bg-red-100 text-red-700":o<=7?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:o<0?"Expired":o<=7?"Expiring Soon":"Active"}),(0,X.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===r||void 0===r?void 0:r.planType)||"Trial"," subscription"]})]})]})]})]}),(0,X.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,X.jsx)("div",{className:"flex justify-between items-center text-sm",children:(0,X.jsxs)("span",{className:"text-gray-600",children:["Current Plan: ",(0,X.jsx)("span",{className:"font-semibold",children:(null===r||void 0===r?void 0:r.planType)||"Trial"})]})})})]})]})}),(0,X.jsxs)("div",{className:" bg-red-50 border border-red-200 rounded-md p-3",children:[o<0&&(null===r||void 0===r?void 0:r.discontinuedDaysLeft)>=0&&(0,X.jsxs)("div",{className:"flex",children:[(0,X.jsx)("div",{className:"flex-shrink-0",children:(0,X.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,X.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,X.jsxs)("div",{className:"ml-3",children:[(0,X.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Service Discontinuation Notice"}),(0,X.jsxs)("div",{className:"mt-1 text-sm text-red-700",children:[(0,X.jsxs)("p",{children:["Services will be discontinued in ",(0,X.jsx)("strong",{children:0===(null===r||void 0===r?void 0:r.discontinuedDaysLeft)?"today":(null===r||void 0===r?void 0:r.discontinuedDaysLeft)+" days"}),"."]}),(0,X.jsx)("p",{className:"text-xs mt-1",children:"Please renew your subscription to avoid service interruption."})]})]})]}),o<0&&(null===r||void 0===r?void 0:r.discontinuedDaysLeft)<0&&(0,X.jsxs)("div",{className:"flex",children:[(0,X.jsx)("div",{className:"flex-shrink-0",children:(0,X.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,X.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,X.jsxs)("div",{className:"ml-3",children:[(0,X.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Service Discontinuation Notice"}),(0,X.jsxs)("div",{className:"mt-1 text-sm text-red-700",children:[(0,X.jsx)("p",{children:"All services have been stopped."}),(0,X.jsx)("p",{className:"text-xs mt-1",children:"Please renew your subscription immediately to restore access."})]})]})]})]}),(0,X.jsxs)(so.Es,{className:"mt-0",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,X.jsx)(j.$,{onClick:()=>{s("/settings/subscription"),n(!1)},children:"Details"})]})]})})},lo=e=>{let{title:t,description:n,time:r}=e;return(0,X.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,X.jsx)(Rs,{className:"h-5 w-5 text-blue-500 mt-1"}),(0,X.jsxs)("div",{className:"flex-1",children:[(0,X.jsx)("h4",{className:"text-sm font-medium",children:t}),(0,X.jsx)("p",{className:"text-sm text-gray-500",children:n}),(0,X.jsxs)("div",{className:"flex items-center mt-1 text-xs text-gray-400",children:[(0,X.jsx)(Is,{className:"h-3 w-3 mr-1"}),(0,X.jsx)("span",{children:r})]})]})]})},co=e=>{var n,r;let{isCollapsed:i,setIsCollapsed:s,navItems:o}=e;const l=(0,w.d4)((e=>e.user.userData)),c=(0,w.d4)((e=>e.hospital.hospitalInfo)),d=(0,w.wA)(),u=(0,a.Zp)(),m=(0,a.zy)(),{toast:p}=(0,H.dj)(),[h,f]=(0,t.useState)(!1),[v,g]=(0,t.useState)(""),[x,y]=(0,t.useState)([]),[b,N]=(0,t.useState)(!1),_=e=>{if(!e)return null;const t=new Date,n=new Date(e);t.setHours(0,0,0,0),n.setHours(0,0,0,0);const r=n.getTime()-t.getTime();return Math.ceil(r/864e5)},S=[];return(0,X.jsxs)("header",{className:"flex items-center justify-between px-2 sm:px-4 py-2 bg-white z-50 sticky top-0",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsxs)(Ss,{open:h,onOpenChange:f,children:[(0,X.jsx)(Es,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"mr-2 sm:mr-3 md:hidden",children:(0,X.jsx)(_i,{className:"h-5 w-5 sm:h-10 sm:w-10"})})}),(0,X.jsxs)(ks,{side:"left",className:"w-[250px] sm:w-[250px] pt-6 px-4",children:[(0,X.jsxs)("div",{className:"flex items-center mb-4",children:[(0,X.jsx)(js,{className:"h-6 w-6 sm:h-8 sm:w-8"}),(0,X.jsx)("span",{className:"ml-2 text-lg sm:text-xl font-bold text-gray-800",children:"The Hospital"})]}),(0,X.jsx)(io,{className:"mb-4"}),(0,X.jsx)("nav",{className:"flex flex-col space-y-1",children:o.map((e=>(0,X.jsxs)(j.$,{variant:"ghost",className:"justify-start "+(m.pathname===e.path?"bg-blue-100 text-blue-900":""),onClick:()=>{return t=e.path,u(t),void f(!1);var t},children:[(0,X.jsx)(e.icon,{className:"mr-2 h-4 w-4"}),e.name]},e.name)))})]})]}),(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>s(!i),className:"mr-2 sm:mr-3 hidden md:flex",children:(0,X.jsx)(_i,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{className:"hidden sm:flex items-center",children:[(0,X.jsx)(js,{className:"h-5 w-5 sm:h-6 sm:w-6"}),(0,X.jsx)("span",{className:"ml-2 text-base sm:text-lg font-bold text-gray-800",children:"The Hospital"})]})]}),(0,X.jsx)("div",{className:"mx-2 sm:mx-4 flex-grow max-w-xl",children:(0,X.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.trim())try{const e=await d((0,Be.bW)({searchQuery:v.trim(),page:1,limit:10}));Be.bW.fulfilled.match(e)?u("/search",{state:{searchResults:e.payload.results,searchQuery:v}}):p({title:"Search failed",description:"There was an error performing the search. Please try again.",variant:"destructive"})}catch(t){console.error("Search error:",t),p({title:"Search failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}},className:"flex",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"flex absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"}),(0,X.jsx)(xn.p,{type:"search",placeholder:"Patient ID/Name",className:"w-full pl-8 sm:pl-10 pr-2 sm:pr-4 py-1 sm:py-2 text-sm sm:text-base rounded-l-full border-r-0 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 focus:border-gray-300 focus:outline-none",value:v,onChange:e=>g(e.target.value)})]}),(0,X.jsx)(j.$,{type:"submit",variant:"outline",className:"px-2 sm:px-4 rounded-r-full border-l-0 bg-gray-100 hover:bg-gray-200 focus:ring-0 focus:outline-none",children:(0,X.jsx)(Ps.A,{className:"h-4 w-4"})})]})}),(0,X.jsxs)("div",{className:"flex items-center",children:[null!==c&&void 0!==c&&c.renewalDate&&null!==_(c.renewalDate)&&(_(c.renewalDate)<0||_(c.renewalDate)<15)?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("button",{onClick:()=>N(!0),className:"ml-2 from-[#ff0f0f] to-[#ff8383] bg-gradient-to-r pl-5 pr-2  py-1 rounded-md mr-5 relative hover:shadow-lg transition-all duration-300",children:[(0,X.jsx)("div",{className:"h-2 w-2 bg-red-800 rounded-full absolute top-0 right-0 animate-ping"}),(0,X.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-xs text-white",children:"Buy Premium Now"}),(0,X.jsx)("p",{className:"text-[10px] text-white",children:_(c.renewalDate)<0?"Free trails has expired":`Renewal in: ${_(c.renewalDate)} days`})]}),(0,X.jsx)(Os,{className:"h-5 w-5 text-white"})]})]}),(0,X.jsx)(oo,{isOpen:b,setIsOpen:N,daysLeft:_(c.renewalDate)})]}):null,(0,X.jsxs)(eo.AM,{children:[(0,X.jsx)(eo.Wv,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"ghost",size:"sm",className:"relative hidden sm:inline-flex",children:[(0,X.jsx)(Rs,{className:"h-4 w-4"}),S.length>0&&(0,X.jsx)("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]})}),(0,X.jsx)(eo.hl,{className:"w-80 p-0 mt-2",side:"bottom",align:"end",children:(0,X.jsxs)("div",{className:"p-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Notifications"}),(0,X.jsx)(io,{className:"my-2"}),S.length>0?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{className:"space-y-4",children:S.map(((e,t)=>(0,X.jsx)(lo,{title:e.title,description:e.description,time:e.time},t)))}),(0,X.jsx)(io,{className:"my-2"}),(0,X.jsx)(j.$,{variant:"ghost",className:"w-full justify-center mt-2",children:"View All Notifications"})]}):(0,X.jsxs)("div",{className:"text-center py-4",children:[(0,X.jsx)(Rs,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,X.jsx)("p",{className:"text-sm text-gray-500",children:"No notifications at the moment"})]})]})})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"ghost",size:"sm",className:"ml-2 sm:ml-3 flex items-center justify-end ",children:[(0,X.jsx)(Zs,{className:"h-6 w-6 ring-2 ring-primary ring-offset-2 md:ring-0 md:ring-offset-0",children:(0,X.jsx)(Qs,{children:null===l||void 0===l||null===(n=l.name)||void 0===n||null===(r=n.charAt(0))||void 0===r?void 0:r.toUpperCase()})}),(0,X.jsx)("span",{className:"text-sm capitalize ml-2 hidden lg:inline",children:null===l||void 0===l?void 0:l.name}),(0,X.jsx)(Os,{className:"ml-1 h-3 w-3 hidden lg:inline"})]})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(fi,{children:"My Account"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>u(`/staff/${null===l||void 0===l?void 0:l._id}`,{state:{staffData:l}}),children:"Profile"}),(0,X.jsx)(hi,{onSelect:()=>u("/settings"),children:"Settings"}),(0,X.jsx)(vi,{}),(0,X.jsxs)(hi,{onSelect:async()=>{try{(await fetch(`${M.B8}/api/auth/logout`,{method:"POST",credentials:"include"})).ok?(d(Ze()),p({title:"Logged out successfully",description:"You have been logged out of your account.",variant:"success"}),u("/")):p({title:"Logout failed",description:"There was an error logging out. Please try again.",variant:"destructive"})}catch(e){p({title:"Logout failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}},children:[(0,X.jsx)(Ms,{className:"mr-2 h-4 w-4"}),(0,X.jsx)("span",{children:"Log out"})]})]})]})]})]})};var uo=__webpack_require__(3340);const mo=(0,N.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),po=(0,N.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ho=(0,N.A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var fo=__webpack_require__(8134);function vo(e){const[n,r]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const t=window.matchMedia(e);t.matches!==n&&r(t.matches);const a=()=>r(t.matches);return t.addListener(a),()=>t.removeListener(a)}),[n,e]),n}var go=__webpack_require__(5949),xo=__webpack_require__(3416),yo=__webpack_require__(5962);const bo=(0,N.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),wo=e=>{var n,r,a,i,s,o,l,c,d,u,m,p,h,f,v,g,x,y;let{payment:b,payments:N,billData:_,styleData:S}=e;const{hospitalInfo:E}=(0,w.d4)((e=>e.hospital)),C=(0,w.d4)((e=>e.templates.headerTemplateArray)),D=(null===C||void 0===C?void 0:C.length)>0?C[0].value:wn.h,T=(0,t.useRef)(),k=(0,bn.G)(D||wn.h),A=(0,yn.useReactToPrint)({content:()=>T.current,pageStyle:"\n      @page {\n        size: A4;\n        margin: 20mm;\n      }\n      @media print {\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n          position: relative;\n          padding: 20px;\n        }\n      }\n    "}),P=N||(b?[b]:[]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(j.$,{variant:S?"outline":"ghost",size:"icon",onClick:A,className:"flex print:hidden justify-center items-center"+(S?"px-2 w-[200px] ml-2":"h-6 w-6"),children:[(0,X.jsx)(Nn,{className:"h-4 w-4 mr-2"})," ",S?"Print All Payments":""]}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)("div",{ref:T,className:"print-content",children:(0,X.jsxs)("div",{className:"border-black border-[1px] mt-5",children:[(0,X.jsx)("div",{className:"hidden print:block ",children:(0,X.jsx)(k,{hospitalInfo:E})}),(0,X.jsxs)("div",{className:"border-black border-b-[1px] text-center text-2xl font-semibold uppercase flex justify-between px-4",children:[(0,X.jsx)("div",{className:"w-1/3",children:_.patientType}),(0,X.jsx)("div",{className:"w-1/3",children:"Receipt"}),(0,X.jsxs)("div",{className:"w-1/3 text-right text-base pt-2",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Invoice No: "}),(null===_||void 0===_?void 0:_.invoiceNumber)||(null===(n=_.billDetails)||void 0===n?void 0:n.invoiceNumber)||""]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 py-2 px-4 border-black border-b-[1px]",children:[(0,X.jsxs)("div",{className:"grid grid-cols-3",children:[(0,X.jsx)("p",{className:"font-semibold",children:"Patient Name:"}),(0,X.jsx)("p",{className:"col-span-2 capitalize",children:(null===_||void 0===_||null===(r=_.patient)||void 0===r?void 0:r.name)||(null===_||void 0===_?void 0:_.patientName)||(null===(a=_.patientInfo)||void 0===a?void 0:a.name)})]}),((null===_||void 0===_||null===(i=_.patient)||void 0===i?void 0:i.registrationNumber)||(null===(s=_.patientInfo)||void 0===s?void 0:s.registrationNumber)||(null===_||void 0===_?void 0:_.registrationNumber))&&(0,X.jsxs)("div",{className:"grid grid-cols-3",children:[(0,X.jsx)("p",{className:"font-semibold",children:"UHID No:"}),(0,X.jsx)("p",{className:"col-span-2 capitalize",children:(null===_||void 0===_||null===(o=_.patient)||void 0===o?void 0:o.registrationNumber)||(null===(l=_.patientInfo)||void 0===l?void 0:l.registrationNumber)||(null===_||void 0===_?void 0:_.registrationNumber)||""})]}),(0,X.jsxs)("div",{className:"grid grid-cols-3",children:[(0,X.jsx)("p",{className:"font-semibold",children:"Age/Gender:"}),(0,X.jsxs)("p",{className:"col-span-2 capitalize",children:[null!==_&&void 0!==_&&null!==(c=_.patient)&&void 0!==c&&c.age||null!==_&&void 0!==_&&_.age||null!==_&&void 0!==_&&null!==(d=_.patientInfo)&&void 0!==d&&d.age?`${(null===_||void 0===_||null===(u=_.patient)||void 0===u?void 0:u.age)||(null===_||void 0===_?void 0:_.age)||(null===_||void 0===_||null===(m=_.patientInfo)||void 0===m?void 0:m.age)} Years`:""," ","/"," ",(null===_||void 0===_||null===(p=_.patient)||void 0===p?void 0:p.gender)||(null===_||void 0===_?void 0:_.gender)||(null===_||void 0===_||null===(h=_.patientInfo)||void 0===h?void 0:h.gender)||""]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-3",children:[(0,X.jsx)("p",{className:"font-semibold",children:"Receipt Date"}),(0,X.jsx)("p",{className:"col-span-2 capitalize",children:(0,fo.GP)(null!==b&&void 0!==b&&b.createdAt?new Date(null===b||void 0===b?void 0:b.createdAt):new Date,"dd-MM-yyyy hh:mm a")})]}),((null===_||void 0===_?void 0:_.procedureName)||(null===(f=_.opdProcedure)||void 0===f?void 0:f.procedureName)||(null===_||void 0===_?void 0:_.operationName))&&(0,X.jsxs)("div",{className:"grid grid-cols-3",children:[(0,X.jsx)("p",{className:"font-semibold",children:null!==_&&void 0!==_&&_.procedureName||null!==(v=_.opdProcedure)&&void 0!==v&&v.procedureName?"Procedure":"Operation"}),(0,X.jsx)("p",{className:"col-span-2 capitalize",children:(null===_||void 0===_?void 0:_.procedureName)||(null===(g=_.opdProcedure)||void 0===g?void 0:g.procedureName)||(null===_||void 0===_?void 0:_.operationName)||""})]}),(null===_||void 0===_||null===(x=_.patientInfo)||void 0===x?void 0:x.ipdNumber)&&(0,X.jsxs)("div",{className:"grid grid-cols-3",children:[(0,X.jsx)("p",{className:"font-semibold",children:"OPD/IPD No:"}),(0,X.jsx)("p",{className:"col-span-2 capitalize",children:(null===_||void 0===_||null===(y=_.patientInfo)||void 0===y?void 0:y.ipdNumber)||""})]}),_.labNumber&&(0,X.jsxs)("div",{className:"grid grid-cols-3",children:[(0,X.jsx)("p",{className:"font-semibold",children:"Lab No:"}),(0,X.jsx)("p",{className:"col-span-2 capitalize",children:_.labNumber||""})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-12 pb-2 px-4 font-semibold border-black border-b-[1px] ",children:[(0,X.jsx)("div",{className:"col-span-2",children:"S.No."}),(0,X.jsx)("div",{className:"col-span-8",children:"Particular"}),(0,X.jsx)("div",{className:"col-span-2 text-right",children:"Amount"})]}),P.map(((e,t)=>{return(0,X.jsxs)("div",{className:"grid grid-cols-12 pb-2 px-4 border-black border-b-[1px]",children:[(0,X.jsx)("div",{className:"col-span-2",children:t+1}),(0,X.jsx)("div",{className:"col-span-8",children:null!==_&&void 0!==_&&_.procedureName||null!==_&&void 0!==_&&_.operationName?`Payment for ${(null===_||void 0===_?void 0:_.procedureName)||(null===_||void 0===_?void 0:_.operationName)}`:"Deposit"}),(0,X.jsx)("div",{className:"col-span-2 text-right",children:(n=null===e||void 0===e?void 0:e.amount,null===n||void 0===n?void 0:n.toLocaleString("en-IN"))})]},t);var n})),(0,X.jsxs)("div",{className:"border-black border-b-[1px] px-4 py-2",children:["Amount(In Words) :"," ",(0,M.GF)(P.reduce(((e,t)=>e+((null===t||void 0===t?void 0:t.amount)||0)),0))," ","Only."]}),(0,X.jsx)("div",{className:"px-4 py-2 border-black border-b-[1px] flex flex-row gap-2",children:P.map(((e,t)=>(0,X.jsxs)("div",{children:[(0,X.jsxs)("p",{children:["Payment ",t+1," Method :"," ",(null===e||void 0===e?void 0:e.paymentMethod)||(null===e||void 0===e?void 0:e.method)||"N/A"]}),(null===e||void 0===e?void 0:e.utr)&&(0,X.jsxs)("p",{children:["UTR No. ",t+1," : ",null===e||void 0===e?void 0:e.utr]})]},t)))}),(0,X.jsxs)("div",{className:"grid grid-cols-3 h-[60px]",children:[(0,X.jsx)("div",{className:"col-span-2 pl-4 flex items-center text-2xl justify-center",style:{fontFamily:"cursive"},children:"Thank you"}),(0,X.jsx)("div",{className:"border-black border-l-[1px] pl-4 flex items-end pb-2 justify-center",children:"Signatory Authority"})]})]})})})]})},jo=e=>{var n,r,a,i,s,o,l,c,d,u,m,p;let{isOpen:h,setShowBillModal:f,billData:v,hospitalInfo:g,completedBill:x}=e;const y=(0,t.useRef)(),[N,_]=(0,t.useState)(!1),S=(0,yn.useReactToPrint)({content:()=>y.current,onBeforeGetContent:()=>(_(!0),new Promise((e=>{setTimeout((()=>{_(!1),e()}),0)}))),pageStyle:"\n      @media print {\n        @page {\n          size: A4;\n          margin: 20mm;\n        }\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n          position: relative;\n          min-height: 100vh;\n          padding: 20px;\n        }\n      }\n    "}),E=e=>e?e.amountPaid===e.totalAmount?"Paid":"Due":"N/A";(0,t.useEffect)((()=>(h||(document.body.style.pointerEvents="",document.body.style="",setTimeout((()=>{document.body.style.pointerEvents="",document.body.style=""}),300)),()=>{document.body.style.pointerEvents="",document.body.style=""})),[h]);const C=()=>{f(!1),document.body.style.pointerEvents="",document.body.style="",setTimeout((()=>{document.body.style.pointerEvents="",document.body.style=""}),300)},D=(null===x||void 0===x?void 0:x.bill)||v,k=(null===x||void 0===x?void 0:x.patient)||(null===v||void 0===v?void 0:v.patientInfo),A=(0,w.d4)((e=>e.templates.headerTemplateArray)),P=(null===A||void 0===A?void 0:A.length)>0?A[0].value:wn.h,O=(0,bn.G)(P||wn.h);return(0,X.jsx)(so.lG,{open:h,onOpenChange:C,children:(0,X.jsxs)(so.Cf,{className:"max-w-3xl max-h-[90vh] overflow-visible rounded-lg",children:[(0,X.jsxs)(b.F,{className:"max-h-[80vh]",children:[(0,X.jsxs)("div",{ref:y,className:N?"print-content":"",children:[(0,X.jsx)("div",{className:"hidden print:block mb-2",children:(0,X.jsx)(O,{hospitalInfo:g})}),(0,X.jsxs)("div",{className:"print:pb-6",children:[(0,X.jsx)("div",{className:"no-print",children:(0,X.jsx)(so.c7,{className:"pb-2",children:(0,X.jsx)(so.L3,{children:"Bill Details"})})}),(0,X.jsxs)("div",{className:"grid gap-2 py-1",children:[(0,X.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Name:"}),(0,X.jsx)("p",{children:(null===k||void 0===k?void 0:k.name)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Age/Gender:"}),(0,X.jsxs)("p",{children:[(null===k||void 0===k?void 0:k.age)||"N/A","/",(null===k||void 0===k?void 0:k.gender)||"N/A"]})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"UHID No:"}),(0,X.jsx)("p",{children:(null===k||void 0===k?void 0:k.registrationNumber)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"IPD No:"}),(0,X.jsx)("p",{children:(null===x||void 0===x||null===(n=x.admissionRecord)||void 0===n?void 0:n.ipdNumber)||(null===x||void 0===x||null===(r=x.admission)||void 0===r?void 0:r.ipdNumber)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Contact:"}),(0,X.jsx)("p",{children:(null===k||void 0===k?void 0:k.phone)||(null===k||void 0===k?void 0:k.contactNumber)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Address:"}),(0,X.jsx)("p",{children:(null===k||void 0===k?void 0:k.address)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Invoice Number:"}),(0,X.jsx)("p",{children:(null===D||void 0===D?void 0:D.invoiceNumber)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Date:"}),(0,X.jsx)("p",{children:null!==D&&void 0!==D&&D.createdAt?(0,fo.GP)(new Date(null===D||void 0===D?void 0:D.createdAt),"dd/MM/yyyy"):"N/A"})]})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[((null===(a=x.admissionRecord)||void 0===a?void 0:a.operationName)||(null===(i=x.admission)||void 0===i?void 0:i.operationName))&&(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Operation:"}),(null===(s=x.admissionRecord)||void 0===s?void 0:s.operationName)||(null===(o=x.admission)||void 0===o?void 0:o.operationName)]}),(0,X.jsx)("div",{className:"mx-auto w-full max-w-md",children:(0,X.jsxs)("div",{className:"border-2 p-6 rounded-lg shadow-sm",children:[(0,X.jsxs)("div",{className:"text-center mb-4",children:[(0,X.jsx)("h3",{className:"text-xl font-semibold",children:"Payment Receipt"}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:null!==D&&void 0!==D&&D.createdAt?(0,fo.GP)(new Date(D.createdAt),"dd/MM/yyyy hh:mm a"):"N/A"})]}),(0,X.jsxs)("div",{children:[(0,X.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,X.jsx)("span",{className:"text-gray-700 font-medium",children:"Sub Total:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",((null===D||void 0===D?void 0:D.subtotal)||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,X.jsx)("span",{className:"text-gray-700 font-medium",children:"Discount:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",((null===D||void 0===D?void 0:D.additionalDiscount)||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base border-t-2 border-gray-200 pt-2",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Net Total:"}),(0,X.jsxs)("span",{className:"font-semibold",children:["\u20b9",(((null===D||void 0===D?void 0:D.subtotal)||0)-((null===D||void 0===D?void 0:D.additionalDiscount)||0)).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,X.jsx)("span",{className:"text-gray-700 font-medium",children:"Paid:"}),(0,X.jsxs)("span",{className:"text-green-600 font-medium",children:["\u20b9",((null===D||void 0===D?void 0:D.amountPaid)||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base border-t-2 border-gray-200 pt-2",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Balance:"}),(0,X.jsxs)("span",{className:"text-red-600 font-semibold",children:["\u20b9",(((null===D||void 0===D?void 0:D.totalAmount)||0)-((null===D||void 0===D?void 0:D.amountPaid)||0)).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"text-center mt-4 pt-2 border-t-2 border-gray-200",children:[(0,X.jsxs)("div",{className:"font-medium text-base",children:[(0,X.jsx)("span",{children:"Status: "}),(0,X.jsx)("span",{className:"Paid"===E(D)?"text-green-600":"text-red-600",children:E(D)})]}),(0,X.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,X.jsx)("p",{children:"Amount in words:"}),(0,X.jsxs)("p",{className:"font-medium",children:[(0,M.GF)((null===D||void 0===D?void 0:D.totalAmount)||0)," Rupees Only"]})]})]})]})]})}),(0,X.jsxs)("div",{className:"mt-4",children:[(0,X.jsxs)("div",{className:"flex flex-row items-center mb-2 w-auto",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold ",children:"Payment History"}),(null===x||void 0===x||null===(l=x.payment)||void 0===l?void 0:l.length)>0&&(0,X.jsx)(wo,{payments:x.payment,billData:{...null===x||void 0===x?void 0:x.bill,patient:null===x||void 0===x?void 0:x.patient,operationName:(null===x||void 0===x||null===(c=x.admissionRecord)||void 0===c?void 0:c.operationName)||(null===x||void 0===x||null===(d=x.admission)||void 0===d?void 0:d.operationName)},styleData:!0})]}),(null===D||void 0===D||null===(u=D.payments)||void 0===u?void 0:u.length)>0||(null===x||void 0===x||null===(m=x.payment)||void 0===m?void 0:m.length)>0?(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[80px] h-[30px]",children:"Date"}),(0,X.jsx)(uo.nd,{className:"w-[80px] h-[30px]",children:"Time"}),(0,X.jsx)(uo.nd,{className:"h-[30px]",children:"Amount"}),(0,X.jsx)(uo.nd,{className:"h-[30px]",children:"Method"}),(0,X.jsx)(uo.nd,{className:"no-print h-[30px]",children:"Receipt"})]})}),(0,X.jsx)(uo.BF,{children:null===(p=(null===x||void 0===x?void 0:x.payment)||(null===D||void 0===D?void 0:D.payments))||void 0===p?void 0:p.map(((e,t)=>{var n,r,a,i;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-xs",children:(0,fo.GP)(new Date(e.createdAt),"dd/MM/yyyy")}),(0,X.jsx)(uo.nA,{className:"text-xs",children:(0,fo.GP)(new Date(e.createdAt),"hh:mm a")}),(0,X.jsxs)(uo.nA,{className:"text-xs font-medium",children:["\u20b9",(null===(n=e.amount)||void 0===n?void 0:n.toFixed(2))||"0.00"]}),(0,X.jsx)(uo.nA,{className:"text-xs",children:e.paymentMethod||"N/A"}),(0,X.jsx)(uo.nA,{className:"no-print",children:(0,X.jsx)(wo,{payment:null===x||void 0===x||null===(r=x.payment)||void 0===r?void 0:r[0],billData:{...null===x||void 0===x?void 0:x.bill,patient:null===x||void 0===x?void 0:x.patient,operationName:(null===x||void 0===x||null===(a=x.admissionRecord)||void 0===a?void 0:a.operationName)||(null===x||void 0===x||null===(i=x.admission)||void 0===i?void 0:i.operationName)}})})]},t)}))})]}):(0,X.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-500 py-4",children:[(0,X.jsx)(bo,{size:18}),(0,X.jsx)("span",{children:"No payment history found"})]})]})]})]})]}),(0,X.jsxs)("div",{className:"flex flex-col-reverse gap-1 sm:flex-row sm:space-y-0 sm:space-x-2 mt-4 justify-end",children:[(0,X.jsx)(j.$,{type:"button",variant:"secondary",onClick:C,children:"Close"}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",onClick:S,children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Bill"]})]})]}),(0,X.jsxs)("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:C,children:[(0,X.jsx)(T.A,{className:"h-4 w-4"}),(0,X.jsx)("span",{className:"sr-only",children:"Close"})]})]})})};var No="Tabs",[_o,So]=(0,V.A)(No,[zn]),Eo=zn(),[Co,Do]=_o(No),To=t.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=e,d=(0,Cn.jH)(o),[u,m]=(0,_n.i)({prop:r,onChange:a,defaultProp:i});return(0,X.jsx)(Co,{scope:n,baseId:(0,An.B)(),value:u,onValueChange:m,orientation:s,dir:d,activationMode:l,children:(0,X.jsx)(Sn.sG.div,{dir:d,"data-orientation":s,...c,ref:t})})}));To.displayName=No;var ko="TabsList",Ao=t.forwardRef(((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=Do(ko,n),s=Eo(n);return(0,X.jsx)(Jn,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:r,children:(0,X.jsx)(Sn.sG.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})}));Ao.displayName=ko;var Po="TabsTrigger",Oo=t.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,s=Do(Po,n),o=Eo(n),l=Io(s.baseId,r),c=Lo(s.baseId,r),d=r===s.value;return(0,X.jsx)(Qn,{asChild:!0,...o,focusable:!a,active:d,children:(0,X.jsx)(Sn.sG.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:(0,K.m)(e.onMouseDown,(e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(r)})),onKeyDown:(0,K.m)(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&s.onValueChange(r)})),onFocus:(0,K.m)(e.onFocus,(()=>{const e="manual"!==s.activationMode;d||a||!e||s.onValueChange(r)}))})})}));Oo.displayName=Po;var Ro="TabsContent",Mo=t.forwardRef(((e,n)=>{const{__scopeTabs:r,value:a,forceMount:i,children:s,...o}=e,l=Do(Ro,r),c=Io(l.baseId,a),d=Lo(l.baseId,a),u=a===l.value,m=t.useRef(u);return t.useEffect((()=>{const e=requestAnimationFrame((()=>m.current=!1));return()=>cancelAnimationFrame(e)}),[]),(0,X.jsx)(Rn.C,{present:i||u,children:t=>{let{present:r}=t;return(0,X.jsx)(Sn.sG.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:d,tabIndex:0,...o,ref:n,style:{...e.style,animationDuration:m.current?"0s":void 0},children:r&&s})}})}));function Io(e,t){return`${e}-trigger-${t}`}function Lo(e,t){return`${e}-content-${t}`}Mo.displayName=Ro;var Fo=Ao,Bo=Oo,Wo=Mo;const Uo=To,$o=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Fo,{ref:t,className:(0,Ee.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...r})}));$o.displayName=Fo.displayName;const zo=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Bo,{ref:t,className:(0,Ee.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...r})}));zo.displayName=Bo.displayName;const Ho=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Wo,{ref:t,className:(0,Ee.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...r})}));Ho.displayName=Wo.displayName;const Vo=t.memo((e=>{let{id:n,label:r,type:a="text",value:i,onChange:s,error:o,...l}=e;const[c,d]=(0,t.useState)(!1),u=o&&!i&&!c;return(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{id:n,type:a,value:i,onChange:s,onFocus:()=>d(!0),onBlur:()=>d(!1),className:"peer px-3 py-2 block w-full border rounded-md text-gray-900 focus:ring-blue-500 focus:border-blue-500 bg-white "+(u?"border-red-500":"border-gray-300"),placeholder:" ",...l}),(0,X.jsxs)(wi.J,{htmlFor:n,className:`absolute text-xs duration-300 transform -translate-y-1/2 left-3\n          peer-placeholder-shown:text-sm peer-placeholder-shown:top-1/2\n          peer-focus:text-xs peer-focus:top-0 peer-focus:-translate-y-1/2\n          ${i||c?"top-0 -translate-y-1/2 text-xs":"top-1/2"}\n          ${u?"text-red-500":"text-gray-500"}\n          bg-white px-1`,children:[r," ",u&&(0,X.jsx)("span",{className:"text-red-500 ml-1",children:"*Required"})]})]})}));var qo=__webpack_require__(1844),Go=__webpack_require__(8848);function Ko(e,t,n){const[r,a]=(0,qo.x)(n?.in,e,t),i=Yo(r,a),s=Math.abs((0,Go.m)(r,a));r.setDate(r.getDate()-i*s);const o=i*(s-Number(Yo(r,a)===-i));return 0===o?0:o}function Yo(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}var Xo=__webpack_require__(3168),Zo=__webpack_require__(3124),Jo="Checkbox",[Qo,el]=(0,V.A)(Jo),[tl,nl]=Qo(Jo),rl=t.forwardRef(((e,n)=>{const{__scopeCheckbox:r,name:a,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[p,h]=t.useState(null),f=(0,q.s)(n,(e=>h(e))),v=t.useRef(!1),g=!p||(u||!!p.closest("form")),[x=!1,y]=(0,_n.i)({prop:i,defaultProp:s,onChange:d}),b=t.useRef(x);return t.useEffect((()=>{const e=p?.form;if(e){const t=()=>y(b.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[p,y]),(0,X.jsxs)(tl,{scope:r,state:x,disabled:l,children:[(0,X.jsx)(Sn.sG.button,{type:"button",role:"checkbox","aria-checked":ol(x)?"mixed":x,"aria-required":o,"data-state":ll(x),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:f,onKeyDown:(0,K.m)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,K.m)(e.onClick,(e=>{y((e=>!!ol(e)||!e)),g&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())}))}),g&&(0,X.jsx)(sl,{control:p,bubbles:!v.current,name:a,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:!ol(s)&&s})]})}));rl.displayName=Jo;var al="CheckboxIndicator",il=t.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=nl(al,n);return(0,X.jsx)(Rn.C,{present:r||ol(i.state)||!0===i.state,children:(0,X.jsx)(Sn.sG.span,{"data-state":ll(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})}));il.displayName=al;var sl=e=>{const{control:n,checked:r,bubbles:a=!0,defaultChecked:i,...s}=e,o=t.useRef(null),l=(0,Xo.Z)(r),c=(0,Zo.X)(n);t.useEffect((()=>{const e=o.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==r&&n){const t=new Event("click",{bubbles:a});e.indeterminate=ol(r),n.call(e,!ol(r)&&r),e.dispatchEvent(t)}}),[l,r,a]);const d=t.useRef(!ol(r)&&r);return(0,X.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ol(e){return"indeterminate"===e}function ll(e){return ol(e)?"indeterminate":e?"checked":"unchecked"}var cl=rl,dl=il;const ul=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(cl,{ref:t,className:(0,Ee.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...r,children:(0,X.jsx)(dl,{className:(0,Ee.cn)("flex items-center justify-center text-current"),children:(0,X.jsx)(oi.Srz,{className:"h-4 w-4"})})})}));ul.displayName=cl.displayName;const ml=t.forwardRef(((e,n)=>{let{labData:r,hospital:a}=e;const i=(0,w.d4)((e=>e.templates.headerTemplateArray)),s=(0,w.d4)((e=>e.templates.labBillingTemplate)),o=(null===i||void 0===i?void 0:i.length)>0?i[0].value:wn.h,l=(0,bn.G)(o||wn.h),c=new Function("React","HospitalHeader",`return (${s||'\n(hospital, labData,ref) => {\n  const formatDate = (date) => {\n    if (!date) return "--";\n    return new Date(date).toLocaleDateString(\'en-IN\', { day: \'2-digit\', month: \'2-digit\', year: \'numeric\' }).split(\'/\').join(\'-\');\n  };\n  \n  return React.createElement("div", { ref:ref,\n    className: "relative font-[Tinos] bg-white w-[210mm] min-h-[148mm] mx-auto box-border p-[5mm] print:absolute print:left-0 print:top-0 print:w-full print:[&_*]:visible print:visible print:[&_.no-print]:hidden"\n  },\n    React.createElement("div", { className: "border-[1px] border-black mt-5" },\n      // Header Section\n      React.createElement("div", { className: "print:block border-b-[1px] border-black p-4" },\n        React.createElement(HospitalHeader, { hospitalInfo: hospital })\n      ),\n\n    \n\n      // Patient Details Section\n      React.createElement("div", { className: "grid grid-cols-2 py-2 px-4 border-black border-b-[1px]" },\n        React.createElement("div", { className: "grid grid-cols-3" },\n          React.createElement("p", { className: "font-semibold" }, "Patient Name:"),\n          React.createElement("p", { className: "col-span-2 capitalize" }, labData?.patientName || "N/A")\n        ),\n        React.createElement("div", { className: "grid grid-cols-3" },\n          React.createElement("p", { className: "font-semibold" }, "UHID No:"),\n          React.createElement("p", { className: "col-span-2" }, labData?.registrationNumber || "N/A")\n        ),\n        React.createElement("div", { className: "grid grid-cols-3" },\n          React.createElement("p", { className: "font-semibold" }, "Age/Gender:"),\n          React.createElement("p", { className: "col-span-2 capitalize" }, \n            `${labData?.age ? `${labData.age} Years` : \'N/A\'} / ${labData?.gender || \'N/A\'}`\n          )\n        ),\n        React.createElement("div", { className: "grid grid-cols-3" },\n          React.createElement("p", { className: "font-semibold" }, "Bill Date:"),\n          React.createElement("p", { className: "col-span-2" }, \n            formatDate(labData?.bookingDate)\n          )\n        ),\n        React.createElement("div", { className: "grid grid-cols-3" },\n          React.createElement("p", { className: "font-semibold" }, "Lab No:"),\n          React.createElement("p", { className: "col-span-2" }, labData?.labNumber || "N/A")\n        ),\n        React.createElement("div", { className: "grid grid-cols-3" },\n          React.createElement("p", { className: "font-semibold" }, "Invoice No:"),\n          React.createElement("p", { className: "col-span-2" }, \n            labData?.billDetails?.invoiceNumber || labData?.invoiceNumber || "N/A"\n          )\n        )\n      ),\n\n      // Tests Table Header\n      React.createElement("div", { className: "grid grid-cols-12 pb-2 px-4 font-semibold border-black border-b-[1px]" },\n        React.createElement("div", { className: "col-span-2" }, "S.No."),\n        React.createElement("div", { className: "col-span-8" }, "Test Description"),\n        React.createElement("div", { className: "col-span-2 text-right" }, "Amount (\u20b9)")\n      ),\n\n      // Tests Table Body\n      React.createElement("div", { className: "border-black border-b-[1px]" },\n        (labData?.labTests || []).map((test, index) =>\n          React.createElement("div", { \n            key: index,\n            className: "grid grid-cols-12 pb-2 px-4" + (index < (labData?.labTests?.length || 0) - 1 ? " border-b border-gray-200" : "")\n          },\n            React.createElement("div", { className: "col-span-2" }, index + 1),\n            React.createElement("div", { className: "col-span-8" }, test.name),\n            React.createElement("div", { className: "col-span-2 text-right" },\n              test.price?.toLocaleString(\'en-IN\') || "0.00"\n            )\n          )\n        )\n      ),\n\n      // Amount in Words\n      React.createElement("div", { className: "border-black border-b-[1px] px-4 py-2 text-right flex flex-col font-bold" },\n        React.createElement("span", null, \n          "Sub Total: ", \n          labData?.paymentInfo?.totalAmount?.toLocaleString(\'en-IN\') || "0.00"\n        ),\n        React.createElement("span", null, \n          "Discount: ", \n          labData?.paymentInfo?.additionalDiscount?.toLocaleString(\'en-IN\') || "0.00"\n        ),\n        React.createElement("span", { className: "font-medium" }, \n          "Net Amount: ",\n          ((labData?.paymentInfo?.totalAmount || 0) - (labData?.paymentInfo?.additionalDiscount || 0))?.toLocaleString(\'en-IN\') || "0.00"\n        ),\n        React.createElement("span", { className: "text-gray-600" }, \n          "Amount Paid: ",\n          labData?.paymentInfo?.amountPaid?.toLocaleString(\'en-IN\') || "0.00"\n        ),\n        React.createElement("span", { className: "font-semibold" }, \n          "Balance Due: ",\n          React.createElement("span", { \n            className: "font-bold " + ((labData?.paymentInfo?.balanceDue || 0) > 0 ? \'text-red-600\' : \'text-green-600\')\n          }, \n            "\u20b9", labData?.paymentInfo?.balanceDue?.toLocaleString(\'en-IN\') || "0.00"\n          )\n        )\n      ),\n       \n\n      // Payment Details\n     \n\n      // Signature Section\n      React.createElement("div", { className: "grid grid-cols-3 h-[40px]" },\n        React.createElement("div", { \n          className: "col-span-2 pl-4 flex items-center text-2xl justify-center",\n          style: { fontFamily: \'cursive\' }\n        }, "Thank you"),\n        React.createElement("div", { \n          className: "border-black border-l-[1px] pl-4 flex items-end pb-2 justify-center"\n        }, "Signatory Authority")\n      )\n    )\n  );\n}'});`);try{return c(t,l)(a,r,n)}catch(d){return console.error("Error rendering dynamic lab report:",d),t.createElement("div",null,"Error rendering lab report template")}})),pl=e=>{var n,r,a,i,s,o,l,c,d,u,m,p,h,f;let{isOpen:v,setShowModal:g,labData:x,hospitalInfo:y}=e;const N=(0,t.useRef)(),_=(0,t.useRef)(),[S,E]=(0,t.useState)(!1),[C,D]=(0,t.useState)([]),[k,A]=(0,t.useState)(!0),P=vo("(max-width: 640px)");t.useEffect((()=>{null!==x&&void 0!==x&&x.labTests&&D(x.labTests.map(((e,t)=>t)))}),[x]),t.useEffect((()=>(v||(document.body.style.pointerEvents="",document.body.style=""),()=>{document.body.style=""})),[v]);const O=(0,yn.useReactToPrint)({content:()=>_.current,onBeforeGetContent:()=>(E(!0),new Promise((e=>{setTimeout((()=>{E(!1),e()}),0)}))),pageStyle:"\n      @media print {\n        @page {\n          size: A5;\n          margin: 0;\n        }\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n      }\n    "}),R=()=>{g(!1),document.body.style.pointerEvents="",document.body.style=""},M=(0,w.d4)((e=>e.templates.headerTemplateArray)),I=(null===M||void 0===M?void 0:M.length)>0?M[0].value:wn.h,L=(0,bn.G)(I||wn.h),F=e=>{switch(e){case"Completed":return"success";case"In Progress":return"warning";case"Registered":case"Pending":return"destructive";default:return"secondary"}};return x?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(so.lG,{open:v,onOpenChange:R,children:(0,X.jsxs)(so.Cf,{className:"max-w-3xl max-h-[90vh] overflow-visible rounded-lg",children:[(0,X.jsxs)(b.F,{className:"max-h-[80vh] pr-3",children:[(0,X.jsxs)("div",{ref:N,children:[(0,X.jsx)("div",{className:"hidden print:block mb-2",children:(0,X.jsx)(L,{hospitalInfo:y})}),(0,X.jsxs)("div",{className:"print:pb-6",children:[(0,X.jsx)("div",{className:"no-print",children:(0,X.jsx)(so.c7,{className:"pb-2",children:(0,X.jsx)(so.L3,{children:"Lab Registration Details"})})}),(0,X.jsxs)("div",{className:"grid gap-2 py-1",children:[(0,X.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Name:"}),(0,X.jsx)("p",{children:(null===x||void 0===x?void 0:x.patientName)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Age/Gender:"}),(0,X.jsxs)("p",{children:[(null===x||void 0===x?void 0:x.age)||"N/A","/",(null===x||void 0===x?void 0:x.gender)||"N/A"]})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"UHID No:"}),(0,X.jsx)("p",{children:(null===x||void 0===x?void 0:x.registrationNumber)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Lab No:"}),(0,X.jsx)("p",{children:(null===x||void 0===x?void 0:x.labNumber)||"N/A"})]}),(null===(n=x.billDetails)||void 0===n?void 0:n.invoiceNumber)&&(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Invoice No:"}),(0,X.jsx)("p",{children:null===(r=x.billDetails)||void 0===r?void 0:r.invoiceNumber})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Contact:"}),(0,X.jsx)("p",{children:(null===x||void 0===x?void 0:x.contactNumber)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Address:"}),(0,X.jsx)("p",{children:(null===x||void 0===x?void 0:x.address)||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Booking Date:"}),(0,X.jsx)("p",{children:null!==x&&void 0!==x&&x.bookingDate?(0,fo.GP)(new Date(x.bookingDate),"dd/MM/yyyy"):"N/A"})]}),((null===x||void 0===x?void 0:x.referredBy)||(null===x||void 0===x?void 0:x.referredByName))&&(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Referred By:"}),(0,X.jsx)("p",{children:(null===x||void 0===x||null===(a=x.referredBy)||void 0===a?void 0:a.name)||x.referredByName||"N/A"})]})]}),(0,X.jsxs)("div",{className:"mt-4",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Lab Tests"}),(0,X.jsxs)(uo.XI,{className:"border-2 border-gray-200",children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{className:"border-b border-gray-200 bg-gray-200",children:[(0,X.jsx)(uo.nd,{className:"w-16 hidden print:table-cell",children:"No."}),(0,X.jsx)(uo.nd,{children:"Test Name"}),(0,X.jsx)(uo.nd,{children:"Status"}),(0,X.jsx)(uo.nd,{className:"text-right",children:"Price"})]})}),(0,X.jsxs)(uo.BF,{children:[null===x||void 0===x||null===(i=x.labTests)||void 0===i?void 0:i.map(((e,t)=>{var n;return(0,X.jsxs)(uo.Hj,{className:"border-b border-gray-200",children:[(0,X.jsx)(uo.nA,{className:"hidden print:table-cell",children:t+1}),(0,X.jsx)(uo.nA,{children:e.name}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:F(e.reportStatus),children:e.reportStatus})}),(0,X.jsxs)(uo.nA,{className:"text-right",children:["\u20b9",(null===(n=e.price)||void 0===n?void 0:n.toFixed(2))||"0.00"]})]},t)})),(0,X.jsxs)(uo.Hj,{className:"font-medium",children:[(0,X.jsx)(uo.nA,{className:"hidden print:table-cell"}),(0,X.jsx)(uo.nA,{colSpan:2,className:"text-right",children:"Sub Total:"}),(0,X.jsxs)(uo.nA,{className:"text-right",children:["\u20b9",null===x||void 0===x||null===(s=x.labTests)||void 0===s||null===(o=s.reduce(((e,t)=>e+(t.price||0)),0))||void 0===o?void 0:o.toFixed(2)]})]})]})]}),(0,X.jsx)("div",{className:"flex justify-end",children:(0,X.jsxs)("div",{className:"mt-4 border-2 rounded-lg p-4 bg-gray-50 w-1/2",children:[(0,X.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Payment Summary"}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsxs)("div",{className:"flex justify-between",children:[(0,X.jsx)("span",{children:"Sub Total:"}),(0,X.jsxs)("span",{children:["\u20b9",null===(l=x.paymentInfo.totalAmount)||void 0===l?void 0:l.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,X.jsx)("span",{children:"Discount:"}),(0,X.jsxs)("span",{children:["\u20b9",null===(c=x.paymentInfo.additionalDiscount)||void 0===c?void 0:c.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between font-medium border-t pt-2",children:[(0,X.jsx)("span",{children:"Net Amount:"}),(0,X.jsxs)("span",{children:["\u20b9",null===(d=x.paymentInfo.totalAmount-x.paymentInfo.additionalDiscount)||void 0===d?void 0:d.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,X.jsx)("span",{children:"Amount Paid:"}),(0,X.jsxs)("span",{children:["\u20b9",null===(u=x.paymentInfo.amountPaid)||void 0===u?void 0:u.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between text-red-600 font-medium border-t pt-2",children:[(0,X.jsx)("span",{children:"Balance Due:"}),(0,X.jsxs)("span",{children:["\u20b9",null===(m=x.paymentInfo.balanceDue)||void 0===m?void 0:m.toFixed(2)]})]})]})]})})]}),(0,X.jsxs)("div",{className:"mt-4 "+(k?"":"no-print"),children:[(0,X.jsx)("div",{className:"flex gap-2 items-center",children:(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-2 no-print",children:[(0,X.jsx)(ul,{id:"printPaymentHistory",checked:k,onCheckedChange:A}),(0,X.jsx)(wi.J,{htmlFor:"printPaymentHistory",children:"Include Payment History in Print"})]})}),(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Payment History"}),(null===x||void 0===x||null===(p=x.payments)||void 0===p?void 0:p.length)>0&&(0,X.jsx)(wo,{payments:x.payments,billData:x,styleData:!0})]}),(null===x||void 0===x||null===(h=x.payments)||void 0===h?void 0:h.length)>0?(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Date"}),!P&&(0,X.jsx)(uo.nd,{children:"Time"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Method"}),(0,X.jsx)(uo.nd,{className:"no-print",children:"Receipt"})]})}),(0,X.jsx)(uo.BF,{children:null===(f=x.payments)||void 0===f?void 0:f.map(((e,t)=>{var n;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:(0,fo.GP)(new Date(e.createdAt),"dd/MM/yyyy")}),!P&&(0,X.jsx)(uo.nA,{children:(0,fo.GP)(new Date(e.createdAt),"hh:mm a")}),(0,X.jsxs)(uo.nA,{children:["\u20b9",null===(n=e.amount)||void 0===n?void 0:n.toFixed(2)]}),(0,X.jsx)(uo.nA,{children:e.paymentMethod}),(0,X.jsx)(uo.nA,{className:"no-print",children:(0,X.jsx)(wo,{payment:e,billData:x})})]},t)}))})]}):(0,X.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-500 py-4",children:[(0,X.jsx)(bo,{size:18}),(0,X.jsx)("span",{children:"No payment history found"})]})]}),(null===x||void 0===x?void 0:x.notes)&&(0,X.jsxs)("div",{className:"mt-4",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Notes"}),(0,X.jsx)("p",{className:"text-gray-700",children:x.notes})]})]})]})]}),(0,X.jsxs)("div",{className:"flex flex-col-reverse gap-1 sm:flex-row sm:space-y-0 sm:space-x-2 mt-4 justify-end",children:[(0,X.jsx)(j.$,{type:"button",variant:"secondary",onClick:R,children:"Close"}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",onClick:O,children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Bill"]})]})]}),(0,X.jsxs)("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:R,children:[(0,X.jsx)(T.A,{className:"h-4 w-4"}),(0,X.jsx)("span",{className:"sr-only",children:"Close"})]})]})}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)(ml,{ref:_,labData:x,hospital:y})})]}):null},hl=[{name:"Cash"},{name:"UPI"},{name:"Card"},{name:"Insurance"}];function fl(e){var n,r;let{open:a,onOpenChange:i,patientData:s}=e;const o=(0,w.wA)(),{toast:l}=(0,H.dj)(),c=vo("(max-width: 640px)"),[d,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),[v,g]=(0,t.useState)(null),{createRegistrationStatus:x,error:y}=(0,w.d4)((e=>e.lab)),b=null===(n=[...(0,w.d4)((e=>e.templates.labTestsTemplate))])||void 0===n?void 0:n.map((e=>({name:e.name||e,rate:e.rate}))),N=(0,w.d4)((e=>e.staff.doctors)),_=(0,w.d4)((e=>e.departments.departments)),S=(0,w.d4)((e=>e.hospital.hospitalInfo)),E={name:"",registrationNumber:"",age:"",dateOfBirth:"",gender:"",contactNumber:"",email:"",address:"",guardianName:"",relation:"",bloodType:"",patientType:"LAB",paymentInfo:{totalAmount:0,amountPaid:0,paymentMethod:[],additionalDiscount:""},upgradegenReg:!1,referredByName:"",labTests:[],referredBy:{},department:1===_.length?_[0].name:"",notes:"",bookingDate:(new Date).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-")},[C,D]=(0,t.useState)(E),[k,P]=(0,t.useState)({}),O=e=>{const{id:t,value:n}=e.target;D((e=>{const r=t.split("."),a={...e};let i=a;for(let t=0;t<r.length-1;t++)i[r[t]]={...i[r[t]]},i=i[r[t]];return i[r[r.length-1]]=n,a}))},[R,M]=(0,t.useState)(0);(0,t.useEffect)((()=>{const e=C.paymentInfo.paymentMethod.reduce(((e,t)=>e+(t.amount||0)),0);D((t=>({...t,paymentInfo:{...t.paymentInfo,amountPaid:e}})))}),[C.paymentInfo.paymentMethod]);const I=()=>{i(!1),setTimeout((()=>{document.body.style=""}),500),D(E),g(null)};return(0,t.useEffect)((()=>{a||(D(E),P({}),g(null),setTimeout((()=>{document.body.style=""}),500))}),[a]),(0,t.useEffect)((()=>{"succeeded"===x?(l({title:"Registration Successful",description:"Lab registration completed successfully",variant:"success"}),p(m),u(!0),i(!1),o(rn())):"failed"===x&&(l({title:"Registration Failed",description:y||"Could not complete lab registration",variant:"destructive"}),o(rn()))}),[x,y,o,l,i]),(0,t.useEffect)((()=>{s&&(D((e=>{var t,n;return{...e,name:s.patient.name,registrationNumber:s.registrationNumber,age:s.patient.age,gender:s.patient.gender,contactNumber:s.patient.contactNumber,address:s.patient.address,guardianName:(null===(t=s.patient.guardianDetails)||void 0===t?void 0:t.guardianName)||"",relation:(null===(n=s.patient.guardianDetails)||void 0===n?void 0:n.relation)||"",lastVisitType:s.type,lastVisit:s.bookingDate,lastVisitId:s._id}})),g({...s.patient,lastVisit:s.bookingDate,lastVisitType:s.type}))}),[s]),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(so.lG,{open:a,onOpenChange:I,children:(0,X.jsxs)(so.Cf,{onInteractOutside:e=>e.preventDefault(),className:`${c?"w-[95vw] p-4":"max-w-[1000px]"} h-[${c?"70vh":"60vh"}] overflow-visible px-4`,children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Lab Registration"}),(0,X.jsxs)(so.rr,{className:"hidden md:flex justify-between",children:[(0,X.jsx)("p",{children:"Register patient for laboratory tests"}),v&&v.lastVisit&&(0,X.jsxs)("span",{className:"text-black font-semibold",children:["Last Visit:"," ",(0,fo.GP)(new Date(v.lastVisit),"dd MMM yyyy")," [",(0,X.jsxs)("span",{className:"capitalize "+(Ko(new Date,new Date(v.lastVisit))>14?"text-red-500":"text-green-500"),children:[Ko(new Date,new Date(v.lastVisit))," ","days ago"]}),"]"]})]})]}),(0,X.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return C.name||(e.name="Name is required"),C.age||(e.age="Age is required"),C.gender||(e.gender="Gender is required"),C.contactNumber||(e.contactNumber="Contact number is required"),0===C.labTests.length&&(e.labTests="At least one test must be selected"),P(e),0===Object.keys(e).length})())try{const e=Object.entries(C).reduce(((e,t)=>{let[n,r]=t;if(Array.isArray(r))return r.length>0&&(e[n]=r),e;if(r&&"object"===typeof r){const t=Object.entries(r).reduce(((e,t)=>{let[n,r]=t;return Array.isArray(r)?r.length>0&&(e[n]=r):""!==r&&null!==r&&void 0!==r&&(e[n]=r),e}),{});Object.keys(t).length>0&&(e[n]=t)}else""!==r&&null!==r&&void 0!==r&&(e[n]=r);return e}),{}),t=await o(Kt(e)).unwrap();l({title:"Registration Successful",description:"Lab registration completed successfully",variant:"success"}),p(t),u(!0),i(!1)}catch(y){l({title:"Registration Failed",description:y||"Could not complete lab registration",variant:"destructive"})}},className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,X.jsx)("div",{className:"space-y-4",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,X.jsx)(Vo,{id:"name",label:"Full Name",value:C.name,onChange:O,error:k.name}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Vo,{id:"registrationNumber",label:"UHID Number",value:C.registrationNumber,onChange:O,className:"pr-10"}),(0,X.jsx)("button",{type:"button",onClick:async()=>{if(C.registrationNumber){f(!0);try{var e,t,n;const l=await o((0,Be.bW)({searchQuery:C.registrationNumber.trim()})).unwrap();let u=null===(e=l.results)||void 0===e?void 0:e.patients[0];if((null===(t=l.results)||void 0===t||null===(n=t.patients)||void 0===n?void 0:n.length)>0){var r,a,i,s,c,d;g(u);const e=(null===(r=u.visits[0])||void 0===r?void 0:r.guardianName)||(null===(a=u.admissionDetails[0])||void 0===a?void 0:a.guardianName)||(null===(i=u.guardianDetails)||void 0===i?void 0:i.guardianName)||"",t=(null===(s=u.visits[0])||void 0===s?void 0:s.relation)||(null===(c=u.admissionDetails[0])||void 0===c?void 0:c.relation)||(null===(d=u.guardianDetails)||void 0===d?void 0:d.relation)||"";D((n=>({...n,name:u.name,age:u.age,gender:u.gender,lastVisitType:u.lastVisitType,lastVisit:u.lastVisit,lastVisitId:((e,t,n,r)=>{const a=null===(e=u.visits)||void 0===e?void 0:e[(null===(t=u.visits)||void 0===t?void 0:t.length)-1],i=null===(n=u.admissionDetails)||void 0===n?void 0:n[(null===(r=u.admissionDetails)||void 0===r?void 0:r.length)-1];return a||i?a?i?new Date(a.bookingDate)>new Date(i.bookingDate)?a._id:i._id:null===a||void 0===a?void 0:a._id:null===i||void 0===i?void 0:i._id:null})(),contactNumber:u.contactNumber,address:u.address,guardianName:e,relation:t})))}}catch(y){l({title:"Search Failed",description:"Could not find patient with this registration number",variant:"destructive"})}finally{f(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,X.jsx)(Ps.A,{className:"h-4 w-4"})})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Vo,{id:"age",label:"Age",type:"number",value:C.age,onChange:e=>{const t=e.target.value;D((e=>({...e,age:t,dateOfBirth:""})))},error:k.age}),(0,X.jsxs)(A.l6,{id:"gender",value:C.gender,onValueChange:e=>O({target:{id:"gender",value:e}}),children:[(0,X.jsx)(A.bq,{className:k.gender?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:"Gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})]}),(0,X.jsx)(Vo,{id:"contactNumber",label:"Contact Number",value:C.contactNumber,onChange:O,error:k.contactNumber})]})}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)(xo.T,{id:"address",placeholder:"Address",value:C.address,onChange:O,className:"min-h-9 h-9 no-scrollbar"}),(0,X.jsxs)("div",{className:"grid grid-cols-[1fr_2fr] gap-2",children:[(0,X.jsxs)(A.l6,{id:"relation",value:C.relation,onValueChange:e=>O({target:{id:"relation",value:e}}),children:[(0,X.jsx)(A.bq,{children:(0,X.jsx)(A.yv,{placeholder:"Relation"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Father",children:"Father"}),(0,X.jsx)(A.eb,{value:"Husband",children:"Husband"}),(0,X.jsx)(A.eb,{value:"Mother",children:"Mother"}),(0,X.jsx)(A.eb,{value:"Wife",children:"Wife"}),(0,X.jsx)(A.eb,{value:"Guardian",children:"Guardian"})]})]}),(0,X.jsx)(Vo,{id:"guardianName",label:C.relation?`${C.relation}'s Name`:"Guardian's Name",value:C.guardianName,onChange:O})]}),(0,X.jsx)(bi.A,{suggestions:N.map((e=>({name:e.name,_id:e._id}))),value:C.referredByName,setValue:e=>{D((t=>({...t,referredByName:e})))},onSuggestionSelect:e=>{D((t=>({...t,referredBy:{_id:e._id,name:e.name},referredByName:e.name})))},placeholder:(null===(r=C.referredBy)||void 0===r?void 0:r.name)||"Referred By"}),(0,X.jsxs)("div",{className:"flex gap-2 relative z-50",children:[(0,X.jsx)(yo.A,{suggestions:b,selectedValues:C.labTests.map((e=>({name:e.name}))),setSelectedValues:e=>{const t=e.map((e=>{var t;return{testId:e._id||e.name,name:e.name,price:e.rate||(null===(t=b.find((t=>t.name===e.name)))||void 0===t?void 0:t.rate)||0}})),n=t.reduce(((e,t)=>e+(t.price||0)),0);D((e=>({...e,labTests:t,paymentInfo:{...e.paymentInfo,totalAmount:n}})))},placeholder:"Select lab tests"}),C.labTests.length>0&&(0,X.jsx)("div",{className:"absolute top-[calc(100%+4px)] left-0 right-0 z-50",children:(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:C.labTests.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[e.name+" \u20b9"+e.price,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>(e=>{const t=C.labTests.filter((t=>t.name!==e)),n=t.reduce(((e,t)=>e+(t.price||0)),0);D((e=>({...e,labTests:t,paymentInfo:{...e.paymentInfo,totalAmount:n}})))})(e.name)})]},t)))})})]})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)("div",{className:"space-y-2"}),(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,X.jsx)(Vo,{label:"Amount (\u20b9)",id:"paymentInfo.totalAmount",value:C.paymentInfo.totalAmount.toLocaleString("en-IN"),disabled:!0,className:"bg-gray-50"}),(0,X.jsx)(Vo,{label:"Discount",id:"paymentInfo.additionalDiscount",value:R?`${R}%`:C.paymentInfo.additionalDiscount,onChange:e=>{const t=e.target.value;if(t.includes("%")){const e=parseFloat(t.replace("%",""));if(M(e),!isNaN(e)){const t=C.paymentInfo.totalAmount*e/100;D((e=>({...e,paymentInfo:{...e.paymentInfo,additionalDiscount:Number(t)}})))}}else M(0),O(e)},error:k.discount}),(0,X.jsx)(Vo,{label:"Payable (\u20b9)",value:(()=>{const e=C.paymentInfo.totalAmount,t=parseFloat(C.paymentInfo.additionalDiscount)||0;return Math.max(0,e-t)})().toLocaleString("en-IN"),disabled:!0,className:"bg-gray-50"})]}),(0,X.jsxs)("div",{className:C.paymentInfo.paymentMethod.length>1?"grid grid-cols-3 gap-1":"grid grid-cols-2 gap-2",children:[(0,X.jsx)(yo.A,{id:"paymentInfo.paymentMethod",label:"Payment Method",suggestions:hl,placeholder:C.paymentInfo.paymentMethod.length>0?C.paymentInfo.paymentMethod.map((e=>e.method)).join(", "):"Payment Method",selectedValues:C.paymentInfo.paymentMethod.map((e=>({name:e.method}))),setSelectedValues:e=>{D((t=>{const n=t.paymentInfo.paymentMethod.reduce(((e,t)=>(e[t.method]=t.amount,e)),{}),r=e.map((e=>({method:e.name,amount:n[e.name]||""})));return{...t,paymentInfo:{...t.paymentInfo,paymentMethod:r}}}))},height:!1}),C.paymentInfo.paymentMethod.length>0?C.paymentInfo.paymentMethod.map((e=>(0,X.jsx)(Vo,{id:`payment.${e.method}`,label:`${e.method} Amount`,value:e.amount,onChange:t=>{var n,r;n=e.method,r=t.target.value,D((e=>({...e,paymentInfo:{...e.paymentInfo,paymentMethod:e.paymentInfo.paymentMethod.map((e=>e.method===n?{...e,amount:parseFloat(r)||0}:e))}})))},className:"bg-gray-50"},e.method))):(0,X.jsx)(Vo,{id:"payment.empty",label:"Amount Paid",disabled:!0,className:"bg-gray-50"},"empty")]})]})]}),(0,X.jsx)(so.Es,{children:(0,X.jsxs)("div",{className:"w-full flex flex-row justify-between sm:justify-end sm:space-x-2 space-x-1",children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:()=>{D(E),P({})},className:"flex-1 sm:flex-none",children:"Reset"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:I,className:"flex-1 sm:flex-none",children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",className:"flex-1 sm:flex-none",children:h?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Register"})]})})]})]})}),d&&S&&(0,X.jsx)(pl,{isOpen:d,setShowModal:u,labData:m,hospitalInfo:S})]})}var vl="Radio",[gl,xl]=(0,V.A)(vl),[yl,bl]=gl(vl),wl=t.forwardRef(((e,n)=>{const{__scopeRadio:r,name:a,checked:i=!1,required:s,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[m,p]=t.useState(null),h=(0,q.s)(n,(e=>p(e))),f=t.useRef(!1),v=!m||(d||!!m.closest("form"));return(0,X.jsxs)(yl,{scope:r,checked:i,disabled:o,children:[(0,X.jsx)(Sn.sG.button,{type:"button",role:"radio","aria-checked":i,"data-state":Sl(i),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:h,onClick:(0,K.m)(e.onClick,(e=>{i||c?.(),v&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())}))}),v&&(0,X.jsx)(_l,{control:m,bubbles:!f.current,name:a,value:l,checked:i,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})}));wl.displayName=vl;var jl="RadioIndicator",Nl=t.forwardRef(((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=bl(jl,n);return(0,X.jsx)(Rn.C,{present:r||i.checked,children:(0,X.jsx)(Sn.sG.span,{"data-state":Sl(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})}));Nl.displayName=jl;var _l=e=>{const{control:n,checked:r,bubbles:a=!0,...i}=e,s=t.useRef(null),o=(0,Xo.Z)(r),l=(0,Zo.X)(n);return t.useEffect((()=>{const e=s.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==r&&n){const t=new Event("click",{bubbles:a});n.call(e,r),e.dispatchEvent(t)}}),[o,r,a]),(0,X.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sl(e){return e?"checked":"unchecked"}var El=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cl="RadioGroup",[Dl,Tl]=(0,V.A)(Cl,[zn,xl]),kl=zn(),Al=xl(),[Pl,Ol]=Dl(Cl),Rl=t.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:s=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:u,...m}=e,p=kl(n),h=(0,Cn.jH)(c),[f,v]=(0,_n.i)({prop:i,defaultProp:a,onChange:u});return(0,X.jsx)(Pl,{scope:n,name:r,required:s,disabled:o,value:f,onValueChange:v,children:(0,X.jsx)(Jn,{asChild:!0,...p,orientation:l,dir:h,loop:d,children:(0,X.jsx)(Sn.sG.div,{role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":o?"":void 0,dir:h,...m,ref:t})})})}));Rl.displayName=Cl;var Ml="RadioGroupItem",Il=t.forwardRef(((e,n)=>{const{__scopeRadioGroup:r,disabled:a,...i}=e,s=Ol(Ml,r),o=s.disabled||a,l=kl(r),c=Al(r),d=t.useRef(null),u=(0,q.s)(n,d),m=s.value===i.value,p=t.useRef(!1);return t.useEffect((()=>{const e=e=>{El.includes(e.key)&&(p.current=!0)},t=()=>p.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),(0,X.jsx)(Qn,{asChild:!0,...l,focusable:!o,active:m,children:(0,X.jsx)(wl,{disabled:o,required:s.required,checked:m,...c,...i,name:s.name,ref:u,onCheck:()=>s.onValueChange(i.value),onKeyDown:(0,K.m)((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:(0,K.m)(i.onFocus,(()=>{p.current&&d.current?.click()}))})})}));Il.displayName=Ml;var Ll=t.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=Al(n);return(0,X.jsx)(Nl,{...a,...r,ref:t})}));Ll.displayName="RadioGroupIndicator";var Fl=Rl,Bl=Il,Wl=Ll;const Ul=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Fl,{className:(0,Ee.cn)("grid gap-2",n),...r,ref:t})}));Ul.displayName=Fl.displayName;const $l=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(Bl,{ref:t,className:(0,Ee.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),...r,children:(0,X.jsx)(Wl,{className:"flex items-center justify-center",children:(0,X.jsx)(oi.Srz,{className:"h-3.5 w-3.5 fill-primary"})})})}));$l.displayName=Bl.displayName;const zl=(0,N.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Hl=e=>{var n,r,a,i,s,o;let{isOpen:l,setIsOpen:c,labData:d}=e;const u=(0,w.wA)(),{toast:m}=(0,H.dj)(),[p,h]=(0,t.useState)(""),[f,v]=(0,t.useState)(""),[g,x]=(0,t.useState)(!1),y=vo("(max-width: 640px)"),[b,N]=(0,t.useState)("");(0,t.useEffect)((()=>(l?(h(""),v(""),N("")):(document.body.style.pointerEvents="",document.body.style="",setTimeout((()=>{document.body.style.pointerEvents="",document.body.style=""}),300)),()=>{document.body.style.pointerEvents="",document.body.style=""})),[l]);const _=(null===d||void 0===d||null===(n=d.paymentInfo)||void 0===n?void 0:n.totalAmount)||0,S=(null===d||void 0===d||null===(r=d.paymentInfo)||void 0===r?void 0:r.amountPaid)||0,E=_-((null===d||void 0===d||null===(a=d.paymentInfo)||void 0===a?void 0:a.additionalDiscount)||0)-S,C=E<=0,D=p&&f&&!b&&parseFloat(p)>0;if(!d)return null;return(0,X.jsx)(so.lG,{open:l,onOpenChange:c,children:(0,X.jsxs)(so.Cf,{className:"w-[90vw] max-w-[425px] max-h-[90vh] overflow-y-auto rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"text-xl font-semibold",children:"Add Payment"}),(0,X.jsx)(so.rr,{children:"Add payment for lab registration."})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,X.jsxs)("span",{className:"sm:hidden",children:["Total:"," ",(0,X.jsxs)("span",{className:"text-primary",children:["\u20b9",null===_||void 0===_?void 0:_.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("span",{className:"sm:hidden",children:["Due:"," ",(0,X.jsxs)("span",{className:"text-red-600",children:["\u20b9",null===E||void 0===E?void 0:E.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("span",{className:"hidden sm:inline",children:["Total Amount:"," ",(0,X.jsxs)("span",{className:"text-primary",children:["\u20b9",null===_||void 0===_?void 0:_.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("span",{className:"hidden sm:inline",children:["Due Amount:"," ",(0,X.jsxs)("span",{className:"text-red-600",children:["\u20b9",null===E||void 0===E?void 0:E.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,X.jsx)(io,{}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{htmlFor:"paymentAmount",children:"Payment Amount"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{id:"paymentAmount",type:"number",value:p,onChange:e=>{const t=e.target.value;h(t),parseFloat(t)>E?N(`Amount cannot exceed the due amount of \u20b9${E.toFixed(2)}`):N("")},placeholder:"Enter amount",className:"pr-10 "+(b?"border-red-500":""),disabled:C}),(0,X.jsx)(j.$,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:()=>{h(E.toFixed(2))},title:"Set Due Amount",disabled:C,children:(0,X.jsx)(zl,{className:"h-4 w-4"})})]}),b&&(0,X.jsx)("p",{className:"text-xs text-red-500 mt-1",children:b})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,X.jsxs)(A.l6,{onValueChange:v,value:f,disabled:C,children:[(0,X.jsx)(A.bq,{id:"paymentMethod",children:(0,X.jsx)(A.yv,{placeholder:"Select method"})}),(0,X.jsx)(A.gC,{children:["Cash","UPI","Card","Bank Transfer","Other"].map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})]})]}),(0,X.jsx)(io,{}),(0,X.jsxs)("div",{className:"space-y-0",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("h4",{className:"text-sm font-semibold",children:"Recent Payments"}),(null===d||void 0===d?void 0:d.payments)&&(null===d||void 0===d||null===(i=d.payments)||void 0===i?void 0:i.length)>0&&(0,X.jsx)(wo,{payments:d.payments,billData:d,styleData:!0})]}),null!==d&&void 0!==d&&d.payments&&(null===d||void 0===d||null===(s=d.payments)||void 0===s?void 0:s.length)>0?(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Date"}),!y&&(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Time"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Method"}),(0,X.jsx)(uo.nd,{children:"Receipt"})]})}),(0,X.jsx)(uo.BF,{children:null===(o=d.payments)||void 0===o?void 0:o.map(((e,t)=>{var n;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleDateString("en-IN")}),!y&&(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleTimeString("en-IN",{hour:"numeric",minute:"numeric",hour12:!0})}),(0,X.jsxs)(uo.nA,{className:"text-xs font-medium",children:["\u20b9",null===e||void 0===e||null===(n=e.amount)||void 0===n?void 0:n.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,X.jsx)(uo.nA,{className:"text-xs",children:e.paymentMethod}),(0,X.jsx)(uo.nA,{className:"text-xs",children:(0,X.jsx)(wo,{payment:e,billData:d})})]},t)}))})]})}):(0,X.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-500 py-4",children:[(0,X.jsx)(bo,{size:18}),(0,X.jsx)("span",{children:"No recent payments found"})]})]}),(0,X.jsxs)(so.Es,{className:"mt-6 flex-col-reverse gap-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>c(!1),disabled:g,className:"w-full sm:w-auto",children:"Close"}),C?(0,X.jsx)(j.$,{disabled:!0,className:"w-full sm:w-auto bg-green-500 hover:bg-green-600",children:"Fully Paid"}):(0,X.jsx)(j.$,{onClick:()=>{if(!p||!f)return void m({title:"Error",description:"Please fill in all fields",variant:"destructive"});x(!0);const e={method:f,amount:parseFloat(p)};u(Xt({labId:d._id,payment:e})).unwrap().then((()=>{m({title:"Payment added successfully",description:`Payment of \u20b9${p} has been added successfully.`,variant:"success"}),c(!1)})).catch((e=>{m({title:"Error",description:`Failed to add payment: ${e.message}`,variant:"destructive"})})).finally((()=>{x(!1)}))},disabled:g||!D,className:"w-full sm:w-auto",children:g?"Processing...":"Add Payment"})]})]})})},Vl=[{name:"Cash"},{name:"UPI"},{name:"Card"},{name:"Insurance"}];function ql(e){var n,r,a;let{open:i,onOpenChange:s,labData:o}=e;const l=(0,w.wA)(),{toast:c}=(0,H.dj)(),d=vo("(max-width: 640px)"),[u,m]=(0,t.useState)(!1),[p,h]=(0,t.useState)(null),{updateRegistrationStatus:f,error:v}=(0,w.d4)((e=>e.lab)),g=null===(n=[...(0,w.d4)((e=>e.templates.labTestsTemplate))])||void 0===n?void 0:n.map((e=>({name:e.name||e,rate:e.rate}))),x=(0,w.d4)((e=>e.staff.doctors)),y=((0,w.d4)((e=>e.departments.departments)),(0,w.d4)((e=>e.hospital.hospitalInfo))),[b,N]=(0,t.useState)({name:"",registrationNumber:"",age:"",dateOfBirth:"",gender:"",contactNumber:"",email:"",address:"",bloodType:"",patientType:"LAB",paymentInfo:{totalAmount:0,amountPaid:0,paymentMethod:[],additionalDiscount:""},payments:[],referredByName:"",labTests:[],referredBy:{},department:"",notes:""}),[_,S]=(0,t.useState)({});(0,t.useEffect)((()=>{o&&N({name:o.patientName,registrationNumber:o.registrationNumber,age:o.age,gender:o.gender,contactNumber:o.contactNumber,address:o.address,paymentInfo:o.paymentInfo,payments:o.payments||[],referredByName:o.referredByName,referredBy:o.referredBy,labTests:o.labTests,department:o.department,notes:o.notes})}),[o]);const E=e=>{const{id:t,value:n}=e.target;N((e=>{const r=t.split("."),a={...e};let i=a;for(let t=0;t<r.length-1;t++)i[r[t]]={...i[r[t]]},i=i[r[t]];return i[r[r.length-1]]=n,a}))},[D,k]=(0,t.useState)(0),P=()=>{const e=b.paymentInfo.totalAmount,t=parseFloat(b.paymentInfo.additionalDiscount)||0;return Math.max(0,e-t)},O=(e,t,n)=>{N((r=>{const a=[...r.payments];a[e]={...a[e],[t]:"amount"===t?parseFloat(n)||0:n};const i=a.reduce(((e,t)=>e+(t.amount||0)),0);return{...r,payments:a,paymentInfo:{...r.paymentInfo,amountPaid:i}}}))},R=()=>{s(!1),setTimeout((()=>{document.body.style=""}),500)};return(0,t.useEffect)((()=>{i||(S({}),setTimeout((()=>{document.body.style=""}),500))}),[i]),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(so.lG,{open:i,onOpenChange:R,children:(0,X.jsxs)(so.Cf,{className:`${d?"w-[95vw] p-4":"max-w-[1000px]"} h-[${d?"70vh":"60vh"}] overflow-visible px-4`,onOpenAutoFocus:e=>e.preventDefault(),children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Edit Lab Registration"}),(0,X.jsx)(so.rr,{children:"Edit lab registration details"})]}),(0,X.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return b.name||(e.name="Name is required"),b.age||(e.age="Age is required"),b.gender||(e.gender="Gender is required"),b.contactNumber||(e.contactNumber="Contact number is required"),0===b.labTests.length&&(e.labTests="At least one test must be selected"),S(e),0===Object.keys(e).length})())try{const e={...b,_id:o._id},t=await l(Qt(e)).unwrap();c({title:"Update Successful",description:"Lab registration updated successfully",variant:"success"}),h(t),m(!0),s(!1)}catch(v){c({title:"Update Failed",description:v||"Could not update lab registration",variant:"destructive"})}},className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,X.jsx)("div",{className:"space-y-4",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,X.jsx)(Vo,{id:"name",label:"Full Name",value:b.name,onChange:E,error:_.name}),(0,X.jsx)(Vo,{id:"registrationNumber",label:"UHID Number",value:b.registrationNumber,disabled:!0}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Vo,{id:"age",label:"Age",type:"number",value:b.age,onChange:E,error:_.age}),(0,X.jsxs)(A.l6,{id:"gender",value:b.gender,onValueChange:e=>E({target:{id:"gender",value:e}}),children:[(0,X.jsx)(A.bq,{className:_.gender?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:"Gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})]}),(0,X.jsx)(Vo,{id:"contactNumber",label:"Contact Number",value:b.contactNumber,onChange:E,error:_.contactNumber})]})}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)(xo.T,{id:"address",placeholder:"Address",value:b.address,onChange:E,className:"min-h-9 h-9 no-scrollbar"}),(0,X.jsx)(bi.A,{suggestions:x.map((e=>({name:e.name,_id:e._id}))),value:b.referredByName,setValue:e=>{N((t=>({...t,referredByName:e,referredBy:{}})))},onSuggestionSelect:e=>{N((t=>({...t,referredBy:{_id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name},referredByName:null===e||void 0===e?void 0:e.name})))},placeholder:(null===(r=b.referredBy)||void 0===r?void 0:r.name)||"Referred By"}),(0,X.jsxs)("div",{className:"flex gap-2 relative z-50",children:[(0,X.jsx)(yo.A,{suggestions:g,selectedValues:b.labTests.map((e=>({name:e.name}))),setSelectedValues:e=>{const t=e.map((e=>{var t;return{name:e.name,price:e.rate||(null===(t=g.find((t=>t.name===e.name)))||void 0===t?void 0:t.rate)||0}})),n=t.reduce(((e,t)=>e+(t.price||0)),0);N((e=>({...e,labTests:t,paymentInfo:{...e.paymentInfo,totalAmount:n}})))},placeholder:"Select lab tests"}),b.labTests.length>0&&(0,X.jsx)("div",{className:"absolute top-[calc(100%+4px)] left-0 right-0 z-50",children:(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:b.labTests.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[e.name+" \u20b9"+e.price,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>(e=>{const t=b.labTests.filter((t=>t.name!==e)),n=t.reduce(((e,t)=>e+(t.price||0)),0);N((e=>({...e,labTests:t,paymentInfo:{...e.paymentInfo,totalAmount:n}})))})(e.name)})]},t)))})})]})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,X.jsx)(Vo,{label:"Amount (\u20b9)",id:"paymentInfo.totalAmount",value:b.paymentInfo.totalAmount.toLocaleString("en-IN"),disabled:!0,className:"bg-gray-50"}),(0,X.jsx)(Vo,{label:"Discount",id:"paymentInfo.additionalDiscount",value:D?`${D}%`:b.paymentInfo.additionalDiscount,onChange:e=>{const t=e.target.value;if(t.includes("%")){const e=parseFloat(t.replace("%",""));if(k(e),!isNaN(e)){const t=b.paymentInfo.totalAmount*e/100;N((e=>({...e,paymentInfo:{...e.paymentInfo,additionalDiscount:Number(t)}})))}}else k(0),E(e)},error:_.discount}),(0,X.jsx)(Vo,{label:"Payable (\u20b9)",value:P().toLocaleString("en-IN"),disabled:!0,className:"bg-gray-50"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsx)(Vo,{label:"Amount Paid (\u20b9)",value:(null===(a=b.paymentInfo.amountPaid)||void 0===a?void 0:a.toLocaleString("en-IN"))||"0",disabled:!0,className:"bg-gray-50"}),(0,X.jsx)(Vo,{label:"Balance Due (\u20b9)",value:(P()-(b.paymentInfo.amountPaid||0)).toLocaleString("en-IN"),disabled:!0,className:"bg-gray-50"})]}),(0,X.jsxs)("div",{className:"",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)(wi.J,{children:"Payment History"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{N((e=>({...e,payments:[...e.payments,{paymentMethod:"Cash",amount:"",isNew:!0}]})))},className:"py-1",children:"Add Payment"})]}),(0,X.jsx)("div",{className:"max-h-[150px] overflow-y-auto border rounded-md p-2 space-y-2",children:b.payments.map(((e,t)=>(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsxs)(A.l6,{value:e.paymentMethod,onValueChange:e=>O(t,"paymentMethod",e),children:[(0,X.jsx)(A.bq,{className:"w-[120px] h-8 text-sm",children:(0,X.jsx)(A.yv,{placeholder:"Method"})}),(0,X.jsx)(A.gC,{children:Vl.map((e=>(0,X.jsx)(A.eb,{value:e.name,className:"text-sm",children:e.name},e.name)))})]}),(0,X.jsx)(xn.p,{type:"number",value:e.amount,onChange:e=>O(t,"amount",e.target.value),className:"w-[120px] h-8 text-sm",placeholder:"Amount"}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>(e=>{N((t=>{const n=[...t.payments];n.splice(e,1);const r=n.reduce(((e,t)=>e+(t.amount||0)),0);return{...t,payments:n,paymentInfo:{...t.paymentInfo,amountPaid:r}}}))})(t),className:"h-8 w-8 p-0",children:(0,X.jsx)(C.A,{className:"h-3.5 w-3.5 text-red-500"})})]},t)))})]})]})]}),(0,X.jsx)(so.Es,{children:(0,X.jsxs)("div",{className:"w-full flex flex-row justify-between sm:justify-end sm:space-x-2 space-x-1",children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:R,className:"flex-1 sm:flex-none",children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",className:"flex-1 sm:flex-none",children:"loading"===f?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Update"})]})})]})]})}),u&&y&&(0,X.jsx)(pl,{isOpen:u,setShowModal:m,labData:p,hospitalInfo:y})]})}function Gl(){const e=(0,a.Zp)(),n=(0,w.wA)(),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)("Today"),[l,c]=(0,t.useState)({from:null,to:null}),[d,u]=(0,t.useState)({from:null,to:null}),[m,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[v,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(null),[b,N]=(0,t.useState)(!1),[E,C]=(0,t.useState)(!1),[D,A]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[R,I]=(0,t.useState)(!1),[L,F]=(0,t.useState)(null),[B,W]=(0,t.useState)(null),{toast:U}=(0,H.dj)(),{registrations:$,searchResults:z,updateTestStatus:V,error:q}=(0,w.d4)((e=>e.lab)),G=(0,w.d4)((e=>e.hospital.hospitalInfo)),K=vo("(max-width: 640px)"),[Y,Z]=(0,t.useState)([]),[J,Q]=(0,t.useState)(!1),ee="loading"===V;(0,t.useEffect)((()=>{te()}),[s,l,n]);const te=async()=>{const e=ne();e&&n(Gt(e))};(0,t.useEffect)((()=>{if(r){const e=$.filter((e=>{var t,n,a,i;return(null===(t=e.labNumber)||void 0===t?void 0:t.toLowerCase().includes(r.toLowerCase()))||(null===(n=e.registrationNumber)||void 0===n?void 0:n.toLowerCase().includes(r.toLowerCase()))||(null===(a=e.contactNumber)||void 0===a?void 0:a.includes(r))||(null===(i=e.patientName)||void 0===i?void 0:i.toLowerCase().includes(r.toLowerCase()))}));e.length>0?Z(e):n(Zt(r))}else Z($),n(on())}),[r,$,n]),(0,t.useEffect)((()=>{z.length>0&&Z(z)}),[z]);const ne=()=>{const e=new Date;switch(s){case"Today":return{startDate:(0,fo.GP)(e,"yyyy-MM-dd"),endDate:(0,fo.GP)(e,"yyyy-MM-dd")};case"Yesterday":const t=new Date(e);return t.setDate(t.getDate()-1),{startDate:(0,fo.GP)(t,"yyyy-MM-dd"),endDate:(0,fo.GP)(t,"yyyy-MM-dd")};case"This Week":const n=new Date(e);return n.setDate(e.getDate()-7),{startDate:(0,fo.GP)(n,"yyyy-MM-dd"),endDate:(0,fo.GP)(e,"yyyy-MM-dd")};case"Custom":return l.from&&l.to?{startDate:(0,fo.GP)(l.from,"yyyy-MM-dd"),endDate:(0,fo.GP)(l.to,"yyyy-MM-dd")}:null;default:return null}},re=e=>{switch(e){case"Completed":return"text-green-600";case"In Progress":return"text-yellow-600";case"Pending":return"text-red-600";default:return"text-gray-600"}},ae=e=>{switch(e){case"Completed":return"text-green-600";case"Sample Collected":return"text-[#f5a158]";case"Registered":return"text-[#b51616]";default:return"text-black-600"}},ie=e=>{f(e),g(!0)},se=(e,t)=>{y({registration:e,test:t}),N(!0)},oe=async e=>{if(x)try{(await n(Yt({registrationId:x.registration._id,testName:x.test.name,newStatus:e})).unwrap()).success&&(N(!1),y(null))}catch(q){console.error("Failed to update test status:",q)}},le=e=>{A(e),C(!0),O(null)},ce=e=>{F(e),I(!0),O(null)},de=e=>{W(e),O(null)},ue=t=>{let{test:n,index:r}=t;return(0,X.jsx)(k.Zp,{className:"mb-4",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,X.jsxs)("div",{children:["Today"===s&&(0,X.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Sl No: ",r+1]}),(0,X.jsx)("h3",{className:"font-semibold",children:n.patientName}),(0,X.jsxs)("p",{className:"text-sm text-gray-500",children:["Lab No: ",n.labNumber]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(go.E,{variant:"Completed"===n.status?"success":"In Progress"===n.status?"warning":"destructive",children:n.status}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,X.jsx)(mo,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(hi,{onClick:()=>ie(n),children:"Print Bills"}),(0,X.jsx)(hi,{onClick:()=>le(n),children:"Payments"}),(0,X.jsx)(hi,{onClick:()=>e("/lab",{state:{patientData:n}}),children:"Make Report"}),(0,X.jsx)(hi,{onClick:()=>ce(n),children:"Edit Registration"}),(0,X.jsx)(hi,{onClick:()=>de(n),className:"text-red-500",children:"Delete Registration"})]})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Date: "}),(0,fo.GP)(new Date(n.bookingDate),"dd/MM/yyyy")]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Tests: "}),n.labTests.map(((e,t)=>(0,X.jsxs)("span",{children:[(0,X.jsx)("button",{onClick:()=>se(n,e),className:`${ae(e.reportStatus)} hover:underline cursor-pointer`,children:e.name}),t<n.labTests.length-1?", ":""]},t)))]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Amount: "}),"\u20b9",n.paymentInfo.totalAmount.toLocaleString("en-IN")]}),n.referredBy&&(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Referred By: "}),n.referredBy.name]})]})]})})},me=()=>(0,X.jsx)(so.lG,{open:b,onOpenChange:e=>{ee||N(e)},children:(0,X.jsxs)(so.Cf,{children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{children:"Update Test Status"})}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)(Ul,{defaultValue:null===x||void 0===x?void 0:x.test.reportStatus,onValueChange:oe,disabled:ee,children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)($l,{value:"Registered",id:"registered",disabled:ee}),(0,X.jsx)(wi.J,{htmlFor:"registered",className:`${ee?"opacity-50":""} ${ae("Registered")}`,children:"Registered"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)($l,{value:"Sample Collected",id:"collected",disabled:ee}),(0,X.jsx)(wi.J,{htmlFor:"collected",className:`${ee?"opacity-50":""} ${ae("Sample Collected")}`,children:"Sample Collected"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)($l,{value:"Completed",id:"completed",disabled:ee}),(0,X.jsx)(wi.J,{htmlFor:"completed",className:`${ee?"opacity-50":""} ${ae("Completed")}`,children:"Completed"})]})]}),ee&&(0,X.jsx)("div",{className:"flex items-center justify-center",children:(0,X.jsx)(Di,{className:"h-5 w-5 animate-spin text-primary"})})]})]})});return(0,X.jsxs)(k.Zp,{className:"w-full border-none shadow-none",children:[(0,X.jsx)(k.aR,{className:"pb-2",children:(0,X.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center w-full gap-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"hidden sm:flex",children:(0,X.jsx)(_,{className:"h-5 w-5"})}),(0,X.jsxs)("div",{className:"w-full sm:w-auto",children:[(0,X.jsx)(k.ZB,{className:"text-center sm:text-left",children:"Laboratory Tests"}),(0,X.jsx)(k.BT,{className:"hidden sm:block",children:"Manage and view lab test records"})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 sm:flex items-center gap-2 w-full sm:w-auto",children:[(0,X.jsxs)(j.$,{onClick:()=>p(!0),className:"w-full sm:w-auto",children:[(0,X.jsx)(S.A,{className:"h-4 w-4 sm:mr-2"}),(0,X.jsx)("span",{className:"hidden sm:inline",children:"New Registration"}),(0,X.jsx)("span",{className:"sm:hidden",children:"New"})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full sm:w-auto",children:[(0,X.jsx)(po,{className:"h-4 w-4 sm:mr-2"}),(0,X.jsx)("span",{className:"hidden sm:inline",children:s}),(0,X.jsx)("span",{className:"sm:hidden",children:"Date"})]})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(hi,{onSelect:()=>o("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>o("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>o("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>o("Custom"),children:"Custom Range"})]})]}),"Custom"===s&&(0,X.jsx)("div",{className:"col-span-2 sm:col-span-1",children:(0,X.jsx)(M.Ur,{from:d.from,to:d.to,onSelect:e=>u(e),onSearch:()=>{c(d),o("Custom")},onCancel:()=>{u({from:null,to:null}),o("Today")}})})]})]})}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsx)(fl,{open:m,onOpenChange:p}),(0,X.jsx)(pl,{isOpen:v,setShowModal:g,labData:h,hospitalInfo:G}),(0,X.jsx)(me,{}),(0,X.jsx)(Hl,{isOpen:E,setIsOpen:C,labData:D}),(0,X.jsx)(ql,{open:R,onOpenChange:I,labData:L}),(0,X.jsx)(Ce,{open:!!B,onOpenChange:e=>{J||e||W(null)},children:(0,X.jsxs)(Ae,{children:[(0,X.jsxs)(Pe,{children:[(0,X.jsx)(Re,{children:"Are you sure?"}),(0,X.jsxs)(Me,{children:["This action cannot be undone. This will permanently delete the lab registration for ",null===B||void 0===B?void 0:B.patientName," (Lab No:"," ",null===B||void 0===B?void 0:B.labNumber,") and all associated payment records."]})]}),(0,X.jsxs)(Oe,{children:[(0,X.jsx)(Le,{onClick:()=>W(null),disabled:J,children:"Cancel"}),(0,X.jsx)(Ie,{onClick:async()=>{B&&(Q(!0),n(en(B._id)).unwrap().then((()=>{U({title:"Success",description:"Lab registration deleted successfully",variant:"success"})})).catch((e=>{U({title:"Error",description:e.message||"Something went wrong",variant:"destructive"})})).finally((()=>{Q(!1),W(null)})))},className:"bg-red-600 hover:bg-red-700",disabled:J,children:J?"Deleting...":"Delete"})]})]})}),(0,X.jsx)("div",{className:"flex flex-col space-y-4 mb-4",children:(0,X.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,X.jsxs)("div",{className:"w-full md:w-1/2 relative",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search using Lab Number, UHID No or Contact Number...",value:r,onChange:e=>i(e.target.value),className:"pl-8"}),r&&(0,X.jsx)("button",{onClick:()=>i(""),className:"absolute right-2 top-2.5 text-muted-foreground hover:text-foreground",children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]}),(0,X.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[(0,X.jsx)("span",{className:"font-medium",children:"Test Status:"}),(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#b51616]"}),(0,X.jsx)("span",{children:"Registered"})]}),(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#f5a158]"}),(0,X.jsx)("span",{children:"Sample Collected"})]}),(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-600"}),(0,X.jsx)("span",{children:"Completed"})]})]})]})}),K?Y.length>0?(0,X.jsx)("div",{className:"space-y-4",children:Y.map(((e,t)=>(0,X.jsx)(ue,{test:e,index:t},e._id)))}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,X.jsx)(ho,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-600",children:"No tests found"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}):(0,X.jsx)("div",{className:"rounded-md border",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:["Today"===s&&(0,X.jsx)(uo.nd,{children:"Sl."}),(0,X.jsx)(uo.nd,{children:"Lab No."}),(0,X.jsx)(uo.nd,{children:"Name"}),(0,X.jsx)(uo.nd,{children:"Phone"}),(0,X.jsx)(uo.nd,{children:"Reg. Date"}),(0,X.jsx)(uo.nd,{children:"Tests"}),(0,X.jsx)(uo.nd,{children:"Status"}),(0,X.jsx)(uo.nd,{children:"Total"}),(0,X.jsx)(uo.nd,{children:"Paid"}),(0,X.jsx)(uo.nd,{children:"Due"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:Y.map(((t,n)=>{var r,a,i,o;return(0,X.jsxs)(uo.Hj,{children:["Today"===s&&(0,X.jsx)(uo.nA,{className:"font-medium",children:n+1}),(0,X.jsx)(uo.nA,{children:t.labNumber}),(0,X.jsx)(uo.nA,{className:"font-bold",children:`${t.patientName} ${t.registrationNumber?`(${t.registrationNumber})`:""}`}),(0,X.jsx)(uo.nA,{children:t.contactNumber}),(0,X.jsx)(uo.nA,{children:(0,fo.GP)(new Date(t.bookingDate),"dd/MM/yyyy")}),(0,X.jsx)(uo.nA,{className:"font-bold",children:t.labTests.map(((e,n)=>(0,X.jsxs)("span",{children:[(0,X.jsx)("button",{onClick:()=>se(t,e),className:`${ae(e.reportStatus)} hover:underline cursor-pointer`,children:e.name}),n<t.labTests.length-1?", ":""]},n)))}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)("span",{className:`${re(t.status)} font-bold`,children:t.status})}),(0,X.jsxs)(uo.nA,{className:"font-bold text-black",children:["\u20b9",((null===(r=t.paymentInfo)||void 0===r?void 0:r.totalAmount)-(null===(a=t.paymentInfo)||void 0===a?void 0:a.additionalDiscount)).toLocaleString("en-IN")]}),(0,X.jsxs)(uo.nA,{className:"font-bold text-green-600",children:["\u20b9",null===(i=t.paymentInfo.amountPaid)||void 0===i?void 0:i.toLocaleString("en-IN")]}),(0,X.jsxs)(uo.nA,{className:"font-bold text-red-600",children:["\u20b9",null===(o=t.paymentInfo.balanceDue)||void 0===o?void 0:o.toLocaleString("en-IN")]}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,X.jsx)(mo,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(hi,{onClick:()=>ie(t),children:"Print Bills"}),(0,X.jsx)(hi,{onClick:()=>le(t),children:"Payments"}),(0,X.jsx)(hi,{onClick:()=>e("/lab",{state:{patientData:t}}),children:"Make Report"}),(0,X.jsx)(hi,{onClick:()=>ce(t),children:"Edit Registration"}),(0,X.jsx)(hi,{onClick:()=>de(t),className:"text-red-500",children:"Delete Registration"})]})]})})]},t._id)}))})]})})]})]})}function Kl(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)([]),l=(0,a.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`${M.B8}/api/lab/tests`),t=await e.json();t.success&&(n(t.tests),o(t.tests))}catch(e){console.error("Failed to fetch lab tests:",e)}})()}),[]),(0,t.useEffect)((()=>{const t=e.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(r.toLowerCase())))));o(t)}),[r,e]);const c=e=>{switch(e){case"Completed":return"text-green-600";case"In Progress":return"text-yellow-600";case"Pending":return"text-red-600";default:return"text-gray-600"}};return(0,X.jsx)("div",{className:"container mx-auto p-4",children:(0,X.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,X.jsx)("h2",{className:"text-2xl font-bold",children:"Lab Tests"}),(0,X.jsxs)("div",{className:"flex gap-4",children:[(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{placeholder:"Search tests...",value:r,onChange:e=>i(e.target.value),className:"pl-10"}),(0,X.jsx)(Ps.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),(0,X.jsx)(j.$,{onClick:()=>l("/lab/registration"),children:"New Registration"})]})]}),(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Lab Number"}),(0,X.jsx)(uo.nd,{children:"Patient Name"}),(0,X.jsx)(uo.nd,{children:"Registration Date"}),(0,X.jsx)(uo.nd,{children:"Tests"}),(0,X.jsx)(uo.nd,{children:"Status"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:s.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:e.labNumber}),(0,X.jsx)(uo.nA,{children:e.patientName}),(0,X.jsx)(uo.nA,{children:(0,fo.GP)(new Date(e.bookingDate),"dd/MM/yyyy")}),(0,X.jsx)(uo.nA,{children:e.labTests.map((e=>e.name)).join(", ")}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)("span",{className:c(e.status),children:e.status})}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.paymentInfo.totalAmount.toLocaleString("en-IN")]}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(j.$,{variant:"link",onClick:()=>l(`/lab/reports/${e._id}`),children:"View Details"})})]},e._id)))})]})})]})})}const Yl=(0,N.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Xl=(0,N.A)("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Zl=(0,N.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var Jl=__webpack_require__(1176),Ql=__webpack_require__(6691),ec=__webpack_require__(2316);function tc(e,t,n){const r=+(0,ec.a)(e,n?.in),[a,i]=[+(0,ec.a)(t.start,n?.in),+(0,ec.a)(t.end,n?.in)].sort(((e,t)=>e-t));return r>=a&&r<=i}var nc=__webpack_require__(1620),rc=__webpack_require__(8605),ac=__webpack_require__(5172),ic=__webpack_require__(2440);function sc(e,t){const{start:n,end:r}=(0,ac.P)(t?.in,e);let a=+n>+r;const i=a?+n:+r,s=a?r:n;s.setHours(0,0,0,0);let o=t?.step??1;if(!o)return[];o<0&&(o=-o,a=!a);const l=[];for(;+s<=i;)l.push((0,ic.w)(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return a?l.reverse():l}var oc=__webpack_require__(6465),lc=__webpack_require__(8756),cc=__webpack_require__(4912),dc=__webpack_require__(3695),uc=__webpack_require__(6981);const mc=e=>{var t;return(null===e||void 0===e||null===(t=e.permissions)||void 0===t?void 0:t.includes("view_financial"))||!1},pc=e=>["blue","green","purple","orange","pink"][e],hc=()=>{var e;const n=(0,w.wA)(),r=(0,a.Zp)(),{userData:i}=(0,w.d4)((e=>e.user)),{dashboardData:s,dashboardDataStatus:o}=(0,w.d4)((e=>e.dashboard)),{patientlist:l}=(0,w.d4)((e=>e.patients)),[c,d]=(0,t.useState)("Today"),[u,m]=(0,t.useState)({from:null,to:null}),[p,h]=(0,t.useState)({from:null,to:null}),f=(0,t.useMemo)((()=>{if("object"!==typeof s||null===s)return{currentValue:[]};const e=Object.values(s);if("Custom"===c){if(!p.from||!p.to)return{currentValue:[]};const t=(0,Jl.o)(p.from),n=(0,Ql.D)(p.to);return{currentValue:e.filter((e=>tc(new Date(e.date),{start:t,end:n})))}}const t=(0,M.SM)(c),n=new Date(t.from),r=new Date(t.to);return{currentValue:e.filter((e=>tc(new Date(e.date),{start:n,end:r})))}}),[s,c,p]),v=(0,t.useMemo)((()=>{if(!Array.isArray(f.currentValue))return{totalRevenue:0,totalPatients:0,totalAppointments:0,totalExpense:0,paymentMethods:{}};return f.currentValue.reduce(((e,t)=>{var n,r;e.totalRevenue+=t.revenue||0,e.totalPatients+=t.visitCount||0,e.totalAppointments+=t.ipdCount||0,e.totalExpense+=Object.values(t.expenseTypeWise||{}).reduce(((e,t)=>{let{total:n}=t;return e+(n||0)}),0);return[...(null===(n=t.services)||void 0===n?void 0:n.paymentMethod)||[],...(null===(r=t.pharmacy)||void 0===r?void 0:r.paymentMethod)||[]].forEach((t=>{const n=t.method||"Others";e.paymentMethods[n]||(e.paymentMethods[n]=0),e.paymentMethods[n]+=t.revenue||0})),e}),{totalRevenue:0,totalPatients:0,totalAppointments:0,totalExpense:0,paymentMethods:{}})}),[f]);(0,t.useMemo)((()=>{const e=new Date,t=(0,nc.k)(e,{weekStartsOn:0}),n=(0,rc.$)(e,{weekStartsOn:0}),r=sc({start:t,end:n}).map((e=>({date:e,formattedDate:(0,fo.GP)(e,"EEE"),patients:0,revenue:0})));return"object"===typeof s&&null!==s&&Object.values(s).forEach((e=>{const a=new Date(e.date);if(tc(a,{start:t,end:n})){const t=r.findIndex((e=>(0,oc.r)(e.date,a)));-1!==t&&(r[t].revenue=e.revenue||0,r[t].patients=e.totalAppointments||0)}})),r}),[s]).some((e=>e.patients>0||e.revenue>0));(0,t.useEffect)((()=>{g("Today")}),[]);const g=e=>{let t,r;const a=new Date;let i;switch(e){case"Today":t=(0,Jl.o)(a),r=(0,Ql.D)(a);break;case"Yesterday":t=(0,Jl.o)((0,lc.e)(a,1)),r=(0,Ql.D)((0,lc.e)(a,1));break;case"Last 7 Days":t=(0,Jl.o)((0,lc.e)(a,6)),r=(0,Ql.D)(a),i="Last 7 Days";break;case"This Week":t=(0,nc.k)(a,{weekStartsOn:0}),r=(0,rc.$)(a,{weekStartsOn:0}),i="This Week";break;case"This Month":t=(0,cc.w)(a),r=(0,dc.p)(a),i="This Month";break;case"All":t=new Date(0),r=a,i="All";break;case"Custom":if(!u.from||!u.to)return void console.warn("Invalid date range selected");t=u.from,r=(0,uc.f)(u.to,1);break;default:t=(0,Jl.o)((0,lc.e)(a,6)),r=(0,Ql.D)(a)}if(!t||!r)return void console.warn("Invalid date range");const s={startDate:t.toISOString(),endDate:r.toISOString(),range:i};n(At(s))},x=(0,t.useMemo)((()=>Array.isArray(f.currentValue)?f.currentValue.reduce(((e,t)=>{var n,r,a,i,s;return e.ipdCollection+=(null===(n=t.ipd)||void 0===n?void 0:n.revenue)||0,e.opdCollection+=(null===(r=t.opd)||void 0===r?void 0:r.revenue)||0,e.opdprocedureCollection+=(null===(a=t.opdProcedures)||void 0===a?void 0:a.revenue)||0,e.pharmacyCollection+=(null===(i=t.pharmacy)||void 0===i?void 0:i.revenue)||0,e.laboratoryCollection+=(null===(s=t.laboratory)||void 0===s?void 0:s.revenue)||0,e}),{ipdCollection:0,opdCollection:0,opdprocedureCollection:0,pharmacyCollection:0,laboratoryCollection:0}):{ipdCollection:0,opdCollection:0,opdprocedureCollection:0,pharmacyCollection:0,laboratoryCollection:0}),[f]),y=(0,t.useMemo)((()=>{if(!Array.isArray(f.currentValue))return{ipdPayments:[],opdPayments:[],opdprocedurePayments:[],pharmacyPayments:[],laboratoryPayments:[]};const e=f.currentValue.reduce(((e,t)=>{var n,r,a,i,s;return((null===(n=t.ipd)||void 0===n?void 0:n.paymentMethod)||[]).forEach((t=>{const n=t.method||"Others";e.ipdPayments[n]||(e.ipdPayments[n]=0),e.ipdPayments[n]+=t.revenue||0})),((null===(r=t.opd)||void 0===r?void 0:r.paymentMethod)||[]).forEach((t=>{const n=t.method||"Others";e.opdPayments[n]||(e.opdPayments[n]=0),e.opdPayments[n]+=t.revenue||0})),((null===(a=t.opdProcedures)||void 0===a?void 0:a.paymentMethod)||[]).forEach((t=>{const n=t.method||"Others";e.opdprocedurePayments[n]||(e.opdprocedurePayments[n]=0),e.opdprocedurePayments[n]+=t.revenue||0})),((null===(i=t.pharmacy)||void 0===i?void 0:i.paymentMethod)||[]).forEach((t=>{const n=t.method||"Others";e.pharmacyPayments[n]||(e.pharmacyPayments[n]=0),e.pharmacyPayments[n]+=t.revenue||0})),((null===(s=t.laboratory)||void 0===s?void 0:s.paymentMethod)||[]).forEach((t=>{const n=t.method||"Others";e.laboratoryPayments[n]||(e.laboratoryPayments[n]=0),e.laboratoryPayments[n]+=t.revenue||0})),e}),{ipdPayments:{},opdPayments:{},opdprocedurePayments:{},pharmacyPayments:{},laboratoryPayments:{}}),t={Cash:"hsl(var(--chart-1))",UPI:"hsl(var(--chart-2))",Card:"hsl(var(--chart-3))",Others:"hsl(var(--chart-4))"};return{ipdPayments:Object.entries(e.ipdPayments).map((e=>{let[n,r]=e;return{method:n,value:r,fill:t[n]||"hsl(var(--chart-4))"}})),opdPayments:Object.entries(e.opdPayments).map((e=>{let[n,r]=e;return{method:n,value:r,fill:t[n]||"hsl(var(--chart-4))"}})),opdprocedurePayments:Object.entries(e.opdprocedurePayments).map((e=>{let[n,r]=e;return{method:n,value:r,fill:t[n]||"hsl(var(--chart-4))"}})),pharmacyPayments:Object.entries(e.pharmacyPayments).map((e=>{let[n,r]=e;return{method:n,value:r,fill:t[n]||"hsl(var(--chart-4))"}})),laboratoryPayments:Object.entries(e.laboratoryPayments).map((e=>{let[n,r]=e;return{method:n,value:r,fill:t[n]||"hsl(var(--chart-4))"}}))}}),[f]),b=(0,t.useMemo)((()=>{const e={};return["ipd","opd","opdprocedure","pharmacy","laboratory"].forEach((t=>{var n;null===y||void 0===y||null===(n=y[`${t}Payments`])||void 0===n||n.forEach((t=>{e[t.method]||(e[t.method]=0),e[t.method]+=t.value||0}))})),Object.entries(e).map((e=>{let[t,n]=e;return{method:t,value:n}}))}),[y]),N=e=>{if(d(e),"Custom"!==e){const t=(0,M.SM)(e);h(t),g(e)}};return(0,X.jsxs)("div",{className:"container mx-auto p-4",children:[(0,X.jsxs)("div",{className:"flex flex-col gap-4 mb-4",children:[(0,X.jsxs)("div",{className:"flex flex-row sm:flex-row justify-between items-start sm:items-center gap-2",children:[(0,X.jsx)("h2",{className:"font-bold text-xl text-gray-800",children:(()=>{switch(c){case"Today":return"Today's Stats";case"Yesterday":return"Yesterday's Stats";case"This Week":return"This Week's Stats";case"This Month":return"This Month's Stats";case"Custom":return"Custom Period Stats";default:return"Stats"}})()}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",size:"sm",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),c]})}),(0,X.jsxs)(pi,{align:"end",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>N("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>N("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>N("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>N("This Month"),children:"This Month"}),(0,X.jsx)(hi,{onSelect:()=>N("Custom"),children:"Custom Range"})]})]})]}),"Custom"===c&&(0,X.jsx)("div",{className:"w-full sm:w-auto",children:(0,X.jsx)(M.Ur,{from:null===u||void 0===u?void 0:u.from,to:null===u||void 0===u?void 0:u.to,onSelect:e=>m(e),onSearch:()=>{u.from&&u.to&&(d("Custom"),h(u),g("Custom"))},onCancel:()=>{m({from:null,to:null}),d("Today"),g("Today")}})})]}),(0,X.jsxs)("div",{className:"grid gap-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-10 gap-4",children:[(0,X.jsx)(k.Zp,{className:"bg-pink-100 shadow-sm lg:col-span-2 transition-all duration-200 \r hover:shadow-lg hover:scale-[1.02] hover:bg-pink-200 cursor-pointer",children:(0,X.jsx)(k.Wu,{className:"p-3",children:(0,X.jsxs)("div",{className:"flex items-center gap-3",children:[(0,X.jsx)(Yl,{className:"w-8 h-8 text-pink-700"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-2xl font-bold text-pink-700",children:v.totalPatients}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"OPD Patients"})]})]})})}),(0,X.jsx)(k.Zp,{className:"bg-orange-100 shadow-sm lg:col-span-2 transition-all duration-200 \r hover:shadow-lg hover:scale-[1.02] hover:bg-orange-200 cursor-pointer",children:(0,X.jsx)(k.Wu,{className:"p-3",children:(0,X.jsxs)("div",{className:"flex items-center gap-3",children:[(0,X.jsx)(po,{className:"w-8 h-8 text-orange-700"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-2xl font-bold text-orange-700",children:v.totalAppointments}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"IPD Patients"})]})]})})}),(0,X.jsx)(k.Zp,{className:"bg-purple-100 shadow-sm lg:col-span-3 transition-all duration-200 \r hover:shadow-lg hover:scale-[1.02] hover:bg-purple-200 cursor-pointer",onClick:()=>r("/payments",{state:{paymentTypeFilter:"Income",dateFilter:c,dateRange:"Custom"===c?p:null}}),children:(0,X.jsx)(k.Wu,{className:"p-3",children:(0,X.jsxs)("div",{className:"flex gap-3",children:[(0,X.jsx)(Xl,{className:"w-8 h-8 text-purple-700 shrink-0"}),(0,X.jsx)("div",{className:"w-full",children:(0,X.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-2xl font-bold text-purple-700 "+(mc(i)?"":"blur-sm select-none"),children:mc(i)?(0,M.vv)(v.totalRevenue):"\u20b9XXXXX"}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"})]}),mc(i)&&(0,X.jsx)("div",{className:"flex gap-2 flex-wrap justify-start lg:justify-end w-full lg:w-auto",children:b.map((e=>(0,X.jsxs)("div",{className:"bg-purple-50 px-2 py-1 rounded-md transition-colors duration-200 hover:bg-purple-100",children:[(0,X.jsx)("p",{className:"text-xs font-medium text-gray-600",children:e.method}),(0,X.jsx)("p",{className:"text-sm font-bold text-gray-700",children:(0,M.vv)(e.value)})]},e.method)))})]})})]})})}),(0,X.jsx)(k.Zp,{className:"bg-blue-100 shadow-sm lg:col-span-3 transition-all duration-200 \r hover:shadow-lg hover:scale-[1.02] hover:bg-blue-200 cursor-pointer",onClick:()=>r("/payments",{state:{paymentTypeFilter:"Expense",dateFilter:c,dateRange:"Custom"===c?p:null}}),children:(0,X.jsx)(k.Wu,{className:"p-3",children:(0,X.jsxs)("div",{className:"flex gap-3",children:[(0,X.jsx)(Xl,{className:"w-8 h-8 text-blue-700 shrink-0"}),(0,X.jsx)("div",{className:"w-full",children:(0,X.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-2xl font-bold text-blue-700 "+(mc(i)?"":"blur-sm select-none"),children:mc(i)?(0,M.vv)(v.totalExpense):"\u20b9XXXXX"}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Total Expense"})]}),mc(i)&&(0,X.jsx)("div",{className:"flex gap-2 flex-wrap justify-start lg:justify-end w-full lg:w-auto",children:Object.entries((null===(e=f.currentValue[0])||void 0===e?void 0:e.expenseTypeWise)||{}).map((e=>{let[t,n]=e;return n.total>0&&(0,X.jsxs)("div",{className:"bg-blue-50 px-2 py-1 rounded-md transition-colors \r duration-200 hover:bg-blue-100",children:[(0,X.jsx)("p",{className:"text-xs font-medium text-gray-600",children:t.charAt(0).toUpperCase()+t.slice(1)}),(0,X.jsx)("p",{className:"text-sm font-bold text-gray-700",children:(0,M.vv)(n.total)})]},t)}))})]})})]})})})]}),(0,X.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:["IPD","OPD","OPD Procedure","Pharmacy","Laboratory"].map(((e,t)=>(0,X.jsx)(k.Zp,{className:`bg-${pc(t)}-100 shadow-sm \n                  transition-all duration-200 hover:shadow-lg hover:scale-[1.02] \n                  hover:bg-${pc(t)}-200 cursor-pointer`,onClick:()=>(e=>{r("/payments",{state:{paymentCategoryFilter:{"OPD Procedure":"OPDProcedure"}[e]||e,paymentTypeFilter:"Income",dateFilter:c,dateRange:"Custom"===c?p:null}})})(e),children:(0,X.jsx)(k.Wu,{className:"p-3",children:(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(Zl,{className:`w-6 h-6 text-${pc(t)}-700`}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:`text-xl font-bold text-${pc(t)}-700 ${mc(i)?"":"blur-sm select-none"}`,children:mc(i)?(0,M.vv)(x[`${e.toLowerCase().replace(/\s+/g,"")}Collection`]):"\u20b9XXXXX"}),(0,X.jsxs)("p",{className:"text-xs text-gray-600",children:[e," Collection"]})]})]})})},e)))}),(0,X.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:["IPD","OPD","OPD Procedure","Pharmacy","Laboratory"].map((e=>{var t,n;return(0,X.jsxs)(k.Zp,{className:"shadow-sm transition-all duration-200 \r hover:shadow-lg hover:scale-[1.02] hover:bg-gray-50",children:[(0,X.jsx)(k.aR,{className:"py-2 px-3",children:(0,X.jsxs)(k.ZB,{className:"text-sm",children:[e," Payments"]})}),(0,X.jsx)(k.Wu,{className:"p-1",children:mc(i)?(0,X.jsx)("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:null===y||void 0===y||null===(t=y[`${null===e||void 0===e||null===(n=e.replace(" ",""))||void 0===n?void 0:n.toLowerCase()}Payments`])||void 0===t?void 0:t.map((e=>(0,X.jsx)("div",{className:"bg-gray-50 p-2 rounded transition-colors \r duration-200 hover:bg-gray-100",children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("span",{className:"text-xs font-medium",children:e.method}),(0,X.jsx)("span",{className:"text-sm font-bold",children:(0,M.vv)(e.value)})]})},e.method)))}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center h-24 text-gray-500",children:[(0,X.jsx)(bo,{className:"w-8 h-8 mb-1"}),(0,X.jsx)("p",{className:"text-xs text-center",children:"No permission"})]})})]},e)}))}),mc(i)&&(0,X.jsx)("div",{className:"mt-4",children:(0,X.jsxs)(k.Zp,{className:"max-w-2xl mx-auto shadow-lg transition-all duration-200 hover:shadow-xl hover:scale-[1.02]",children:[(0,X.jsx)(k.aR,{className:"text-center pb-2",children:(0,X.jsx)(k.ZB,{className:"text-xl font-bold",children:"Net Amount Overview"})}),(0,X.jsx)(k.Wu,{children:(0,X.jsx)("div",{className:"space-y-4",children:(0,X.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,X.jsx)("p",{className:"text-lg font-bold text-green-600",children:(0,M.vv)(v.totalRevenue)})]}),(0,X.jsx)("div",{className:"text-xl",children:"-"}),(0,X.jsxs)("div",{className:"space-y-1 text-right",children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Total Expense"}),(0,X.jsx)("p",{className:"text-lg font-bold text-red-600",children:(0,M.vv)(v.totalExpense)})]}),(0,X.jsx)("div",{className:"text-xl",children:"="}),(0,X.jsxs)("div",{className:"space-y-1 text-right",children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Net Revenue"}),(0,X.jsx)("p",{className:"text-lg font-bold text-blue-600",children:(0,M.vv)(v.totalRevenue-v.totalExpense)})]})]})})})]})})]})]})};function fc(e){return(0,ic.w)(e,Date.now())}function vc(e,t){return(0,oc.r)((0,ic.w)(t?.in||e,e),fc(t?.in||e))}var gc=__webpack_require__(5469);const xc=(0,N.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),yc=(0,N.A)("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),bc=(0,N.A)("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);function wc(e){const[n,r]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const t=window.matchMedia(e);r(t.matches);const n=e=>r(e.matches);return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}),[e]),n}const jc=e=>{var n,r,a,i,s,o,l,c,d,u,m,p,h,f,v,g,x,y,N,_,S,E,C,D,k,A;let{isOpen:P,setIsOpen:O,billData:R,viewMode:I}=e;const L=(0,t.useRef)(),[F,B]=(0,t.useState)(!1),[W,U]=(0,t.useState)(!1),$=wc("(max-width: 640px)"),{settings:z}=(0,w.d4)((e=>e.hospitalSettings)),[H,V]=(0,t.useState)(I);(0,t.useEffect)((()=>{z&&V(I||z.defaultBillPrintView||"list")}),[z,I]);const[q,G]=(0,t.useState)([]),K=(0,w.d4)((e=>e.hospital.hospitalInfo)),Y=(0,w.d4)((e=>e.templates.headerTemplateArray)),Z=(null===Y||void 0===Y?void 0:Y.length)>0?Y[0].value:wn.h,J=(0,bn.G)(Z||wn.h),[Q,ee]=(0,t.useState)(!0),te=(null===R||void 0===R?void 0:R.services)||[],ne=(0,t.useMemo)((()=>{if(!te||!Array.isArray(te))return[];if("datewise"!==H)return[];const e=te.reduce(((e,t,n)=>{const r=t.date?(0,fo.GP)(new Date(t.date),"yyyy-MM-dd"):"No Date";return e[r]||(e[r]=[]),e[r].push({...t,originalIndex:n}),e}),{});return Object.entries(e).sort(((e,t)=>{let[n]=e,[r]=t;return new Date(n)-new Date(r)})).map((e=>{let[t,n]=e;return{date:t,services:n.sort(((e,t)=>e.date&&t.date?new Date(e.date)-new Date(t.date):0))}}))}),[te,H]);t.useEffect((()=>{null!==R&&void 0!==R&&R.services&&G(R.services.map(((e,t)=>t)))}),[R]),t.useEffect((()=>()=>{document.body.style=""}),[]);const re=(e,t)=>{G((n=>t?[...n,e]:n.filter((t=>t!==e))))},ae=(0,yn.useReactToPrint)({content:()=>L.current,onBeforeGetContent:()=>(B(!0),new Promise((e=>{setTimeout((()=>{B(!1),e()}),0)}))),pageStyle:"\n      @media print {\n        @page {\n          size: A4;\n          margin: 20mm;\n        }\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n           position: relative;\n          min-height: 100vh;\n         padding: 20px;\n        }\n      }\n    "});if(!R)return null;const ie=e=>e?e.amountPaid===e.totalAmount?"Paid":"Due":"N/A",se=()=>{const e=te.reduce(((e,t,n)=>(q.includes(n)||(e+=(t.quantity||0)*(t.rate||0)),e)),0);return{subTotal:(R.subtotal||0)-e}};return(0,X.jsx)(so.lG,{open:P,onOpenChange:O,children:(0,X.jsxs)(so.Cf,{className:"max-w-3xl max-h-[90vh] overflow-visible rounded-lg",children:[(0,X.jsxs)(b.F,{className:"max-h-[80vh] pr-3 ",children:[(0,X.jsxs)("div",{ref:L,className:F?"print-content":"",children:[(0,X.jsx)("div",{className:"hidden print:block mb-2",children:(0,X.jsx)(J,{hospitalInfo:K})}),(0,X.jsxs)("div",{className:"print:pb-6",children:[(0,X.jsx)("div",{className:"no-print",children:(0,X.jsx)(so.c7,{className:"pb-2",children:(0,X.jsx)(so.L3,{children:"Bill Details"})})}),(0,X.jsxs)("div",{className:"grid gap-2 py-1",children:[(0,X.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Name:"}),(0,X.jsx)("p",{children:(null===(n=R.patientInfo)||void 0===n?void 0:n.name)||"N/A"})]}),null!==(r=R.patientInfo)&&void 0!==r&&r.registrationNumber||null!==(a=R.patient)&&void 0!==a&&a.registrationNumber?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"UHID No:"}),(0,X.jsx)("p",{children:(null===(i=R.patientInfo)||void 0===i?void 0:i.registrationNumber)||(null===(s=R.patient)||void 0===s?void 0:s.registrationNumber)})]}):null,null!==(o=R.patientInfo)&&void 0!==o&&o.contactNumber||null!==(l=R.patientInfo)&&void 0!==l&&l.phone?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Contact:"}),(0,X.jsx)("p",{children:(null===(c=R.patientInfo)||void 0===c?void 0:c.contactNumber)||(null===(d=R.patientInfo)||void 0===d?void 0:d.phone)})]}):null,null!==(u=R.patientInfo)&&void 0!==u&&u.ipdNumber?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"IPD No:"}),(0,X.jsx)("p",{children:null===(m=R.patientInfo)||void 0===m?void 0:m.ipdNumber})]}):null,null!==(p=R.patientInfo)&&void 0!==p&&p.age||null!==(h=R.patient)&&void 0!==h&&h.age?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Age/Gender:"}),(0,X.jsx)("p",{children:`${(null===(f=R.patientInfo)||void 0===f?void 0:f.age)||(null===(v=R.patient)||void 0===v?void 0:v.age)} yrs/${(null===(g=R.patientInfo)||void 0===g?void 0:g.gender)||(null===(x=R.patient)||void 0===x?void 0:x.gender)}`})]}):null,null!==(y=R.patientInfo)&&void 0!==y&&y.address||null!==(N=R.patient)&&void 0!==N&&N.address?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Address:"}),(0,X.jsx)("p",{children:(null===(_=R.patientInfo)||void 0===_?void 0:_.address)||(null===(S=R.patient)||void 0===S?void 0:S.address)})]}):null,R.invoiceNumber?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Invoice Number:"}),(0,X.jsx)("p",{children:R.invoiceNumber})]}):null,R.admissionDate?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Admit Date:"}),(0,X.jsx)("p",{children:(0,fo.GP)(new Date(R.admissionDate),"dd/MM/yyyy")})]}):null,R.dischargeDate?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Discharge Date:"}),(0,X.jsx)("p",{children:(0,fo.GP)(new Date(R.dischargeDate),"dd/MM/yyyy")})]}):null,!R.createdAt||R.admissionDate||R.dischargeDate?null:(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Date:"}),(0,X.jsx)("p",{children:(0,fo.GP)(new Date(R.createdAt),"dd/MM/yyyy")})]})]}),(0,X.jsxs)("div",{children:[" ",R.operationName?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Operation:"}),(0,X.jsx)("p",{children:R.operationName})]}):null]}),(0,X.jsx)("div",{children:null!==(E=R.opdProcedure)&&void 0!==E&&E.procedureName?(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Proceudure:"}),(0,X.jsx)("p",{children:null===(C=R.opdProcedure)||void 0===C?void 0:C.procedureName})]}):null}),te.length>0?(0,X.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,X.jsxs)("div",{className:"w-full",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-1 no-print",children:"Bill Items"}),(0,X.jsxs)(uo.XI,{className:"border-2 border-gray-200",children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{className:"border-b border-gray-200 bg-gray-200 ",children:[(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-16 no-print h-[30px] py-1",children:(0,X.jsx)(ul,{checked:q.length===te.length,onCheckedChange:e=>{G(e?te.map(((e,t)=>t)):[])}})}),(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-16 hidden print:table-cell h-[30px] py-1",children:"No."}),(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-1/3 h-[30px] py-1",children:"Service Name"}),("list"===H||!H)&&(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-24 h-[30px] py-1",children:"Date"}),(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-24 h-[30px] py-1",children:"Quantity"}),(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-24 h-[30px] py-1",children:"Price (INR)"}),(0,X.jsx)(uo.nd,{className:"w-24 h-[30px]",children:"Total (INR)"})]})}),"datewise"===H&&ne.length>0?(0,X.jsx)(uo.BF,{children:ne.map((e=>{let{date:n,services:r}=e;return(0,X.jsxs)(t.Fragment,{children:[(0,X.jsx)(uo.Hj,{className:"bg-gray-50 ",children:(0,X.jsx)(uo.nA,{colSpan:4,className:"font-semibold  text-[13px] h-[25px] py-0",children:"No Date"===n?"No Date":(0,fo.GP)(new Date(n),"dd/MM/yyyy")})}),r.map((e=>(0,X.jsxs)(uo.Hj,{className:"border-b border-gray-200 "+(!q.includes(e.originalIndex)&&F?"hidden":""),children:[(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 no-print h-[25px] py-1",children:(0,X.jsx)(ul,{checked:q.includes(e.originalIndex),onCheckedChange:t=>re(e.originalIndex,t)})}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 hidden print:table-cell h-[25px] py-1",children:q.includes(e.originalIndex)?q.filter((t=>t<=e.originalIndex)).length:""}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1",children:e.name||"N/A"}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1",children:e.quantity||0}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1 text-right",children:(e.rate||0).toFixed(2)}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1 text-right",children:((e.quantity||0)*(e.rate||0)).toFixed(2)})]},e.originalIndex)))]},n)}))}):(0,X.jsx)(uo.BF,{children:te.map(((e,t)=>(0,X.jsxs)(uo.Hj,{className:"border-b border-gray-200 "+(!q.includes(t)&&F?"hidden":""),children:[(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 no-print h-[25px] py-1",children:(0,X.jsx)(ul,{checked:q.includes(t),onCheckedChange:e=>re(t,e)})}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 hidden print:table-cell h-[25px] py-1",children:q.includes(t)?q.filter((e=>e<=t)).length:""}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1",children:e.name||"N/A"}),"list"===H&&(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1",children:e.date?(0,fo.GP)(new Date(e.date),"dd/MM/yyyy"):"N/A"}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1 text-center",children:e.quantity||0}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1 text-right",children:(e.rate||0).toFixed(2)}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200 h-[25px] py-1 text-right",children:((e.quantity||0)*(e.rate||0)).toFixed(2)})]},t)))})]})]}),(0,X.jsx)(oo,{isOpen:W,setIsOpen:U}),(0,X.jsx)("div",{className:"flex justify-end",children:(0,X.jsx)("div",{className:"w-64",children:(0,X.jsxs)("div",{className:"border rounded px-3 space-y-2 bg-white text-sm",children:[(0,X.jsx)("h3",{className:"font-semibold text-base border-b pb-1",children:"Payment Summary"}),(0,X.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,X.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,X.jsx)("span",{className:"text-gray-600",children:"Sub Total:"}),(0,X.jsxs)("span",{children:["\u20b9",se().subTotal.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,X.jsx)("span",{className:"text-gray-600",children:"Discount:"}),(0,X.jsxs)("span",{children:["\u20b9",(R.additionalDiscount||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between w-full items-center border-t border-gray-200 pt-0.5",children:[(0,X.jsx)("span",{className:"font-medium",children:"Net Total:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",(se().subTotal-(R.additionalDiscount||0)).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between w-full items-center",children:[(0,X.jsx)("span",{className:"text-gray-600",children:"Paid:"}),(0,X.jsxs)("span",{className:"text-green-600",children:["\u20b9",(R.amountPaid||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between w-full items-center border-t border-gray-200 pt-0.5",children:[(0,X.jsx)("span",{className:"text-gray-600 font-semibold",children:"Balance:"}),(0,X.jsxs)("span",{className:"text-red-600 font-semibold",children:["\u20b9",((R.totalAmount||0)-(R.amountPaid||0)).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"w-full flex justify-between text-xs mt-0.5",children:[(0,X.jsx)("span",{className:"font-medium",children:"Status:"}),(0,X.jsx)("span",{className:"Paid"===ie(R)?"text-green-600 font-semibold":"text-red-600 font-semibold",children:ie(R)})]})]})]})})})]}):(0,X.jsx)("div",{className:"mx-auto w-full max-w-md",children:(0,X.jsxs)("div",{className:"border-2 p-6 rounded-lg shadow-sm",children:[(0,X.jsxs)("div",{className:"text-center mb-4",children:[(0,X.jsx)("h3",{className:"text-xl font-semibold",children:"Payment Receipt"}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:R.createdAt?(0,fo.GP)(new Date(R.createdAt),"dd/MM/yyyy hh:mm a"):"N/A"})]}),(0,X.jsxs)("div",{children:[(0,X.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,X.jsx)("span",{className:"text-gray-700 font-medium",children:"Sub Total:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",se().subTotal.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,X.jsx)("span",{className:"text-gray-700 font-medium",children:"Discount:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",(R.additionalDiscount||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base border-t-2 border-gray-200 pt-2",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Net Total:"}),(0,X.jsxs)("span",{className:"font-semibold",children:["\u20b9",(R.subtotal-(R.additionalDiscount||0)).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,X.jsx)("span",{className:"text-gray-700 font-medium",children:"Paid:"}),(0,X.jsxs)("span",{className:"text-green-600 font-medium",children:["\u20b9",(R.amountPaid||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center text-base border-t-2 border-gray-200 pt-2",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Balance:"}),(0,X.jsxs)("span",{className:"text-red-600 font-semibold",children:["\u20b9",((R.totalAmount||0)-(R.amountPaid||0)).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"text-center mt-4 pt-2 border-t-2 border-gray-200",children:[(0,X.jsxs)("div",{className:"font-medium text-base",children:[(0,X.jsx)("span",{children:"Status: "}),(0,X.jsx)("span",{className:""+("Paid"===ie(R)?"text-green-600":"text-red-600"),children:ie(R)})]}),(0,X.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,X.jsx)("p",{children:"Amount in words:"}),(0,X.jsxs)("p",{className:"font-medium",children:[(0,M.GF)(R.totalAmount)," Rupees Only"]})]})]})]})]})}),(0,X.jsxs)("p",{children:["Invoice generated By: ",null===R||void 0===R||null===(D=R.createdBy)||void 0===D?void 0:D.name]}),(0,X.jsx)("div",{className:"",children:(0,X.jsxs)("div",{className:""+(Q?"":"no-print"),children:[(0,X.jsxs)("div",{className:"flex flex-row items-center mb-2 w-auto gap-2",children:[(0,X.jsx)(ul,{id:"printPaymentHistory",checked:Q,onCheckedChange:ee,className:"print:hidden"}),(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Payment History"}),(null===R||void 0===R||null===(k=R.payments)||void 0===k?void 0:k.length)>0&&(0,X.jsx)(wo,{payments:null===R||void 0===R?void 0:R.payments,billData:R,styleData:!0})]}),null!==R&&void 0!==R&&R.payments&&(null===R||void 0===R||null===(A=R.payments)||void 0===A?void 0:A.length)>0?(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[80px] h-[30px]",children:"Date"}),!$&&(0,X.jsx)(uo.nd,{className:"w-[80px] h-[30px]",children:"Time"}),(0,X.jsx)(uo.nd,{className:"h-[30px]",children:"Amount (\u20b9)"}),(0,X.jsx)(uo.nd,{className:"h-[30px]",children:"Method"}),(0,X.jsx)(uo.nd,{className:"h-[30px]",children:"Collected By"}),(0,X.jsx)(uo.nd,{className:"no-print h-[30px]",children:"Receipt"})]})}),(0,X.jsx)(uo.BF,{children:R.payments.map(((e,t)=>{var n;return(0,X.jsxs)(uo.Hj,{className:" h-[25px] py-1",children:[(0,X.jsx)(uo.nA,{className:"text-xs h-[25px] py-1",children:new Date(e.createdAt).toLocaleDateString("en-IN")}),!$&&(0,X.jsx)(uo.nA,{className:"text-xs h-[25px] py-1",children:new Date(e.createdAt).toLocaleTimeString("en-IN",{hour:"numeric",minute:"numeric",hour12:!0})}),(0,X.jsx)(uo.nA,{className:"text-xs font-medium h-[25px] py-1",children:null===e||void 0===e||null===(n=e.amount)||void 0===n?void 0:n.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,X.jsx)(uo.nA,{className:"text-xs h-[25px] py-1",children:e.paymentMethod}),(0,X.jsx)(uo.nA,{className:"text-xs h-[25px] py-1",children:e.createdByName||"--"}),(0,X.jsx)(uo.nA,{className:"text-xs no-print h-[25px] py-1",children:(0,X.jsx)(wo,{payment:e,billData:R})})]},t)}))})]})}):(0,X.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-500 py-4",children:[(0,X.jsx)(bo,{size:18}),(0,X.jsx)("span",{children:"No payment history found"})]})]})})]})]})]}),(0,X.jsxs)("div",{className:"flex flex-col-reverse gap-1 sm:flex-row sm:space-y-0 sm:space-x-2 mt-4 justify-end",children:[(0,X.jsx)(j.$,{type:"button",variant:"secondary",onClick:()=>O(!1),children:"Close"}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",onClick:()=>{K.discontinuedDaysLeft<0?U(!0):ae()},children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Bill"]})]})]}),(0,X.jsxs)("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:()=>O(!1),children:[(0,X.jsx)(T.A,{className:"h-4 w-4"}),(0,X.jsx)("span",{className:"sr-only",children:"Close"})]})]})})},Nc=e=>{var n,r,a,i;let{isOpen:s,setIsOpen:o,billData:l,onPaymentSuccess:c}=e;const d=(0,w.wA)(),{toast:u}=(0,H.dj)(),[m,p]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[v,g]=(0,t.useState)(!1),x=wc("(max-width: 640px)"),[y,b]=(0,t.useState)(""),[N,_]=(0,t.useState)(!1),[S,E]=(0,t.useState)(null),[D,T]=(0,t.useState)(!1),[k,P]=(0,t.useState)(!1),O=(0,w.d4)((e=>e.user.userData)),R=null===O||void 0===O||null===(n=O.permissions)||void 0===n?void 0:n.includes("delete_payments");(0,t.useEffect)((()=>{s&&(p(""),f(""),b(""))}),[s]);const M=(null===l||void 0===l?void 0:l.totalAmount)||0,I=M-((null===l||void 0===l?void 0:l.amountPaid)||0),L=m&&h&&!y&&parseFloat(m)>0;if(!l)return null;return(0,X.jsxs)(so.lG,{open:s,onOpenChange:o,children:[(0,X.jsxs)(so.Cf,{className:"w-[90vw] max-w-[425px] max-h-[90vh] overflow-y-auto rounded-lg px-[14px]",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"text-xl font-semibold",children:"Add Payment"}),(0,X.jsx)(so.rr,{children:"Manage payments for the bill."})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,X.jsxs)("span",{className:"sm:hidden",children:["Total:"," ",(0,X.jsxs)("span",{className:"text-primary",children:["\u20b9",null===M||void 0===M?void 0:M.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("span",{className:"sm:hidden",children:["Due:"," ",(0,X.jsxs)("span",{className:"text-red-600",children:["\u20b9",null===I||void 0===I?void 0:I.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("span",{className:"hidden sm:inline",children:["Total Amount:"," ",(0,X.jsxs)("span",{className:"text-primary",children:["\u20b9",null===M||void 0===M?void 0:M.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("span",{className:"hidden sm:inline",children:["Due Amount:"," ",(0,X.jsxs)("span",{className:"text-red-600",children:["\u20b9",null===I||void 0===I?void 0:I.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,X.jsx)(io,{}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{htmlFor:"paymentAmount",children:"Payment Amount"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{id:"paymentAmount",type:"number",value:m,onChange:e=>{const t=e.target.value;p(t)},placeholder:"Enter amount",className:"pr-10 "+(y?"border-red-500":"")}),(0,X.jsx)(j.$,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:()=>{p(I.toFixed(2))},title:"Set Due Amount",children:(0,X.jsx)(zl,{className:"h-4 w-4"})})]}),y&&(0,X.jsx)("p",{className:"text-xs text-red-500 mt-1",children:y})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,X.jsxs)(A.l6,{onValueChange:f,value:h,children:[(0,X.jsx)(A.bq,{id:"paymentMethod",children:(0,X.jsx)(A.yv,{placeholder:"Select method"})}),(0,X.jsx)(A.gC,{children:["Cash","UPI","Card","Bank Transfer","Other"].map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})]})]}),(0,X.jsx)(io,{}),(0,X.jsxs)("div",{className:"space-y-0",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("h4",{className:"text-sm font-semibold",children:"Recent Payments"}),(null===l||void 0===l||null===(r=l.payments)||void 0===r?void 0:r.length)>0&&(0,X.jsx)(wo,{payments:l.payments,billData:l,styleData:!0})]}),null!==l&&void 0!==l&&l.payments&&(null===l||void 0===l||null===(a=l.payments)||void 0===a?void 0:a.length)>0?(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Date"}),!x&&(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Time"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Method"}),(0,X.jsx)(uo.nd,{children:"Receipt"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:l.payments.map(((e,t)=>{var n;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleDateString("en-IN")}),!x&&(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleTimeString("en-IN",{hour:"numeric",minute:"numeric",hour12:!0})}),(0,X.jsxs)(uo.nA,{className:"text-xs font-medium",children:["\u20b9",null===e||void 0===e||null===(n=e.amount)||void 0===n?void 0:n.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,X.jsx)(uo.nA,{className:"text-xs",children:e.paymentMethod}),(0,X.jsx)(uo.nA,{className:"text-xs",children:(0,X.jsx)(wo,{payment:e,billData:l})}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>(e=>{E(e),R?_(!0):P(!0)})(e),className:"text-red-600 hover:text-red-800",disabled:D,title:"Delete Payment",children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})})]},t)}))})]})}):(0,X.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-500 py-4",children:[(0,X.jsx)(bo,{size:18}),(0,X.jsx)("span",{children:"No recent payments found"})]})]}),(0,X.jsxs)(so.Es,{className:"mt-6 flex-col-reverse gap-2  sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>o(!1),disabled:v,className:"w-full sm:w-auto",children:"Close"}),(0,X.jsx)(j.$,{onClick:()=>{if(!m||!h)return void u({title:"Error",description:"Please fill in all fields",variant:"destructive"});g(!0),T(!1);const e={amount:parseFloat(m),paymentMethod:h};d(gt({billId:l._id,payment:e})).unwrap().then((e=>{u({title:"Payment added successfully",description:`Payment of \u20b9${m} has been added successfully.`,variant:"success"}),c&&c(e),o(!1)})).catch((e=>{u({title:"Error",description:`Failed to add payment: ${e.message}`,variant:"destructive"})})).finally((()=>{g(!1)}))},disabled:v||!L,className:"w-full sm:w-auto",children:v?"Processing...":"Add Payment"})]})]}),(0,X.jsxs)(Ce,{open:N,onOpenChange:_,children:[(0,X.jsx)(De,{className:"hidden"}),(0,X.jsxs)(Ae,{children:[(0,X.jsxs)(Pe,{children:[(0,X.jsx)(Re,{children:"Are you absolutely sure?"}),(0,X.jsxs)(Me,{children:["This action cannot be undone. This will permanently delete the payment of"," ",(0,X.jsxs)("span",{className:"font-semibold",children:["\u20b9",null===S||void 0===S||null===(i=S.amount)||void 0===i?void 0:i.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})," ","made via"," ",(0,X.jsx)("span",{className:"font-semibold",children:null===S||void 0===S?void 0:S.paymentMethod})," ","on"," ",(0,X.jsxs)("span",{className:"font-semibold",children:[S?new Date(S.createdAt).toLocaleDateString("en-IN"):"","."]})]})]}),(0,X.jsxs)(Oe,{children:[(0,X.jsx)(Le,{disabled:D,children:"Cancel"}),(0,X.jsx)(Ie,{onClick:()=>{S&&l&&(T(!0),d(wt({billId:l._id,paymentId:S._id})).unwrap().then((e=>{u({title:"Payment Deleted",description:"The payment has been successfully deleted.",variant:"success"}),E(null),_(!1),o(!1)})).catch((e=>{u({title:"Error Deleting Payment",description:e.message||"Failed to delete the payment.",variant:"destructive"})})).finally((()=>{T(!1)})))},disabled:D,className:"bg-red-600 hover:bg-red-700",children:D?"Deleting...":"Yes, delete payment"})]})]})]}),(0,X.jsx)(Ce,{open:k,onOpenChange:P,children:(0,X.jsxs)(Ae,{children:[(0,X.jsxs)(Pe,{children:[(0,X.jsx)(Re,{children:"Permission Denied"}),(0,X.jsx)(Me,{children:"You do not have the required permissions to delete payments. Please contact an administrator if you believe this is an error."})]}),(0,X.jsx)(Oe,{children:(0,X.jsx)(Ie,{onClick:()=>P(!1),children:"OK"})})]})})]})},_c=(0,t.createContext)({});function Sc(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const Ec=(0,t.createContext)(null),Cc=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Dc extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Tc(e){let{children:n,isPresent:r}=e;const a=(0,t.useId)(),i=(0,t.useRef)(null),s=(0,t.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,t.useContext)(Cc);return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:l}=s.current;if(r||!i.current||!e||!t)return;i.current.dataset.motionPopId=a;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${n}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[r]),(0,X.jsx)(Dc,{isPresent:r,childRef:i,sizeRef:s,children:t.cloneElement(n,{ref:i})})}const kc=e=>{let{children:n,initial:r,isPresent:a,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l}=e;const c=Sc(Ac),d=(0,t.useId)(),u=(0,t.useCallback)((e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()}),[c,i]),m=(0,t.useMemo)((()=>({id:d,initial:r,isPresent:a,custom:s,onExitComplete:u,register:e=>(c.set(e,!1),()=>c.delete(e))})),o?[Math.random(),u]:[a,u]);return(0,t.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[a]),t.useEffect((()=>{!a&&!c.size&&i&&i()}),[a]),"popLayout"===l&&(n=(0,X.jsx)(Tc,{isPresent:a,children:n})),(0,X.jsx)(Ec.Provider,{value:m,children:n})};function Ac(){return new Map}function Pc(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Ec);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:a,register:i}=n,s=(0,t.useId)();(0,t.useEffect)((()=>{e&&i(s)}),[e]);const o=(0,t.useCallback)((()=>e&&a&&a(s)),[s,a,e]);return!r&&a?[!1,o]:[!0]}const Oc=e=>e.key||"";function Rc(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const Mc="undefined"!==typeof window,Ic=Mc?t.useLayoutEffect:t.useEffect,Lc=e=>{let{children:n,custom:r,initial:a=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1}=e;const[c,d]=Pc(l),u=(0,t.useMemo)((()=>Rc(n)),[n]),m=l&&!c?[]:u.map(Oc),p=(0,t.useRef)(!0),h=(0,t.useRef)(u),f=Sc((()=>new Map)),[v,g]=(0,t.useState)(u),[x,y]=(0,t.useState)(u);Ic((()=>{p.current=!1,h.current=u;for(let e=0;e<x.length;e++){const t=Oc(x[e]);m.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}}),[x,m.length,m.join("-")]);const b=[];if(u!==v){let e=[...u];for(let t=0;t<x.length;t++){const n=x[t],r=Oc(n);m.includes(r)||(e.splice(t,0,n),b.push(n))}return"wait"===o&&b.length&&(e=b),y(Rc(e)),void g(u)}const{forceRender:w}=(0,t.useContext)(_c);return(0,X.jsx)(X.Fragment,{children:x.map((e=>{const t=Oc(e),n=!(l&&!c)&&(u===x||m.includes(t));return(0,X.jsx)(kc,{isPresent:n,initial:!(p.current&&!a)&&void 0,custom:n?void 0:r,presenceAffectsLayout:s,mode:o,onExitComplete:n?void 0:()=>{if(!f.has(t))return;f.set(t,!0);let e=!0;f.forEach((t=>{t||(e=!1)})),e&&(null===w||void 0===w||w(),y(h.current),l&&(null===d||void 0===d||d()),i&&i())},children:e},t)}))})};function Fc(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Bc(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Wc=e=>Array.isArray(e);function Uc(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function $c(e){return"string"===typeof e||Array.isArray(e)}function zc(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Hc(e,t,n,r){if("function"===typeof t){const[a,i]=zc(r);t=t(void 0!==n?n:e.custom,a,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[a,i]=zc(r);t=t(void 0!==n?n:e.custom,a,i)}return t}function Vc(e,t,n){const r=e.getProps();return Hc(r,t,void 0!==n?n:r.custom,e)}const qc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gc=["initial",...qc];function Kc(e){let t;return()=>(void 0===t&&(t=e()),t)}const Yc=Kc((()=>void 0!==window.ScrollTimeline));class Xc{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>Yc()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zc extends Xc{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Jc(e,t){return e?e[t]||e.default||e:void 0}const Qc=2e4;function ed(e){let t=0;let n=e.next(t);for(;!n.done&&t<Qc;)t+=50,n=e.next(t);return t>=Qc?1/0:t}function td(e){return"function"===typeof e}function nd(e,t){e.timeline=t,e.onfinish=null}const rd=e=>Array.isArray(e)&&"number"===typeof e[0],ad={linearEasing:void 0};function id(e,t){const n=Kc(e);return()=>{var e;return null!==(e=ad[t])&&void 0!==e?e:n()}}const sd=id((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(H1){return!1}return!0}),"linearEasing"),od=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},ld=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=e(od(0,a-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function cd(e){return Boolean("function"===typeof e&&sd()||!e||"string"===typeof e&&(e in ud||sd())||rd(e)||Array.isArray(e)&&e.every(cd))}const dd=e=>{let[t,n,r,a]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${a})`},ud={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dd([0,.65,.55,1]),circOut:dd([.55,0,1,.45]),backIn:dd([.31,.01,.66,-.59]),backOut:dd([.33,1.53,.69,.99])};function md(e,t){return e?"function"===typeof e&&sd()?ld(e,t):rd(e)?dd(e):Array.isArray(e)?e.map((e=>md(e,t)||ud.easeOut)):ud[e]:void 0}const pd={x:!1,y:!1};function hd(){return pd.x||pd.y}function fd(e,t){const n=function(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let a=document;t&&(a=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function vd(e){return t=>{"touch"===t.pointerType||hd()||e(t)}}const gd=(e,t)=>!!t&&(e===t||gd(e,t.parentElement)),xd=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,yd=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const bd=new WeakSet;function wd(e){return t=>{"Enter"===t.key&&e(t)}}function jd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Nd(e){return xd(e)&&!hd()}function _d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=fd(e,n),s=e=>{const r=e.currentTarget;if(!Nd(e)||bd.has(r))return;bd.add(r);const i=t(e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Nd(e)&&bd.has(r)&&(bd.delete(r),"function"===typeof i&&i(e,{success:t}))},o=e=>{s(e,n.useGlobalTarget||gd(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach((e=>{(function(e){return yd.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,a),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=wd((()=>{if(bd.has(n))return;jd(n,"down");const e=wd((()=>{jd(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>jd(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,a)),a)})),i}const Sd=e=>1e3*e,Ed=e=>e/1e3,Cd=e=>e;const Dd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Td=new Set(Dd),kd=new Set(["width","height","top","left","right","bottom",...Dd]),Ad=!1,Pd=!1;const Od=["read","resolveKeyframes","update","preRender","render","postRender"];function Rd(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=Od.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,a=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(t){i.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:function(e){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),a.has(e)||a.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{s=e,r?a=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,a&&(a=!1,l.process(e)))}};return l}(i),e)),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:m}=s,p=()=>{const i=Pd?a.timestamp:performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1),a.timestamp=i,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(p))},h=Od.reduce(((t,i)=>{const o=s[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,a.isProcessing||e(p)),o.schedule(t,i,s)},t}),{});return{schedule:h,cancel:e=>{for(let t=0;t<Od.length;t++)s[Od[t]].cancel(e)},state:a,steps:s}}const{schedule:Md,cancel:Id,state:Ld,steps:Fd}=Rd("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Cd,!0);let Bd;function Wd(){Bd=void 0}const Ud={now:()=>(void 0===Bd&&Ud.set(Ld.isProcessing||Pd?Ld.timestamp:performance.now()),Bd),set:e=>{Bd=e,queueMicrotask(Wd)}};function $d(e,t){-1===e.indexOf(t)&&e.push(t)}function zd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Hd{constructor(){this.subscriptions=[]}add(e){return $d(this.subscriptions,e),()=>zd(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Vd(e,t){return t?e*(1e3/t):0}const qd={current:void 0};class Gd{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Ud.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ud.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Hd);const n=this.events[e].add(t);return"change"===e?()=>{n(),Md.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return qd.current&&qd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ud.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Vd(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kd(e,t){return new Gd(e,t)}function Yd(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Kd(n))}const Xd=e=>Boolean(e&&e.getVelocity);function Zd(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Xd(r)&&r.add))return n.add(t);var r}const Jd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qd="data-"+Jd("framerAppearId");function eu(e){return e.props[Qd]}const tu=!1,nu=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function ru(e,t,n,r){if(e===t&&n===r)return Cd;const a=t=>function(e,t,n,r,a){let i,s,o=0;do{s=t+(n-t)/2,i=nu(s,r,a)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++o<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:nu(a(e),t,r)}const au=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iu=e=>t=>1-e(1-t),su=ru(.33,1.53,.69,.99),ou=iu(su),lu=au(ou),cu=e=>(e*=2)<1?.5*ou(e):.5*(2-Math.pow(2,-10*(e-1))),du=e=>1-Math.sin(Math.acos(e)),uu=iu(du),mu=au(du),pu=e=>/^0[^.\s]+$/u.test(e);const hu=(e,t,n)=>n>t?t:n<e?e:n,fu={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},vu={...fu,transform:e=>hu(0,1,e)},gu={...fu,default:1},xu=e=>Math.round(1e5*e)/1e5,yu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const bu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wu=(e,t)=>n=>Boolean("string"===typeof n&&bu.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ju=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[a,i,s,o]=r.match(yu);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},Nu={...fu,transform:e=>Math.round((e=>hu(0,255,e))(e))},_u={test:wu("rgb","red"),parse:ju("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:a=1}=e;return"rgba("+Nu.transform(t)+", "+Nu.transform(n)+", "+Nu.transform(r)+", "+xu(vu.transform(a))+")"}};const Su={test:wu("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:_u.transform},Eu=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Cu=Eu("deg"),Du=Eu("%"),Tu=Eu("px"),ku=Eu("vh"),Au=Eu("vw"),Pu={...Du,parse:e=>Du.parse(e)/100,transform:e=>Du.transform(100*e)},Ou={test:wu("hsl","hue"),parse:ju("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+Du.transform(xu(n))+", "+Du.transform(xu(r))+", "+xu(vu.transform(a))+")"}},Ru={test:e=>_u.test(e)||Su.test(e)||Ou.test(e),parse:e=>_u.test(e)?_u.parse(e):Ou.test(e)?Ou.parse(e):Su.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?_u.transform(e):Ou.transform(e)},Mu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Iu="number",Lu="color",Fu=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(Fu,(e=>(Ru.test(e)?(r.color.push(i),a.push(Lu),n.push(Ru.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),n.push(e)):(r.number.push(i),a.push(Iu),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:s,indexes:r,types:a}}function Wu(e){return Bu(e).values}function Uu(e){const{split:t,types:n}=Bu(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=n[i];a+=t===Iu?xu(e[i]):t===Lu?Ru.transform(e[i]):e[i]}return a}}const $u=e=>"number"===typeof e?0:e;const zu={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(yu))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Mu))||void 0===n?void 0:n.length)||0)>0},parse:Wu,createTransformer:Uu,getAnimatableNone:function(e){const t=Wu(e);return Uu(e)(t.map($u))}},Hu=new Set(["brightness","contrast","saturate","opacity"]);function Vu(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(yu)||[];if(!r)return e;const a=n.replace(r,"");let i=Hu.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const qu=/\b([a-z-]*)\(.*?\)/gu,Gu={...zu,getAnimatableNone:e=>{const t=e.match(qu);return t?t.map(Vu).join(" "):e}},Ku={borderWidth:Tu,borderTopWidth:Tu,borderRightWidth:Tu,borderBottomWidth:Tu,borderLeftWidth:Tu,borderRadius:Tu,radius:Tu,borderTopLeftRadius:Tu,borderTopRightRadius:Tu,borderBottomRightRadius:Tu,borderBottomLeftRadius:Tu,width:Tu,maxWidth:Tu,height:Tu,maxHeight:Tu,top:Tu,right:Tu,bottom:Tu,left:Tu,padding:Tu,paddingTop:Tu,paddingRight:Tu,paddingBottom:Tu,paddingLeft:Tu,margin:Tu,marginTop:Tu,marginRight:Tu,marginBottom:Tu,marginLeft:Tu,backgroundPositionX:Tu,backgroundPositionY:Tu},Yu={rotate:Cu,rotateX:Cu,rotateY:Cu,rotateZ:Cu,scale:gu,scaleX:gu,scaleY:gu,scaleZ:gu,skew:Cu,skewX:Cu,skewY:Cu,distance:Tu,translateX:Tu,translateY:Tu,translateZ:Tu,x:Tu,y:Tu,z:Tu,perspective:Tu,transformPerspective:Tu,opacity:vu,originX:Pu,originY:Pu,originZ:Tu},Xu={...fu,transform:Math.round},Zu={...Ku,...Yu,zIndex:Xu,size:Tu,fillOpacity:vu,strokeOpacity:vu,numOctaves:Xu},Ju={...Zu,color:Ru,backgroundColor:Ru,outlineColor:Ru,fill:Ru,stroke:Ru,borderColor:Ru,borderTopColor:Ru,borderRightColor:Ru,borderBottomColor:Ru,borderLeftColor:Ru,filter:Gu,WebkitFilter:Gu},Qu=e=>Ju[e];function em(e,t){let n=Qu(e);return n!==Gu&&(n=zu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tm=new Set(["auto","none","0"]);const nm=e=>e===fu||e===Tu,rm=(e,t)=>parseFloat(e.split(", ")[t]),am=(e,t)=>(n,r)=>{let{transform:a}=r;if("none"===a||!a)return 0;const i=a.match(/^matrix3d\((.+)\)$/u);if(i)return rm(i[1],t);{const t=a.match(/^matrix\((.+)\)$/u);return t?rm(t[1],e):0}},im=new Set(["x","y","z"]),sm=Dd.filter((e=>!im.has(e)));const om={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:am(4,13),y:am(5,14)};om.translateX=om.x,om.translateY=om.y;const lm=new Set;let cm=!1,dm=!1;function um(){if(dm){const e=Array.from(lm).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return sm.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var a;null===(a=e.getValue(n))||void 0===a||a.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}dm=!1,cm=!1,lm.forEach((e=>e.complete())),lm.clear()}function mm(){lm.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(dm=!0)}))}class pm{constructor(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(lm.add(this),cm||(cm=!0,Md.read(mm),Md.resolveKeyframes(um))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let a=0;a<e.length;a++)if(null===e[a])if(0===a){const a=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),lm.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,lm.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let hm=Cd,fm=Cd;const vm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gm=e=>t=>"string"===typeof t&&t.startsWith(e),xm=gm("--"),ym=gm("var(--"),bm=e=>!!ym(e)&&wm.test(e.split("/*")[0].trim()),wm=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;fm(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,a]=function(e){const t=jm.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${null!==n&&void 0!==n?n:r}`,a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return vm(e)?parseFloat(e):e}return bm(a)?Nm(a,t,n+1):a}const _m=e=>t=>t.test(e),Sm=[fu,Tu,Du,Cu,Au,ku,{test:e=>"auto"===e,parse:e=>e}],Em=e=>Sm.find(_m(e));class Cm extends pm{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),bm(n))){const r=Nm(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!kd.has(n)||2!==e.length)return;const[r,a]=e,i=Em(r),s=Em(a);if(i!==s)if(nm(i)&&nm(s))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let a=0;a<e.length;a++)("number"===typeof(r=e[a])?0===r:null===r||"none"===r||"0"===r||pu(r))&&n.push(a);var r;n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"===typeof t&&!tm.has(t)&&Bu(t).values.length&&(r=e[a]),a++}if(r&&n)for(const i of t)e[i]=em(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=om[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,s=r[i];r[i]=om[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const Dm=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!zu.test(e)&&"0"!==e||e.startsWith("url(")));const Tm=e=>null!==e;function km(e,t,n){let{repeat:r,repeatType:a="loop"}=t;const i=e.filter(Tm),s=r&&"loop"!==a&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}class Am{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",...o}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ud.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(mm(),um()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ud.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:a,delay:i,onComplete:s,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],s=Dm(a,t),o=Dm(i,t);return hm(s===o,`You are trying to animate ${t} from "${a}" to "${i}". ${a} is not an animatable value - to enable this animation set ${a} to a value animatable to ${i} via the \`style\` property.`),!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||td(n))&&r)}(e,n,r,a)){if(tu||!i)return o&&o(km(e,this.options,t)),s&&s(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Pm=(e,t,n)=>e+(t-e)*n;function Om(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Rm(e,t){return n=>n>0?t:e}const Mm=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Im=[Su,_u,Ou];function Lm(e){const t=(n=e,Im.find((e=>e.test(n))));var n;if(hm(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let r=t.parse(e);return t===Ou&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:a}=e;t/=360,n/=100,r/=100;let i=0,s=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,a=2*r-e;i=Om(a,e,t+1/3),s=Om(a,e,t),o=Om(a,e,t-1/3)}else i=s=o=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:a}}(r)),r}const Fm=(e,t)=>{const n=Lm(e),r=Lm(t);if(!n||!r)return Rm(e,t);const a={...n};return e=>(a.red=Mm(n.red,r.red,e),a.green=Mm(n.green,r.green,e),a.blue=Mm(n.blue,r.blue,e),a.alpha=Pm(n.alpha,r.alpha,e),_u.transform(a))},Bm=(e,t)=>n=>t(e(n)),Wm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Bm)},Um=new Set(["none","hidden"]);function $m(e,t){return n=>Pm(e,t,n)}function zm(e){return"number"===typeof e?$m:"string"===typeof e?bm(e)?Rm:Ru.test(e)?Fm:qm:Array.isArray(e)?Hm:"object"===typeof e?Ru.test(e)?Fm:Vm:Rm}function Hm(e,t){const n=[...e],r=n.length,a=e.map(((e,n)=>zm(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function Vm(e,t){const n={...e,...t},r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=zm(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const qm=(e,t)=>{const n=zu.createTransformer(t),r=Bu(e),a=Bu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Um.has(e)&&!a.values.length||Um.has(t)&&!r.values.length?function(e,t){return Um.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Wm(Hm(function(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][a[s]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[i]=l,a[s]++}return r}(r,a),a.values),n):(hm(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Rm(e,t))};function Gm(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Pm(e,t,n);return zm(e)(e,t)}function Km(e,t,n){const r=Math.max(t-5,0);return Vd(n-e(r),t-r)}const Ym={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xm=.001;function Zm(e){let t,n,{duration:r=Ym.duration,bounce:a=Ym.bounce,velocity:i=Ym.velocity,mass:s=Ym.mass}=e;hm(r<=Sd(Ym.maxDuration),"Spring duration must be 10 seconds or less");let o=1-a;o=hu(Ym.minDamping,Ym.maxDamping,o),r=hu(Ym.minDuration,Ym.maxDuration,Ed(r)),o<1?(t=e=>{const t=e*o,n=t*r,a=t-i,s=Qm(e,o),l=Math.exp(-n);return Xm-a/s*l},n=e=>{const n=e*o*r,a=n*i+i,s=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Qm(Math.pow(e,2),o);return(-t(e)+Xm>0?-1:1)*((a-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let a=1;a<Jm;a++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Sd(r),isNaN(l))return{stiffness:Ym.stiffness,damping:Ym.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*o*Math.sqrt(s*e),duration:r}}}const Jm=12;function Qm(e,t){return e*Math.sqrt(1-t*t)}const ep=["duration","bounce"],tp=["stiffness","damping","mass"];function np(e,t){return t.some((t=>void 0!==e[t]))}function rp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ym.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ym.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:p}=function(e){let t={velocity:Ym.velocity,stiffness:Ym.stiffness,damping:Ym.damping,mass:Ym.mass,isResolvedFromDuration:!1,...e};if(!np(e,tp)&&np(e,ep))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,i=2*hu(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ym.mass,stiffness:a,damping:i}}else{const n=Zm(e);t={...t,...n,mass:Ym.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Ed(n.velocity||0)}),h=m||0,f=c/(2*Math.sqrt(l*d)),v=s-i,g=Ed(Math.sqrt(l/d)),x=Math.abs(v)<5;let y;if(r||(r=x?Ym.restSpeed.granular:Ym.restSpeed.default),a||(a=x?Ym.restDelta.granular:Ym.restDelta.default),f<1){const e=Qm(g,f);y=t=>{const n=Math.exp(-f*g*t);return s-n*((h+f*g*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===f)y=e=>s-Math.exp(-g*e)*(v+(h+g*v)*e);else{const e=g*Math.sqrt(f*f-1);y=t=>{const n=Math.exp(-f*g*t),r=Math.min(e*t,300);return s-n*((h+f*g*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const b={calculatedDuration:p&&u||null,next:e=>{const t=y(e);if(p)o.done=e>=u;else{let n=0;f<1&&(n=0===e?Sd(h):Km(y,e,t));const i=Math.abs(n)<=r,l=Math.abs(s-t)<=a;o.done=i&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(ed(b),Qc),t=ld((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function ap(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const m=t[0],p={done:!1,value:m},h=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=r*n;const v=m+f,g=void 0===o?v:o(v);g!==v&&(f=g-m);const x=e=>-f*Math.exp(-e/a),y=e=>g+x(e),b=e=>{const t=x(e),n=y(e);p.done=Math.abs(t)<=d,p.value=p.done?g:n};let w,j;const N=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=rp({keyframes:[p.value,h(p.value)],velocity:Km(y,e,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&b(e),p)}}}const ip=ru(.42,0,1,1),sp=ru(0,0,.58,1),op=ru(.42,0,.58,1),lp={linear:Cd,easeIn:ip,easeInOut:op,easeOut:sp,circIn:du,circInOut:mu,circOut:uu,backIn:ou,backInOut:lu,backOut:su,anticipate:cu},cp=e=>{if(rd(e)){fm(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,a]=e;return ru(t,n,r,a)}return"string"===typeof e?(fm(void 0!==lp[e],`Invalid easing type '${e}'`),lp[e]):e};function dp(e,t){let{clamp:n=!0,ease:r,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(fm(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||Gm,i=e.length-1;for(let s=0;s<i;s++){let n=a(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Cd:t;n=Wm(e,n)}r.push(n)}return r}(t,r,a),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=od(e[r],e[r+1],n);return o[r](a)};return n?t=>c(hu(e[0],e[i-1],t)):c}function up(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=od(0,t,r);e.push(Pm(n,1,a))}}(t,e.length-1),t}function mp(e){let{duration:t=300,keyframes:n,times:r,ease:a="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(cp):cp(a),s={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:up(n),t),l=dp(o,n,{ease:Array.isArray(i)?i:(c=n,d=i,c.map((()=>d||op)).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const pp=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Md.update(t,!0),stop:()=>Id(t),now:()=>Ld.isProcessing?Ld.timestamp:Ud.now()}},hp={decay:ap,inertia:ap,tween:mp,keyframes:mp,spring:rp},fp=e=>e/100;class vp extends Am{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:a}=this.options,i=(null===r||void 0===r?void 0:r.KeyframeResolver)||pm;this.resolver=new i(a,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=this.options,s=td(t)?t:hp[t]||mp;let o,l;s!==mp&&"number"!==typeof e[0]&&(o=Wm(fp,Gm(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});"mirror"===a&&(l=s({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=ed(c));const{calculatedDuration:d}=c,u=d+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:d,resolvedDuration:u,totalDuration:u*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:i,mapPercentToKeyframes:s,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=n;if(null===this.startTime)return a.next(0);const{delay:u,repeat:m,repeatType:p,repeatDelay:h,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-u*(this.speed>=0?1:-1),g=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let x=this.currentTime,y=a;if(m){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,m+1);Boolean(t%2)&&("reverse"===p?(n=1-n,h&&(n-=h/d)):"mirror"===p&&(y=i)),x=hu(0,1,n)*d}const b=g?{done:!1,value:o[0]}:y.next(x);s&&(b.value=s(b.value));let{done:w}=b;g||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==r&&(b.value=km(o,this.options,r)),f&&f(b.value),j&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Ed(e.calculatedDuration):0}get time(){return Ed(this.currentTime)}set time(e){e=Sd(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ed(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=pp,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const gp=new Set(["opacity","clipPath","filter","transform"]);const xp=Kc((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const yp={anticipate:cu,backInOut:lu,circInOut:mu};class bp extends Am{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:a}=this.options;this.resolver=new Cm(a,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:a,type:i,motionValue:s,name:o,startTime:l}=this.options;if(!s.owner||!s.owner.current)return!1;var c;if("string"===typeof a&&sd()&&a in yp&&(a=yp[a]),td((c=this.options).type)||"spring"===c.type||!cd(c.ease)){const{onComplete:t,onUpdate:s,motionValue:o,element:l,...c}=this.options,d=function(e,t){const n=new vp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),a.push(r.value),i+=10;return{times:void 0,keyframes:a,duration:i-10,ease:"linear"}}(e,c);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,r=d.times,a=d.ease,i="keyframes"}const d=function(e,t,n){let{delay:r=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const d=md(o,a);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"})}(s.owner.current,o,e,{...this.options,duration:n,times:r,ease:a});return d.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(nd(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;s.set(km(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:r,type:i,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ed(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ed(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Sd(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Cd;const{animation:n}=t;nd(n,e)}else this.pendingTimeline=e;return Cd}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:a,ease:i,times:s}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,d=new vp({...c,keyframes:n,duration:r,type:a,ease:i,times:s,isGenerator:!0}),u=Sd(this.time);e.setWithVelocity(d.sample(u-10).value,d.sample(u).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return xp()&&n&&gp.has(n)&&!o&&!l&&!r&&"mirror"!==a&&0!==i&&"inertia"!==s}}const wp={type:"spring",stiffness:500,damping:25,restSpeed:10},jp={type:"keyframes",duration:.8},Np={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_p=(e,t)=>{let{keyframes:n}=t;return n.length>2?jp:Td.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:wp:Np};const Sp=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return s=>{const o=Jc(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=Sd(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:a,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}=e;return!!Object.keys(u).length})(o)||(d={...d,..._p(e,d)}),d.duration&&(d.duration=Sd(d.duration)),d.repeatDelay&&(d.repeatDelay=Sd(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),(tu||Ad)&&(u=!0,d.duration=0,d.delay=0),u&&!i&&void 0!==t.get()){const e=km(d.keyframes,o);if(void 0!==e)return Md.update((()=>{d.onUpdate(e),d.onComplete()})),new Zc([])}return!i&&bp.supports(d)?new bp(d):new vp(d)}};function Ep(e,t){let{protectedKeys:n,needsAnimating:r}=e;const a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}function Cp(e,t){let{delay:n=0,transitionOverride:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(s=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const t=e.getValue(u,null!==(i=e.latestValues[u])&&void 0!==i?i:null),r=l[u];if(void 0===r||d&&Ep(d,u))continue;const a={delay:n,...Jc(s||{},u)};let o=!1;if(window.MotionHandoffAnimation){const t=eu(e);if(t){const e=window.MotionHandoffAnimation(t,u,Md);null!==e&&(a.startTime=e,o=!0)}}Zd(e,u),t.start(Sp(u,t,r,e.shouldReduceMotion&&kd.has(u)?{type:!1}:a,e,o));const m=t.animation;m&&c.push(m)}return o&&Promise.all(c).then((()=>{Md.update((()=>{o&&function(e,t){const n=Vc(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i)Yd(e,o,(s=i[o],Wc(s)?s[s.length-1]||0:s));var s}(e,o)}))})),c}function Dp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const a=Vc(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const s=a?()=>Promise.all(Cp(e,a,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:s,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const s=[],o=(e.variantChildren.size-1)*r,l=1===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Tp).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(Dp(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,a+r,s,o,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function Tp(e,t){return e.sortNodePosition(t)}const kp=Gc.length;function Ap(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Ap(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<kp;n++){const r=Gc[n],a=e.props[r];($c(a)||!1===a)&&(t[r]=a)}return t}const Pp=[...qc].reverse(),Op=qc.length;function Rp(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map((t=>Dp(e,t,r)));n=Promise.all(a)}else if("string"===typeof t)n=Dp(e,t,r);else{const a="function"===typeof t?Vc(e,t,r.custom):t;n=Promise.all(Cp(e,a,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Mp(e){let t=Rp(e),n=Fp(),r=!0;const a=t=>(n,r)=>{var a;const i=Vc(e,r,"exit"===t?null===(a=e.presenceContext)||void 0===a?void 0:a.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function i(i){const{props:s}=e,o=Ap(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Op;t++){const m=Pp[t],p=n[m],h=void 0!==s[m]?s[m]:o[m],f=$c(h),v=m===i?p.isActive:null;!1===v&&(u=t);let g=h===o[m]&&h!==s[m]&&f;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),p.protectedKeys={...d},!p.isActive&&null===v||!h&&!p.prevProp||Bc(h)||"boolean"===typeof h)continue;const x=Ip(p.prevProp,h);let y=x||m===i&&p.isActive&&!g&&f||t>u&&f,b=!1;const w=Array.isArray(h)?h:[h];let j=w.reduce(a(m),{});!1===v&&(j={});const{prevResolvedValues:N={}}=p,_={...N,...j},S=t=>{y=!0,c.has(t)&&(b=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in _){const t=j[e],n=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Wc(t)&&Wc(n)?!Uc(t,n):t!==n,r?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=h,p.prevResolvedValues=j,p.isActive&&(d={...d,...j}),r&&e.blockInitialAnimation&&(y=!1);y&&(!(g&&x)||b)&&l.push(...w.map((e=>({animation:e,options:{type:m}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let m=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(m=!1),r=!1,m?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Fp(),r=!0}}}function Ip(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Uc(t,e)}function Lp(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fp(){return{animate:Lp(!0),whileInView:Lp(),whileHover:Lp(),whileTap:Lp(),whileDrag:Lp(),whileFocus:Lp(),exit:Lp()}}class Bp{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Wp=0;const Up={animation:{Feature:class extends Bp{constructor(e){super(e),e.animationState||(e.animationState=Mp(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Bp{constructor(){super(...arguments),this.id=Wp++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function $p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function zp(e){return{point:{x:e.pageX,y:e.pageY}}}function Hp(e,t,n,r){return $p(e,t,(e=>t=>xd(t)&&e(t,zp(t)))(n),r)}const Vp=(e,t)=>Math.abs(e-t);class qp{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Yp(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Vp(e.x,t.x),r=Vp(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=Ld;this.history.push({...r,timestamp:a});const{onStart:i,onMove:s}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Gp(t,this.transformPagePoint),Md.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Yp("pointercancel"===e.type?this.lastMoveEventInfo:Gp(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!xd(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=Gp(zp(e),this.transformPagePoint),{point:s}=i,{timestamp:o}=Ld;this.history=[{...s,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Yp(i,this.history)),this.removeListeners=Wm(Hp(this.contextWindow,"pointermove",this.handlePointerMove),Hp(this.contextWindow,"pointerup",this.handlePointerUp),Hp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Id(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function Kp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yp(e,t){let{point:n}=e;return{point:n,delta:Kp(n,Zp(t)),offset:Kp(n,Xp(t)),velocity:Jp(t,.1)}}function Xp(e){return e[0]}function Zp(e){return e[e.length-1]}function Jp(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Zp(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Sd(t)));)n--;if(!r)return{x:0,y:0};const i=Ed(a.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Qp(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function eh(e){return e.max-e.min}function th(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Pm(t.min,t.max,e.origin),e.scale=eh(n)/eh(t),e.translate=Pm(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function nh(e,t,n,r){th(e.x,t.x,n.x,r?r.originX:void 0),th(e.y,t.y,n.y,r?r.originY:void 0)}function rh(e,t,n){e.min=n.min+t.min,e.max=e.min+eh(t)}function ah(e,t,n){e.min=t.min-n.min,e.max=e.min+eh(t)}function ih(e,t,n){ah(e.x,t.x,n.x),ah(e.y,t.y,n.y)}function sh(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function oh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const lh=.35;function ch(e,t,n){return{min:dh(e,t),max:dh(e,n)}}function dh(e,t){return"number"===typeof e?e:e[t]||0}const uh=()=>({x:{min:0,max:0},y:{min:0,max:0}});function mh(e){return[e("x"),e("y")]}function ph(e){let{top:t,left:n,right:r,bottom:a}=e;return{x:{min:n,max:r},y:{min:t,max:a}}}function hh(e){return void 0===e||1===e}function fh(e){let{scale:t,scaleX:n,scaleY:r}=e;return!hh(t)||!hh(n)||!hh(r)}function vh(e){return fh(e)||gh(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gh(e){return xh(e.x)||xh(e.y)}function xh(e){return e&&"0%"!==e}function yh(e,t,n){return n+t*(e-n)}function bh(e,t,n,r,a){return void 0!==a&&(e=yh(e,a,r)),yh(e,n,r)+t}function wh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=bh(e.min,t,n,r,a),e.max=bh(e.max,t,n,r,a)}function jh(e,t){let{x:n,y:r}=t;wh(e.x,n.translate,n.scale,n.originPoint),wh(e.y,r.translate,r.scale,r.originPoint)}const Nh=.999999999999,_h=1.0000000000001;function Sh(e,t){e.min=e.min+t,e.max=e.max+t}function Eh(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;wh(e,t,n,Pm(e.min,e.max,a),r)}function Ch(e,t){Eh(e.x,t.x,t.scaleX,t.scale,t.originX),Eh(e.y,t.y,t.scaleY,t.scale,t.originY)}function Dh(e,t){return ph(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Th=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},kh=new WeakMap;class Ah{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new qp(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(zp(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?pd[i]?null:(pd[i]=!0,()=>{pd[i]=!1}):pd.x||pd.y?null:(pd.x=pd.y=!0,()=>{pd.x=pd.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mh((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Du.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=eh(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),a&&Md.postRender((()=>a(e,t))),Zd(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>mh((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Th(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Md.postRender((()=>a(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ph(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:a}=t;return void 0!==r&&e<r?e=n?Pm(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?Pm(a,e,n.max):Math.min(e,a)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&Qp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:a,right:i}=t;return{x:sh(e.x,r,i),y:sh(e.y,n,a)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lh;return!1===e?e=0:!0===e&&(e=lh),{x:ch(e,"left","right"),y:ch(e,"top","bottom")}}(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mh((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Qp(e))return!1;const n=e.current;fm(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=Dh(e,n),{scroll:a}=t;return a&&(Sh(r.x,a.offset.x),Sh(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:oh(e.x,t.x),y:oh(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=ph(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=mh((s=>{if(!Ph(s,t,this.currentDirection))return;let l=o&&o[s]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(s,u)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Zd(this.visualElement,e),n.start(Sp(e,n,0,t,this.visualElement,!1))}stopAnimation(){mh((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){mh((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){mh((t=>{const{drag:n}=this.getProps();if(!Ph(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];a.set(e[t]-Pm(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Qp(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};mh((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=eh(e),a=eh(t);return a>r?n=od(t.min,t.max-r,e.min):r>a&&(n=od(e.min,e.max-a,t.min)),hu(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),mh((t=>{if(!Ph(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];n.set(Pm(a,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;kh.set(this.visualElement,this);const e=Hp(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Qp(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Md.read(t);const a=$p(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(mh((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{a(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=lh,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:s}}}function Ph(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Oh=e=>(t,n)=>{e&&Md.postRender((()=>e(t,n)))};const Rh=(0,t.createContext)({}),Mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ih(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lh={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Tu.test(e))return e;e=parseFloat(e)}return`${Ih(e,t.target.x)}% ${Ih(e,t.target.y)}%`}},Fh={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const a=e,i=zu.parse(e);if(i.length>5)return a;const s=zu.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const d=Pm(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=d),"number"===typeof i[3+o]&&(i[3+o]/=d),s(i)}},Bh={};const{schedule:Wh,cancel:Uh}=Rd(queueMicrotask,!1);class $h extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;var i;i=Hh,Object.assign(Bh,i),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",(()=>{this.safeToRemove()})),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,i=n.projection;return i?(i.isPresent=a,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||Md.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wh.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zh(e){const[n,r]=Pc(),a=(0,t.useContext)(_c);return(0,X.jsx)($h,{...e,layoutGroup:a,switchLayoutGroup:(0,t.useContext)(Rh),isPresent:n,safeToRemove:r})}const Hh={borderRadius:{...Lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lh,borderTopRightRadius:Lh,borderBottomLeftRadius:Lh,borderBottomRightRadius:Lh,boxShadow:Fh};const Vh=(e,t)=>e.depth-t.depth;class qh{constructor(){this.children=[],this.isDirty=!1}add(e){$d(this.children,e),this.isDirty=!0}remove(e){zd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vh),this.isDirty=!1,this.children.forEach(e)}}function Gh(e,t){const n=Ud.now(),r=a=>{let{timestamp:i}=a;const s=i-n;s>=t&&(Id(r),e(s-t))};return Md.read(r,!0),()=>Id(r)}function Kh(e){const t=Xd(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const Yh=["TopLeft","TopRight","BottomLeft","BottomRight"],Xh=Yh.length,Zh=e=>"string"===typeof e?parseFloat(e):e,Jh=e=>"number"===typeof e||Tu.test(e);function Qh(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const ef=nf(0,.5,uu),tf=nf(.5,.95,Cd);function nf(e,t,n){return r=>r<e?0:r>t?1:n(od(e,t,r))}function rf(e,t){e.min=t.min,e.max=t.max}function af(e,t){rf(e.x,t.x),rf(e.y,t.y)}function sf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function of(e,t,n,r,a){return e=yh(e-=t,1/n,r),void 0!==a&&(e=yh(e,1/a,r)),e}function lf(e,t,n,r,a){let[i,s,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Du.test(t)&&(t=parseFloat(t),t=Pm(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let o=Pm(i.min,i.max,r);e===i&&(o-=t),e.min=of(e.min,t,n,o,a),e.max=of(e.max,t,n,o,a)}(e,t[i],t[s],t[o],t.scale,r,a)}const cf=["x","scaleX","originX"],df=["y","scaleY","originY"];function uf(e,t,n,r){lf(e.x,t,cf,n?n.x:void 0,r?r.x:void 0),lf(e.y,t,df,n?n.y:void 0,r?r.y:void 0)}function mf(e){return 0===e.translate&&1===e.scale}function pf(e){return mf(e.x)&&mf(e.y)}function hf(e,t){return e.min===t.min&&e.max===t.max}function ff(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vf(e,t){return ff(e.x,t.x)&&ff(e.y,t.y)}function gf(e){return eh(e.x)/eh(e.y)}function xf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yf{constructor(){this.members=[]}add(e){$d(this.members,e),e.scheduleRender()}remove(e){if(zd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const bf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wf="undefined"!==typeof window&&void 0!==window.MotionDebug,jf=["","X","Y","Z"],Nf={visibility:"hidden"};let _f=0;function Sf(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ef(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eu(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Md,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ef(r)}function Cf(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:a,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=_f++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wf&&(bf.totalNodes=bf.resolvedTargetDeltas=bf.recalculatedProjection=0),this.nodes.forEach(kf),this.nodes.forEach(Lf),this.nodes.forEach(Ff),this.nodes.forEach(Af),wf&&window.MotionDebug.record(bf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new qh)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Hd),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:a,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||a)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Gh(r,250),Mh.hasAnimatedSinceResize&&(Mh.hasAnimatedSinceResize=!1,this.nodes.forEach(If))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&s&&(a||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||Hf,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!vf(this.targetLayout,a)||r,d=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e={...Jc(i,"layout"),onPlay:o,onComplete:l};(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||If(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Id(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bf),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ef(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Of);this.isUpdating||this.nodes.forEach(Rf),this.isUpdating=!1,this.nodes.forEach(Mf),this.nodes.forEach(Df),this.nodes.forEach(Tf),this.clearAllSnapshots();const e=Ud.now();Ld.delta=hu(0,1e3/60,e-Ld.timestamp),Ld.timestamp=e,Ld.isProcessing=!0,Fd.update.process(Ld),Fd.preRender.process(Ld),Fd.render.process(Ld),Ld.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pf),this.sharedNodes.forEach(Wf)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Md.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Md.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!pf(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||vh(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Gf((r=n).x),Gf(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Yf))){const{scroll:e}=this.root;e&&(Sh(n.x,e.offset.x),Sh(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(af(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:a,options:i}=t;t!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&af(n,e),Sh(n.x,a.offset.x),Sh(n.y,a.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};af(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Ch(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),vh(e.latestValues)&&Ch(n,e.latestValues)}return vh(this.latestValues)&&Ch(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};af(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!vh(e.latestValues))continue;fh(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};af(r,e.measurePageBox()),uf(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return vh(this.latestValues)&&uf(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ld.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:i}=this.options;if(this.layout&&(a||i)){if(this.resolvedRelativeTargetAt=Ld.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ih(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),af(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,rh(s.x,o.x,l.x),rh(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):af(this.target,this.layout.layoutBox),jh(this.target,this.targetDelta)):af(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ih(this.relativeTargetOrigin,this.target,e.target),af(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wf&&bf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!fh(this.parent.latestValues)&&!gh(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Ld.timestamp&&(r=!1),r)return;const{layout:a,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!i)return;af(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=n.length;if(!a)return;let i,s;t.x=t.y=1;for(let o=0;o<a;o++){i=n[o],s=i.projectionDelta;const{visualElement:a}=i.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ch(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,jh(e,s)),r&&vh(i.latestValues)&&Ch(e,i.latestValues))}t.x<_h&&t.x>Nh&&(t.x=1),t.y<_h&&t.y>Nh&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(sf(this.prevProjectionDelta.x,this.projectionDelta.x),sf(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),nh(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&xf(this.projectionDelta.x,this.prevProjectionDelta.x)&&xf(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),wf&&bf.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},a={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(zf));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,m,p,h,f,v;Uf(i.x,e.x,n),Uf(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ih(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,h=this.relativeTargetOrigin,f=s,v=n,$f(p.x,h.x,f.x,v),$f(p.y,h.y,f.y,v),u&&(l=this.relativeTarget,m=u,hf(l.x,m.x)&&hf(l.y,m.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),af(u,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,i){a?(e.opacity=Pm(0,void 0!==n.opacity?n.opacity:1,ef(r)),e.opacityExit=Pm(void 0!==t.opacity?t.opacity:1,0,tf(r))):i&&(e.opacity=Pm(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<Xh;s++){const a=`border${Yh[s]}Radius`;let i=Qh(t,a),o=Qh(n,a);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||Jh(i)===Jh(o)?(e[a]=Math.max(Pm(Zh(i),Zh(o),r),0),(Du.test(o)||Du.test(i))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=Pm(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Id(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Md.update((()=>{Mh.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Xd(e)?e:Kd(e);return r.start(Sp("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Kf(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=eh(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=eh(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}af(t,n),Ch(t,a),nh(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new yf);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Sf("z",e,r,this.animationValues);for(let a=0;a<jf.length;a++)Sf(`rotate${jf[a]}`,e,r,this.animationValues),Sf(`skew${jf[a]}`,e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Nf;const r={visibility:""},a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Kh(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=a?a(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Kh(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!vh(this.latestValues)&&(t.transform=a?a({},""):"none",this.hasProjected=!1),t}const s=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((a||i||s)&&(r=`translate3d(${a}px, ${i}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:s,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),a&&(r+=`rotateX(${a}deg) `),i&&(r+=`rotateY(${i}deg) `),s&&(r+=`skewX(${s}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),a&&(r.transform=a(s,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,i.animationValues?r.opacity=i===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=i===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in Bh){if(void 0===s[c])continue;const{correct:e,applyTo:t}=Bh[c],n="none"===r.transform?s[c]:e(s[c],i);if(t){const e=t.length;for(let a=0;a<e;a++)r[t[a]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=i===this?Kh(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Of),this.root.sharedNodes.clear()}}}function Df(e){e.updateLayout()}function Tf(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;"size"===a?mh((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],a=eh(r);r.min=t[e].min,r.max=r.min+a})):Kf(a,n.layoutBox,t)&&mh((r=>{const a=i?n.measuredBox[r]:n.layoutBox[r],s=eh(t[r]);a.max=a.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};nh(s,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?nh(o,e.applyTransform(r,!0),n.measuredBox):nh(o,t,n.layoutBox);const l=!pf(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:i}=r;if(a&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};ih(s,n.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};ih(o,t,i.layoutBox),vf(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function kf(e){wf&&bf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Af(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pf(e){e.clearSnapshot()}function Of(e){e.clearMeasurements()}function Rf(e){e.isLayoutDirty=!1}function Mf(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function If(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Lf(e){e.resolveTargetDelta()}function Ff(e){e.calcProjection()}function Bf(e){e.resetSkewAndRotation()}function Wf(e){e.removeLeadSnapshot()}function Uf(e,t,n){e.translate=Pm(t.translate,0,n),e.scale=Pm(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $f(e,t,n,r){e.min=Pm(t.min,n.min,r),e.max=Pm(t.max,n.max,r)}function zf(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Hf={duration:.45,ease:[.4,0,.1,1]},Vf=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qf=Vf("applewebkit/")&&!Vf("chrome/")?Math.round:Cd;function Gf(e){e.min=qf(e.min),e.max=qf(e.max)}function Kf(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=gf(t),a=gf(n),i=.2,!(Math.abs(r-a)<=i));var r,a,i}function Yf(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Xf=Cf({attachResizeListener:(e,t)=>$p(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zf={current:void 0},Jf=Cf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zf.current){const e=new Xf({});e.mount(window),e.setOptions({layoutScroll:!0}),Zf.current=e}return Zf.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Qf={pan:{Feature:class extends Bp{constructor(){super(...arguments),this.removePointerDownListener=Cd}onPointerDown(e){this.session=new qp(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Th(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Oh(e),onStart:Oh(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Md.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Hp(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Bp{constructor(e){super(e),this.removeGroupControls=Cd,this.removeListeners=Cd,this.controls=new Ah(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cd}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Jf,MeasureLayout:zh}};function ev(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&Md.postRender((()=>a(t,zp(t))))}function tv(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&Md.postRender((()=>a(t,zp(t))))}const nv=new WeakMap,rv=new WeakMap,av=e=>{const t=nv.get(e.target);t&&t(e)},iv=e=>{e.forEach(av)};function sv(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;rv.has(r)||rv.set(r,{});const a=rv.get(r),i=JSON.stringify(n);return a[i]||(a[i]=new IntersectionObserver(iv,{root:t,...n})),a[i]}(t);return nv.set(e,n),r.observe(e),()=>{nv.delete(e),r.unobserve(e)}}const ov={some:0,all:1};const lv={inView:{Feature:class extends Bp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ov[r]};return sv(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Bp{mount(){const{current:e}=this.node;e&&(this.unmount=_d(e,(e=>(tv(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return tv(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Bp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(H1){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wm($p(this.node.current,"focus",(()=>this.onFocus())),$p(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Bp{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,i]=fd(e,n),s=vd((e=>{const{target:n}=e,r=t(e);if("function"!==typeof r||!n)return;const i=vd((e=>{r(e),n.removeEventListener("pointerleave",i)}));n.addEventListener("pointerleave",i,a)}));return r.forEach((e=>{e.addEventListener("pointerenter",s,a)})),i}(e,(e=>(ev(this.node,e,"Start"),e=>ev(this.node,e,"End")))))}unmount(){}}}},cv={layout:{ProjectionNode:Jf,MeasureLayout:zh}},dv=(0,t.createContext)({strict:!1}),uv=(0,t.createContext)({});function mv(e){return Bc(e.animate)||Gc.some((t=>$c(e[t])))}function pv(e){return Boolean(mv(e)||e.variants)}function hv(e){const{initial:n,animate:r}=function(e,t){if(mv(e)){const{initial:t,animate:n}=e;return{initial:!1===t||$c(t)?t:void 0,animate:$c(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(uv));return(0,t.useMemo)((()=>({initial:n,animate:r})),[fv(n),fv(r)])}function fv(e){return Array.isArray(e)?e.join(" "):e}const vv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gv={};for(const $ in vv)gv[$]={isEnabled:e=>vv[$].some((t=>!!e[t]))};const xv=Symbol.for("motionComponentSymbol");function yv(e,n,r){return(0,t.useCallback)((t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Qp(r)&&(r.current=t))}),[n])}function bv(e,n,r,a,i){var s,o;const{visualElement:l}=(0,t.useContext)(uv),c=(0,t.useContext)(dv),d=(0,t.useContext)(Ec),u=(0,t.useContext)(Cc).reducedMotion,m=(0,t.useRef)(null);a=a||c.renderer,!m.current&&a&&(m.current=a(e,{visualState:n,parent:l,props:r,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:u}));const p=m.current,h=(0,t.useContext)(Rh);!p||p.projection||!i||"html"!==p.type&&"svg"!==p.type||function(e,t,n,r){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wv(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(s)||o&&Qp(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(m.current,r,i,h);const f=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{p&&f.current&&p.update(r,d)}));const v=r[Qd],g=(0,t.useRef)(Boolean(v)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,v))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,v)));return Ic((()=>{p&&(f.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Wh.render(p.render),g.current&&p.animationState&&p.animationState.animateChanges())})),(0,t.useEffect)((()=>{p&&(!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,v)})),g.current=!1))})),p}function wv(e){if(e)return!1!==e.options.allowProjection?e.projection:wv(e.parent)}function jv(e){let{preloadedFeatures:n,createVisualElement:r,useRender:a,useVisualState:i,Component:s}=e;var o,l;function c(e,n){let o;const l={...(0,t.useContext)(Cc),...e,layoutId:Nv(e)},{isStatic:c}=l,d=hv(e),u=i(e,c);if(!c&&Mc){!function(){(0,t.useContext)(dv).strict;0}();const e=function(e){const{drag:t,layout:n}=gv;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,d.visualElement=bv(s,u,l,r,e.ProjectionNode)}return(0,X.jsxs)(uv.Provider,{value:d,children:[o&&d.visualElement?(0,X.jsx)(o,{visualElement:d.visualElement,...l}):null,a(s,e,yv(u,d.visualElement,n),u,c,d.visualElement)]})}n&&function(e){for(const t in e)gv[t]={...gv[t],...e[t]}}(n),c.displayName=`motion.${"string"===typeof s?s:`create(${null!==(l=null!==(o=s.displayName)&&void 0!==o?o:s.name)&&void 0!==l?l:""})`}`;const d=(0,t.forwardRef)(c);return d[xv]=s,d}function Nv(e){let{layoutId:n}=e;const r=(0,t.useContext)(_c).id;return r&&void 0!==n?r+"-"+n:n}const _v=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sv(e){return"string"===typeof e&&!e.includes("-")&&!!(_v.indexOf(e)>-1||/[A-Z]/u.test(e))}const Ev=e=>(n,r)=>{const a=(0,t.useContext)(uv),i=(0,t.useContext)(Ec),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:a,createRenderState:i,onUpdate:s}=e;const o={latestValues:Cv(t,n,r,a),renderState:i()};return s&&(o.onMount=e=>s({props:t,current:e,...o}),o.onUpdate=e=>s(e)),o}(e,n,a,i);return r?s():Sc(s)};function Cv(e,t,n,r){const a={},i=r(e,{});for(const m in i)a[m]=Kh(i[m]);let{initial:s,animate:o}=e;const l=mv(e),c=pv(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const u=d?o:s;if(u&&"boolean"!==typeof u&&!Bc(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=Hc(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const Dv=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Tv={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kv=Dd.length;function Av(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(Td.has(l))s=!0;else if(xm(l))a[l]=e;else{const t=Dv(e,Zu[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",a=!0;for(let i=0;i<kv;i++){const s=Dd[i],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Dv(o,Zu[s]);l||(a=!1,r+=`${Tv[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const Pv={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ov={offset:"strokeDashoffset",array:"strokeDasharray"};function Rv(e,t,n){return"string"===typeof e?e:Tu.transform(t+n*e)}function Mv(e,t,n,r){let{attrX:a,attrY:i,attrScale:s,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:u=0,...m}=t;if(Av(e,m,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:h,dimensions:f}=e;p.transform&&(f&&(h.transform=p.transform),delete p.transform),f&&(void 0!==o||void 0!==l||h.transform)&&(h.transformOrigin=function(e,t,n){return`${Rv(t,e.x,e.width)} ${Rv(n,e.y,e.height)}`}(f,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==a&&(p.x=a),void 0!==i&&(p.y=i),void 0!==s&&(p.scale=s),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=a?Pv:Ov;e[i.offset]=Tu.transform(-r);const s=Tu.transform(t),o=Tu.transform(n);e[i.array]=`${s} ${o}`}(p,c,d,u,!1)}const Iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Lv=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Fv=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Bv(e,t,n,r){let{style:a,vars:i}=t;Object.assign(e.style,a,r&&r.getProjectionStyles(n));for(const s in i)e.style.setProperty(s,i[s])}const Wv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uv(e,t,n,r){Bv(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Wv.has(a)?a:Jd(a),t.attrs[a])}function $v(e,t){let{layout:n,layoutId:r}=t;return Td.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Bh[e]||"opacity"===e)}function zv(e,t,n){var r;const{style:a}=e,i={};for(const s in a)(Xd(a[s])||t.style&&Xd(t.style[s])||$v(s,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(s))||void 0===r?void 0:r.liveStyle))&&(i[s]=a[s]);return i}function Hv(e,t,n){const r=zv(e,t,n);for(const a in e)if(Xd(e[a])||Xd(t[a])){r[-1!==Dd.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}const Vv=["x","y","width","height","cx","cy","r"],qv={useVisualState:Ev({scrapeMotionValuesFromProps:Hv,createRenderState:Lv,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:a,latestValues:i}=e;if(!r)return;let s=!!t.drag;if(!s)for(const l in i)if(Td.has(l)){s=!0;break}if(!s)return;let o=!n;if(n)for(let l=0;l<Vv.length;l++){const e=Vv[l];t[e]!==n[e]&&(o=!0)}o&&Md.read((()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(H1){t.dimensions={x:0,y:0,width:0,height:0}}}(r,a),Md.render((()=>{Mv(a,i,Fv(r.tagName),t.transformTemplate),Uv(r,a)}))}))}})},Gv={useVisualState:Ev({scrapeMotionValuesFromProps:zv,createRenderState:Iv})};function Kv(e,t,n){for(const r in t)Xd(t[r])||$v(r,n)||(e[r]=t[r])}function Yv(e,n){const r={};return Kv(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Av(e,n,r),Object.assign({},e.vars,e.style)}),[n])}(e,n)),r}function Xv(e,t){const n={},r=Yv(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Zv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jv(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Zv.has(e)}let Qv=e=>!Jv(e);try{(eg=require("@emotion/is-prop-valid").default)&&(Qv=e=>e.startsWith("on")?!Jv(e):eg(e))}catch(V1){}var eg;function tg(e,n,r,a){const i=(0,t.useMemo)((()=>{const t={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Mv(t,n,Fv(a),e.transformTemplate),{...t.attrs,style:{...t.style}}}),[n]);if(e.style){const t={};Kv(t,e.style,e),i.style={...t,...i.style}}return i}function ng(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,a,i,s)=>{let{latestValues:o}=i;const l=(Sv(n)?tg:Xv)(r,o,s,n),c=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"===typeof e.values||(Qv(a)||!0===n&&Jv(a)||!t&&!Jv(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(r,"string"===typeof n,e),d=n!==t.Fragment?{...c,...l,ref:a}:{},{children:u}=r,m=(0,t.useMemo)((()=>Xd(u)?u.get():u),[u]);return(0,t.createElement)(n,{...d,children:m})}}function rg(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return jv({...Sv(n)?qv:Gv,preloadedFeatures:e,useRender:ng(r),createVisualElement:t,Component:n})}}const ag={current:null},ig={current:!1};const sg=[...Sm,Ru,zu],og=new WeakMap;const lg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cg{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ud.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Md.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=s;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=mv(n),this.isVariantNode=pv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const e=m[p];void 0!==l[p]&&Xd(e)&&e.set(l[p],!1)}}mount(e){this.current=e,og.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),ig.current||function(){if(ig.current=!0,Mc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ag.current=e.matches;e.addListener(t),t()}else ag.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ag.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){og.delete(this.current),this.projection&&this.projection.unmount(),Id(this.notifyUpdate),Id(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Td.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Md.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),a(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in gv){const t=gv[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<lg.length;n++){const t=lg[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Xd(a))e.addValue(r,a);else if(Xd(i))e.addValue(r,Kd(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,Kd(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Kd(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var a;return void 0!==r&&null!==r&&("string"===typeof r&&(vm(r)||pu(r))?r=parseFloat(r):(a=r,!sg.find(_m(a))&&zu.test(t)&&(r=em(e,t))),this.setBaseTarget(e,Xd(r)?r.get():r)),Xd(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const a=Hc(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);a&&(r=a[e])}if(n&&void 0!==r)return r;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||Xd(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new Hd),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class dg extends cg{constructor(){super(...arguments),this.KeyframeResolver=Cm}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xd(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class ug extends dg{constructor(){super(...arguments),this.type="html",this.renderInstance=Bv}readValueFromInstance(e,t){if(Td.has(t)){const e=Qu(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),a=(xm(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof a?a.trim():a}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Dh(e,n)}build(e,t,n){Av(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return zv(e,t,n)}}class mg extends dg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=uh}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Td.has(t)){const e=Qu(t);return e&&e.default||0}return t=Wv.has(t)?t:Jd(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Hv(e,t,n)}build(e,t,n){Mv(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){Uv(e,t,0,r)}mount(e){this.isSVGTag=Fv(e.tagName),super.mount(e)}}const pg=Fc(rg({...Up,...lv,...Qf,...cv},((e,n)=>Sv(e)?new mg(n):new ug(n,{allowProjection:e!==t.Fragment})))),hg=()=>{var e;const n=(0,w.wA)(),r=(0,a.Zp)(),i=(0,a.zy)(),{bills:s,billsStatus:o}=(0,w.d4)((e=>e.bills)),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)("All"),[m,p]=(0,t.useState)("Today"),[h,f]=(0,t.useState)({from:null,to:null}),[v,g]=(0,t.useState)({from:null,to:null}),[x,y]=(0,t.useState)(null),[b,N]=(0,t.useState)(!1),[_,E]=(0,t.useState)(!1),[C,D]=(0,t.useState)(null),[T,A]=(0,t.useState)(""),[P,O]=(0,t.useState)("All"),[R,I]=(0,t.useState)(!1),[L,F]=(0,t.useState)(null),[B,W]=(0,t.useState)(null),{toast:U}=(0,H.dj)(),$=wc("(max-width: 640px)"),z=wc("(max-width: 1024px)"),[V,q]=(0,t.useState)(!1),[G,K]=(0,t.useState)(null),[Y,Z]=(0,t.useState)("broken");(0,t.useEffect)((()=>{if("idle"===o){const e=new Date,t={startDate:(0,fo.GP)(e,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(e,1),"yyyy-MM-dd")};n(ht({dateRange:t}))}}),[n,o]),(0,t.useEffect)((()=>{var e,t;if(null!==(e=i.state)&&void 0!==e&&e.searchPatientId){c(i.state.patientName||"");const e=s.filter((e=>e.patientInfo._id===i.state.searchPatientId));e.length>0&&ae(e[0])}null!==(t=i.state)&&void 0!==t&&t.filterType&&(O(i.state.filterType),i.state.dateFilter&&(p(i.state.dateFilter),i.state.dateRange&&"Custom"===i.state.dateFilter&&(f(i.state.dateRange),g(i.state.dateRange))))}),[i.state,s]),(0,t.useEffect)((()=>{if("Custom"!==m||"Custom"===m&&h.from&&h.to){const e=(()=>{const e=new Date;switch(m){case"Today":return{startDate:(0,fo.GP)(e,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(e,1),"yyyy-MM-dd")};case"Yesterday":return{startDate:(0,fo.GP)((0,lc.e)(e,1),"yyyy-MM-dd"),endDate:(0,fo.GP)(e,"yyyy-MM-dd")};case"This Week":return{startDate:(0,fo.GP)((0,lc.e)(e,7),"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(e,1),"yyyy-MM-dd")};case"Custom":return h.from&&h.to?{startDate:(0,fo.GP)(h.from,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(h.to,1),"yyyy-MM-dd")}:null;default:return null}})();n(ht({dateRange:e}))}}),[m,h,n]);const J=e=>e.amountPaid===e.totalAmount?"Paid":"Due",Q=(0,t.useMemo)((()=>{const e=G||s;return null===e||void 0===e?void 0:e.filter((e=>{var t,n,r;const a=(null===(t=e.patientInfo)||void 0===t?void 0:t.name.toLowerCase().includes(null===l||void 0===l?void 0:l.toLowerCase()))||(null===(n=e.patientInfo)||void 0===n?void 0:n.phone.includes(l)),i=(null===(r=e.invoiceNumber)||void 0===r?void 0:r.toLowerCase())===(null===l||void 0===l?void 0:l.toLowerCase());let s=!0;const o=new Date(e.updatedAt),c=new Date;switch(m){case"Today":s=tc(o,{start:(0,Jl.o)(c),end:(0,Ql.D)(c)});break;case"Yesterday":s=tc(o,{start:(0,Jl.o)((0,lc.e)(c,1)),end:(0,Ql.D)((0,lc.e)(c,1))});break;case"This Week":s=tc(o,{start:(0,nc.k)(c),end:(0,Ql.D)(c)});break;case"Custom":h.from&&h.to&&(s=tc(o,{start:(0,Jl.o)(h.from),end:(0,Ql.D)(h.to)}))}const u=J(e);let p=!0;"All"!==d&&(p=u===d);let f=!0;return"All"!==P&&(f=e.patientType===P),a&&s&&p&&f||i}))}),[s,G,l,m,h,d,P]),ee=e=>{switch(e){case"Due":return"destructive";case"Paid":return"success";default:return"secondary"}},te=e=>{const t=new Date(e);return vc(t)?(0,fo.GP)(t,"h:mm a"):(0,fo.GP)(t,"MMM dd, hh:mm a")},ne=()=>{v.from&&v.to&&(f(v),p("Custom"))},re=()=>{g({from:null,to:null}),f({from:null,to:null}),p("Today");const e=new Date,t={startDate:(0,fo.GP)(e,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(e,1),"yyyy-MM-dd")};n(ht({dateRange:t}))},ae=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"simple";const r=null===(t=e.services)||void 0===t?void 0:t.filter((e=>{var t;const r=null===(t=e.category)||void 0===t?void 0:t.toLowerCase().includes("room rent");return"broken"===n?"breakup"===e.type||r:"additional"===e.type||"breakup"!==e.type||"additional"===e.type})),a=e.operationName||"";y({...e,services:r,printType:n,operationName:a}),N(!0),W(null)},ie=e=>{r(`/billings/edit/${e._id}`,{state:{billData:e}}),W(null)},se=e=>{F(e),I(!0),W(null)},oe=e=>{const t=(e=>{if(!e.services||0===e.services.length)return["simple"];const t=e.services.some((e=>"breakup"===e.type)),n=e.services.some((e=>"additional"===e.type||"breakup"!==e.type));return t&&n?["broken","simple"]:["simple"]})(e);return 1===t.length?(0,X.jsx)(hi,{onClick:()=>ae(e,"simple"),children:"Print Bill"}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(hi,{onClick:()=>ae(e,"broken"),children:"Print BreakUp Bill"}),(0,X.jsx)(hi,{onClick:()=>ae(e,"simple"),children:"Print Services Bill"})]})},le=e=>{var t,n;let{bill:r}=e;return(0,X.jsx)(k.Zp,{className:"mb-4 hover:bg-blue-50 transition-colors duration-200 cursor-pointer",onClick:e=>{e.target.closest("[data-prevent-view]")||ae(r)},children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex justify-between items-stretch",children:[(0,X.jsxs)("div",{className:"flex-grow",children:[(0,X.jsxs)("div",{className:"flex items-center mb-1",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold capitalize",children:null===(t=r.patientInfo)||void 0===t?void 0:t.name}),(0,X.jsx)(go.E,{variant:"outline",className:"ml-2 text-xs font-bold",children:"OPDProcedure"===r.patientType&&null!==(n=r.opdProcedure)&&void 0!==n&&n.procedureName?`${r.patientType} (${r.opdProcedure.procedureName})`:r.patientType})]}),(0,X.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Invoice No: ",r.invoiceNumber]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total:"}),(0,X.jsxs)("p",{className:"font-sm",children:["\u20b9",r.totalAmount.toLocaleString("en-IN")]})]}),(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Due:"}),(0,X.jsxs)("p",{className:"font-sm text-red-500",children:["\u20b9",(r.totalAmount-r.amountPaid).toLocaleString("en-IN")]})]}),(0,X.jsxs)("div",{className:"flex gap-2 items-center col-span-2",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Date:"}),(0,X.jsx)("p",{className:"font-sm",children:te(r.updatedAt)})]})]})]}),(0,X.jsxs)("div",{className:"flex flex-col justify-between items-end ml-4",children:[(0,X.jsx)("div",{children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","data-prevent-view":!0,children:(0,X.jsx)(mo,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end","data-prevent-view":!0,children:[oe(r),"OPDProcedure"!==r.patientType&&(0,X.jsx)(hi,{onClick:()=>ie(r),children:"Edit Bill"}),(0,X.jsx)(hi,{onClick:()=>se(r),children:"Payments"})]})]})}),(0,X.jsx)(go.E,{variant:ee(J(r)),children:J(r)}),(0,X.jsx)("div",{})]})]})})})};return(0,X.jsxs)(k.Zp,{className:"w-full mx-auto border-0 shadow-none",children:[(0,X.jsx)(k.aR,{className:"px-4 pb-2",children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("div",{className:"flex items-center gap-4",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"hover:bg-slate-100",children:(0,X.jsx)(gc.A,{className:"h-5 w-5"})}),(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{children:"Billing List"}),(0,X.jsx)(k.BT,{children:"Manage and view services billing information"})]})]}),$&&(0,X.jsx)(j.$,{className:"hidden",variant:"outline",size:"icon",onClick:()=>r("/billings/create-service-bill"),children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})]})}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[(0,X.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search bills...",value:l,onChange:e=>(async e=>{if(c(e),e){if(3===e.split("/").filter(Boolean).length){const r=s.find((t=>{var n;return(null===(n=t.invoiceNumber)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()}));if(r)K([r]);else try{const t=await n(bt(e)).unwrap();K(t||null)}catch(t){U({title:"Error",description:"Bill not found with the given invoice number",variant:"destructive"}),K(null)}}}else K(null)})(e.target.value),className:"pl-8 w-full"})]}),$&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>q(!V),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),$?(0,X.jsx)(Lc,{children:V&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(xc,{className:"mr-2 h-4 w-4"}),"All"===d?"Status":d]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Status"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>u("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>u("Paid"),children:"Paid"}),(0,X.jsx)(hi,{onSelect:()=>u("Due"),children:"Due"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===P?"Patient Type":P]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Patient Type"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>O("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>O("IPD"),children:"IPD"}),(0,X.jsx)(hi,{onSelect:()=>O("OPD"),children:"OPD"}),(0,X.jsx)(hi,{onSelect:()=>O("OPDProcedure"),children:"OPD Procedure"}),(0,X.jsx)(hi,{onSelect:()=>O("Lab"),children:"Lab"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"Today"===m?"Today":m]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>p("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>p("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>p("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>p("Custom"),children:"Custom Range"})]})]}),"Custom"===m&&(0,X.jsx)(M.Ur,{from:v.from,to:v.to,onSelect:e=>g(e),onSearch:ne,onCancel:re})]})})}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"ml-auto",children:[(0,X.jsx)(xc,{className:"mr-2 h-4 w-4"}),"All"===d?"Status":d]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Status"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>u("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>u("Paid"),children:"Paid"}),(0,X.jsx)(hi,{onSelect:()=>u("Due"),children:"Due"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===P?"Patient Type":P]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Patient Type"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>O("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>O("IPD"),children:"IPD"}),(0,X.jsx)(hi,{onSelect:()=>O("OPD"),children:"OPD"}),(0,X.jsx)(hi,{onSelect:()=>O("OPDProcedure"),children:"OPD Procedure"}),(0,X.jsx)(hi,{onSelect:()=>O("Lab"),children:"Lab"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"Today"===m?"Today":m]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>p("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>p("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>p("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>p("Custom"),children:"Custom Range"})]})]}),"Custom"===m&&(0,X.jsx)(M.Ur,{from:v.from,to:v.to,onSelect:e=>g(e),onSearch:ne,onCancel:re})]})]}),!$&&(0,X.jsx)("div",{className:" hidden",children:(0,X.jsxs)(j.$,{variant:"outline",onClick:()=>r("/billings/create-service-bill"),children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Create Bill"]})})]}),Q.length>0?$?(0,X.jsx)("div",{children:Q.map((e=>(0,X.jsx)(le,{bill:e},e._id)))}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Invoice No"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Patient Name"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"UHID No."}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Phone"}),!z&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Type"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Date & Time"})]}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Total"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Paid"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Due"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Status"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Created By"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:Q.map((e=>{var t,n,r,a,i;return(0,X.jsxs)(uo.Hj,{className:"cursor-pointer hover:bg-blue-50 transition-colors duration-200",onClick:t=>{t.target.closest("[data-prevent-view]")||ae(e)},children:[(0,X.jsx)(uo.nA,{className:"font-bold",children:e.invoiceNumber||"N/A"}),(0,X.jsx)(uo.nA,{children:null===(t=e.patientInfo)||void 0===t?void 0:t.name}),(0,X.jsx)(uo.nA,{children:(null===e||void 0===e||null===(n=e.patient)||void 0===n?void 0:n.registrationNumber)||(null===e||void 0===e||null===(r=e.patientInfo)||void 0===r?void 0:r.registrationNumber)||"N/A"}),(0,X.jsx)(uo.nA,{children:e.patientInfo.phone}),!z&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nA,{className:"font-bold",children:"OPDProcedure"===e.patientType&&null!==(a=e.opdProcedure)&&void 0!==a&&a.procedureName?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{children:e.patientType}),(0,X.jsx)("div",{children:`(${e.opdProcedure.procedureName})`})]}):e.patientType}),(0,X.jsx)(uo.nA,{children:te(e.updatedAt)})]}),(0,X.jsxs)(uo.nA,{className:"font-bold",children:["\u20b9",e.totalAmount.toLocaleString("en-IN")]}),(0,X.jsxs)(uo.nA,{className:"text-green-600 font-bold",children:["\u20b9",e.amountPaid.toLocaleString("en-IN")]}),(0,X.jsxs)(uo.nA,{className:"text-red-600 font-bold",children:["\u20b9",(e.totalAmount-e.amountPaid).toLocaleString("en-IN")]}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:ee(J(e)),children:J(e)})}),(0,X.jsx)(uo.nA,{children:(null===(i=e.createdBy)||void 0===i?void 0:i.name)||"N/A"}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)(li,{open:B===e._id,onOpenChange:()=>{return t=e._id,void W(B===t?null:t);var t},children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",className:"h-8 w-8 p-0","data-prevent-view":!0,children:(0,X.jsx)(Os,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end","data-prevent-view":!0,children:[oe(e),"OPDProcedure"!==e.patientType&&(0,X.jsx)(hi,{onClick:()=>ie(e),children:"Edit Bill"}),(0,X.jsx)(hi,{onClick:()=>se(e),children:"Payments"})]})]})})]},e._id)}))})]})}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-10",children:[(0,X.jsx)(bc,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-600",children:"No bills found"}),(0,X.jsx)("p",{className:"text-gray-500 mt-2",children:"There are no bills matching your search criteria."})]})]}),(0,X.jsx)(jc,{isOpen:b,setIsOpen:N,billData:x}),(0,X.jsx)(Ce,{open:_,onOpenChange:E,children:(0,X.jsxs)(Ae,{children:[(0,X.jsxs)(Pe,{children:[(0,X.jsxs)(Re,{children:["Delete Bill of ",null===C||void 0===C||null===(e=C.patientInfo)||void 0===e?void 0:e.name,"?"]}),(0,X.jsx)(Me,{children:"This will permanently delete the bill from your records."})]}),(0,X.jsxs)("div",{children:[(0,X.jsxs)("p",{className:"text-sm mb-1",children:["Please type ",(0,X.jsx)("span",{className:"font-semibold",children:"DELETE"})," to confirm."]}),(0,X.jsx)(xn.p,{placeholder:"Type DELETE",value:T,onChange:e=>A(e.target.value)})]}),(0,X.jsxs)(Oe,{children:[(0,X.jsx)(Le,{onClick:()=>A(""),children:"Cancel"}),(0,X.jsx)(Ie,{onClick:()=>{n(vt(C._id)).unwrap().then((()=>{E(!1),D(null),A(""),U({title:"Bill deleted",description:`Bill of ${C.patientInfo.name} has been successfully deleted.`,variant:"success"})})).catch((e=>{U({title:"Error",description:`Failed to delete bill: ${e.message}`,variant:"destructive"})}))},disabled:"DELETE"!==T,children:"Delete"})]})]})}),(0,X.jsx)(Nc,{isOpen:R,setIsOpen:I,billData:L})]})};var fg=__webpack_require__(3400);const vg=e=>{let{ID:t,bookingNumber:n,patient:r,bookingDate:a,type:i,registrationNumber:s,clinicalSummary:o,notes:l,onSelect:c,vitals:d,diagnosis:u,treatment:m,medications:p,additionalInstructions:h,labTests:f,isSelected:v,comorbidities:g,conditionOnAdmission:x,conditionOnDischarge:y}=e;return(0,X.jsxs)("div",{className:"flex items-center justify-between border-b p-4 cursor-pointer hover:bg-gray-100 "+(v?"border-2 border-green-400 bg-green-50":""),onClick:()=>c({ID:t,bookingNumber:n,patient:r,registrationNumber:s,bookingDate:a,type:i,clinicalSummary:o,notes:l,vitals:d,diagnosis:u,treatment:m,medications:p,labTests:f,comorbidities:g,conditionOnAdmission:x,conditionOnDischarge:y}),children:[(0,X.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,X.jsx)(Zs,{children:(0,X.jsx)(Qs,{className:"bg-blue-500 text-white font-semibold",children:(e=>{const t=e.split(" ");return 1===t.length?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()})(r.name)})}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"font-semibold capitalize",children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e.length>t?e.substring(0,t)+"...":e}(r.name)}),(0,X.jsx)("p",{className:"text-sm text-gray-500",children:r.contactNumber}),(0,X.jsxs)("p",{className:"text-xs text-gray-400",children:["Reg: ",s]})]})]}),(0,X.jsxs)("div",{className:"text-right",children:[(0,X.jsx)("p",{className:"text-sm font-semibold",children:(0,fo.GP)(a,"dd-MM-yyyy")}),(0,X.jsx)(go.E,{variant:"outline",children:i})]})]})},gg=e=>{let{onPatientSelect:n}=e;const[r,a]=(0,t.useState)(""),[i,s]=(0,t.useState)("all"),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(new Date),[u,m]=(0,t.useState)(!1),p=(0,w.wA)(),[h,f]=(0,t.useState)([]);(0,t.useEffect)((()=>{if(c){const e=(0,fo.GP)(c,"yyyy-MM-dd");p((0,Be.PP)({startDate:e})).unwrap().then((e=>f(e.data)))}}),[p,c]);const v=null===h||void 0===h?void 0:h.filter((e=>{var t,n,a,s;return((null===(t=e.patient.name)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(null===r||void 0===r?void 0:r.toLowerCase()))||(null===(a=e.bookingNumber)||void 0===a||null===(s=a.toString())||void 0===s?void 0:s.includes(r)))&&("all"===i||e.type.toLowerCase()===i)})),g=e=>{l(e.ID),n(e)};return(0,X.jsxs)(k.Zp,{className:"h-full flex flex-col",children:[(0,X.jsx)("div",{className:"mb-4",children:(0,X.jsxs)(eo.AM,{open:u,onOpenChange:m,children:[(0,X.jsx)(eo.Wv,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:(0,Ee.cn)("w-[280px] justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[(0,X.jsx)(oi.CTc,{className:"mr-2 h-4 w-4"}),c?(0,fo.GP)(c,"PPP"):(0,X.jsx)("span",{children:"Pick a date"})]})}),(0,X.jsx)(eo.hl,{className:"w-auto p-0",children:(0,X.jsx)(fg.V,{mode:"single",selected:c,onSelect:e=>{d(e),m(!1)},initialFocus:!0})})]})}),(0,X.jsxs)(Uo,{value:i,onValueChange:s,className:"w-full flex-grow flex flex-col",children:[(0,X.jsxs)($o,{className:"h-20 grid grid-cols-3 gap-2",children:[(0,X.jsx)(zo,{value:"all",children:(0,X.jsxs)("div",{className:"flex flex-col justify-between items-center py-1 gap-1",children:[(0,X.jsx)("span",{className:"hidden lg:block",children:"All Bookings"}),(0,X.jsx)("span",{className:"lg:hidden",children:"All"}),(0,X.jsx)("span",{className:"bg-blue-500 text-white rounded-lg w-10 h-6 flex items-center justify-center",children:h.length})]})}),(0,X.jsx)(zo,{value:"opd",children:(0,X.jsxs)("div",{className:"flex flex-col justify-between items-center py-1 gap-1",children:[(0,X.jsx)("span",{children:"OPD"}),(0,X.jsx)("span",{className:"bg-green-500 text-white rounded-lg w-10 h-6 flex items-center justify-center",children:null===h||void 0===h?void 0:h.filter((e=>"opd"===e.type.toLowerCase())).length})]})}),(0,X.jsx)(zo,{value:"ipd",children:(0,X.jsxs)("div",{className:"flex flex-col justify-between items-center py-1 gap-1",children:[(0,X.jsx)("span",{children:"IPD"}),(0,X.jsx)("span",{className:"bg-yellow-500 text-white rounded-lg w-10 h-6 flex items-center justify-center",children:h.filter((e=>"ipd"===e.type.toLowerCase())).length})]})})]}),(0,X.jsx)("div",{className:"px-2 pt-1",children:(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Ps.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,X.jsx)(xn.p,{type:"text",placeholder:"Search bookings...",value:r,onChange:e=>a(e.target.value),className:"pl-10 pr-4 py-2 w-full"})]})}),(0,X.jsxs)("div",{className:"flex-grow overflow-auto",children:[(0,X.jsx)(Ho,{value:"all",children:v.map((e=>(0,X.jsx)(vg,{ID:e._id,bookingNumber:e.bookingNumber,patient:e.patient,bookingDate:e.bookingDate,type:e.type,vitals:e.vitals,diagnosis:e.diagnosis,clinicalSummary:e.clinicalSummary,notes:e.notes,treatment:e.treatment,medications:e.medications,labTests:e.labTests,onSelect:g,comorbidities:e.comorbidities,conditionOnAdmission:e.conditionOnAdmission,conditionOnDischarge:e.conditionOnDischarge,isSelected:o===e._id,registrationNumber:e.registrationNumber},e._id)))}),(0,X.jsx)(Ho,{value:"opd",children:v.filter((e=>"opd"===e.type.toLowerCase())).map((e=>(0,X.jsx)(vg,{ID:e._id,bookingNumber:e.bookingNumber,patient:e.patient,bookingDate:e.bookingDate,reasonForVisit:e.reasonForVisit,type:e.type,vitals:e.vitals,diagnosis:e.diagnosis,treatment:e.treatment,medications:e.medications,additionalInstructions:e.additionalInstructions,labTests:e.labTests,onSelect:g,comorbidities:e.comorbidities,isSelected:o===e._id,registrationNumber:e.registrationNumber},e._id)))}),(0,X.jsx)(Ho,{value:"ipd",children:v.filter((e=>"ipd"===e.type.toLowerCase())).map((e=>(0,X.jsx)(vg,{ID:e._id,bookingNumber:e.bookingNumber,patient:e.patient,bookingDate:e.bookingDate,clinicalSummary:e.clinicalSummary,notes:e.notes,type:e.type,vitals:e.vitals,diagnosis:e.diagnosis,treatment:e.treatment,medications:e.medications,additionalInstructions:e.additionalInstructions,labTests:e.labTests,onSelect:g,comorbidities:e.comorbidities,isSelected:o===e._id,registrationNumber:e.registrationNumber},e._id)))})]})]})]})};var xg=__webpack_require__(781);const yg=(0,t.forwardRef)(((e,n)=>{const{patient:r,vitals:a,prescription:i,labTests:s,selectedComorbidities:o,hospital:l,templateString:c}=e,d=(0,w.d4)((e=>e.templates.headerTemplateArray)),u=(null===d||void 0===d?void 0:d.length)>0?d[0].value:wn.h,m=(0,bn.G)(u||wn.h),p=new Function("React","HospitalHeader","format",`return (${c});`);try{return p(t,m,fo.GP)(r,a,i,s,o,l,n)}catch(h){return console.error("Error rendering OPD prescription:",h),t.createElement("div",null,"Error rendering OPD prescription template")}}));function bg(e){var n,r;let{patient:a}=e;const[i,s]=(0,t.useState)({temperature:"",heartRate:"",bloodPressure:"",respiratoryRate:"",height:"",weight:"",oxygenSaturation:""}),o=(0,w.d4)((e=>e.hospital.hospitalInfo)),{labTestsTemplate:l}=(0,w.d4)((e=>e.templates)),c=l.map((e=>({name:e.name}))),[d,u]=(0,t.useState)({diagnosis:"",treatment:"",medications:[{name:"",frequency:"0-0-0",duration:""}],additionalInstructions:""}),[m,p]=(0,t.useState)([]),h=(0,w.wA)(),[f,v]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),{diagnosisTemplate:y=[],comorbidities:N=[],medicinelist:_=[],status:S}=(0,w.d4)((e=>e.templates)),[E,D]=(0,t.useState)(!1);(0,t.useEffect)((()=>{"idle"===S&&h((0,R.QK)())}),[S,h]);const[k,A]=(0,t.useState)([]),P=(0,w.d4)((e=>e.pharmacy.itemsStatus)),O=(0,w.d4)((e=>e.patients.prescriptionUpdateStatus)),{toast:M}=(0,H.dj)(),I=(0,t.useRef)(),L=(0,yn.useReactToPrint)({content:()=>I.current,onBeforeGetContent:()=>(D(!0),new Promise((e=>{setTimeout((()=>{D(!1),e()}),500)}))),pageStyle:"\n    @media print {\n     @page {\n          size: A4;\n          margin: 20mm;\n        }\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;   \n        }\n        .print-content {\n          position: relative;\n          min-height: 100vh;\n          padding: 25px;\n        }\n      }"});(0,t.useEffect)((()=>{"idle"===P&&h((0,it.LN)())}),[h,P]),(0,t.useEffect)((()=>{if(a){var e,t,n,r,i,o,l,c,d,m,h;s({temperature:(null===(e=a.vitals)||void 0===e?void 0:e.temperature)||"",heartRate:(null===(t=a.vitals)||void 0===t?void 0:t.heartRate)||"",bloodPressure:(null===(n=a.vitals)||void 0===n?void 0:n.bloodPressure)||"",respiratoryRate:(null===(r=a.vitals)||void 0===r?void 0:r.respiratoryRate)||"",height:(null===(i=a.vitals)||void 0===i?void 0:i.height)||"",weight:(null===(o=a.vitals)||void 0===o?void 0:o.weight)||"",oxygenSaturation:(null===(l=a.vitals)||void 0===l?void 0:l.oxygenSaturation)||""}),u({diagnosis:a.diagnosis||"",treatment:a.treatment||"",medications:(null===(c=a.medications)||void 0===c?void 0:c.length)>0?a.medications:[{name:"",frequency:"0-0-0",duration:""}],additionalInstructions:a.additionalInstructions||""});const f=(null===(d=a.labTests)||void 0===d?void 0:d.map((e=>({name:e}))))||[];p(f),v(f);const g=(null===(m=a.comorbidities)||void 0===m?void 0:m.map((e=>({name:e}))))||[];x(g);const y=(null===(h=a.diagnosis)||void 0===h?void 0:h.split(",").map((e=>({name:e.trim()}))))||[];A(y)}}),[a]);const F=(0,t.useMemo)((()=>_.map((e=>({name:e})))),[_]),B=e=>{const{name:t,value:n}=e.target;s((e=>{const r={...e,[t]:n};if(("height"===t||"weight"===t)&&r.height&&r.weight){const e=r.height/100,t=(r.weight/(e*e)).toFixed(1);r.bmi=t}return r}))},W=e=>{u({...d,[e.target.name]:e.target.value})},U=(e,t,n)=>{const r=[...d.medications];r[e]={...r[e],[t]:n},u({...d,medications:r})},$=(e,t)=>{U(e,"name",t.name)},z=()=>{u({...d,medications:[...d.medications,{name:"",frequency:"0-0-0",duration:""}]})},V=e=>{const t=d.medications.filter(((t,n)=>n!==e));u({...d,medications:t})},q=e=>{x(e)},G=e=>{x(g.filter((t=>t.name!==e)))},K=e=>{v(e),p(e)},Y=e=>{v(f.filter((t=>t.name!==e))),p(m.filter((t=>t.name!==e)))},Z=e=>{A(e),u((t=>({...t,diagnosis:e.map((e=>e.name)).join(", ")})))},J=e=>{const t=k.filter((t=>t.name!==e));A(t),u((e=>({...e,diagnosis:t.map((e=>e.name)).join(", ")})))};return(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-300 pb-2",children:[(0,X.jsxs)("h2",{className:"text-xl font-bold hidden lg:block",children:["Prescription for: ",a.patient.name," "]}),(0,X.jsxs)("h2",{className:"text-md font-bold lg:hidden",children:[a.patient.name," "]}),(0,X.jsxs)("div",{className:"space-x-2 flex",children:[(0,X.jsx)(j.$,{className:"font-semibold hidden lg:block",size:"sm",variant:"outline",onClick:async()=>{try{await L()}catch(e){console.error("Print failed:",e),M({title:"Print Error",description:"Failed to generate prescription preview",variant:"destructive"})}},children:"Preview PDF"}),(0,X.jsx)(j.$,{className:"font-semibold",size:"sm",disabled:"loading"===O,onClick:async()=>{if(a.ID)try{await h((0,Be.AX)({selectedVisitId:a.ID,vitals:i,prescription:d,selectedPatientType:"OPD",labTests:f.map((e=>e.name)),comorbidities:g.map((e=>e.name))})).unwrap(),M({variant:"success",title:"Saved Successfully!",description:"Prescription updated successfully!"})}catch(e){console.error("Error saving prescription:",e),M({title:"Error",description:"Failed to save prescription. Please try again.",variant:"destructive"})}else M({title:"Error",description:"No visit selected!",variant:"destructive"})},children:"loading"===O?"Saving...":"Save"})]})]}),(0,X.jsxs)(b.F,{className:"h-[calc(100vh-125px)] md:pr-4",children:[(0,X.jsxs)(Uo,{defaultValue:"vitals",className:"w-full lg:hidden",children:[(0,X.jsxs)($o,{className:"grid w-full grid-cols-4",children:[(0,X.jsx)(zo,{value:"vitals",children:"Vitals"}),(0,X.jsx)(zo,{value:"diagnosis",children:"Diagnosis"}),(0,X.jsx)(zo,{value:"tests",children:"Tests"}),(0,X.jsx)(zo,{className:"px-2",value:"medications",children:"Medications"})]}),(0,X.jsx)(Ho,{value:"vitals",children:(0,X.jsxs)("div",{className:"px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"temperature",className:"text-xs font-semibold",children:"Temperature (\xb0C)"}),(0,X.jsx)(xn.p,{id:"temperature",name:"temperature",value:i.temperature,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"heartRate",className:"text-xs font-semibold",children:"Heart Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"heartRate",name:"heartRate",value:i.heartRate,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"bloodPressure",className:"text-xs font-semibold",children:"Blood Pressure (mmHg)"}),(0,X.jsx)(xn.p,{id:"bloodPressure",name:"bloodPressure",value:i.bloodPressure,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"respiratoryRate",className:"text-xs font-semibold",children:"Respiratory Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"respiratoryRate",name:"respiratoryRate",value:i.respiratoryRate,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"height",className:"text-xs font-semibold",children:"Height (cm)"}),(0,X.jsx)(xn.p,{id:"height",name:"height",value:i.height,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"weight",className:"text-xs font-semibold",children:"Weight (kg)"}),(0,X.jsx)(xn.p,{id:"weight",name:"weight",value:i.weight,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"bmi",className:"text-xs font-semibold",children:"BMI"}),(0,X.jsx)(xn.p,{id:"bmi",name:"bmi",value:i.bmi,readOnly:!0,className:"h-8 text-sm font-medium bg-gray-100"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"oxygenSaturation",className:"text-xs font-semibold",children:"O\u2082 Saturation (%)"}),(0,X.jsx)(xn.p,{id:"oxygenSaturation",name:"oxygenSaturation",value:i.oxygenSaturation,onChange:B,className:"h-8 text-sm font-medium"})]})]})]})}),(0,X.jsx)(Ho,{value:"diagnosis",children:(0,X.jsxs)("div",{className:"pt-4 p-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Diagnosis and Treatment"}),(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"diagnosis",className:"text-xs font-semibold",children:"Diagnosis"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:y.map((e=>({name:e}))),selectedValues:k,setSelectedValues:Z,placeholder:"Select diagnosis"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:k.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:k.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>J(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No diagnoses selected"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"treatment",className:"text-xs font-semibold",children:"Treatment"}),(0,X.jsx)(xo.T,{id:"treatment",name:"treatment",value:d.treatment,onChange:W,placeholder:"Enter recommended treatment",className:"min-h-[100px] text-sm font-medium"})]})]})]})}),(0,X.jsx)(Ho,{value:"tests",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 px-1 gap-4 bg-gray-50",children:[(0,X.jsxs)("div",{className:"pt-2 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Recommended Lab Tests"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:c,selectedValues:f,setSelectedValues:K,placeholder:"Select lab tests"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:f.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:f.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>Y(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No lab tests selected"})})]})]}),(0,X.jsxs)("div",{className:"pt-2 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Comorbidities"}),(0,X.jsxs)("div",{className:" space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:N.map((e=>({name:e}))),selectedValues:g,setSelectedValues:q,placeholder:"Select comorbidities"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:(null===g||void 0===g?void 0:g.length)>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:null===g||void 0===g?void 0:g.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:["ayush",(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>G(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No comorbidities selected"})})]})]})]})}),(0,X.jsx)(Ho,{value:"medications",children:(0,X.jsxs)("div",{className:"pt-0 px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Medications"}),(0,X.jsxs)("div",{className:"space-y-4",children:[null===(n=d.medications)||void 0===n?void 0:n.map(((e,t)=>(0,X.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 gap-2 mb-2",children:[(0,X.jsx)(bi.A,{suggestions:F,placeholder:"Select medicine",value:e.name,setValue:e=>U(t,"name",e),onSuggestionSelect:e=>$(t,e)}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(xn.p,{placeholder:"Frequency (e.g., 1-0-1)",value:e.frequency,onChange:e=>U(t,"frequency",e.target.value),className:"font-medium"}),(0,X.jsx)(xn.p,{placeholder:"Duration",value:e.duration,onChange:e=>U(t,"duration",e.target.value),className:"font-medium"})]})]}),(0,X.jsxs)(j.$,{variant:"destructive",size:"sm",onClick:()=>V(t),disabled:1===d.medications.length,className:"w-full mt-2",children:[(0,X.jsx)(C.A,{className:"h-4 w-4 mr-2"})," Remove"]})]},t))),(0,X.jsxs)(j.$,{onClick:z,variant:"outline",className:"w-full font-semibold",children:[(0,X.jsx)(xg.A,{className:"h-4 w-4 mr-2"})," Add Medication"]})]}),(0,X.jsxs)("div",{className:"space-y-2 pt-6",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Additional Instructions"}),(0,X.jsx)(xo.T,{id:"additionalInstructions",name:"additionalInstructions",value:d.additionalInstructions,onChange:W,placeholder:"Any additional instructions or notes",className:"min-h-[100px] text-sm font-medium"})]})]})})]}),(0,X.jsxs)("div",{className:"hidden lg:block",children:[(0,X.jsxs)("div",{className:"px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"temperature",className:"text-xs font-semibold",children:"Temperature (\xb0F)"}),(0,X.jsx)(xn.p,{id:"temperature",name:"temperature",value:i.temperature,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"heartRate",className:"text-xs font-semibold",children:"Heart Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"heartRate",name:"heartRate",value:i.heartRate,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"bloodPressure",className:"text-xs font-semibold",children:"Blood Pressure (mmHg)"}),(0,X.jsx)(xn.p,{id:"bloodPressure",name:"bloodPressure",value:i.bloodPressure,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"respiratoryRate",className:"text-xs font-semibold",children:"Respiratory Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"respiratoryRate",name:"respiratoryRate",value:i.respiratoryRate,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"height",className:"text-xs font-semibold",children:"Height (cm)"}),(0,X.jsx)(xn.p,{id:"height",name:"height",value:i.height,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"weight",className:"text-xs font-semibold",children:"Weight (kg)"}),(0,X.jsx)(xn.p,{id:"weight",name:"weight",value:i.weight,onChange:B,className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"bmi",className:"text-xs font-semibold",children:"BMI"}),(0,X.jsx)(xn.p,{id:"bmi",name:"bmi",value:i.bmi,readOnly:!0,className:"h-8 text-sm font-medium bg-gray-100"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"oxygenSaturation",className:"text-xs font-semibold",children:"O\u2082 Saturation (%)"}),(0,X.jsx)(xn.p,{id:"oxygenSaturation",name:"oxygenSaturation",value:i.oxygenSaturation,onChange:B,className:"h-8 text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"pt-4 p-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Diagnosis and Treatment"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"diagnosis",className:"text-xs font-semibold",children:"Diagnosis"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:y.map((e=>({name:e}))),selectedValues:k,setSelectedValues:Z,placeholder:"Select diagnosis"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:k.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:k.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>J(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No diagnoses selected"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"treatment",className:"text-xs font-semibold",children:"Treatment"}),(0,X.jsx)(xo.T,{id:"treatment",name:"treatment",value:d.treatment,onChange:W,placeholder:"Enter recommended treatment",className:"min-h-[100px] text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 px-1 gap-4 bg-gray-50",children:[(0,X.jsxs)("div",{className:"pt-2 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Recommended Lab Tests"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:c,selectedValues:f,setSelectedValues:K,placeholder:"Select lab tests"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:f.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:f.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>Y(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No lab tests selected"})})]})]}),(0,X.jsxs)("div",{className:"pt-2 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Comorbidities"}),(0,X.jsxs)("div",{className:" space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:N.map((e=>({name:e}))),selectedValues:g,setSelectedValues:q,placeholder:"Select comorbidities"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:g.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:g.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>G(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No comorbidities selected"})})]})]})]}),(0,X.jsxs)("div",{className:"pt-4 px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Medications"}),(0,X.jsxs)("div",{children:[null===(r=d.medications)||void 0===r?void 0:r.map(((e,t)=>(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[(0,X.jsx)(bi.A,{suggestions:F,placeholder:"Select medicine",value:e.name,setValue:e=>U(t,"name",e),onSuggestionSelect:e=>$(t,e)}),(0,X.jsx)(xn.p,{placeholder:"0-0-0",value:e.frequency,onChange:e=>U(t,"frequency",e.target.value),className:"font-medium"}),(0,X.jsx)(xn.p,{placeholder:"Duration",value:e.duration,onChange:e=>U(t,"duration",e.target.value),className:"font-medium"}),(0,X.jsx)(j.$,{variant:"destructive",size:"icon",onClick:()=>V(t),disabled:1===d.medications.length,children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})]},t))),(0,X.jsxs)(j.$,{onClick:z,variant:"outline",className:"mt-2 font-semibold",children:[(0,X.jsx)(xg.A,{className:"h-4 w-4 mr-2"})," Add Medication"]})]})]}),(0,X.jsxs)("div",{className:"space-y-2 px-1 pt-4 mb-4 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Additional Instructions"}),(0,X.jsx)(xo.T,{id:"additionalInstructions",name:"additionalInstructions",value:d.additionalInstructions,onChange:W,placeholder:"Any additional instructions or notes",className:"min-h-[100px] text-sm font-medium"})]})]})]}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)(yg,{patient:a.patient,vitals:i,prescription:d,labTests:m.map((e=>e.name)),selectedComorbidities:g,hospital:o,ref:I})})]})}function wg(e){var n,r,a;let{patient:i}=e;const[s,o]=(0,t.useState)({bookingDate:i.bookingDate,bookingNumber:i.bookingNumber,patientName:i.patient.name,contactNumber:i.patient.contactNumber,registrationNumber:i.patient._id,patient:i.patient._id,diagnosis:"",notes:i.notes||"",clinicalSummary:i.clinicalSummary,comorbidities:(null===(n=i.comorbidities)||void 0===n?void 0:n.map((e=>({name:e}))))||[],comorbidityHandling:"separate",conditionOnAdmission:i.conditionOnAdmission||"",conditionOnDischarge:i.conditionOnDischarge||"",treatment:i.treatment||"",medications:i.medications.length>0?i.medications:[{name:"",frequency:"0-0-0",duration:""}],labTests:i.labTests.length>0?i.labTests.map((e=>({name:e}))):[{name:""}],vitals:{admission:{bloodPressure:i.vitals.admission.bloodPressure||"",heartRate:i.vitals.admission.heartRate||"",temperature:i.vitals.admission.temperature||"",oxygenSaturation:i.vitals.admission.oxygenSaturation||"",respiratoryRate:i.vitals.admission.respiratoryRate||"",weight:i.vitals.admission.weight||"",height:i.vitals.admission.height||""},discharge:{bloodPressure:i.vitals.discharge.bloodPressure||"",heartRate:i.vitals.discharge.heartRate||"",temperature:i.vitals.discharge.temperature||"",oxygenSaturation:i.vitals.discharge.oxygenSaturation||"",respiratoryRate:i.vitals.discharge.respiratoryRate||""},weight:i.vitals.weight||"",height:i.vitals.height||""},status:"Admitted",assignedDoctor:"",assignedRoom:"",assignedBed:"",insuranceDetails:{provider:"",policyNumber:"",coverageType:""}}),{labTestsTemplate:l}=(0,w.d4)((e=>e.templates)),c=l.map((e=>({name:e.name})));(0,t.useEffect)((()=>{if(i){o((e=>{var t;return{...e,bookingDate:i.bookingDate,bookingNumber:i.bookingNumber,patientName:i.patient.name,contactNumber:i.patient.contactNumber,registrationNumber:i.patient._id,comorbidities:(null===(t=i.comorbidities)||void 0===t?void 0:t.map((e=>({name:e}))))||[],patient:i.patient._id,diagnosis:i.diagnosis||"",notes:i.notes||"",clinicalSummary:i.clinicalSummary,treatment:i.treatment||"",medications:i.medications.length>0?i.medications:[{name:"",frequency:"0-0-0",duration:""}],labTests:i.labTests.length>0?i.labTests.map((e=>({name:e}))):[{name:""}],vitals:{admission:{bloodPressure:i.vitals.admission.bloodPressure||"",heartRate:i.vitals.admission.heartRate||"",temperature:i.vitals.admission.temperature||"",oxygenSaturation:i.vitals.admission.oxygenSaturation||"",respiratoryRate:i.vitals.admission.respiratoryRate||"",weight:i.vitals.admission.weight||"",height:i.vitals.admission.height||""},discharge:{bloodPressure:i.vitals.discharge.bloodPressure||"",heartRate:i.vitals.discharge.heartRate||"",temperature:i.vitals.discharge.temperature||"",oxygenSaturation:i.vitals.discharge.oxygenSaturation||"",respiratoryRate:i.vitals.discharge.respiratoryRate||""},weight:i.vitals.weight||"",height:i.vitals.height||""},status:"Admitted",assignedDoctor:"",assignedRoom:"",assignedBed:"",insuranceDetails:{provider:"",policyNumber:"",coverageType:""}}}));const e=i.diagnosis?i.diagnosis.split(",").map((e=>({name:e.trim()}))):[];f(e)}}),[i]);const d=(0,w.wA)(),{toast:u}=(0,H.dj)(),m=(0,w.d4)((e=>e.pharmacy.itemsStatus)),p=(0,w.d4)((e=>e.patients.prescriptionUpdateStatus)),[h,f]=(0,t.useState)([]),{diagnosisTemplate:v=[],comorbidities:g=[],medicinelist:x=[],status:y}=(0,w.d4)((e=>e.templates));(0,t.useEffect)((()=>{"idle"===m&&d((0,it.LN)())}),[d,m]),(0,t.useEffect)((()=>{"idle"===y&&d((0,R.QK)())}),[y,d]);const N=(0,t.useMemo)((()=>x.map((e=>({name:e})))),[x]),_=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))},S=(e,t)=>{const{name:n,value:r}=e.target;o((e=>{const a={...e.vitals,[t]:{...e.vitals[t],[n]:r}};if("admission"===t&&("height"===n||"weight"===n)){const t="height"===n?parseFloat(r):parseFloat(e.vitals.admission.height),i="weight"===n?parseFloat(r):parseFloat(e.vitals.admission.weight);if(t&&i){const e=t/100,n=(i/(e*e)).toFixed(1);a.admission.bmi=n}}return{...e,vitals:a}}))},E=(e,t,n)=>{o((r=>{const a=[...r.medications];return a[e]={...a[e],[t]:n},{...r,medications:a}}))},D=(e,t)=>{E(e,"name",t.name)},k=()=>{o((e=>({...e,medications:[...e.medications,{name:"",frequency:"",duration:""}]})))},A=e=>{o((t=>({...t,medications:t.medications.filter(((t,n)=>n!==e))})))},P=e=>{o((t=>({...t,labTests:t.labTests.filter(((t,n)=>n!==e))})))},O=e=>{o((t=>({...t,comorbidities:e})))},M=e=>{o((t=>({...t,comorbidities:t.comorbidities.filter((t=>t.name!==e))})))},I=e=>{f(e),o((t=>({...t,diagnosis:e.map((e=>e.name)).join(", ")})))},L=e=>{const t=h.filter((t=>t.name!==e));f(t),o((e=>({...e,diagnosis:t.map((e=>e.name)).join(", ")})))};return(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-300 pb-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsxs)("h2",{className:"text-xl font-bold hidden lg:block",children:["IPD Admission for: ",s.patientName]}),(0,X.jsx)("h2",{className:"text-md font-bold lg:hidden",children:s.patientName})]}),(0,X.jsx)("div",{className:"space-x-2",children:(0,X.jsx)(j.$,{className:"font-semibold",size:"sm",onClick:async()=>{if(i.ID)try{await d((0,Be.AX)({selectedVisitId:i.ID,vitals:s.vitals,clinicalSummary:s.clinicalSummary,notes:s.notes,prescription:{diagnosis:s.diagnosis,treatment:s.treatment,medications:s.medications},conditionOnAdmission:s.conditionOnAdmission,conditionOnDischarge:s.conditionOnDischarge,comorbidities:s.comorbidities.map((e=>e.name)),selectedPatientType:"IPD",labTests:s.labTests.map((e=>e.name))})).unwrap(),u({variant:"success",title:"Saved Successfully!",description:"IPD prescription saved successfully!"})}catch(e){console.error("Error saving IPD prescription:",e),u({title:"Error",description:"Failed to save IPD prescription. Please try again.",variant:"destructive"})}else u({title:"Error",description:"No patient selected!",variant:"destructive"})},disabled:"loading"===p,children:"loading"===p?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})})]}),(0,X.jsxs)(b.F,{className:"h-[calc(100vh-125px)] md:pr-4",children:[(0,X.jsxs)(Uo,{defaultValue:"vitals",className:"w-full lg:hidden",children:[(0,X.jsxs)($o,{className:"grid w-full grid-cols-4",children:[(0,X.jsx)(zo,{value:"vitals",children:"Vitals"}),(0,X.jsx)(zo,{value:"diagnosis",children:"Diagnosis"}),(0,X.jsx)(zo,{value:"lab",children:"Tests"}),(0,X.jsx)(zo,{value:"medications",children:"Medications"})]}),(0,X.jsxs)(Ho,{value:"vitals",children:[(0,X.jsxs)("div",{className:"px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Admission Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-temperature",className:"text-xs font-semibold",children:"Temperature (\xb0C)"}),(0,X.jsx)(xn.p,{id:"admission-temperature",name:"temperature",value:s.vitals.admission.temperature,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-heartRate",className:"text-xs font-semibold",children:"Heart Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"admission-heartRate",name:"heartRate",value:s.vitals.admission.heartRate,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-bloodPressure",className:"text-xs font-semibold",children:"Blood Pressure (mmHg)"}),(0,X.jsx)(xn.p,{id:"admission-bloodPressure",name:"bloodPressure",value:s.vitals.admission.bloodPressure,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-respiratoryRate",className:"text-xs font-semibold",children:"Respiratory Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"admission-respiratoryRate",name:"respiratoryRate",value:s.vitals.admission.respiratoryRate,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-height",className:"text-xs font-semibold",children:"Height (cm)"}),(0,X.jsx)(xn.p,{id:"admission-height",name:"height",value:s.vitals.admission.height,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-weight",className:"text-xs font-semibold",children:"Weight (kg)"}),(0,X.jsx)(xn.p,{id:"admission-weight",name:"weight",value:s.vitals.admission.weight,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-bmi",className:"text-xs font-semibold",children:"BMI"}),(0,X.jsx)(xn.p,{id:"admission-bmi",name:"bmi",value:s.vitals.admission.bmi||"",readOnly:!0,className:"h-8 text-sm font-medium bg-gray-100"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-oxygenSaturation",className:"text-xs font-semibold",children:"O\u2082 Saturation (%)"}),(0,X.jsx)(xn.p,{id:"admission-oxygenSaturation",name:"oxygenSaturation",value:s.vitals.admission.oxygenSaturation,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"pt-4 px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Discharge Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-temperature",className:"text-xs font-semibold",children:"Temperature (\xb0C)"}),(0,X.jsx)(xn.p,{id:"discharge-temperature",name:"temperature",value:s.vitals.discharge.temperature,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-heartRate",className:"text-xs font-semibold",children:"Heart Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"discharge-heartRate",name:"heartRate",value:s.vitals.discharge.heartRate,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-bloodPressure",className:"text-xs font-semibold",children:"Blood Pressure (mmHg)"}),(0,X.jsx)(xn.p,{id:"discharge-bloodPressure",name:"bloodPressure",value:s.vitals.discharge.bloodPressure,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-respiratoryRate",className:"text-xs font-semibold",children:"Respiratory Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"discharge-respiratoryRate",name:"respiratoryRate",value:s.vitals.discharge.respiratoryRate,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-oxygenSaturation",className:"text-xs font-semibold",children:"O\u2082 Saturation (%)"}),(0,X.jsx)(xn.p,{id:"discharge-oxygenSaturation",name:"oxygenSaturation",value:s.vitals.discharge.oxygenSaturation,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]})]})]})]}),(0,X.jsxs)(Ho,{value:"diagnosis",children:[(0,X.jsxs)("div",{className:"pt-0 p-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Diagnosis and Treatment"}),(0,X.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"diagnosis",className:"text-xs font-semibold",children:"Diagnosis"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:v.map((e=>({name:e}))),selectedValues:h,setSelectedValues:I,placeholder:"Select diagnosis"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:h.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:h.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>L(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No diagnoses selected"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"treatment",className:"text-xs font-semibold",children:"Treatment"}),(0,X.jsx)(xo.T,{id:"treatment",name:"treatment",value:s.treatment,onChange:_,placeholder:"Enter recommended treatment",className:"min-h-[100px] text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"pt-4 p-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Clinical Summary"}),(0,X.jsx)(xo.T,{name:"clinicalSummary",value:s.clinicalSummary,onChange:_,placeholder:"Enter clinical summary",className:"min-h-[80px] text-sm font-medium"})]}),(0,X.jsxs)("div",{className:"space-y-2 px-1 pt-4 mb-4 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Additional Notes"}),(0,X.jsx)(xo.T,{name:"notes",value:s.notes,onChange:_,placeholder:"Any additional notes",className:"min-h-[80px] text-sm font-medium"})]})]}),(0,X.jsx)(Ho,{value:"lab",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 gap-4 px-1 pt-4 bg-gray-50",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Lab Tests"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:c,selectedValues:s.labTests,setSelectedValues:e=>o((t=>({...t,labTests:e}))),placeholder:"Select lab tests"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:s.labTests.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:s.labTests.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>P(t)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No lab tests selected"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Comorbidities"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:null===g||void 0===g?void 0:g.map((e=>({name:e}))),selectedValues:s.comorbidities,setSelectedValues:O,placeholder:"Select comorbidities"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:s.comorbidities.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:s.comorbidities.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 text-xs rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>M(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No comorbidities selected"})})]})]})]})}),(0,X.jsxs)(Ho,{value:"medications",children:[(0,X.jsxs)("div",{className:"pt-0 px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Medications"}),(0,X.jsxs)("div",{className:"space-y-4",children:[null===(r=s.medications)||void 0===r?void 0:r.map(((e,t)=>(0,X.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 gap-2 mb-2",children:[(0,X.jsx)(bi.A,{suggestions:N,placeholder:"Select medicine",value:e.name,setValue:e=>E(t,"name",e),onSuggestionSelect:e=>D(t,e)}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(xn.p,{placeholder:"Frequency (e.g., 1-0-1)",value:e.frequency,onChange:e=>E(t,"frequency",e.target.value),className:"font-medium"}),(0,X.jsx)(xn.p,{placeholder:"Duration",value:e.duration,onChange:e=>E(t,"duration",e.target.value),className:"font-medium"})]})]}),(0,X.jsxs)(j.$,{variant:"destructive",size:"sm",onClick:()=>A(t),disabled:1===s.medications.length,className:"w-full mt-2",children:[(0,X.jsx)(C.A,{className:"h-4 w-4 mr-2"})," Remove"]})]},t))),(0,X.jsxs)(j.$,{onClick:k,variant:"outline",className:"w-full font-semibold",children:[(0,X.jsx)(xg.A,{className:"h-4 w-4 mr-2"})," Add Medication"]})]})]}),(0,X.jsxs)("div",{className:"space-y-2 px-1 pt-4 mb-4 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Additional Notes"}),(0,X.jsx)(xo.T,{name:"notes",value:s.notes,onChange:_,placeholder:"Any additional notes",className:"min-h-[100px] text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"hidden lg:block",children:[(0,X.jsxs)("div",{className:"px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Admission Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-temperature",className:"text-xs font-semibold",children:"Temperature (\xb0C)"}),(0,X.jsx)(xn.p,{id:"admission-temperature",name:"temperature",value:s.vitals.admission.temperature,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-heartRate",className:"text-xs font-semibold",children:"Heart Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"admission-heartRate",name:"heartRate",value:s.vitals.admission.heartRate,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-bloodPressure",className:"text-xs font-semibold",children:"Blood Pressure (mmHg)"}),(0,X.jsx)(xn.p,{id:"admission-bloodPressure",name:"bloodPressure",value:s.vitals.admission.bloodPressure,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-respiratoryRate",className:"text-xs font-semibold",children:"Respiratory Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"admission-respiratoryRate",name:"respiratoryRate",value:s.vitals.admission.respiratoryRate,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-height",className:"text-xs font-semibold",children:"Height (cm)"}),(0,X.jsx)(xn.p,{id:"admission-height",name:"height",value:s.vitals.admission.height,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-weight",className:"text-xs font-semibold",children:"Weight (kg)"}),(0,X.jsx)(xn.p,{id:"admission-weight",name:"weight",value:s.vitals.admission.weight,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-bmi",className:"text-xs font-semibold",children:"BMI"}),(0,X.jsx)(xn.p,{id:"admission-bmi",name:"bmi",value:s.vitals.admission.bmi||"",readOnly:!0,className:"h-8 text-sm font-medium bg-gray-100"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"admission-oxygenSaturation",className:"text-xs font-semibold",children:"O\u2082 Saturation (%)"}),(0,X.jsx)(xn.p,{id:"admission-oxygenSaturation",name:"oxygenSaturation",value:s.vitals.admission.oxygenSaturation,onChange:e=>S(e,"admission"),className:"h-8 text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"pt-4 p-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Diagnosis and Treatment"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"diagnosis",className:"text-xs font-semibold",children:"Diagnosis"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:v.map((e=>({name:e}))),selectedValues:h,setSelectedValues:I,placeholder:"Select diagnosis"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:h.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:h.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>L(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No diagnoses selected"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"treatment",className:"text-xs font-semibold",children:"Treatment"}),(0,X.jsx)(xo.T,{id:"treatment",name:"treatment",value:s.treatment,onChange:_,placeholder:"Enter recommended treatment",className:"min-h-[100px] text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"pt-4 p-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Clinical Summary"}),(0,X.jsx)(xo.T,{name:"clinicalSummary",value:s.clinicalSummary,onChange:_,placeholder:"Enter clinical summary",className:"min-h-[100px] text-sm font-medium"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4 px-1 pt-4 bg-gray-50",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Lab Tests"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:c,selectedValues:s.labTests,setSelectedValues:e=>o((t=>({...t,labTests:e}))),placeholder:"Select lab tests"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:s.labTests.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:s.labTests.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>P(t)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No lab tests selected"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Comorbidities"}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(yo.A,{suggestions:null===g||void 0===g?void 0:g.map((e=>({name:e}))),selectedValues:s.comorbidities,setSelectedValues:O,placeholder:"Select comorbidities"})}),(0,X.jsx)("div",{className:"border border-gray-300 rounded-md p-2 min-h-[80px]",children:s.comorbidities.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-1",children:s.comorbidities.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"primary",className:"flex items-center bg-blue-100 text-blue-800 px-1 py-0.5 text-xs rounded",children:[e.name,(0,X.jsx)(T.A,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>M(e.name)})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No comorbidities selected"})})]})]})]}),(0,X.jsxs)("div",{className:"pt-4 px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Medications"}),(0,X.jsxs)("div",{children:[null===(a=s.medications)||void 0===a?void 0:a.map(((e,t)=>(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[(0,X.jsx)(bi.A,{suggestions:N,placeholder:"Select medicine",value:e.name,setValue:e=>E(t,"name",e),onSuggestionSelect:e=>D(t,e)}),(0,X.jsx)(xn.p,{placeholder:"Frequency",value:e.frequency,onChange:e=>E(t,"frequency",e.target.value),className:"font-medium"}),(0,X.jsx)(xn.p,{placeholder:"Duration",value:e.duration,onChange:e=>E(t,"duration",e.target.value),className:"font-medium"}),(0,X.jsx)(j.$,{variant:"destructive",size:"icon",onClick:()=>A(t),disabled:1===s.medications.length,children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})]},t))),(0,X.jsxs)(j.$,{onClick:k,variant:"outline",className:"mt-2 font-semibold",children:[(0,X.jsx)(xg.A,{className:"h-4 w-4 mr-2"})," Add Medication"]})]})]}),(0,X.jsxs)("div",{className:"pt-4 px-1 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Discharge Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-temperature",className:"text-xs font-semibold",children:"Temperature (\xb0C)"}),(0,X.jsx)(xn.p,{id:"discharge-temperature",name:"temperature",value:s.vitals.discharge.temperature,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-heartRate",className:"text-xs font-semibold",children:"Heart Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"discharge-heartRate",name:"heartRate",value:s.vitals.discharge.heartRate,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-bloodPressure",className:"text-xs font-semibold",children:"Blood Pressure (mmHg)"}),(0,X.jsx)(xn.p,{id:"discharge-bloodPressure",name:"bloodPressure",value:s.vitals.discharge.bloodPressure,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-respiratoryRate",className:"text-xs font-semibold",children:"Respiratory Rate (bpm)"}),(0,X.jsx)(xn.p,{id:"discharge-respiratoryRate",name:"respiratoryRate",value:s.vitals.discharge.respiratoryRate,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"discharge-oxygenSaturation",className:"text-xs font-semibold",children:"O\u2082 Saturation (%)"}),(0,X.jsx)(xn.p,{id:"discharge-oxygenSaturation",name:"oxygenSaturation",value:s.vitals.discharge.oxygenSaturation,onChange:e=>S(e,"discharge"),className:"h-8 text-sm font-medium"})]})]})]}),(0,X.jsxs)("div",{className:"space-y-2 px-1 pt-4 mb-4 bg-gray-50",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Additional Notes"}),(0,X.jsx)(xo.T,{name:"notes",value:s.notes,onChange:_,placeholder:"Any additional notes",className:"min-h-[100px] text-sm font-medium"})]})]})]})]})}const jg=(0,N.A)("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);function Ng(){const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(!1),l=(0,a.zy)(),c=e=>{let{ID:t,bookingNumber:r,patient:a,bookingDate:s,clinicalSummary:l,notes:c,type:d,vitals:u,diagnosis:m,treatment:p,medications:h,additionalInstructions:f,labTests:v,comorbidities:g,conditionOnAdmission:x,conditionOnDischarge:y}=e;n({ID:t,bookingNumber:r,patient:a,bookingDate:s,clinicalSummary:l,notes:c,vitals:u,diagnosis:m,treatment:p,medications:h,additionalInstructions:f,labTests:v,comorbidities:g,conditionOnAdmission:x,conditionOnDischarge:y}),i(d),o(!1)};return(0,t.useEffect)((()=>{var e;if(null!==(e=l.state)&&void 0!==e&&e.editPatient){const e=l.state.editPatient;n(e),i(e.type)}}),[l.state]),(0,t.useEffect)((()=>{var e;null!==(e=l.state)&&void 0!==e&&e.editPatient&&window.history.replaceState({},document.title)}),[]),(0,X.jsxs)("div",{className:"h-full w-full flex flex-col",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b lg:hidden",children:[(0,X.jsx)("h1",{className:"text-xl font-bold",children:"Doctor's Dashboard"}),(0,X.jsxs)(Ss,{open:s,onOpenChange:o,children:[(0,X.jsx)(Es,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"outline",size:"icon",className:"h-8 w-8",children:(0,X.jsx)(jg,{className:"h-4 w-4"})})}),(0,X.jsx)(ks,{side:"right",className:"w-[300px] sm:w-[400px] px-4 pt-8",children:(0,X.jsx)(b.F,{className:"h-full pr-4",children:(0,X.jsx)(gg,{onPatientSelect:c})})})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-2",style:{height:"calc(100vh - 55px)"},children:[(0,X.jsx)(b.F,{className:"col-span-1 pr-4 h-full hidden lg:block",children:(0,X.jsx)(gg,{onPatientSelect:c})}),(0,X.jsx)(b.F,{className:"col-span-4 lg:col-span-3 h-full",children:(0,X.jsx)("div",{className:"flex-1 p-2 overflow-auto w-full",children:e?"OPD"===r?(0,X.jsx)(bg,{patient:e}):(0,X.jsx)(wg,{patient:e}):(0,X.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,X.jsx)("p",{className:"text-xl text-gray-500 font-semibold",children:"Select a patient to view details"})})})})]})]})}const _g=(0,N.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Sg=(0,N.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Eg=(0,N.A)("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),Cg=(0,N.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Dg=e=>{let{id:n,label:r,value:a,onValueChange:i,error:s,children:o}=e;const[l,c]=(0,t.useState)(!1);return(0,X.jsx)("div",{className:"relative",children:(0,X.jsxs)(A.l6,{id:n,value:a,onValueChange:e=>{i(e),c(!1)},onOpenChange:e=>c(e),children:[(0,X.jsxs)(A.bq,{className:"peer px-3 py-2 w-full border rounded-md text-gray-900 focus:ring-blue-500 focus:border-blue-500 bg-white "+(!s||a||l?"border-gray-300":"border-red-500"),children:[(0,X.jsxs)("label",{htmlFor:n,className:`absolute text-xs duration-300 font-medium transform -translate-y-1/2 left-3\n          peer-placeholder-shown:text-sm peer-placeholder-shown:top-1/2\n          peer-focus:text-xs peer-focus:top-0 peer-focus:-translate-y-1/2\n          ${a||l?"top-0 -translate-y-1/2 text-xs":"top-1/2"}\n          ${!s||a||l?"text-gray-500":"text-red-500"}\n          bg-white px-1`,children:[r,s&&!a&&!l&&(0,X.jsx)("span",{className:"text-red-500 ml-1",children:"*Required"})]}),(0,X.jsx)(A.yv,{placeholder:" "})]}),(0,X.jsx)(A.gC,{children:o})]})})};function Tg(e){let{formData:n,handleInputChange:r,handleSelectChange:a,errors:i,consultationFeeSettings:s,setSearchedPatient:o,searchDisabled:l=!1}=e;const c=vo("(max-width: 640px)"),d=(0,w.wA)(),u=(0,t.useCallback)((e=>{const t=e.target.value,n=t?(new Date).getFullYear()-new Date(t).getFullYear():"";r({target:{id:"dateOfBirth",value:t}}),r({target:{id:"age",value:n.toString()}})}),[r]),m=(0,t.useCallback)((e=>{const t=e.target.value;r({target:{id:"age",value:t}}),r({target:{id:"dateOfBirth",value:""}})}),[r]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Vo,{id:"name",label:"Full Name",value:n.name,onChange:r,error:i.name}),c?(0,X.jsxs)("div",{className:"flex gap-2",children:[(0,X.jsx)("div",{className:"w-1/2",children:(0,X.jsx)(Vo,{id:"age",label:"Age",type:"number",value:n.age,onChange:m,error:i.age})}),(0,X.jsx)("div",{className:"w-1/2",children:(0,X.jsx)(Vo,{type:"date",id:"visit.bookingDate",label:"Booking Date",value:n.visit.bookingDate,onChange:r,error:i["visit.bookingDate"]})})]}):(0,X.jsxs)("div",{className:"flex items-end gap-4",children:[(0,X.jsx)("div",{className:"w-full sm:w-30 relative",children:(0,X.jsx)(Vo,{id:"age",label:"Age",type:"number",value:n.age,onChange:m,error:i.age})}),(0,X.jsx)("div",{className:"flex-grow relative hidden sm:block",children:(0,X.jsx)(Vo,{id:"dateOfBirth",label:"Date of Birth",type:"date",tabIndex:-1,value:n.dateOfBirth,onChange:u})})]}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Vo,{id:"registrationNumber",label:"UHID Number",tabIndex:-1,value:n.registrationNumber,onChange:r,error:i.registrationNumber,className:"pr-10"}),!l&&(0,X.jsx)("button",{type:"button",onClick:async()=>{if(n.registrationNumber)try{var e,t,r;const c=await d((0,Be.bW)({searchQuery:n.registrationNumber.trim()})).unwrap();if(null!==(e=c.results)&&void 0!==e&&e.patients&&(null===(t=c.results)||void 0===t||null===(r=t.patients)||void 0===r?void 0:r.length)>0){var i,l;const e=null===(i=c.results)||void 0===i||null===(l=i.patients)||void 0===l?void 0:l[0];o({...e,isFromSearch:!0}),a("visit.consultationType",((e,t,n)=>{try{const r=new Date(new Date(e.lastVisit).toDateString()),a=new Date(new Date(t.visit.bookingDate).toDateString()),i=new Date(r);return i.setDate(i.getDate()+(-1===n.masterFollowup?14:n.masterFollowup)),a>=r&&a<=i}catch(r){return console.error("Error checking follow-up date:",r),!1}})(e,n,s)?"follow-up":"new")}}catch(c){console.error("Search failed:",c)}},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,X.jsx)(Ps.A,{className:"h-5 w-5"})})]}),(0,X.jsx)(Dg,{id:"gender",label:"Gender",value:n.gender,onValueChange:e=>a("gender",e),error:i.gender,children:["Male","Female","Other"].map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})}Array.from({length:12},((e,t)=>String(t+1).padStart(2,"0"))),Array.from({length:60},((e,t)=>String(t).padStart(2,"0")));function kg(e){let{formData:n,handleSelectChange:r,handleInputChange:a,errors:i}=e;const s=vo("(max-width: 640px)"),{consultationTypes:o}=((0,w.d4)((e=>e.staff.doctors)),(0,w.d4)((e=>e.departments.departments)),(0,w.d4)((e=>e.consultationFees))),l=e=>{if(!e)return{hour:"",minute:"",amPm:"AM"};const[t,n]=e.split(":");let r=parseInt(t,10);const a=n,i=r>=12?"PM":"AM";return r=r%12||12,{hour:String(r).padStart(2,"0"),minute:a,amPm:i}},[c,d]=(0,t.useState)(l(n.visit.timeSlot.start)),[u,m]=(0,t.useState)(l(n.visit.timeSlot.end));(0,t.useEffect)((()=>{d(l(n.visit.timeSlot.start)),m(l(n.visit.timeSlot.end))}),[n.visit.timeSlot.start,n.visit.timeSlot.end]);(0,t.useCallback)(((e,t,n)=>{const r=r=>{const i={...r,[t]:n};let s;return"hour"===t?s=`${n}:${i.minute} ${i.amPm}`:"minute"===t?s=`${i.hour}:${n} ${i.amPm}`:"amPm"===t&&(s=`${i.hour}:${i.minute} ${n}`),a({target:{id:`visit.timeSlot.${e}`,value:s}}),i};"start"===e?d(r):m(r)}),[a]);return(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)(Vo,{id:"contactNumber",label:"Contact Number",type:"tel",value:n.contactNumber,onChange:a,error:i.contactNumber}),(0,X.jsx)(xo.T,{id:"address",placeholder:"Address: 123 Main St, Anytown USA",value:n.address,onChange:a,className:"min-h-9 h-9 no-scrollbar"}),(0,X.jsxs)("div",{className:"grid grid-cols-[1fr_2fr] gap-2",children:[(0,X.jsx)(Dg,{id:"visit.relation",label:"Relation",value:n.visit.relation,onValueChange:e=>r("visit.relation",e),children:["Father","Husband","Mother","Wife","Guardian"].map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))}),(0,X.jsx)(Vo,{id:"visit.guardianName",value:n.visit.guardianName,onChange:a,label:""+(n.visit.relation?n.visit.relation+"'s Name":"Guardian's Name")})]}),!s&&(0,X.jsxs)("div",{className:"grid grid-cols-[1fr_2fr] gap-2",children:[(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{type:"date",id:"visit.bookingDate",value:n.visit.bookingDate,onChange:a,tabIndex:-1,className:"peer pl-2 pt-2 pb-2 block  border rounded-md text-gray-900 focus:ring-blue-500 focus:border-blue-500 bg-white "+(i["visit.bookingDate"]?"border-red-500":"border-gray-300")}),(0,X.jsxs)(wi.J,{htmlFor:"visit.bookingDate",className:"absolute text-xs transform -translate-y-3 top-1 z-10 origin-[0] left-2 px-1 bg-white "+(i["visit.bookingDate"]?"text-red-500":"text-gray-500"),children:["Booking Date",i["visit.bookingDate"]&&(0,X.jsx)("span",{className:"text-red-500 ml-1",children:"*Required"})]})]}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsxs)(A.l6,{value:n.visit.consultationType||"",onValueChange:e=>r("visit.consultationType",e),children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Consultation type"})}),(0,X.jsx)(A.gC,{children:o.map((e=>(0,X.jsx)(A.eb,{value:e,children:(0,X.jsx)("span",{className:"capitalize",children:e})},e)))})]}),(0,X.jsx)(wi.J,{className:"absolute text-xs transform -translate-y-3 top-1 z-10 origin-[0] left-2 px-1 bg-white text-gray-500",children:"Consultation Type"})]})]})]})}function Ag(e){let{formData:n,handleSelectChange:r}=e;const a=(0,t.useCallback)((e=>{const{id:t,value:n}=e.target;r(`visit.vitals.${t}`,n)}),[r]);return(0,X.jsx)(X.Fragment,{children:[{id:"bloodPressure",label:"Blood Pressure (e.g., 120/80)"},{id:"temperature",label:"Temperature (\xb0C)",type:"number"},{id:"weight",label:"Weight (kg)",type:"number"},{id:"height",label:"Height (cm)",type:"number"},{id:"heartRate",label:"Heart Rate (bpm)",type:"number"},{id:"oxygenSaturation",label:"Oxygen Saturation (%)",type:"number"},{id:"respiratoryRate",label:"Respiratory Rate",type:"number"}].map((e=>(0,X.jsx)("div",{className:"w-full",children:(0,X.jsx)(Vo,{id:e.id,label:e.label,type:e.type||"text",value:n.visit.vitals[e.id],onChange:a})},e.id)))})}function Pg(e){let{formData:t,handleSelectChange:n}=e;return(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"visit.insuranceDetails.provider",children:"Insurance Provider"}),(0,X.jsx)(xn.p,{id:"visit.insuranceDetails.provider",placeholder:"Health Insurance Co.",value:t.insuranceDetails.provider,onChange:e=>n("visit.insuranceDetails.provider",e.target.value)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"visit.insuranceDetails.policyNumber",children:"Policy Number"}),(0,X.jsx)(xn.p,{id:"visit.insuranceDetails.policyNumber",placeholder:"POL-123456",value:t.insuranceDetails.policyNumber,onChange:e=>n("visit.insuranceDetails.policyNumber",e.target.value)})]})]})}const Og="(patient, hospital, ref) => {\n  return React.createElement(\"div\", { className: \"print-content\" },\n      \n      React.createElement(\"div\", { \n        style: {\n          position: 'absolute',\n          left: '25mm',\n          top: '54mm',\n          fontSize: '16px',\n          fontFamily: 'Arial, sans-serif',\n        }\n      }, patient?.patient?.name || ''),\n\n      React.createElement(\"div\", { \n        style: {\n          position: 'absolute',\n          left: '160mm',\n          top: '54mm',\n          fontSize: '16px',\n          fontFamily: 'Arial, sans-serif'\n        }\n      }, patient?.bookingDate ? patient?.bookingDate.split('T')[0]?.split('-').reverse().join('/') : ''),\n\n      React.createElement(\"div\", { \n        style: {\n          position: 'absolute',\n          left: '30mm',\n          top: '64mm',\n          fontSize: '16px',\n          fontFamily: 'Arial, sans-serif'\n        }\n      }, `${patient?.patient?.age || ''} / ${patient?.patient?.gender || ''}`),\n\n      React.createElement(\"div\", { \n        style: {\n          position: 'absolute',\n          left: '160mm',\n          top: '64mm',\n          fontSize: '16px',\n          fontFamily: 'Arial, sans-serif'\n        }\n      }, patient?.patient?.address || '')\n  );\n}",Rg=(0,t.forwardRef)(((e,n)=>{const{patient:r,hospital:a,templateString:i}=e,s=(0,w.d4)((e=>e.templates.headerTemplateArray)),o=(null===s||void 0===s?void 0:s.length)>0?s[0].value:wn.h,l=(0,bn.G)(o||wn.h),c=new Function("React","HospitalHeader","format","addDays",`return (${i});`);try{return c(t,l,fo.GP,uc.f)(r,a,n)}catch(d){return console.error("Error rendering OPD Rx:",d),t.createElement("div",null,"Error rendering OPD Rx template")}})),Mg=e=>{var n;let{patient:r}=e;const{hospitalInfo:a}=(0,w.d4)((e=>e.hospital)),i=(0,w.d4)((e=>e.templates.opdRxTemplateArray||[])),[s,o]=(0,t.useState)(null),l=(0,yn.useReactToPrint)({content:()=>c.current,pageStyle:"\n      @page {\n        size: A4;\n        margin: 0;\n      }\n      @media print {\n        body {\n          margin: 0;\n          padding: 0;\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-content {\n          width: 210mm;\n          min-height: 297mm;\n          position: relative;\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n      }\n    "}),c=(0,t.useRef)(),d=e=>{o(e),setTimeout(l,100)};return i.length<=1?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(hi,{onClick:()=>d(i[0]),className:"font-bold",children:[(0,X.jsx)(Nn,{className:"h-4 w-4 mr-2 "}),"Print OPD (Rx)"]}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)("div",{ref:c,className:"print-content",children:(0,X.jsx)(Rg,{patient:r,hospital:a,templateString:(null===s||void 0===s?void 0:s.value)||Og})})})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(di,{children:[(0,X.jsxs)(ui,{children:[(0,X.jsx)(Nn,{className:"h-4 w-4 mr-2 font-bold"}),"Print OPD (Rx)"]}),(0,X.jsx)(mi,{children:i.map((e=>(0,X.jsx)(hi,{onClick:()=>d(e),children:e.name},e.name)))})]}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)("div",{ref:c,className:"print-content",children:(0,X.jsx)(Rg,{patient:r,hospital:a,templateString:(null===s||void 0===s?void 0:s.value)||(null===(n=i[0])||void 0===n?void 0:n.value)})})})]})},Ig=t.forwardRef(((e,n)=>{let{patientData:r,hospital:a}=e;const i=(0,w.d4)((e=>e.templates.headerTemplateArray)),s=(0,w.d4)((e=>e.templates.opdBillTokenTemplate)),o=(null===i||void 0===i?void 0:i.length)>0?i[0].value:wn.h,l=(0,bn.G)(o||wn.h),c=new Function("React","HospitalHeader",`return (${s||'(patientData, hospitalInfo, ref) => {\n  const format = (date, formatStr) => {\n    const d = new Date(date);\n    const day = d.getDate().toString().padStart(2, \'0\');\n    const month = (d.getMonth() + 1).toString().padStart(2, \'0\');\n    const year = d.getFullYear();\n    return `${day}/${month}/${year}`;\n  };\nlet city = hospitalInfo?.address?.split(",").at(-1).trim();\n  const hardcodedTerms = [\n    "This receipt is valid only once.",\n    "Receipt is not Refundable.",\n    "Valid only for patient mentioned above.",\n    "Slot once booked cannot be changed.",\n    `Subjected to ${city?.charAt(0)?.toUpperCase() + city?.slice(1)} Jurisdiction Only.`\n  ];\n\n  const BillCopy = ({ title, patient, bill, payment, admissionRecord, visit, hospitalInfo }) => \n    React.createElement("div", { \n      className: "w-full lg:w-1/2 p-1 lg:p-2 border-b lg:border-b-0 lg:border-r border-dashed" \n    },\n      React.createElement("div", { className: "mb-0.5 sm:mb-1" },\n        React.createElement("div", { className: "text-center space-y-1 print:m-0 print:p-0 " },\n          React.createElement("h1", { className: "text-[20px] print:text-[14px] font-bold m-0 p-0  print:leading-tight" },\n            hospitalInfo.name\n          ),\n          React.createElement("p", { className: "text-sm m-0 p-0 print:text-[10px] print:leading-tight" },\n            hospitalInfo.doctorName\n          ),\n          React.createElement("p", { className: "text-sm m-0 p-0 print:text-[10px] print:leading-tight" },\n            hospitalInfo.contactNumber\n          )\n        ),\n        React.createElement("div", { className: "flex justify-between items-center mt-2 font text-[14px]" },\n          React.createElement("h2", { className: "font-bold" }, title),\n          React.createElement("div", { className: "text-[12px]" },\n            React.createElement("span", { className: "font-semibold" }, "Invoice No: "),\n            React.createElement("span", null, bill?.invoiceNumber || "N/A")\n          )\n        )\n      ),\n      React.createElement("div", { className: "grid gap-1 print:gap-0.5" },\n        React.createElement("div", { className: "print:text-[10px] text-[14px] border rounded-md bg-gray-50" },\n          React.createElement("div", { className: "grid grid-cols-3 p-2 border-b" },\n            React.createElement("div", { className: "flex gap-1" },\n              React.createElement("span", { className: "font-semibold" }, "Name:"),\n              React.createElement("span", { className: "font-semibold" }, patient.name)\n            ),\n            React.createElement("div", { className: "flex gap-1 justify-end" },\n              React.createElement("span", { className: "font-semibold" }, "Age/Sex:"),\n              React.createElement("span", { className: "font-semibold" }, `${patient.age} yrs/${patient.gender}`)\n            ),\n            React.createElement("div", { className: "flex gap-1 justify-end" },\n              React.createElement("span", { className: "font-semibold" }, "UHID No:"),\n              React.createElement("span", { className: "font-semibold" }, patient.registrationNumber)\n            )\n          ),\n          React.createElement("div", { className: "grid grid-cols-3 gap-2 p-2" },\n            React.createElement("div", { className: "flex whitespace-nowrap overflow-hidden gap-1" },\n              React.createElement("span", { className: "font-semibold flex-shrink-0" }, "Address:"),\n              React.createElement("span", { \n                className: "truncate font-semibold",\n                title: patient.address\n              }, patient.address)\n            ),\n            React.createElement("div", { className: "flex gap-1 justify-end" },\n              React.createElement("span", { className: "font-semibold" }, "Contact:"),\n              React.createElement("span", { className: "font-semibold" }, patient.contactNumber)\n            ),\n            React.createElement("div", { className: "flex gap-1 justify-end" },\n              React.createElement("span", { className: "font-semibold" }, "Date:"),\n              React.createElement("span", { className: "font-semibold" }, format(bill.createdAt))\n            )\n          )\n        ),\n        React.createElement("div", null,\n          React.createElement("span", { className: "font-bold text-[16px] print:text-[12px]" }, "Slot No :"),\n          React.createElement("span", { className: "font-bold text-[16px] print:text-[12px]" }, \n            admissionRecord?.bookingNumber || visit?.bookingNumber\n          )\n        ),\n        React.createElement("div", null,\n          React.createElement("div", { className: "vitals-section" },\n            React.createElement("h2", { className: "font-bold print:text-[12px]" }, "Vitals"),\n            React.createElement("div", { className: "grid grid-cols-3 gap-0 print:text-[12px]" },\n              React.createElement("div", { className: "flex gap-2" },\n                React.createElement("span", { className: "font-semibold" }, "BP:"),\n                React.createElement("span", null, \n                  admissionRecord?.vitals?.bloodPressure ? `${admissionRecord.vitals.bloodPressure} mmHg` : ""\n                )\n              ),\n              React.createElement("div", { className: "flex gap-2" },\n                React.createElement("span", { className: "font-semibold" }, "Weight:"),\n                React.createElement("span", null,\n                  admissionRecord?.vitals?.weight ? `${admissionRecord.vitals.weight} kg` : ""\n                )\n              ),\n              admissionRecord?.vitals?.heartRate && React.createElement("div", { className: "flex gap-2" },\n                React.createElement("span", { className: "font-semibold" }, "Heart Rate:"),\n                React.createElement("span", null, `${admissionRecord.vitals.heartRate} bpm`)\n              ),\n              admissionRecord?.vitals?.temperature && React.createElement("div", { className: "flex gap-2" },\n                React.createElement("span", { className: "font-semibold" }, "Temp:"),\n                React.createElement("span", null, `${admissionRecord.vitals.temperature} \xb0C`)\n              ),\n              admissionRecord?.vitals?.oxygenSaturation && React.createElement("div", { className: "flex gap-2" },\n                React.createElement("span", { className: "font-semibold" }, "O"),\n                React.createElement("span", { style: { verticalAlign: "sub" } }, "\u2082"),\n                React.createElement("span", { className: "font-semibold" }, " Saturation:"),\n                React.createElement("span", null, `${admissionRecord.vitals.oxygenSaturation}%`)\n              ),\n              admissionRecord?.vitals?.respiratoryRate && React.createElement("div", { className: "flex gap-2" },\n                React.createElement("span", { className: "font-semibold" }, "Respiration:"),\n                React.createElement("span", null, `${admissionRecord.vitals.respiratoryRate} br/min`)\n              )\n            )\n          )\n        ),\n        React.createElement("div", { className: "overflow-x-auto" },\n          React.createElement("table", { className: "border-2 border-gray-200 mt-1 w-full text-[17px] print:text-[17px]" },\n            React.createElement("thead", { className: "bg-gray-100 print:text-[12px]" },\n              React.createElement("tr", null,\n                React.createElement("th", { className: "w-[40px] print:p-0 text-left print:text-left" }, "No"),\n                React.createElement("th", { className: "print:p-0 " }, "Service"),\n                React.createElement("th", { className: "text-right w-[50px] print:p-0" }, "Qty"),\n                React.createElement("th", { className: "text-right w-[70px] print:p-0" }, "Rate"),\n                React.createElement("th", { className: "text-right w-[70px] print:p-0" }, "Amt")\n              )\n            ),\n            React.createElement("tbody", { className: "print:text-[12px]" },\n              bill.services.map((service, index) =>\n                React.createElement("tr", { key: index },\n                  React.createElement("td", { className: "py-1 text-left" }, index + 1),\n                  React.createElement("td", { className: "py-0.5" },\n                    React.createElement("div", { className: "text-center" }, service.name)\n                  ),\n                  React.createElement("td", { className: "text-right py-0.5" }, service.quantity),\n                  React.createElement("td", { className: "text-right py-0.5" }, `\u20b9${service.rate}`),\n                  React.createElement("td", { className: "text-right py-0.5" }, `\u20b9${service.quantity * service.rate}`)\n                )\n              )\n            )\n          )\n        ),\n        React.createElement("div", { className: "flex flex-col items-end mt-1 text-[17px] print:text-[12px]" },\n          React.createElement("div", { className: "summary-section flex justify-between w-full sm:w-48 px-2 sm:px-0" },\n            React.createElement("span", null, "Sub Total:"),\n            React.createElement("span", null, `\u20b9${bill.subtotal}`)\n          ),\n          bill.additionalDiscount > 0 && React.createElement("div", { \n            className: "summary-section flex justify-between w-full sm:w-48 text-red-600" \n          },\n            React.createElement("span", null, "Discount:"),\n            React.createElement("span", null, `- \u20b9${bill.additionalDiscount}`)\n          ),\n          React.createElement("div", { \n            className: "summary-section flex justify-between w-full sm:w-48 font-bold border-gray-200" \n          },\n            React.createElement("span", null, "Total Amount:"),\n            React.createElement("span", null, `\u20b9${bill.totalAmount}`)\n          ),\n          React.createElement("div", { className: "summary-section w-full sm:w-48 border-t border-gray-200" },\n            React.createElement("div", { className: "flex justify-between" },\n              React.createElement("span", null, "Amount Paid:"),\n              React.createElement("span", { className: "text-green-600 font-bold" }, `\u20b9${bill.amountPaid}`)\n            ),\n            React.createElement("div", { className: "flex justify-between" },\n              React.createElement("span", null, "Due Amount:"),\n              React.createElement("span", { className: "text-red-600" }, \n                `\u20b9${Math.max(0, bill.totalAmount - bill.amountPaid)}`\n              )\n            ),\n            React.createElement("div", { className: "flex justify-between pt-0.5" },\n              React.createElement("span", null, "Payment Method:"),\n              React.createElement("span", null, payment.map(p => p.paymentMethod).join(","))\n            ),\n            React.createElement("div", { className: "flex justify-between font-medium pt-0.5" },\n              React.createElement("span", null, "Status:"),\n              React.createElement("span", { \n                className: `${bill.totalAmount === bill.amountPaid ? "text-green-600" : "text-red-600"} font-bold`\n              }, bill.totalAmount === bill.amountPaid ? "PAID" : "DUE")\n            )\n          )\n        ),\n        React.createElement("div", null,\n          React.createElement("ul", { className: "text-[8px] font-bold hidden print:block" },\n            hardcodedTerms.map((term, index) =>\n              React.createElement("li", { \n                key: index,\n                className: "flex items-start text-gray-700" \n              },\n                React.createElement("span", { className: "mr-2 text-red-500 font-bold" }, "\u2022"),\n                React.createElement("span", { className: "flex-1" }, term)\n              )\n            )\n          )\n        ),\n        React.createElement("div", { \n          className: "flex-col text-[11px] items-end font-bold hidden print:flex print:items-end" \n        }, hospitalInfo.name),\n        React.createElement("div", { \n          className: "flex-col text-[12px] items-center justify-center hidden print:flex print:items-center print:justify-center pt-3" \n        }, "Get Well Soon")\n      )\n    );\n\n  return React.createElement("div", { \n    className: "flex flex-row lg:flex-row w-full print:w-[210mm] print:h-[148mm] print:py-5 print:pl-3 print:pr-4",\n    ref: ref \n  },\n    React.createElement(BillCopy, {\n      title: "Hospital Copy",\n      patient: patientData.patient,\n      bill: patientData.bill,\n      payment: patientData.payment,\n      admissionRecord: patientData.admissionRecord,\n      visit: patientData.visit,\n      hospitalInfo: hospitalInfo\n    }),\n    React.createElement("div", { \n      className: "w-0 h-full border-l-2 border-dashed border-gray-500" \n    }, null),\n    React.createElement(BillCopy, {\n      title: "Patient Copy",\n      patient: patientData.patient,\n      bill: patientData.bill,\n      payment: patientData.payment,\n      admissionRecord: patientData.admissionRecord,\n      visit: patientData.visit,\n      hospitalInfo: hospitalInfo\n    })\n  );\n}'});`);try{return c(t,l)(r,a,n)}catch(d){return console.error("Error rendering dynamic lab report:",d),t.createElement("div",null,"Error rendering lab report template")}})),Lg=e=>{var n;let{isOpen:r,setIsOpen:a,patientData:i,services:s,selectedServices:o,onSelectService:l,onSelectAll:c,onClose:d}=e;const u=(0,t.useRef)(),{hospitalInfo:m}=(0,w.d4)((e=>e.hospital));(0,t.useEffect)((()=>(r||(document.body.style.pointerEvents="",document.body.style="",setTimeout((()=>{document.body.style.pointerEvents="",document.body.style=""}),300)),()=>{document.body.style.pointerEvents="",document.body.style=""})),[r]);const p=()=>{a(!1),document.body.style.pointerEvents="",document.body.style="",setTimeout((()=>{document.body.style.pointerEvents="",document.body.style=""}),300)},[h,f]=(0,t.useState)(!1),v=(0,t.useRef)(),g=(0,w.d4)((e=>e.templates.opdRxTemplateArray||[])),x=(0,yn.useReactToPrint)({content:()=>u.current,onBeforeGetContent:()=>(f(!0),new Promise((e=>{setTimeout((()=>{f(!1),e()}),0)}))),pageStyle:"\n      @media print {\n        @page {\n          size: A4;\n          margin: 5mm;\n        }\n        \n        body {\n          margin: 0;\n          -webkit-print-color-adjust: exact !important;\n          print-color-adjust: exact !important;\n        }\n      }\n    "}),y=(0,yn.useReactToPrint)({content:()=>v.current,pageStyle:"\n      @page {\n        size: A4;\n        margin: 0;\n      }\n      @media print {\n        body {\n          margin: 0;\n          padding: 0;\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-content {\n          width: 210mm;\n          min-height: 297mm;\n          position: relative;\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n      }\n    "});if(!i)return null;const{patient:b,bill:N,payment:_,admissionRecord:S,visit:E}=i;return(0,X.jsx)(so.lG,{open:r,onOpenChange:p,children:(0,X.jsxs)(so.Cf,{className:"max-w-[95vw] h-[90vh] overflow-y-auto lg:max-w-6xl gap-0",children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{children:"OPD Bill Token"})}),(0,X.jsx)("div",{id:"printArea",ref:u,className:(h?"print-content print-landscape":"flex flex-row lg:flex-row")+" w-full ",children:(0,X.jsx)(Ig,{patientData:i,hospital:m})}),(0,X.jsxs)(so.Es,{className:"flex-col sm:flex-row gap-2",children:[(0,X.jsx)(j.$,{className:"w-full sm:w-auto",variant:"outline",onClick:p,children:"Close"}),(0,X.jsx)("div",{className:"",children:(0,X.jsx)(wo,{payments:_,billData:{...i.bill,patient:i.patient},styleData:!0})}),(0,X.jsx)("div",{className:"flex gap-2",children:g.length<=1?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(j.$,{className:"w-full sm:w-auto",onClick:()=>y(),children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print OPD Rx"]}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsx)("div",{ref:v,className:"print-content",children:(0,X.jsx)(Rg,{patient:{...S,patient:b},hospital:m,templateString:(null===(n=g[0])||void 0===n?void 0:n.value)||Og})})})]}):(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{className:"w-full sm:w-auto",children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print OPD Rx"]})}),(0,X.jsx)(pi,{children:(0,X.jsx)(hi,{asChild:!0,children:(0,X.jsx)(Mg,{patient:{...S,patient:b}})})})]})}),(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsxs)(j.$,{className:"w-full sm:w-auto",onClick:x,children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Token"]})})]})]})})},Fg=[{name:"Cash"},{name:"UPI"},{name:"Card"},{name:"Insurance"}],Bg={name:"",registrationNumber:"",dateOfBirth:"",age:"",gender:"",contactNumber:"",email:"",address:"",bloodType:"",patientType:"OPD",upgradegenReg:!1,visit:{consultationType:"new",reasonForVisit:"",vitals:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",oxygenSaturation:"",respiratoryRate:""},referredBy:"",bookingDate:(new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).split("/").reverse().join("-"),timeSlot:{start:"",end:""},guardianName:"",relation:"",department:"",doctor:{id:"",name:""},insuranceDetails:{provider:"",policyNumber:""},totalFee:"",discount:"",paymentMethod:[]}},Wg={};function Ug(e){var n,r,a,i,s,o,l,c;let{open:d,onOpenChange:u,patientData:m}=e;const p=vo("(max-width: 640px)"),h=(0,w.wA)(),{toast:f}=(0,H.dj)(),v=(0,w.d4)((e=>e.patients.registerPatientStatus)),{services:g,servicesStatus:x}=(0,w.d4)((e=>e.services)),y=g.find((e=>e.name.toLowerCase().includes("consultation"))),b=(0,w.d4)((e=>e.consultationFees)),{doctorWiseFee:N,consultationTypes:_}=b,[S,E]=(0,t.useState)(Bg),[C,D]=(0,t.useState)(Wg),T=(0,w.d4)((e=>e.staff.doctors)),k=(0,w.d4)((e=>e.departments.departments)),[P,O]=(0,t.useState)(!1),[R,M]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[F,B]=(0,t.useState)(null),[W,U]=(0,t.useState)(null),$=(0,t.useCallback)((e=>{const{id:t,value:n}=e.target;E((e=>{const r=t.split(".");let a={...e},i=a;for(let t=0;t<r.length-1;t++)i[r[t]]={...i[r[t]]},i=i[r[t]];if(i[r[r.length-1]]=n,["visit.totalFee","visit.amountPaid","visit.discount"].includes(t)){const e=Number("visit.totalFee"===t?n:a.visit.totalFee)||0,s=Number("visit.amountPaid"===t?n:a.visit.amountPaid)||0,o=Number("visit.discount"===t?n:a.visit.discount)||0,l={...C};o>e?l.discount="Discount cannot exceed total fee":delete l.discount;const c=e-o;"visit.discount"===t&&s>c?(a.visit.amountPaid=c.toString(),delete l.amountPaid):s>c?(l.amountPaid=`Cannot exceed \u20b9${c} (Total - Discount)`,"visit.amountPaid"===t&&(i[r[r.length-1]]=c.toString())):delete l.amountPaid,D(l)}return a}))}),[C]),z=(0,t.useCallback)(((e,t)=>$({target:{id:e,value:t}})),[$]);(0,t.useEffect)((()=>{const e=S.visit.paymentMethod.reduce(((e,t)=>e+(t.amount?parseFloat(t.amount):0)),0);E((t=>({...t,visit:{...t.visit,amountPaid:e}})))}),[S.visit.paymentMethod]);const V=()=>{var e,t;const n={};S.name||(n.name="Full name is required"),S.dateOfBirth||S.age||(n.age="Date of birth or age is required"),S.gender||(n.gender="Gender is required"),S.contactNumber||(n.contactNumber="Contact number is required"),S.visit.department||(n.department="Department selection is required"),null!==(e=S.visit)&&void 0!==e&&null!==(t=e.doctor)&&void 0!==t&&t.id||(n.doctor="Doctor selection is required");const r=Number(S.visit.totalFee)||0,a=S.visit.paymentMethod.reduce(((e,t)=>e+(Number(t.amount)||0)),0),i=Number(S.visit.discount)||0;return r<0&&(n.totalFee="Total fee cannot be negative"),i<0&&(n.discount="Discount cannot be negative"),i>r&&(n.discount="Discount cannot exceed total fee"),a>r-i&&(n.amountPaid=`Total payments (${a}) cannot exceed ${r-i} (Total - Discount)`),D(n),0===Object.keys(n).length},q=(0,t.useCallback)((async e=>{if(e.preventDefault(),S.registrationNumber===(null===W||void 0===W?void 0:W.registrationNumber)&&(S.upgradegenReg=!0),V()){const e={...S,dateOfBirth:S.dateOfBirth?new Date(S.dateOfBirth).toISOString():null,age:Number(S.age,10),lastVisit:S.visit.bookingDate,lastVisitType:S.patientType,visit:{...S.visit,bookingDate:S.visit.bookingDate,vitals:Object.fromEntries(Object.entries(S.visit.vitals).map((e=>{let[t,n]=e;return"bloodPressure"===t?[t,n]:[t,parseFloat(n)]})))}},t=F||m,n=t?(0,Be.qf)({patientId:t._id,visit:e}):(0,Be.xo)(e);h(n).unwrap().then((e=>{f({title:m?"Patient revisit recorded successfully":"Patient registered successfully",description:m?"The patient visit has been recorded.":"The new patient has been added.",variant:"success"}),e.visit&&!e.admissionRecord&&(e={...e,admissionRecord:e.visit}),M(e),O(!0),h((0,Be.PP)({startDate:(new Date).toLocaleDateString("en-IN").split("/").reverse().join("-")})),h(ht()),u(!1)})).catch((e=>{f({title:m?"Failed to record revisit":"Failed to register patient",description:e.message||"There was an error. Please try again.",variant:"destructive"})}))}}),[S,V,h,f,u,m]),G=(0,t.useCallback)((()=>{E(Bg),D({})}),[]),K=(0,t.useCallback)((()=>{u(!1),setTimeout((()=>{document.body.style=""}),500)}),[u,y]);(0,t.useEffect)((()=>{if(m||F){var e,t,n,r,a,i,s,o;const l=F||m,c=(null===l||void 0===l||null===(e=l.visits)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.guardianName)||(null===l||void 0===l||null===(n=l.admissionDetails)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.guardianName)||"",d=(null===l||void 0===l||null===(a=l.visits)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.relation)||(null===l||void 0===l||null===(s=l.admissionDetails)||void 0===s||null===(o=s[0])||void 0===o?void 0:o.relation)||"";E((e=>({...e,_id:l._id,name:l.name,age:l.age,gender:l.gender,contactNumber:l.contactNumber,registrationNumber:l.registrationNumber,address:l.address,visit:{...S.visit,guardianName:c,relation:d}})))}}),[m,F]),(0,t.useEffect)((()=>{d||(E(Bg),D(Wg),setTimeout((()=>{document.body.style=""}),500))}),[d]);(0,t.useEffect)((()=>{if(d){const e=((e,t)=>{if(e&&t){var n;const a=b.doctorWiseFee.find((t=>t.doctor._id===e));var r;if(a&&void 0!==(null===(n=a.consultationType)||void 0===n?void 0:n[t]))return null===(r=a.consultationType)||void 0===r?void 0:r[t]}if(e){var a;const t=null===(a=b.masterConsultationFeesDoctor)||void 0===a?void 0:a[e];if(-1!==t)return t}if(t){var i;const e=null===(i=b.masterConsultationFeesType)||void 0===i?void 0:i[t];if(-1!==e)return e}return-1})(S.visit.doctor.id,S.visit.consultationType);E((t=>({...t,visit:{...t.visit,totalFee:-1===e||void 0===e||null===e?y.rate.toString()||"":e.toString()}})))}}),[d,S.visit.doctor.id,S.visit.consultationType]),(0,t.useEffect)((()=>()=>{document.body.style=""}),[]),(0,t.useEffect)((()=>{1===k.length&&z("visit.department",k[0].name),1===T.length&&z("visit.doctor",{id:T[0]._id,name:T[0].name})}),[k,T,z,d]),(0,t.useEffect)((()=>{d||B(null)}),[d]),(0,t.useEffect)((()=>{!d||m||F||h((0,Be.eg)()).unwrap().then((e=>{U({registrationNumber:e.registrationNumber}),E((t=>({...t,registrationNumber:e.registrationNumber})))})).catch((e=>{console.error("Failed to fetch numbers:",e)}))}),[d,h,m,F]),(0,t.useEffect)((()=>{if(d){const e=(new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).split("/").reverse().join("-");E((t=>({...t,visit:{...t.visit,bookingDate:e}})))}}),[d]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(so.lG,{open:d,onOpenChange:e=>{K(e)},children:(0,X.jsxs)(so.Cf,{onInteractOutside:e=>e.preventDefault(),className:"md:max-w-[1000px] md:min-h-[60vh] md:max-h-[60vh] overflow-y-auto md:overflow-y-hidden w-[95vw] p-4 md:p-6 gap-0 md:gap-4 rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"mb-2 md:mb-0",children:"Patient Registration"}),(0,X.jsxs)(so.rr,{className:"hidden md:flex justify-between items-center",children:[(0,X.jsx)("span",{children:"Register new patient"}),F&&(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{const e=(e=>{const t=[...(e.visits||[]).filter((e=>"follow-up"!==e.consultationType)).map((e=>({date:new Date(e.bookingDate),createdAt:new Date(e.createdAt),type:"OPD"}))),...(e.admissionDetails||[]).map((e=>({date:new Date(e.bookingDate),createdAt:new Date(e.createdAt),type:"IPD"})))];return t.sort(((e,t)=>{const n=t.date-e.date;return 0!==n?n:t.createdAt-e.createdAt})),t.length>0?{date:t[0].date,type:t[0].type}:null})(F);return e&&(0,X.jsxs)("span",{className:"text-black font-semibold",children:["Last"," ",(0,X.jsx)("span",{className:"font-bold",children:e.type})," ","Visit: ",(0,fo.GP)(e.date,"dd MMM yyyy")," [",(0,X.jsxs)("span",{className:"capitalize "+(Ko(new Date((new Date).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-")).setHours(0,0,0,0),e.date.setHours(0,0,0,0))>14?"text-red-500":"text-green-500"),children:[Ko(new Date((new Date).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-")).setHours(0,0,0,0),e.date.setHours(0,0,0,0))," ","days ago"]})," ","(",e.type,") ]"]})})(),((null===(n=F.admissionDetails)||void 0===n?void 0:n[0])||(null===(r=F.visits)||void 0===r?void 0:r[0]))&&(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"ghost",size:"icon",className:"h-[20px] w-[10px]",children:[(0,X.jsx)(mo,{className:"h-[12px] w-4"}),(0,X.jsx)("span",{className:"sr-only",children:"Open patient history"})]})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(vi,{}),(null===(a=F.admissionDetails)||void 0===a?void 0:a.length)>0&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(hi,{className:"font-semibold text-sm pointer-events-none",children:"Admission Details"}),F.admissionDetails.map(((e,t)=>(0,X.jsxs)(hi,{className:"text-xs pl-4 pointer-events-none",children:["Date:"," ",(0,fo.GP)(new Date(e.bookingDate),"dd MMM yyyy")," (",Ko(new Date,new Date(e.bookingDate))," ","days ago)"]},t)))]}),(null===(i=F.admissionDetails)||void 0===i?void 0:i.length)>0&&(null===(s=F.visits)||void 0===s?void 0:s.length)>0&&(0,X.jsx)(vi,{}),(null===(o=F.visits)||void 0===o?void 0:o.length)>0&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(hi,{className:"font-semibold text-sm pointer-events-none",children:"OPD Visit Details"}),null===(l=[...F.visits])||void 0===l||null===(c=l.reverse())||void 0===c?void 0:c.map(((e,t)=>(0,X.jsxs)(hi,{className:"text-xs pl-4 pointer-events-none",children:[(0,fo.GP)(new Date(e.bookingDate),"dd MMM yyyy")," (",(0,X.jsxs)("span",{className:"font-semibold",children:[Ko(new Date,new Date(e.bookingDate))," ","days ago"]}),")"]},t)))]})]})]})]})]})]}),(0,X.jsxs)("form",{onSubmit:q,className:"h-full md:h-[calc(70vh-100px)]",children:[(0,X.jsxs)(Uo,{defaultValue:"basic-info",className:"w-full",children:[(0,X.jsxs)($o,{className:"grid w-full grid-cols-3",children:[(0,X.jsx)(zo,{value:"basic-info",children:p?"Basic":"Basic Information"}),(0,X.jsx)(zo,{value:"vitals",children:"Vitals"}),(0,X.jsx)(zo,{value:"insurance",children:"Insurance"})]}),(0,X.jsx)(Ho,{value:"basic-info",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,X.jsx)("div",{className:"space-y-4",children:(0,X.jsx)(Tg,{formData:S,handleInputChange:$,handleSelectChange:z,errors:C,consultationFeeSettings:b,setSearchedPatient:B})}),(0,X.jsx)("div",{className:"space-y-4",children:(0,X.jsx)(kg,{formData:S,handleInputChange:$,handleSelectChange:z,errors:C})}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Dg,{id:"visit.department",value:S.visit.department,label:"Department",onValueChange:e=>z("visit.department",e),error:C.department,children:k.map((e=>(0,X.jsx)(A.eb,{value:e.name,children:e.name},e._id)))}),(0,X.jsx)(Dg,{id:"visit.doctor",label:"Doctor",value:S.visit.doctor.id,onValueChange:e=>{const t=T.find((t=>t._id===e));z("visit.doctor",{id:e,name:null===t||void 0===t?void 0:t.name})},error:C.doctor,children:T.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]}),(0,X.jsx)("div",{className:"flex flex-col gap-2",children:(0,X.jsx)(Vo,{label:"Referred By",id:"visit.referredBy",value:S.visit.referredBy,onChange:$,error:C.referredBy})}),(0,X.jsx)("div",{className:"flex flex-col gap-6 pt-2 md:pt-1",children:(0,X.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsx)(Vo,{label:"Total Fee (\u20b9)",id:"visit.totalFee",value:S.visit.totalFee,onChange:$,error:C.totalFee}),(0,X.jsx)(Vo,{label:"Discount (\u20b9)",id:"visit.discount",value:S.visit.discount,onChange:$,error:C.discount})]}),(0,X.jsxs)("div",{className:S.visit.paymentMethod.length>1?"grid grid-cols-3 gap-1":"grid grid-cols-2 gap-2",children:[(0,X.jsx)(yo.A,{id:"visit.paymentMethod",label:"Payment Method",suggestions:Fg,placeholder:`${S.visit.paymentMethod.length>0?S.visit.paymentMethod.map((e=>e.method)).join(", "):"Payment Method"}`,selectedValues:S.visit.paymentMethod.map((e=>({name:e.method}))),setSelectedValues:e=>{E((t=>{const n=t.visit.paymentMethod.reduce(((e,t)=>(e[t.method]=t.amount,e)),{}),r=e.map((e=>({method:e.name,amount:n[e.name]||""})));return{...t,visit:{...t.visit,paymentMethod:r,amountPaid:r.reduce(((e,t)=>e+(Number(t.amount)||0)),0)}}}))}}),S.visit.paymentMethod.length>0?S.visit.paymentMethod.map((e=>(0,X.jsx)(Vo,{id:`visit.${e.method}`,label:`${e.method} Amount`,value:e.amount.toLocaleString("en-IN"),onChange:t=>{var n,r;n=e.method,r=t.target.value,E((e=>({...e,visit:{...e.visit,paymentMethod:e.visit.paymentMethod.map((e=>e.method===n?{...e,amount:r}:e))}})))},className:"bg-gray-50",error:C[`payment.${e.method}`]},e.method))):(0,X.jsx)(Vo,{id:"invalid",label:"Amount Paid",disabled:!0,className:"bg-gray-50"},"Rajiv")]}),C.amountPaid&&(0,X.jsx)("p",{className:"text-red-500 text-xs mt-1",children:C.amountPaid})]})})]})]})}),(0,X.jsx)(Ho,{value:"vitals",children:(0,X.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,X.jsx)(Ag,{formData:S,handleSelectChange:z,errors:C})})}),(0,X.jsx)(Ho,{value:"insurance",children:(0,X.jsx)(Pg,{formData:S.visit,handleSelectChange:z,errors:C})})]}),(0,X.jsx)(so.Es,{className:"mt-4",children:(0,X.jsxs)("div",{className:"w-full flex flex-row justify-between sm:justify-end sm:space-x-2 space-x-1",children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:G,className:"flex-1 sm:flex-none text-xs sm:text-sm px-2 sm:px-4",tabIndex:-1,children:"Reset"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:K,className:"flex-1 sm:flex-none text-xs sm:text-sm px-2 sm:px-4",tabIndex:-1,children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",disabled:"loading"===v,className:"flex-1 sm:flex-none text-xs sm:text-sm px-2 sm:px-4",children:"loading"===v?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-1 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),"Registering..."]}):"Register"})]})})]})]})}),(0,X.jsx)(Lg,{isOpen:P,setIsOpen:O,patientData:R})]})}const $g=e=>{let{isOpen:n,onClose:r,services:a,selectedServices:i,onServicesChange:s}=e;const[o,l]=(0,t.useState)(i.map((e=>{const t=a.find((t=>t._id===e));return{id:e,rate:(null===t||void 0===t?void 0:t.rate)||0}}))),[c,d]=(0,t.useState)("");(0,t.useEffect)((()=>{l(i.map((e=>{const t=a.find((t=>t._id===e));return{id:e,rate:(null===t||void 0===t?void 0:t.rate)||0}})))}),[i,a]);(0,t.useMemo)((()=>[...a].sort(((e,t)=>{const n=o.some((t=>t.id===e._id));return n===o.some((e=>e.id===t._id))?e.name.localeCompare(t.name):n?-1:1}))),[a,o]);const u=(0,t.useMemo)((()=>[...a].filter((e=>e.name.toLowerCase().includes(c.toLowerCase())||e.category.toLowerCase().includes(c.toLowerCase())))),[c]),m=(0,t.useCallback)((e=>{l((t=>t.some((t=>t.id===e._id))?t.filter((t=>t.id!==e._id)):[...t,{id:e._id,rate:e.rate||0}]))}),[]),p=(0,t.useCallback)(((e,t)=>{l((n=>n.map((n=>n.id===e?{...n,rate:Number(t)}:n))))}),[]),h=(0,t.useCallback)((()=>{s(o),r()}),[o,s,r]);return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"max-w-[95vw] w-full sm:max-w-[200px] md:max-w-[250px] lg:max-w-[500px] xl:max-w-[600px] rounded-lg max-h-[90vh]",children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{className:"text-lg sm:text-xl md:text-2xl",children:"Select Services"})}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search services...",value:c,onChange:e=>{d(e.target.value)},className:"pl-8 pr-8 w-full"}),c&&(0,X.jsx)("button",{onClick:()=>{d("")},className:"absolute right-2 top-2.5 text-muted-foreground hover:text-foreground",children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(uo.XI,{children:(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[50px]",children:"Select"}),(0,X.jsx)(uo.nd,{children:"Service Name"}),(0,X.jsx)(uo.nd,{className:"hidden md:block",children:"Category"}),(0,X.jsx)(uo.nd,{className:"text-right w-24",children:"Rate"})]})})}),(0,X.jsx)(b.F,{className:"h-[50vh] pr-4",children:(0,X.jsx)(uo.XI,{children:(0,X.jsx)(uo.BF,{children:0===u.length?(0,X.jsx)(uo.Hj,{children:(0,X.jsx)(uo.nA,{colSpan:4,className:"text-center py-8",children:(0,X.jsxs)("p",{className:"text-muted-foreground",children:["No services found. Please add services in the"," ",(0,X.jsx)("b",{children:"Surgery Category"})," to the services list."]})})}):u.map((e=>{const t=o.find((t=>t.id===e._id));return(0,X.jsxs)(uo.Hj,{className:t?"bg-muted":"",children:[(0,X.jsx)(uo.nA,{className:"text-center",children:(0,X.jsx)(ul,{checked:!!t,onCheckedChange:()=>m(e),className:"h-5 w-5"})}),(0,X.jsx)(uo.nA,{children:e.name}),(0,X.jsx)(uo.nA,{className:"hidden md:block",children:e.category}),(0,X.jsx)(uo.nA,{className:"text-right p-0",children:t?(0,X.jsx)("input",{type:"number",value:t.rate,onChange:t=>p(e._id,t.target.value),className:"w-24 text-right p-2 border-0 bg-transparent focus:outline-none focus:ring-0"}):(0,X.jsx)("span",{className:"px-4",children:e.rate||0})})]},e._id)}))})})})]}),(0,X.jsxs)("div",{className:"text-right font-bold",children:["Total: \u20b9",o.reduce(((e,t)=>e+(t.rate||0)),0).toLocaleString("en-IN")]}),(0,X.jsx)(io,{}),(0,X.jsxs)(so.Es,{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:r,className:"w-full sm:w-auto",children:"Cancel"}),(0,X.jsx)(j.$,{onClick:h,className:"w-full sm:w-auto",children:"Apply"})]})]})})},zg=[{name:"Cash"},{name:"UPI"},{name:"Card"},{name:"Insurance"}];function Hg(e){var n,r,a,i,s,o,l,c;let{open:d,onOpenChange:u,patientData:m}=e;const p=(0,w.d4)((e=>e.departments.departments)),h=(0,w.d4)((e=>e.rooms.rooms)),f=(0,w.d4)((e=>e.staff.doctors)),v={name:"",registrationNumber:"",dateOfBirth:"",age:"",gender:"",contactNumber:"",address:"",bloodType:"",patientType:"IPD",paymentInfo:{includeServices:!0,amountPaid:"",paymentMethod:[],services:[],totalAmount:"",additionalDiscount:0},upgradegenReg:!1,upgradegenIpd:!1,admission:{department:1===p.length?p[0]._id:"",assignedDoctor:1===f.length?f[0]._id:"",operationName:"",referredBy:"",assignedRoom:"",assignedBed:"",diagnosis:"",ipdNumber:"",vitals:{admission:{bloodPressure:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:""},discharge:{bloodPressure:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:""}},bookingDate:"",bookingTime:"",timeSlot:{start:"",end:""},insuranceDetails:{provider:"",policyNumber:""},guardianName:"",relation:""}},g=(0,w.wA)(),{toast:x}=(0,H.dj)(),y=(0,w.d4)((e=>e.patients.registerPatientStatus)),b=(0,w.d4)((e=>e.hospital.hospitalInfo)),N=(0,w.d4)((e=>e.hospital.hospitalInfoStatus)),[_,S]=(0,t.useState)(v);(0,t.useEffect)((()=>{S((e=>({...e,admission:{...e.admission,department:1===p.length?p[0].name:"",assignedDoctor:1===f.length?f[0]._id:""}})))}),[p,f,d]);const[E,C]=(0,t.useState)({}),D=vo("(max-width: 640px)"),[T,k]=(0,t.useState)(!1),{services:P,servicesStatus:O}=(0,w.d4)((e=>e.services)),{serviceBillCollections:I,status:L}=(0,w.d4)((e=>e.templates)),[F,B]=(0,t.useState)(""),[W,U]=(0,t.useState)(!1),[$,z]=(0,t.useState)(null),[V,q]=(0,t.useState)(null),[G,K]=(0,t.useState)(0),[Y,Z]=(0,t.useState)(null),[J,Q]=(0,t.useState)({registrationNumber:null,ipdNumber:null});(0,t.useEffect)((()=>{"idle"===L&&g((0,R.QK)()),"idle"===O&&g(lt())}),[g,L,O]),(0,t.useEffect)((()=>{if(_.admission.assignedRoom){const e=h.find((e=>e._id===_.admission.assignedRoom));K(e&&e.ratePerDay||0)}}),[_.admission.assignedRoom,h]),(0,t.useEffect)((()=>{const e=_.paymentInfo.services.reduce(((e,t)=>e+(t.rate||0)),0)+G;S((t=>({...t,paymentInfo:{...t.paymentInfo,totalAmount:e}}))),B(e)}),[_.paymentInfo.services,P,G]),(0,t.useEffect)((()=>{"idle"===N&&g(Et())}),[g,N]);const ee=(0,t.useCallback)((()=>{d||(S(v),C({}),B(""),K(0),Z(null))}),[d]);(0,t.useEffect)((()=>{if(m||Y){var e,t,n,r;const a=Y||m,i=(null===a||void 0===a||null===(e=a.visits[0])||void 0===e?void 0:e.guardianName)||(null===a||void 0===a||null===(t=a.admissionDetails[0])||void 0===t?void 0:t.guardianName)||"",s=(null===a||void 0===a||null===(n=a.visits[0])||void 0===n?void 0:n.relation)||(null===a||void 0===a||null===(r=a.admissionDetails[0])||void 0===r?void 0:r.relation)||"";S((e=>({...e,_id:a._id,name:a.name||"",age:a.age||"",gender:a.gender||"",contactNumber:a.contactNumber||"",email:a.email||"",address:a.address||"",registrationNumber:a.registrationNumber||"",dateOfBirth:a.dateOfBirth||"",bloodType:a.bloodType||"",admission:{...e.admission,guardianName:i,relation:s},paymentInfo:{...e.paymentInfo}})))}}),[m,Y,d]),(0,t.useEffect)((()=>{d||(g(Qe()),ee(),B(""),K(0),setTimeout((()=>{document.body.style=""}),500),Z(null))}),[d,ee,g]),(0,t.useEffect)((()=>{!d||m||Y||g((0,Be.eg)()).unwrap().then((e=>{Q({registrationNumber:e.registrationNumber,ipdNumber:e.ipdNumber}),S((t=>({...t,registrationNumber:e.registrationNumber,admission:{...t.admission,ipdNumber:e.ipdNumber}})))})).catch((e=>{console.error("Failed to fetch numbers:",e)}))}),[d,g,m,Y]),(0,t.useEffect)((()=>{d&&S((e=>({...e,admission:{...e.admission,bookingDate:(new Date).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-"),bookingTime:(0,M.IF)((new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))}})))}),[d]);const te=e=>{const{id:t,value:n,type:r,checked:a}=e.target;S((e=>{const i=t.split("."),s={...e};let o=s;for(let t=0;t<i.length-1;t++)o[i[t]]={...o[i[t]]},o=o[i[t]];if(o[i[i.length-1]]="checkbox"===r?a:n,"paymentInfo.paymentMethod"===t&&(o.paymentInfo.paymentMethod=[...o.paymentInfo.paymentMethod,{method:n||"",amount:""}]),"admission.assignedRoom"===t){const e=h.find((e=>e._id===n));K(e&&e.ratePerDay||0)}return s}))},ne=(0,t.useCallback)((e=>{const t=e.target.value,n=t?(new Date).getFullYear()-new Date(t).getFullYear():"";te({target:{id:"dateOfBirth",value:t}}),te({target:{id:"age",value:n.toString()}})}),[te]),re=(0,t.useCallback)((e=>{const t=e.target.value;te({target:{id:"age",value:t}}),te({target:{id:"dateOfBirth",value:""}})}),[te]);(0,t.useEffect)((()=>{const e=_.paymentInfo.paymentMethod.reduce(((e,t)=>e+(t.amount?parseFloat(t.amount):0)),0);S((t=>({...t,paymentInfo:{...t.paymentInfo,amountPaid:e}})))}),[_.paymentInfo.paymentMethod]);(0,t.useEffect)((()=>{d||setTimeout((()=>{document.body.style=""}),500)}),[d]);const ae=(0,t.useCallback)((()=>P.filter((e=>"Surgery"===e.category)).map((e=>({...e,isRoom:!1})))),[P]),ie=async()=>{if(_.registrationNumber)try{var e,t,n,r;const s=await g((0,Be.bW)({searchQuery:null===(e=_.registrationNumber)||void 0===e?void 0:e.trim()})).unwrap();if(null!==(t=s.results)&&void 0!==t&&t.patients&&(null===(n=s.results)||void 0===n||null===(r=n.patients)||void 0===r?void 0:r.length)>0){var a,i;const e=null===(a=s.results)||void 0===a||null===(i=a.patients)||void 0===i?void 0:i[0];Z({...e,isFromSearch:!0})}}catch(s){console.error("Search failed:",s)}};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(so.lG,{open:d,onOpenChange:()=>{setTimeout((()=>{document.body.style=""}),500),u(!1),ee()},children:(0,X.jsxs)(so.Cf,{onInteractOutside:e=>e.preventDefault(),className:` ${D?"w-[95vw] p-4 rounded-lg gap-0 ":"max-w-[1000px]"} h-[${D?"70vh":"60vh"}] overflow-y-auto px-4`,children:[(0,X.jsxs)(so.c7,{className:"mb-4 md:mb-0",children:[(0,X.jsx)(so.L3,{children:m?"Admit IPD Patient":"Register New IPD Patient"}),(0,X.jsx)(so.rr,{className:D?"hidden":"",children:m?"Fill details for patient Admission":"Fill basic details of patient for new IPD registration"})]}),(0,X.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),_.registrationNumber===(null===J||void 0===J?void 0:J.registrationNumber)&&(_.upgradegenReg=!0),_.admission.ipdNumber===(null===J||void 0===J?void 0:J.ipdNumber)&&(_.upgradegenIpd=!0),((e,t)=>{const n={};return e.name.trim()||(n.name="Full name is required"),e.dateOfBirth||e.age||(n.age="Date of birth or age is required"),e.gender||(n.gender="Gender is required"),e.contactNumber||(n.contactNumber="Phone number is required"),e.admission.bookingDate||(n["admission.bookingDate"]="Booking date is required"),e.admission.assignedDoctor||(n["admission.assignedDoctor"]="Doctor is required"),e.admission.department||(n["admission.department"]="Department is required"),e.admission.assignedRoom&&!e.admission.assignedBed&&(n["admission.assignedBed"]="Bed is required"),t(n),0===Object.keys(n).length})(_,C)){const e=(e=>({...e,age:Number(e.age),patientType:"IPD",lastVisit:e.admission.bookingDate,lastVisitType:"IPD",admission:{...e.admission,assignedRoom:e.admission.assignedRoom||null,assignedBed:e.admission.assignedBed||null,bookingDate:e.admission.bookingDate,vitals:{admission:Object.fromEntries(Object.entries(e.admission.vitals.admission||{}).map((e=>{let[t,n]=e;return"bloodPressure"===t?[t,n]:[t,parseFloat(n)||null]}))),discharge:Object.fromEntries(Object.entries(e.admission.vitals.discharge||{}).map((e=>{let[t,n]=e;return"bloodPressure"===t?[t,n]:[t,parseFloat(n)||null]})))}}}))(_);m||Y?g((0,Be.gE)({patientId:(null===m||void 0===m?void 0:m._id)||(null===Y||void 0===Y?void 0:Y._id),admission:e})).unwrap().then((e=>{x({title:"Patient admitted successfully",description:"The patient has been admitted.",variant:"success"}),g((0,Be.PP)({startDate:(new Date).toLocaleDateString("en-IN").split("/").reverse().join("-")})),g(Qe()),g(ht()),z(e.bill),q(e),U(!0)})).catch((e=>{x({title:"Failed to admit patient",description:e.message||"There was an error admitting the patient. Please try again.",variant:"destructive"})})).finally((()=>{u(!1)})):g((0,Be.xo)(e)).unwrap().then((e=>{x({title:"Patient registered successfully",description:"The new patient has been added.",variant:"success"}),u(!1),g((0,Be.PP)({startDate:(new Date).toLocaleDateString("en-IN").split("/").reverse().join("-")})),g(Qe()),g(ht()),z(e.bill),q(e),U(!0)})).catch((e=>{x({title:"Failed to register patient",description:e.message||"There was an error registering the patient. Please try again.",variant:"destructive"})})).finally((()=>{}))}},className:`space-y-4 h-[calc(${D?"70vh":"60vh"}-115px)]`,children:[(0,X.jsxs)(Uo,{defaultValue:"basic-info",className:"w-full",children:[(0,X.jsxs)($o,{className:"grid w-full grid-cols-3",children:[(0,X.jsx)(zo,{value:"basic-info",children:D?"Basic":"Basic Information"}),(0,X.jsx)(zo,{value:"vitals",children:"Vitals"}),(0,X.jsx)(zo,{value:"insurance",children:"Insurance"})]}),(0,X.jsx)(Ho,{value:"basic-info",children:(0,X.jsxs)("div",{className:`grid ${D?"grid-cols-1":"grid-cols-3"} mt-4 gap-4`,children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)(Vo,{id:"name",label:"Full Name",value:_.name,onChange:te,error:E.name}),D?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Vo,{id:"age",label:"Age",type:"number",value:_.age,onChange:re,error:E.age}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Vo,{id:"registrationNumber",label:"UHID Number",tabIndex:-1,value:_.registrationNumber,onChange:te,className:"pr-10"}),(0,X.jsx)("button",{type:"button",onClick:ie,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,X.jsx)(Ps.A,{className:"h-5 w-5"})})]})]}),(0,X.jsx)("div",{children:(0,X.jsxs)(A.l6,{id:"gender",value:_.gender,onValueChange:e=>te({target:{id:"gender",value:e}}),children:[(0,X.jsx)(A.bq,{className:E.gender?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:"Gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Vo,{id:"registrationNumber",label:"UHID Number",tabIndex:-1,value:_.registrationNumber,onChange:te,className:"pr-10"}),(0,X.jsx)("button",{type:"button",onClick:ie,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,X.jsx)(Ps.A,{className:"h-5 w-5"})})]}),(0,X.jsx)(Vo,{id:"ipdNumber",tabIndex:-1,label:"IPD Number",value:_.admission.ipdNumber,onChange:e=>te({target:{id:"admission.ipdNumber",value:e.target.value}}),error:E.ipdNumber})]}),(0,X.jsxs)("div",{className:"flex items-end gap-4",children:[(0,X.jsx)("div",{className:"w-30 relative",children:(0,X.jsx)(Vo,{id:"age",label:"Age",type:"number",value:_.age,onChange:re,error:E.age})}),(0,X.jsx)("div",{className:"flex-grow relative",children:(0,X.jsx)(Vo,{id:"dateOfBirth",tabIndex:-1,label:"Date of Birth",type:"date",value:_.dateOfBirth,onChange:ne})})]}),(0,X.jsx)("div",{children:(0,X.jsxs)(A.l6,{id:"gender",value:_.gender,onValueChange:e=>te({target:{id:"gender",value:e}}),children:[(0,X.jsx)(A.bq,{className:E.gender?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:"Gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})})]}),(0,X.jsxs)("div",{className:"relative grid grid-cols-2 gap-2",children:[(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{type:"date",id:"admission.bookingDate",value:_.admission.bookingDate,onChange:te,tabIndex:-1,className:"peer pl-2 pt-2 pb-2 block w-full border rounded-md text-gray-900 focus:ring-blue-500 focus:border-blue-500 bg-white "+(E["admission.bookingDate"]?"border-red-500":"border-gray-300")}),(0,X.jsxs)(wi.J,{htmlFor:"admission.bookingDate",className:"absolute text-xs transform -translate-y-3 top-1 z-10 origin-[0] left-2 px-1 bg-white "+(E["admission.bookingDate"]?"text-red-500":"text-gray-500"),children:["Booking Date",E["admission.bookingDate"]&&(0,X.jsx)("span",{className:"text-red-500 ml-1",children:"*Required"})]})]}),(0,X.jsxs)("div",{className:"relative flex gap-2",children:[(0,X.jsxs)("div",{className:"flex-1",children:[(0,X.jsx)(xn.p,{type:"time",id:"admission.bookingTime",value:_.admission.bookingTime.split(" ")[0],onChange:e=>{const t=(0,M.IF)(e.target.value);te({target:{id:"admission.bookingTime",value:t}})},tabIndex:-1,className:"peer pl-2 pt-2 pb-2 block w-full border rounded-md text-gray-900 focus:ring-blue-500 focus:border-blue-500 bg-white "+(E["admission.bookingTime"]?"border-red-500":"border-gray-300")}),(0,X.jsxs)(wi.J,{htmlFor:"admission.bookingTime",className:"absolute text-xs transform -translate-y-3 top-1 z-10 origin-[0] left-2 px-1 bg-white "+(E["admission.bookingTime"]?"text-red-500":"text-gray-500"),children:["Booking Time",E["admission.bookingTime"]&&(0,X.jsx)("span",{className:"text-red-500 ml-1",children:"*Required"})]})]}),(0,X.jsxs)(A.l6,{value:_.admission.bookingTime.split(" ")[1]||"AM",onValueChange:e=>{const t=_.admission.bookingTime.split(" ")[0];te({target:{id:"admission.bookingTime",value:`${t} ${e}`}})},children:[(0,X.jsx)(A.bq,{className:"w-[70px]",children:(0,X.jsx)(A.yv,{placeholder:"AM"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"AM",children:"AM"}),(0,X.jsx)(A.eb,{value:"PM",children:"PM"})]})]})]})]})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-[1fr_2fr] gap-2",children:[(0,X.jsxs)(A.l6,{id:"admisison.relation",value:_.admission.relation,onValueChange:e=>te({target:{id:"admission.relation",value:e}}),children:[(0,X.jsx)(A.bq,{children:(0,X.jsx)(A.yv,{placeholder:"Relation"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Father",children:"Father"}),(0,X.jsx)(A.eb,{value:"Husband",children:"Husband"}),(0,X.jsx)(A.eb,{value:"Mother",children:"Mother"}),(0,X.jsx)(A.eb,{value:"Wife",children:"Wife"}),(0,X.jsx)(A.eb,{value:"Guardian",children:"Guardian"})]})]}),(0,X.jsx)(Vo,{id:"admission.guardianName",value:_.admission.guardianName,onChange:te,label:""+(_.admission.relation?_.admission.relation+"'s Name":"Guardian's Name")})]}),(0,X.jsx)("div",{children:(0,X.jsx)(Vo,{id:"contactNumber",label:"Phone",type:"tel",value:_.contactNumber,onChange:te,error:E.contactNumber})}),(0,X.jsx)("div",{className:"space-y-2 ",children:(0,X.jsx)(xo.T,{id:"address",placeholder:"Address",value:_.address,onChange:te,className:"min-h-9 h-9 no-scrollbar"})}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsxs)(A.l6,{id:"admission.assignedRoom",onValueChange:e=>{te({target:{id:"admission.assignedRoom",value:e}});const t=h.find((t=>t._id===e)),n=(null===t||void 0===t?void 0:t.beds.filter((e=>"Occupied"!==e.status)))||[];1===n.length?S((e=>{var t;return{...e,admission:{...e.admission,assignedBed:null===(t=n[0])||void 0===t?void 0:t._id}}})):S((e=>({...e,admission:{...e.admission,assignedBed:""}})))},children:[(0,X.jsx)(A.bq,{className:E["admission.assignedRoom"]?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:"Select Room"})}),(0,X.jsx)(A.gC,{children:h.filter((e=>"Occupied"!==e.status)).map((e=>(0,X.jsxs)(A.eb,{value:e._id,children:[e.roomNumber," - ",e.type]},e._id)))})]}),(0,X.jsxs)(A.l6,{id:"admission.assignedBed",onValueChange:e=>te({target:{id:"admission.assignedBed",value:e}}),disabled:!_.admission.assignedRoom,children:[(0,X.jsx)(A.bq,{className:E["admission.assignedBed"]?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:_.admission.assignedBed&&_.admission.assignedRoom&&(null===(n=h.find((e=>e._id===_.admission.assignedRoom)))||void 0===n||null===(r=n.beds.find((e=>e._id===_.admission.assignedBed)))||void 0===r?void 0:r.bedNumber)||"Bed"})}),(0,X.jsx)(A.gC,{children:_.admission.assignedRoom&&(null===(a=h.find((e=>e._id===_.admission.assignedRoom)))||void 0===a?void 0:a.beds.filter((e=>"Occupied"!==e.status)).map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.bedNumber},e._id))))})]}),(null===(i=E.admission)||void 0===i?void 0:i.assignedBed)&&(0,X.jsx)("p",{className:"text-red-500 text-xs mt-1",children:E.admission.assignedBed})]})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[D?(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsxs)(A.l6,{id:"admission.department",onValueChange:e=>te({target:{id:"admission.department",value:e}}),children:[(0,X.jsx)(A.bq,{children:(0,X.jsx)(A.yv,{placeholder:1===p.length?p[0].name:"Department"})}),(0,X.jsx)(A.gC,{children:p.map((e=>(0,X.jsx)(A.eb,{value:e.name,children:e.name},e._id)))})]}),(0,X.jsxs)(A.l6,{id:"admission.assignedDoctor",onValueChange:e=>te({target:{id:"admission.assignedDoctor",value:e}}),children:[(0,X.jsx)(A.bq,{className:E["admission.assignedDoctor"]?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:1===f.length?`${f[0].name}`:"Select Doctor"})}),(0,X.jsx)(A.gC,{children:f.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]})]})}):(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Dg,{id:"admission.department",onValueChange:e=>te({target:{id:"admission.department",value:e}}),value:_.admission.department,label:"Department",error:E["admission.department"],children:p.map((e=>(0,X.jsx)(A.eb,{value:e.name,children:e.name},e._id)))}),(0,X.jsx)(Dg,{id:"admission.assignedDoctor",onValueChange:e=>te({target:{id:"admission.assignedDoctor",value:e}}),value:_.admission.assignedDoctor,label:"Doctor",error:E["admission.assignedDoctor"],children:f.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]}),(0,X.jsx)("div",{className:"flex flex-col",children:(0,X.jsx)(Vo,{id:"admission.referredBy",label:"Referred By",value:_.admission.referredBy,onChange:e=>te({target:{id:"admission.referredBy",value:e.target.value}})})}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsx)(Vo,{id:"paymentInfo.totalAmount",label:"Amount",tabIndex:-1,value:_.paymentInfo.totalAmount.toLocaleString("en-IN"),onChange:e=>{const t=Number(e.target.value.replace(/,/g,""));if(!isNaN(t)){const e=P.filter((e=>_.paymentInfo.services.includes(e._id))).reduce(((e,t)=>e+(t.rate||0)),0)+G;if(t>e){const n=t-e,r=P.find((e=>"Surgery"===e.category&&_.paymentInfo.services.includes(e._id)));S(r?e=>({...e,paymentInfo:{...e.paymentInfo,totalAmount:t,additionalDiscount:0,services:e.paymentInfo.services.map((e=>e===r._id?{...r,rate:(r.rate||0)+n}:e))}}):e=>({...e,paymentInfo:{...e.paymentInfo,totalAmount:t,additionalDiscount:0}}))}else S((n=>({...n,paymentInfo:{...n.paymentInfo,totalAmount:t,additionalDiscount:Math.max(0,e-t)}})))}}}),(0,X.jsx)(Vo,{id:"paymentInfo.balanceDue",label:"Balance Due",tabIndex:-1,value:(_.paymentInfo.totalAmount-(_.paymentInfo.amountPaid||0)).toLocaleString("en-IN"),disabled:!0,className:"bg-gray-50"}),(0,X.jsx)(j.$,{variant:"outline",className:`\n                                 ${E["admission.operationName"]?"border-red-500 text-red-500 hover:bg-red-50 ":"border-primary text-primary"}\n                               `,onClick:e=>{e.preventDefault(),k(!0)},size:"sm",children:null!==(s=_.admission)&&void 0!==s&&s.operationName?(null===(o=_.admission)||void 0===o?void 0:o.operationName.length)>15?`${null===(l=_.admission)||void 0===l?void 0:l.operationName.slice(0,15)}...`:null===(c=_.admission)||void 0===c?void 0:c.operationName:"Select Operations"})]}),_.paymentInfo.additionalDiscount>0&&(0,X.jsxs)("div",{className:"grid grid-cols-2",children:[(0,X.jsxs)("div",{className:"text-sm text-gray-500 ",children:["Services Total: \u20b9",(P.filter((e=>_.paymentInfo.services.includes(e._id))).reduce(((e,t)=>e+(t.rate||0)),0)+G).toLocaleString("en-IN")]}),G>0&&(0,X.jsxs)("div",{className:"text-sm text-gray-500",children:["Room Charge: \u20b9",G.toLocaleString("en-IN")]}),(0,X.jsxs)("div",{className:"text-sm text-gray-500",children:["Discount: \u20b9",_.paymentInfo.additionalDiscount.toLocaleString("en-IN")]})]})]}),(0,X.jsxs)("div",{className:_.paymentInfo.paymentMethod.length>1?"grid grid-cols-3 gap-1":"grid grid-cols-2 gap-2",children:[(0,X.jsx)(yo.A,{id:"paymentInfo.paymentMethod",label:"Payment Method",suggestions:zg,placeholder:_.paymentInfo.paymentMethod.length>0?_.paymentInfo.paymentMethod.map((e=>e.method)).join(","):"Payment Method",selectedValues:_.paymentInfo.paymentMethod.map((e=>({name:e.method}))),setSelectedValues:e=>{S((t=>{const n=t.paymentInfo.paymentMethod.reduce(((e,t)=>(e[t.method]=t.amount,e)),{}),r=e.map((e=>({method:e.name,amount:n[e.name]||""})));return{...t,paymentInfo:{...t.paymentInfo,paymentMethod:r}}}))}}),_.paymentInfo.paymentMethod.length>0?_.paymentInfo.paymentMethod.map((e=>(0,X.jsx)(Vo,{id:`paymentInfo.${e.method}`,label:`${e.method} Paid`,value:e.amount.toLocaleString("en-IN"),onChange:t=>{var n,r;n=e.method,r=t.target.value,S((e=>({...e,paymentInfo:{...e.paymentInfo,paymentMethod:e.paymentInfo.paymentMethod.map((e=>e.method===n?{...e,amount:r}:e)),amountPaid:e.paymentInfo.paymentMethod.reduce(((e,t)=>e+(t.amount?parseFloat(t.amount):0)),0)}})))},className:"bg-gray-50"},e.method))):(0,X.jsx)(Vo,{id:"hallelujah",label:"Amount Paid",disabled:!0,className:"bg-gray-50 "},"Ayush")]})]})]})}),(0,X.jsx)(Ho,{value:"vitals",children:(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:`grid ${D?"grid-cols-1":"grid-cols-2"} gap-4`,children:[(0,X.jsx)(xo.T,{id:"admission.diagnosis",placeholder:"Diagnosis",value:_.admission.diagnosis,onChange:e=>te({target:{id:"admission.diagnosis",value:e.target.value}})}),E["admission.diagnosis"]&&(0,X.jsx)("p",{className:"text-red-500 text-xs mt-1",children:E["admission.diagnosis"]}),(0,X.jsx)(xo.T,{id:"admission.conditionOnAdmission",placeholder:"Condition on Admission",value:_.admission.conditionOnAdmission,onChange:e=>te({target:{id:"admission.conditionOnAdmission",value:e.target.value}})})]}),(0,X.jsx)("h4",{className:"font-semibold text-sm mt-4",children:"Admission Vitals"}),(0,X.jsxs)("div",{className:`grid ${D?"grid-cols-2":"grid-cols-3"} gap-4`,children:[(0,X.jsx)(xn.p,{id:"admission.vitals.admission.weight",placeholder:"Weight",value:_.admission.vitals.admission.weight,onChange:te}),(0,X.jsx)(xn.p,{id:"admission.vitals.admission.height",placeholder:"Height",value:_.admission.vitals.admission.height,onChange:te}),(0,X.jsx)(xn.p,{id:"admission.vitals.admission.bloodPressure",placeholder:"Blood Pressure",value:_.admission.vitals.admission.bloodPressure,onChange:te}),(0,X.jsx)(xn.p,{id:"admission.vitals.admission.heartRate",placeholder:"Heart Rate",value:_.admission.vitals.admission.heartRate,onChange:te}),(0,X.jsx)(xn.p,{id:"admission.vitals.admission.temperature",placeholder:"Temperature",value:_.admission.vitals.admission.temperature,onChange:te}),(0,X.jsx)(xn.p,{id:"admission.vitals.admission.oxygenSaturation",placeholder:"Oxygen Saturation",value:_.admission.vitals.admission.oxygenSaturation,onChange:te}),(0,X.jsx)(xn.p,{id:"admission.vitals.admission.respiratoryRate",placeholder:"Respiratory Rate",value:_.admission.vitals.admission.respiratoryRate,onChange:te})]})]})}),(0,X.jsx)(Ho,{value:"insurance",children:(0,X.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[(0,X.jsx)(Vo,{id:"admission.insuranceDetails.provider",label:"Insurance Provider",value:_.admission.insuranceDetails.provider,onChange:te}),(0,X.jsx)(Vo,{id:"admission.insuranceDetails.policyNumber",label:"Policy Number",value:_.admission.insuranceDetails.policyNumber,onChange:te})]})})]}),(0,X.jsx)(so.Es,{className:"mt-4 "+(D?"mb-8":""),children:(0,X.jsxs)("div",{className:`w-full flex ${D?"flex-col-reverse":"flex-row"} justify-between sm:justify-end sm:space-x-2 space-y-2 sm:space-y-0`,children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:()=>{S(v),C({}),B(""),K(0)},className:""+(D?"w-full mt-2":""),children:"Reset"}),(0,X.jsx)(j.$,{type:"submit",disabled:"loading"===y,className:""+(D?"w-full":""),children:"loading"===y?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),m?"Readmitting...":"Registering..."]}):m?"Readmit Patient":"Register Patient"})]})})]}),(0,X.jsx)($g,{isOpen:T,onClose:()=>k(!1),services:ae(),selectedServices:[..._.paymentInfo.services,_.admission.assignedRoom?"room-charge":""].filter(Boolean),onServicesChange:e=>{const t=e.filter((e=>"room-charge"!==e.id));S((e=>({...e,admission:{...e.admission,operationName:P.filter((e=>"Surgery"===e.category&&t.some((t=>t.id===e._id)))).map((e=>e.name)).join(",")},paymentInfo:{...e.paymentInfo,services:t}})))}})]})}),W&&b&&(0,X.jsx)(jo,{isOpen:W,setShowBillModal:U,billData:$,completedBill:V,hospitalInfo:b})]})}const Vg=[{name:"Cash"},{name:"UPI"},{name:"Card"},{name:"Insurance"}],qg={name:"",registrationNumber:"",dateOfBirth:"",age:"",gender:"",contactNumber:"",email:"",address:"",bloodType:"",guardianName:"",relation:"",visit:{consultationType:"",reasonForVisit:"",vitals:{bloodPressure:"",heartRate:"",temperature:"",weight:"",height:"",oxygenSaturation:"",respiratoryRate:""},referredBy:"",bookingDate:"",timeSlot:{start:"",end:""},guardianName:"",relation:"",department:"",doctor:{id:"",name:""},insuranceDetails:{provider:"",policyNumber:""},totalAmount:"",discount:"",paymentMethod:[],amountPaid:""}},Gg={},Kg=e=>{var n;let{open:r,setOpen:a,patientData:i}=e;const{editPatientStatus:s,visitDetailsFull:o,visitDetailsFullStatus:l}=(0,w.d4)((e=>e.patients)),c=(0,w.wA)(),{toast:d}=(0,H.dj)(),u=(0,w.d4)((e=>e.staff.doctors)),m=(0,w.d4)((e=>e.departments.departments)),[p,h]=(0,t.useState)(qg),[f,v]=(0,t.useState)(Gg),[g,x]=(0,t.useState)([]),[y,N]=(0,t.useState)([]),[_,S]=(0,t.useState)([]),[E,D]=(0,t.useState)([]);(0,t.useEffect)((()=>{r&&null!==i&&void 0!==i&&i.visitID&&null!==i&&void 0!==i&&i.type?c((0,Be.h2)({id:i.visitID,type:i.type})).unwrap().then((e=>{h((t=>{var n,r,a,i,s,o,l,c;const d={...qg.visit};if(["consultationType","reasonForVisit","vitals","referredBy","bookingDate","timeSlot","guardianName","relation","department","doctor","insuranceDetails"].forEach((t=>{if(void 0!==e[t]&&null!==e[t])if("doctor"===t)"object"===typeof e.doctor&&null!==e.doctor?d.doctor={id:e.doctor._id||e.doctor.id||"",name:e.doctor.name||""}:d.doctor={id:"",name:""};else if("department"===t)d.department=e.department||"";else if("vitals"===t)d.vitals={...qg.visit.vitals,...e.vitals||{}};else if("insuranceDetails"===t)d.insuranceDetails={...qg.visit.insuranceDetails,...e.insuranceDetails||{}};else if("timeSlot"===t)d.timeSlot={...qg.visit.timeSlot,...e.timeSlot||{}};else if("bookingDate"===t){let t=e.bookingDate;if(t)if(/^\d{4}-\d{2}-\d{2}$/.test(t))d.bookingDate=t;else{const e=new Date(t);isNaN(e.getTime())?d.bookingDate="":d.bookingDate=e.toISOString().split("T")[0]}else d.bookingDate=""}else d[t]=e[t]})),e.bills&&e.bills.services&&e.bills.services.length>0){const t=e.bills.services[e.bills.services.length-1];if(d.totalAmount=t.totalAmount||0,d.discount=t.additionalDiscount||0,d.amountPaid=t.amountPaid||0,d.billId=t._id,t.payments&&t.payments.length>0){const e=t.payments.map((e=>({_id:e._id,method:e.paymentMethod,amount:e.amount})));d.paymentMethod=e,D(e)}else d.paymentMethod=[],D([])}else d.totalAmount=0,d.discount=0,d.amountPaid=0,d.paymentMethod=[],D([]);return{...t,name:e.name||(null===(n=e.patient)||void 0===n?void 0:n.name)||"",dateOfBirth:e.dateOfBirth||(null===(r=e.patient)||void 0===r?void 0:r.dateOfBirth)||"",age:e.age||(null===(a=e.patient)||void 0===a?void 0:a.age)||"",gender:e.gender||(null===(i=e.patient)||void 0===i?void 0:i.gender)||"",contactNumber:e.contactNumber||(null===(s=e.patient)||void 0===s?void 0:s.contactNumber)||"",email:e.email||(null===(o=e.patient)||void 0===o?void 0:o.email)||"",address:e.address||(null===(l=e.patient)||void 0===l?void 0:l.address)||"",bloodType:e.bloodType||(null===(c=e.patient)||void 0===c?void 0:c.bloodType)||"",registrationNumber:e.registrationNumber||"",visit:d}})),x([]),N([]),S([])})).catch((()=>{h(qg),x([]),N([]),S([])})):r||(h(qg),v({}),x([]),N([]),S([]))}),[r,null===i||void 0===i?void 0:i.visitID,null===i||void 0===i?void 0:i.type]);const T=()=>{a(!1),h(qg),v({})},k=(0,t.useCallback)((e=>{const{id:t,value:n}=e.target;h((e=>{const r=t.split(".");let a={...e},i=a;for(let t=0;t<r.length-1;t++)i[r[t]]={...i[r[t]]},i=i[r[t]];return i[r[r.length-1]]=n,a}))}),[]),P=(0,t.useCallback)(((e,t)=>k({target:{id:e,value:t}})),[k]);(0,t.useEffect)((()=>{const e=p.visit.paymentMethod.reduce(((e,t)=>e+(t.amount?parseFloat(t.amount):0)),0);h((t=>({...t,visit:{...t.visit,amountPaid:e}})))}),[p.visit.paymentMethod]);const O=(e,t,n)=>{const r=p.visit.paymentMethod[n];r._id?N((n=>{const a=n.find((e=>e._id===r._id)),i=E.find((e=>e._id===r._id));return e!==i.method||t!==i.amount?a?n.map((n=>n._id===r._id?{...n,method:e,amount:Number(t)}:n)):[...n,{_id:r._id,method:e,amount:Number(t)}]:n.filter((e=>e._id!==r._id))})):S((n=>n.find((e=>e.tempId===r.tempId))?n.map((n=>n.tempId===r.tempId?{...n,method:e,amount:Number(t)}:n)):[...n,{method:e,amount:Number(t),tempId:r.tempId}])),h((r=>{const a=[...r.visit.paymentMethod];return a[n]={...a[n],method:e,amount:Number(t)},{...r,visit:{...r.visit,paymentMethod:a}}}))};return(0,X.jsx)(so.lG,{open:r,onOpenChange:a,children:(0,X.jsxs)(so.Cf,{className:"md:max-w-[1000px] md:min-h-[60vh] md:max-h-[60vh] overflow-y-auto md:overflow-y-hidden w-[95vw] p-4 md:p-6 gap-0 md:gap-4 rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Edit Patient"}),(0,X.jsx)(so.rr,{children:"Edit the patient's information and visit details."})]}),(0,X.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{var e,t;const n={};return p.name||(n.name="Full name is required"),p.gender||(n.gender="Gender is required"),p.contactNumber||(n.contactNumber="Contact number is required"),p.dateOfBirth||p.age||(n.age="Age or Date of birth is required"),p.visit.department||(n.department="Department selection is required"),null!==(e=p.visit)&&void 0!==e&&null!==(t=e.doctor)&&void 0!==t&&t.id||(n.doctor="Doctor selection is required"),v(n),0===Object.keys(n).length})())try{var t;const e=null===i||void 0===i||null===(t=i.patient)||void 0===t?void 0:t._id,n={...p,type:null===i||void 0===i?void 0:i.type,visitID:null===i||void 0===i?void 0:i.visitID,visit:{...p.visit,deletedPayments:g,updatedPayments:y.map((e=>({_id:e._id,method:e.method,amount:Number(e.amount)}))),newPayments:_.map((e=>({method:e.method,amount:Number(e.amount)})))}};await c((0,Be.C$)({patientData:n,patientID:e})).unwrap(),d({variant:"success",title:"Success",description:"Patient record has been updated successfully"}),T()}catch(n){d({title:"Error",description:n.message||"Failed to update patient",variant:"destructive"})}},className:"h-full md:h-[calc(70vh-100px)]",children:[(0,X.jsxs)(Uo,{defaultValue:"basic-info",className:"w-full",children:[(0,X.jsxs)($o,{className:"grid w-full grid-cols-3",children:[(0,X.jsx)(zo,{value:"basic-info",children:"Basic Information"}),(0,X.jsx)(zo,{value:"vitals",children:"Vitals"}),(0,X.jsx)(zo,{value:"insurance",children:"Insurance"})]}),(0,X.jsx)(Ho,{value:"basic-info",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,X.jsx)("div",{className:"space-y-4",children:(0,X.jsx)(Tg,{formData:p,handleInputChange:k,handleSelectChange:P,errors:f,searchDisabled:!0})}),(0,X.jsx)("div",{className:"space-y-4",children:(0,X.jsx)(kg,{formData:p,handleInputChange:k,handleSelectChange:P,errors:f})}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Dg,{id:"visit.department",value:p.visit.department,label:"Department",onValueChange:e=>P("visit.department",e),error:f.department,children:m.map((e=>(0,X.jsx)(A.eb,{value:e.name,children:e.name},e._id)))}),(0,X.jsx)(Dg,{id:"visit.doctor",label:"Doctor",value:p.visit.doctor.id,onValueChange:e=>{const t=u.find((t=>t._id===e));P("visit.doctor",{id:e,name:null===t||void 0===t?void 0:t.name})},error:f.doctor,children:u.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]}),(0,X.jsx)(Vo,{label:"Referred By",id:"visit.referredBy",value:p.visit.referredBy,onChange:k,error:f.referredBy}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsx)(Vo,{label:"Total Fee (\u20b9)",id:"visit.totalAmount",value:p.visit.totalAmount,onChange:k,error:f.totalAmount}),(0,X.jsx)(Vo,{label:"Amount Paid (\u20b9)",value:(null===(n=p.visit.amountPaid)||void 0===n?void 0:n.toLocaleString("en-IN"))||"0",disabled:!0,className:"bg-gray-50"})]}),(0,X.jsxs)("div",{className:"",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)(wi.J,{children:"Payment History"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e=Date.now().toString();h((t=>({...t,visit:{...t.visit,paymentMethod:[...t.visit.paymentMethod,{method:"Cash",amount:"",tempId:e}]}}))),S((t=>[...t,{method:"Cash",amount:"",tempId:e}]))},className:"h-8",children:"Add Payment"})]}),(0,X.jsx)("div",{className:"border rounded-md",children:(0,X.jsx)(b.F,{className:"h-[50px]",children:(0,X.jsx)("div",{className:"p-2 space-y-2",children:p.visit.paymentMethod.map(((e,t)=>(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsxs)(A.l6,{value:e.method,onValueChange:n=>{O(n,e.amount,t)},children:[(0,X.jsx)(A.bq,{className:"w-[120px] h-8 text-sm",children:(0,X.jsx)(A.yv,{placeholder:"Method"})}),(0,X.jsx)(A.gC,{children:Vg.map((e=>(0,X.jsx)(A.eb,{value:e.name,className:"text-sm",children:e.name},e.name)))})]}),(0,X.jsx)(xn.p,{type:"number",value:e.amount,onChange:n=>{O(e.method,n.target.value,t)},className:"w-[120px] h-8 text-sm",placeholder:"Amount"}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>{(e=>{const t=p.visit.paymentMethod[e];t._id?(x((e=>[...e,t._id])),N((e=>e.filter((e=>e._id!==t._id))))):S((e=>e.filter((e=>e.tempId!==t.tempId)))),h((t=>({...t,visit:{...t.visit,paymentMethod:t.visit.paymentMethod.filter(((t,n)=>n!==e))}})))})(t)},className:"h-8 w-8 p-0",children:(0,X.jsx)(C.A,{className:"h-3.5 w-3.5 text-red-500"})})]},t)))})})})]})]})]})}),(0,X.jsx)(Ho,{value:"vitals",children:(0,X.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,X.jsx)(Ag,{formData:p,handleSelectChange:P,errors:f})})}),(0,X.jsx)(Ho,{value:"insurance",children:(0,X.jsx)(Pg,{formData:p.visit,handleSelectChange:P,errors:f})})]}),(0,X.jsxs)(so.Es,{className:"mt-4",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:T,type:"button",children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",disabled:"loading"===s,children:"loading"===s?"Saving...":"Save changes"})]})]})]})})},Yg=[{name:"Cash"},{name:"UPI"},{name:"Card"},{name:"Insurance"}],Xg={patient:{name:"",registrationNumber:"",dateOfBirth:"",age:"",gender:"",contactNumber:"",address:"",bloodType:""},admission:{department:"",assignedDoctor:{_id:"",name:""},operationName:"",referredBy:"",assignedRoom:"",assignedBed:"",diagnosis:"",ipdNumber:"",conditionOnAdmission:"",vitals:{admission:{bloodPressure:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:"",weight:"",height:""},discharge:{bloodPressure:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:""}},bookingDate:"",bookingTime:"",timeSlot:{start:"",end:""},insuranceDetails:{provider:"",policyNumber:""},guardianName:"",relation:""},bill:{billId:null,services:[],subtotal:"0",additionalDiscount:"0",totalAmount:"0",amountPaid:"",paymentMethod:[]}};function Zg(e){var n,r,a,i,s,o,l,c,d,u;let{open:m,onOpenChange:p,admissionData:h}=e;const f=(0,w.wA)(),{toast:v}=(0,H.dj)(),g=vo("(max-width: 640px)"),{departments:x}=(0,w.d4)((e=>e.departments)),{rooms:y}=(0,w.d4)((e=>e.rooms)),{doctors:N}=(0,w.d4)((e=>e.staff)),{services:_,servicesStatus:S}=(0,w.d4)((e=>e.services)),{ipdAdmissionDetailsFull:E,ipdAdmissionDetailsFullStatus:D,editIPDAdmissionStatus:T}=(0,w.d4)((e=>e.patients)),[k,P]=(0,t.useState)(Xg),[O,R]=(0,t.useState)({}),[I,L]=(0,t.useState)([]),[F,B]=(0,t.useState)([]),[W,U]=(0,t.useState)([]),[$,z]=(0,t.useState)(!1),[V,q]=(0,t.useState)([]);(0,t.useEffect)((()=>{m&&null!==h&&void 0!==h&&h._id?f((0,Be.sw)({admissionId:h._id})):m||(P(Xg),R({}),L([]),B([]),U([]),q([]))}),[m,null===h||void 0===h?void 0:h._id,f]),(0,t.useEffect)((()=>{if("succeeded"===D&&E){var e,t,n;const a=E,i=a.patient||{},s={name:i.name||"",registrationNumber:a.registrationNumber||i.registrationNumber||"",dateOfBirth:i.dateOfBirth?new Date(i.dateOfBirth).toISOString().split("T")[0]:"",age:i.age||"",gender:i.gender||"",contactNumber:i.contactNumber||"",address:i.address||"",bloodType:i.bloodType||""},o={department:a.department||"",assignedDoctor:a.assignedDoctor?{_id:a.assignedDoctor._id,name:a.assignedDoctor.name}:{_id:"",name:""},operationName:a.operationName||"",referredBy:a.referredBy||"",assignedRoom:(null===(e=a.assignedRoom)||void 0===e?void 0:e._id)||"",assignedBed:a.assignedBed||"",diagnosis:a.diagnosis||"",ipdNumber:a.ipdNumber||"",conditionOnAdmission:a.conditionOnAdmission||"",bookingDate:a.bookingDate?new Date(a.bookingDate).toISOString().split("T")[0]:"",bookingTime:a.bookingTime||"",guardianName:a.guardianName||"",relation:a.relation||"",vitals:{...Xg.admission.vitals,admission:{...Xg.admission.vitals.admission,...(null===(t=a.vitals)||void 0===t?void 0:t.admission)||a.vitals||{}},discharge:{...Xg.admission.vitals.discharge,...(null===(n=a.vitals)||void 0===n?void 0:n.discharge)||{}}},insuranceDetails:{...Xg.admission.insuranceDetails,...a.insuranceDetails||{}},timeSlot:{...Xg.admission.timeSlot,...a.timeSlot||{}}},l={...Xg.bill};if(a.bills&&a.bills.services&&a.bills.services.length>0){var r;const e=a.bills.services[a.bills.services.length-1];l.billId=e._id,l.services=(null===(r=e.services)||void 0===r?void 0:r.map((e=>({serviceId:e.serviceId||e._id||e.id,name:e.name,quantity:e.quantity||1,rate:e.rate||0,category:e.category||"Other",date:e.date?new Date(e.date).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0]}))))||[];const t=l.services.reduce(((e,t)=>e+Number(t.rate)*Number(t.quantity)),0);if(0===l.services.length)l.totalAmount=(e.totalAmount||0).toString(),l.subtotal=l.totalAmount,l.additionalDiscount="0";else{l.subtotal=t.toString();const n=void 0!==e.totalAmount&&null!==e.totalAmount?Number(e.totalAmount):t;l.totalAmount=n.toString(),l.additionalDiscount=Math.max(0,t-n).toString()}if(e.payments&&e.payments.length>0){const t=e.payments.map((e=>({_id:e._id,method:e.paymentMethod,amount:e.amount.toString()})));l.paymentMethod=t,L(t.map((e=>({...e}))))}else l.paymentMethod=[],L([]);l.amountPaid=l.paymentMethod.reduce(((e,t)=>e+(Number(t.amount)||0)),0).toString()}else l.paymentMethod=[],L([]),l.amountPaid="0",l.services=[],l.subtotal="0",l.additionalDiscount="0",l.totalAmount="0";P({patient:s,admission:{...o},bill:l}),B([]),U([]),q([])}}),[D,E]),(0,t.useEffect)((()=>{m&&(f(Qe()),"idle"===S&&f(lt()))}),[m,f,S]);const G=(0,t.useCallback)((e=>{const{id:t,value:n,type:r,checked:a}=e.target,[i,...s]=t.split("."),o=s.join(".");P((e=>{const t={...e};let s=t[i];const l=o.split(".");for(let n=0;n<l.length-1;n++)s[l[n]]||(s[l[n]]={}),s=s[l[n]];if(s[l[l.length-1]]="checkbox"===r?a:n,"bill"===i){if("totalAmount"===l[0]){const e=n,r=Number(e)||0;let a=t.bill.services.reduce(((e,t)=>e+Number(t.rate)*Number(t.quantity)),0);if(0===t.bill.services.length)t.bill.subtotal=e,t.bill.additionalDiscount="0";else{t.bill.subtotal=a.toString();const e=Math.max(0,a-r);t.bill.additionalDiscount=e.toString()}t.bill.totalAmount=e}"paymentMethod"===l[0]&&"amount"===l[2]&&(t.bill.amountPaid=t.bill.paymentMethod.reduce(((e,t)=>e+(Number(t.amount)||0)),0).toString())}return t}))}),[]),K=(0,t.useCallback)(((e,t)=>{G({target:{id:e,value:t}})}),[G]),Y=(0,t.useCallback)((e=>{const t=e.target.value,n=t?(new Date).getFullYear()-new Date(t).getFullYear():"";G({target:{id:"patient.dateOfBirth",value:t}}),G({target:{id:"patient.age",value:n.toString()}})}),[G]),Z=(0,t.useCallback)((e=>{const t=e.target.value;G({target:{id:"patient.age",value:t}})}),[G]),J=(e,t,n)=>{const r=[...k.bill.paymentMethod],a={...r[e]};if(a[t]=n,r[e]=a,a._id){const e=I.find((e=>e._id===a._id));if(!e||e.method===a.method&&e.amount===a.amount)e&&e.method===a.method&&e.amount===a.amount&&U(W.filter((e=>e._id!==a._id)));else{const e=W.findIndex((e=>e._id===a._id));if(e>-1){const t=[...W];t[e]={_id:a._id,method:a.method,amount:Number(a.amount)},U(t)}else U([...W,{_id:a._id,method:a.method,amount:Number(a.amount)}])}}else{const e=V.findIndex((e=>e.tempId===a.tempId));if(e>-1){const t=[...V];t[e]={tempId:a.tempId,method:a.method,amount:Number(a.amount)},q(t)}}const i=r.reduce(((e,t)=>e+(Number(t.amount)||0)),0);P((e=>({...e,bill:{...e.bill,paymentMethod:r,amountPaid:i.toString()}})))},Q=(0,t.useCallback)((()=>_.filter((e=>"Surgery"===e.category)).map((e=>({...e,isRoom:!1})))),[_]);return"loading"===D&&m?(0,X.jsx)(so.lG,{open:m,onOpenChange:p,children:(0,X.jsx)(so.Cf,{className:"sm:max-w-[425px]",children:(0,X.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,X.jsx)(Di,{className:"h-8 w-8 animate-spin text-primary"})})})}):(0,X.jsx)(so.lG,{open:m,onOpenChange:p,children:(0,X.jsxs)(so.Cf,{className:` ${g?"w-[95vw] p-4 rounded-lg gap-0 ":"max-w-[1000px]"} h-[${g?"80vh":"70vh"}] overflow-y-auto px-4`,children:[(0,X.jsxs)(so.c7,{className:"mb-4 md:mb-0",children:[(0,X.jsx)(so.L3,{children:"Edit IPD Patient Details"}),(0,X.jsx)(so.rr,{className:g?"hidden":"",children:"Modify the patient's IPD admission, billing, and personal information."})]}),(0,X.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{var e;const t={};return k.patient.name||(t.name="Full name is required"),k.patient.gender||(t.gender="Gender is required"),k.patient.contactNumber||(t.contactNumber="Contact number is required"),k.patient.dateOfBirth||k.patient.age||(t.age="Age or Date of birth is required"),k.admission.department||(t.department="Department is required"),null!==(e=k.admission.assignedDoctor)&&void 0!==e&&e._id||(t.doctor="Doctor is required"),k.admission.assignedRoom&&!k.admission.assignedBed&&(t["admission.assignedBed"]="Bed is required"),R(t),0===Object.keys(t).length})()){var t;const e={patient:k.patient,admission:{...k.admission,assignedDoctor:(null===(t=k.admission.assignedDoctor)||void 0===t?void 0:t._id)||k.admission.assignedDoctor},bill:{billId:k.bill.billId,services:k.bill.services.map((e=>({serviceId:e.serviceId,name:e.name,quantity:Number(e.quantity)||1,rate:Number(e.rate)||0,category:e.category,date:e.date}))),subtotal:Number(k.bill.subtotal)||0,additionalDiscount:Number(k.bill.additionalDiscount)||0,totalAmount:Number(k.bill.totalAmount),amountPaid:Number(k.bill.amountPaid)},payments:{deletedPayments:F,updatedPayments:W.map((e=>({_id:e._id,method:e.method,amount:Number(e.amount)}))),newPayments:V.map((e=>({method:e.method,amount:Number(e.amount)})))}};try{await f((0,Be.FG)({admissionId:h._id,data:e})).unwrap(),v({title:"Success",description:"IPD record updated successfully.",variant:"success"}),p(!1)}catch(n){v({title:"Error",description:n.message||"Failed to update IPD record.",variant:"destructive"})}}},className:`space-y-4 h-[calc(${g?"80vh":"70vh"}-115px)]`,children:[(0,X.jsxs)(Uo,{defaultValue:"basic-info",className:"w-full",children:[(0,X.jsxs)($o,{className:"grid w-full grid-cols-3",children:[(0,X.jsx)(zo,{value:"basic-info",children:g?"Basic":"Basic Info"}),(0,X.jsx)(zo,{value:"vitals",children:"Vitals"}),(0,X.jsx)(zo,{value:"insurance",children:"Insurance"})," "]}),(0,X.jsx)(Ho,{value:"basic-info",children:(0,X.jsxs)("div",{className:`grid ${g?"grid-cols-1":"grid-cols-2 lg:grid-cols-3"} mt-4 gap-4`,children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)(Vo,{id:"patient.name",label:"Full Name",value:k.patient.name,onChange:G,error:O.name}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Vo,{id:"patient.age",label:"Age",type:"number",value:k.patient.age,onChange:Z,error:O.age}),(0,X.jsx)(Vo,{id:"patient.dateOfBirth",label:"Date of Birth",type:"date",value:k.patient.dateOfBirth,onChange:Y,tabIndex:-1})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,X.jsx)(Vo,{id:"patient.registrationNumber",label:"UHID Number",value:k.patient.registrationNumber,onChange:G,disabled:!0}),(0,X.jsx)(Vo,{id:"admission.ipdNumber",label:"IPD Number",value:k.admission.ipdNumber,onChange:G,disabled:!0})]}),(0,X.jsxs)(A.l6,{id:"patient.gender",value:k.patient.gender,onValueChange:e=>K("patient.gender",e),children:[(0,X.jsx)(A.bq,{className:O.gender?"border-red-500":"",children:(0,X.jsx)(A.yv,{placeholder:"Gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]}),O.gender&&(0,X.jsx)("p",{className:"text-xs text-red-500",children:O.gender}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Vo,{id:"admission.bookingDate",label:"Booking Date",type:"date",value:k.admission.bookingDate,onChange:G,tabIndex:-1}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{type:"time",id:"admission.bookingTime",value:null===(n=k.admission.bookingTime)||void 0===n?void 0:n.split(" ")[0],onChange:e=>{const t=(0,M.IF)(e.target.value);G({target:{id:"admission.bookingTime",value:t}})},tabIndex:-1,className:"peer pl-2 pt-2 pb-2 block w-full border rounded-md"}),(0,X.jsx)(wi.J,{htmlFor:"admission.bookingTime",className:"absolute text-xs transform -translate-y-3 top-1 z-10 origin-[0] left-2 px-1 bg-white text-gray-500",children:"Booking Time"})]})]})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)(Vo,{id:"patient.contactNumber",label:"Phone",value:k.patient.contactNumber,onChange:G,error:O.contactNumber}),(0,X.jsx)(xo.T,{id:"patient.address",placeholder:"Address",value:k.patient.address,onChange:G,className:"min-h-9 h-9 no-scrollbar"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsxs)(Dg,{id:"admission.relation",label:"Guardian Relation",value:k.admission.relation,onValueChange:e=>K("admission.relation",e),children:[(0,X.jsx)(A.eb,{value:"Father",children:"Father"}),(0,X.jsx)(A.eb,{value:"Mother",children:"Mother"}),(0,X.jsx)(A.eb,{value:"Husband",children:"Husband"}),(0,X.jsx)(A.eb,{value:"Wife",children:"Wife"}),(0,X.jsx)(A.eb,{value:"Guardian",children:"Guardian"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]}),(0,X.jsx)(Vo,{id:"admission.guardianName",label:"Guardian Name",value:k.admission.guardianName,onChange:G})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Dg,{id:"admission.assignedRoom",label:"Assigned Room",value:k.admission.assignedRoom,onValueChange:e=>{K("admission.assignedRoom",e)},children:y.map((e=>(0,X.jsxs)(A.eb,{value:e._id,children:[e.roomNumber," - ",e.type]},e._id)))}),(0,X.jsx)(Dg,{id:"admission.assignedBed",label:"Assigned Bed",value:k.admission.assignedBed,onValueChange:e=>{e&&K("admission.assignedBed",e)},disabled:!k.admission.assignedRoom,children:k.admission.assignedRoom&&(null===(r=y.find((e=>{var t,n,r;return(null===(t=e._id)||void 0===t?void 0:t.toString())===(null===(n=k.admission)||void 0===n||null===(r=n.assignedRoom)||void 0===r?void 0:r.toString())})))||void 0===r?void 0:r.beds.filter((e=>"Occupied"!==e.status||e._id===k.admission.assignedBed)).map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.bedNumber},e._id))))})]})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(Dg,{id:"admission.department",label:"Department",value:k.admission.department,onValueChange:e=>K("admission.department",e),error:O.department,children:x.map((e=>(0,X.jsx)(A.eb,{value:e.name,children:e.name},e._id)))}),(0,X.jsx)(Dg,{id:"admission.assignedDoctor",label:"Consulting Doctor",value:null===(a=k.admission.assignedDoctor)||void 0===a?void 0:a._id,onValueChange:e=>{const t=N.find((t=>t._id===e));K("admission.assignedDoctor",t?{_id:t._id,name:t.name}:{_id:"",name:""})},error:O.doctor,children:N.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]}),(0,X.jsx)(Vo,{id:"admission.referredBy",label:"Referred By",value:k.admission.referredBy,onChange:G}),(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,X.jsx)(Vo,{id:"bill.totalAmount",label:"Total (\u20b9)",value:(null===(i=k.bill.totalAmount)||void 0===i?void 0:i.toLocaleString("en-IN"))||"0",onChange:G,className:"font-semibold"}),(0,X.jsx)(Vo,{label:"Paid(\u20b9)",value:(null===(s=k.bill.amountPaid)||void 0===s?void 0:s.toLocaleString("en-IN"))||"0",disabled:!0,className:"bg-gray-100"}),(0,X.jsx)(j.$,{variant:"outline",className:`\n                                 ${O["admission.operationName"]?"border-red-500 text-red-500 hover:bg-red-50 ":"border-primary text-primary"}\n                               `,onClick:e=>{e.preventDefault(),z(!0)},size:"sm",children:null!==(o=k.admission)&&void 0!==o&&o.operationName?(null===(l=k.admission)||void 0===l?void 0:l.operationName.length)>15?`${null===(c=k.admission)||void 0===c?void 0:c.operationName.slice(0,15)}...`:null===(d=k.admission)||void 0===d?void 0:d.operationName:"Select Operations"})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)(wi.J,{className:"text-sm",children:"Payment History"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e=Date.now().toString(),t={tempId:e,method:"Cash",amount:""};P((e=>({...e,bill:{...e.bill,paymentMethod:[...e.bill.paymentMethod,t]}}))),q([...V,{tempId:e,method:"Cash",amount:0}])},className:" px-2 text-xs",children:"Add Payment"})]}),(0,X.jsx)("div",{className:"border rounded-md overflow-y-auto",children:(0,X.jsx)(b.F,{className:"h-[50px]",children:(0,X.jsxs)("div",{className:"p-2 space-y-1.5",children:[k.bill.paymentMethod.map(((e,t)=>(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsxs)(A.l6,{value:e.method,onValueChange:e=>J(t,"method",e),children:[(0,X.jsx)(A.bq,{className:"w-[100px] h-7 text-xs",children:(0,X.jsx)(A.yv,{placeholder:"Method"})}),(0,X.jsx)(A.gC,{children:Yg.map((e=>(0,X.jsx)(A.eb,{value:e.name,className:"text-xs",children:e.name},e.name)))})]}),(0,X.jsx)(xn.p,{type:"number",value:e.amount,onChange:e=>J(t,"amount",e.target.value),className:"w-[100px] h-7 text-xs",placeholder:"Amount"}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>(e=>{const t=k.bill.paymentMethod[e];t._id?(B([...F,t._id]),U(W.filter((e=>e._id!==t._id)))):q(V.filter((e=>e.tempId!==t.tempId)));const n=k.bill.paymentMethod.filter(((t,n)=>n!==e)),r=n.reduce(((e,t)=>e+(Number(t.amount)||0)),0);P((e=>({...e,bill:{...e.bill,paymentMethod:n,amountPaid:r.toString()}})))})(t),className:"h-7 w-7 p-0",children:(0,X.jsx)(C.A,{className:"h-3 w-3 text-red-500"})})]},e._id||e.tempId))),0===k.bill.paymentMethod.length&&(0,X.jsx)("p",{className:"text-xs text-center text-gray-500 p-2",children:"No payments recorded."})]})})})]})]})}),(0,X.jsxs)(Ho,{value:"vitals",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,X.jsx)(xo.T,{id:"admission.diagnosis",placeholder:"Diagnosis (Optional)",value:k.admission.diagnosis,onChange:G}),(0,X.jsx)(xo.T,{id:"admission.conditionOnAdmission",placeholder:"Condition on Admission (Optional)",value:k.admission.conditionOnAdmission,onChange:G})]}),(0,X.jsx)("h4",{className:"font-semibold text-sm mt-4",children:"Admission Vitals"}),(0,X.jsxs)("div",{className:`grid ${g?"grid-cols-2":"grid-cols-3 lg:grid-cols-4"} mt-4 gap-x-4 gap-y-6`,children:[(0,X.jsx)(Vo,{id:"admission.vitals.admission.weight",label:"Weight (kg)",value:k.admission.vitals.admission.weight,onChange:G}),(0,X.jsx)(Vo,{id:"admission.vitals.admission.height",label:"Height (cm)",value:k.admission.vitals.admission.height,onChange:G}),(0,X.jsx)(Vo,{id:"admission.vitals.admission.bloodPressure",label:"Blood Pressure",value:k.admission.vitals.admission.bloodPressure,onChange:G}),(0,X.jsx)(Vo,{id:"admission.vitals.admission.heartRate",label:"Heart Rate",value:k.admission.vitals.admission.heartRate,onChange:G}),(0,X.jsx)(Vo,{id:"admission.vitals.admission.temperature",label:"Temperature (\xb0F)",value:k.admission.vitals.admission.temperature,onChange:G}),(0,X.jsx)(Vo,{id:"admission.vitals.admission.oxygenSaturation",label:"Oxygen Sat. (%)",value:k.admission.vitals.admission.oxygenSaturation,onChange:G}),(0,X.jsx)(Vo,{id:"admission.vitals.admission.respiratoryRate",label:"Respiratory Rate",value:k.admission.vitals.admission.respiratoryRate,onChange:G})]})]}),(0,X.jsx)(Ho,{value:"insurance",children:(0,X.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,X.jsx)(Vo,{id:"admission.insuranceDetails.provider",label:"Insurance Provider (Optional)",value:k.admission.insuranceDetails.provider,onChange:G}),(0,X.jsx)(Vo,{id:"admission.insuranceDetails.policyNumber",label:"Policy Number (Optional)",value:k.admission.insuranceDetails.policyNumber,onChange:G})]})})]}),(0,X.jsx)(so.Es,{className:"mt-4 "+(g?"mb-8":""),children:(0,X.jsxs)("div",{className:`w-full flex ${g?"flex-col-reverse space-y-2":"flex-row justify-end space-x-2"} `,children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:()=>{if(E){var e;const n=E,r=n.patient||{},a={...Xg.admission,...n},i={...Xg.bill},s={name:r.name||"",registrationNumber:n.registrationNumber||r.registrationNumber||"",dateOfBirth:r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"",age:r.age||"",gender:r.gender||"",contactNumber:r.contactNumber||"",address:r.address||"",bloodType:r.bloodType||""};if(a.department=n.department||"",a.assignedDoctor=n.assignedDoctor?{_id:n.assignedDoctor._id,name:n.assignedDoctor.name}:{_id:"",name:""},a.operationName=n.operationName||"",a.referredBy=n.referredBy||"",a.assignedRoom=(null===(e=n.assignedRoom)||void 0===e?void 0:e._id)||n.assignedRoom||"",a.assignedBed=n.assignedBed||"",a.diagnosis=n.diagnosis||"",a.ipdNumber=n.ipdNumber||"",a.conditionOnAdmission=n.conditionOnAdmission||"",a.bookingDate=n.bookingDate?new Date(n.bookingDate).toISOString().split("T")[0]:"",a.bookingTime=n.bookingTime||"",a.guardianName=n.guardianName||"",a.relation=n.relation||"",n.vitals&&(a.vitals.admission={...Xg.admission.vitals.admission,...n.vitals.admission||n.vitals}),n.insuranceDetails&&(a.insuranceDetails={...Xg.admission.insuranceDetails,...n.insuranceDetails}),n.timeSlot&&(a.timeSlot={...Xg.admission.timeSlot,...n.timeSlot}),n.bills&&n.bills.services&&n.bills.services.length>0){var t;const e=n.bills.services[n.bills.services.length-1];i.billId=e._id,i.services=(null===(t=e.services)||void 0===t?void 0:t.map((e=>({serviceId:e.serviceId||e._id||e.id,name:e.name,quantity:e.quantity||1,rate:e.rate||0,category:e.category||"Other",date:e.date?new Date(e.date).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0]}))))||[];const r=i.services.reduce(((e,t)=>e+Number(t.rate)*Number(t.quantity)),0);if(0===i.services.length)i.totalAmount=(e.totalAmount||0).toString(),i.subtotal=i.totalAmount,i.additionalDiscount="0";else{i.subtotal=r.toString();const t=void 0!==e.totalAmount&&null!==e.totalAmount?Number(e.totalAmount):r;i.totalAmount=t.toString(),i.additionalDiscount=Math.max(0,r-t).toString()}if(e.payments&&e.payments.length>0){const t=e.payments.map((e=>({_id:e._id,method:e.paymentMethod,amount:e.amount.toString()})));i.paymentMethod=t,L(t.map((e=>({...e}))))}else i.paymentMethod=[],L([]);i.amountPaid=i.paymentMethod.reduce(((e,t)=>e+(Number(t.amount)||0)),0).toString()}else i.paymentMethod=[],L([]),i.amountPaid="0",i.services=[],i.subtotal="0",i.additionalDiscount="0",i.totalAmount="0";P({patient:s,admission:{...a},bill:i}),R({}),B([]),U([]),q([])}else P(Xg),R({})},className:""+(g?"w-full":""),children:"Reset"}),(0,X.jsxs)(j.$,{type:"submit",disabled:"loading"===T||"loading"===D,className:""+(g?"w-full":""),children:["loading"===T||"loading"===D?(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save Changes"]})]})})]}),(0,X.jsx)($g,{isOpen:$,onClose:()=>z(!1),services:Q(),selectedServices:(null===(u=k.bill.services)||void 0===u?void 0:u.map((e=>({id:e.serviceId,rate:e.rate}))))||[],onServicesChange:e=>{const t=_||[],n=e.map((e=>{const n=t.find((t=>t._id===e.id));return{serviceId:e.id,name:(null===n||void 0===n?void 0:n.name)||"Unknown Service",quantity:1,rate:e.rate,category:(null===n||void 0===n?void 0:n.category)||"Other",date:(new Date).toISOString().split("T")[0]}})),r=n.reduce(((e,t)=>e+Number(t.rate)*Number(t.quantity)),0);Number(k.bill.additionalDiscount);P((e=>({...e,bill:{...e.bill,services:n,subtotal:r.toString(),totalAmount:r.toString(),additionalDiscount:"0"}})))}})]})})}const Jg=e=>{let{isOpen:n,onOpenChange:r,patient:a,onDeleted:i}=e;const s=(0,w.wA)(),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),{toast:u}=(0,H.dj)();return n&&a?(0,X.jsx)(Ce,{open:n,onOpenChange:e=>{c||(e||l(!1),r(e))},children:(0,X.jsxs)(Ae,{children:[(0,X.jsxs)(Pe,{children:[(0,X.jsx)(Re,{children:"Are you absolutely sure?"}),(0,X.jsx)(Me,{children:"This action cannot be undone and will permanently delete data."})]}),(0,X.jsxs)(Oe,{children:[(0,X.jsx)(Le,{disabled:c,children:"Cancel"}),(0,X.jsx)(j.$,{onClick:()=>{if(!a)return;d(!0);let e={patientId:a.patient._id};o||("OPD"===a.type?e.visitId=a._id:e.admissionId=a._id),s((0,Be.Dk)(e)).unwrap().then((()=>{r(!1),i&&i(),l(!1),u({title:"Success",description:"Patient deleted successfully",variant:"success"})})).catch((e=>{u({title:"Error",description:e.message||"Something went wrong",variant:"destructive"})})).finally((()=>{d(!1)}))},variant:"destructive",disabled:c,children:c?"Deleting...":"Delete"})]})]})}):null};function Qg(){var e,n;const r=(0,w.wA)(),i=(0,a.Zp)(),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("All"),[d,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)("Today"),[h,f]=(0,t.useState)({from:null,to:null}),[v,g]=(0,t.useState)({from:null,to:null}),[x,y]=(0,t.useState)("OPD"),[b,N]=(0,t.useState)(!1),[S,E]=(0,t.useState)(!1),[C,D]=(0,t.useState)(!1),[A,P]=(0,t.useState)(!1),[O,R]=(0,t.useState)(null),[I,L]=(0,t.useState)(!1),[F,B]=(0,t.useState)(null),[W,U]=(0,t.useState)(!1),[$,z]=(0,t.useState)(!1),[H,V]=(0,t.useState)("All"),{opdDetails:q,opdDetailsStatus:G}=(0,w.d4)((e=>e.patients)),{doctors:K}=(0,w.d4)((e=>e.staff)),{hospitalInfo:Y}=(0,w.d4)((e=>e.hospital)),Z=wc("(max-width: 640px)"),[J,Q]=(wc("(max-width: 1024px)"),(0,t.useState)(!1)),ee=()=>{const e=new Date;switch(m){case"Today":return{startDate:(0,fo.GP)(e,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(e,1),"yyyy-MM-dd")};case"Yesterday":return{startDate:(0,fo.GP)((0,lc.e)(e,1),"yyyy-MM-dd"),endDate:(0,fo.GP)(e,"yyyy-MM-dd")};case"This Week":return{startDate:(0,nc.k)(e,{weekStartsOn:0}).toISOString(),endDate:(0,rc.$)(e,{weekStartsOn:0}).toISOString()};case"Custom":return h.from&&h.to?{startDate:(0,fo.GP)(h.from,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(h.to,1),"yyyy-MM-dd")}:null;default:return null}},{patientlist:te,status:ne}=(0,w.d4)((e=>e.patients)),{bills:re,billsStatus:ae}=(0,w.d4)((e=>e.bills));(0,t.useEffect)((()=>{if("idle"===ne){let e=ee();r((0,Be.PP)(e))}}),[ne,r]),(0,t.useEffect)((()=>{"idle"===ae&&r(ht())}),[ae,r]),(0,t.useEffect)((()=>{if("Custom"!==m||"Custom"===m&&h.from&&h.to){const e=ee();r((0,Be.PP)(e))}}),[m,h,r]);const ie=te.filter((e=>{var t,n;const r=null===(t=e.patient)||void 0===t?void 0:t.name.toLowerCase().includes(s.toLowerCase()),a="All"===H||(null===(n=e.doctor)||void 0===n?void 0:n._id)===H;return r&&a})),se=e=>{const t=e.bills.services.at(-1),n=re.find((e=>e._id===t));i(`/billings/edit/${t}`,{state:{billData:n}})},oe=e=>{R(e),"OPD"===e.type?D(!0):"IPD"===e.type&&P(!0)},le=e=>{B(e),L(!0)},ce=e=>{R(e),U(!0)},de=async e=>{await r((0,Be.g_)(e._id)),z(!0)},ue=e=>{switch(e.toLowerCase()){case"admitted":return"default";case"discharged":return"secondary";case"critical":return"destructive";default:return"outline"}},me=(0,w.d4)((e=>e.templates.dischargeFormTemplateArray)),pe=(0,w.d4)((e=>e.templates.dischargeFormTemplates)),he=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"new":default:return"success";case"follow-up":return"muted"}},fe=e=>{var t,n;const r=(e=>"Discharged"===e.status&&e.formConfig?[e.formConfig]:(null===me||void 0===me?void 0:me.filter((t=>{var n,r,a,i;const s=t.isDefault,o=(null===(n=t.associatedDoctors)||void 0===n?void 0:n.map((e=>{var t;return null===(t=e._id)||void 0===t?void 0:t.toString()})))||[],l=(null===(r=e.assignedDoctor)||void 0===r||null===(a=r._id)||void 0===a?void 0:a.toString())||(null===(i=e.doctor)||void 0===i?void 0:i._id)||e.dcotor;return s||o.includes(l)})))||[])(e),a=(null===r||void 0===r?void 0:r[0])||pe,s={...e,assignedDoctor:e.assignedDoctor||e.doctor&&{_id:null===(t=e.doctor)||void 0===t?void 0:t._id,name:null===(n=e.doctor)||void 0===n?void 0:n.name}};i(`/patients/discharge/${e._id}`,{state:{ignoreList:!0,dischargeData:s,selectedTemplate:a}})},ve=e=>{let{patients:t,type:n}=e;const r=(0,a.Zp)();return 0===t.length?(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,X.jsx)(ho,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-600",children:"No patients found"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}):(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:["OPD"===n&&(0,X.jsx)(uo.nd,{children:"Sl. No"}),(0,X.jsx)(uo.nd,{children:"Name"}),(0,X.jsx)(uo.nd,{children:"UHID No"}),"IPD"===n&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nd,{children:"IPD Number"}),(0,X.jsx)(uo.nd,{children:"Admit Date"}),(0,X.jsx)(uo.nd,{children:"Discharge Date"}),(0,X.jsx)(uo.nd,{children:"Status"}),(0,X.jsx)(uo.nd,{children:"Operation"})]}),"OPD"===n&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nd,{children:"Date & Time"}),(0,X.jsx)(uo.nd,{children:"Consultation"})]}),(0,X.jsx)(uo.nd,{children:"Mobile"}),(0,X.jsx)(uo.nd,{children:"Address"}),(0,X.jsx)(uo.nd,{children:"Gender/Age"}),(0,X.jsx)(uo.nd,{children:"Doctor"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:t.map((e=>{var t,a,i;return(0,X.jsxs)(uo.Hj,{children:["OPD"===n&&(0,X.jsx)(uo.nA,{children:e.bookingNumber}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(j.$,{variant:"link",className:"p-0 h-auto font-bold text-black capitalize",onClick:()=>r(`/patient-overview/${e.patient._id}`,{state:{ID:e._id}}),children:e.patient.name})}),(0,X.jsx)(uo.nA,{children:e.registrationNumber||"--"}),"IPD"===n&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nA,{children:e.ipdNumber||"N/A"}),(0,X.jsxs)(uo.nA,{children:[(0,fo.GP)(new Date(e.bookingDate),"dd MMM")," ",(0,M.IF)(null===e||void 0===e?void 0:e.bookingTime)]}),(0,X.jsx)(uo.nA,{children:e.dateDischarged?(0,fo.GP)(new Date(e.dateDischarged),"dd-MM-yyyy"):"--"}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:ue(e.status),children:e.status})}),(0,X.jsx)(uo.nA,{className:"font-bold",children:e.operationName?e.operationName:"--"})]}),"OPD"===n&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nA,{children:"Today"===m?(0,fo.GP)(new Date(e.createdAt),"hh:mm a"):(0,fo.GP)(new Date(e.bookingDate),"dd-MM-yyyy")}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:he(e.consultationType),children:(null===(t=e.consultationType)||void 0===t?void 0:t.toUpperCase())||"New"})})]}),(0,X.jsx)(uo.nA,{children:e.patient.contactNumber}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)("div",{className:"max-w-[150px] truncate",title:e.patient.address||"--",children:e.patient.address||"--"})}),(0,X.jsx)(uo.nA,{children:`${null===(a=e.patient.gender)||void 0===a?void 0:a.charAt(0)} / ${e.patient.age}Y`}),(0,X.jsx)(uo.nA,{children:(null===(i=e.doctor)||void 0===i?void 0:i.name)||"--"}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,X.jsx)(Os,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(hi,{onClick:()=>se(e),children:"Bills"}),(0,X.jsx)(hi,{onClick:()=>oe(e),children:"Edit Patient"}),"OPD"===e.type&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(hi,{asChild:!0,children:(0,X.jsx)(Mg,{patient:e})}),(0,X.jsx)(hi,{onClick:()=>de(e),children:"Print OPD Token"})]}),"IPD"===e.type&&(0,X.jsx)(hi,{asChild:!0,children:(0,X.jsx)(xi,{patient:{...e,bookingTime:(0,M.IF)(null===e||void 0===e?void 0:e.bookingTime)}})}),"IPD"===e.type&&(0,X.jsx)(hi,{onClick:()=>fe(e),children:"Discharged"===e.status?"View Discharge Summary":"Discharge Patient"}),(0,X.jsx)(hi,{onClick:()=>ce(e),children:"Register Lab"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onClick:()=>le(e),className:"text-red-600 focus:text-red-600 focus:bg-red-50 font-semibold",children:"Delete Patient"})]})]})})]},e._id)}))})]})},ge=()=>{f(v),p("Custom")},xe=()=>{g({from:null,to:null}),p("All")},ye=e=>{var t;let{patient:n}=e;return(0,X.jsx)(k.Zp,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsxs)("div",{className:"flex items-center flex-grow",children:[(0,X.jsxs)("span",{className:"text-sm font-semibold text-primary mr-2",children:["#",n.bookingNumber]}),(0,X.jsx)("h3",{className:"text-lg font-semibold capitalize cursor-pointer hover:text-primary",onClick:()=>i(`/patient-overview/${n.patient._id}`,{state:{ID:n._id}}),children:n.patient.name})]}),(0,X.jsxs)("div",{className:"flex items-center",children:["IPD"===n.type&&(0,X.jsx)(go.E,{variant:(e=>{switch(e.toLowerCase()){case"admitted":return"default";case"discharged":return"secondary";case"critical":return"destructive";default:return"outline"}})(n.status),className:"mr-2",children:n.status}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,X.jsx)(mo,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(hi,{onClick:()=>se(n),children:"Bills"}),(0,X.jsx)(hi,{onClick:()=>oe(n),children:"Edit Patient"}),"OPD"===n.type&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(hi,{asChild:!0,children:(0,X.jsx)(Mg,{patient:n})}),(0,X.jsx)(hi,{onClick:()=>de(n),children:"Print OPD Token"})]}),"IPD"===n.type&&(0,X.jsx)(hi,{onClick:()=>fe(n),children:"Discharged"===n.status?"View Discharge Summary":"Discharge Patient"}),(0,X.jsx)(hi,{onClick:()=>ce(n),children:"Register Lab"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onClick:()=>le(n),className:"text-red-600 focus:text-red-600 focus:bg-red-50 font-semibold",children:"Delete Patient"})]})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-3",children:[(0,X.jsxs)("div",{className:"flex items-center col-span-2",children:[(0,X.jsx)(Yl,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsxs)("span",{className:"text-sm",children:["UHID No: ",n.registrationNumber||"--"]})]}),"OPD"===n.type&&(0,X.jsxs)("div",{className:"flex items-center col-span-2",children:[(0,X.jsx)(Is,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsx)(go.E,{variant:he(n.consultationType),className:"text-xs",children:n.consultationType||"Regular"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(po,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsx)("span",{className:"text-sm",children:"Today"===m?(0,fo.GP)(new Date(n.createdAt),"hh:mm a"):(0,fo.GP)(new Date(n.bookingDate),"dd MMM yyyy")})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(_g,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsx)("span",{className:"text-sm",children:n.patient.contactNumber})]}),(0,X.jsxs)("div",{className:"flex items-center col-span-2",children:[(0,X.jsx)(Sg,{className:"h-4 w-4 text-muted-foreground mr-2 shrink-0"}),(0,X.jsx)("span",{className:"text-sm truncate max-w-[200px]",title:n.patient.address||"--",children:n.patient.address||"--"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Yl,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsx)("span",{className:"text-sm capitalize",children:n.patient.gender})]}),"IPD"===n.type&&(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Eg,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsx)("span",{className:"text-sm",children:(null===(t=n.assignedRoom)||void 0===t?void 0:t.roomNumber)||"Not assigned"})]})]})]})})})};return(0,X.jsxs)(k.Zp,{className:"w-full border-none shadow-none",children:[(0,X.jsx)(k.aR,{children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>{i(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{children:"Patient List"}),(0,X.jsx)(k.BT,{children:"Manage and view patient information"})]})]}),Z&&(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"outline",size:"icon",children:(0,X.jsx)(Cg,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{children:[(0,X.jsx)(hi,{onSelect:()=>N(!0),children:"OPD"}),(0,X.jsx)(hi,{onSelect:()=>E(!0),children:"IPD"})]})]})]})}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[b&&(0,X.jsx)(Ug,{open:b,onOpenChange:N}),S&&(0,X.jsx)(Hg,{open:S,onOpenChange:E}),C&&(0,X.jsx)(Kg,{open:C,setOpen:D,patientData:{...null===O||void 0===O?void 0:O.patient,...O,registrationNumber:null===O||void 0===O?void 0:O.registrationNumber,type:null===O||void 0===O?void 0:O.type,visitID:null===O||void 0===O?void 0:O._id,guardianName:null===O||void 0===O?void 0:O.guardianName,relation:null===O||void 0===O?void 0:O.relation}}),A&&(0,X.jsx)(Zg,{open:A,onOpenChange:P,admissionData:O}),W&&(0,X.jsx)(fl,{open:W,onOpenChange:U,patientData:O}),$&&(0,X.jsx)(Lg,{isOpen:$,setIsOpen:z,patientData:q}),I&&(0,X.jsx)(Jg,{isOpen:I,onOpenChange:L,patient:F,onDeleted:()=>{B(null)}}),(0,X.jsxs)(Uo,{defaultValue:"OPD",className:"w-full",onValueChange:y,children:[(0,X.jsxs)($o,{children:[(0,X.jsx)(zo,{className:"data-[state=active]:bg-blue-400 data-[state=active]:text-white",value:"OPD",children:"OPD"}),(0,X.jsx)(zo,{className:"data-[state=active]:bg-blue-400 data-[state=active]:text-white",value:"IPD",children:"IPD"})]}),(0,X.jsx)("div",{className:"flex flex-col space-y-4 mb-4 mt-4",children:(0,X.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search patients...",value:s,onChange:e=>o(e.target.value),className:"pl-8 w-full"}),s&&(0,X.jsx)("button",{onClick:()=>o(""),className:"absolute right-2 top-2.5 text-muted-foreground hover:text-foreground",children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]}),Z&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>Q(!J),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),Z?(0,X.jsx)(Lc,{children:J&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsxs)("div",{className:"pt-2 space-y-2",children:[K.length>1&&(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Yl,{className:"mr-2 h-4 w-4"}),"All"===H?"All Doctors":(null===(e=K.find((e=>e._id===H)))||void 0===e?void 0:e.name)||"Select Doctor"]}),(0,X.jsx)(Os,{className:"h-4 w-4 opacity-50"})]})}),(0,X.jsxs)(pi,{className:"w-full",children:[(0,X.jsx)(fi,{children:"Filter by Doctor"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>V("All"),children:"All Doctors"}),K.map((e=>(0,X.jsx)(hi,{onSelect:()=>V(e._id),children:e.name},e._id)))]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"All"===m?"All Time":m]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>p("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>p("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>p("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>p("Custom"),children:"Custom Range"})]})]}),"Custom"===m&&(0,X.jsx)(M.Ur,{from:v.from,to:v.to,onSelect:e=>{g(e)},onSearch:ge,onCancel:xe})]})})}):(0,X.jsxs)(X.Fragment,{children:[K.length>1&&(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-[200px] justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Yl,{className:"mr-2 h-4 w-4"}),"All"===H?"All Doctors":(null===(n=K.find((e=>e._id===H)))||void 0===n?void 0:n.name)||"Select Doctor"]}),(0,X.jsx)(Os,{className:"h-4 w-4 opacity-50"})]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Doctor"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>V("All"),children:"All Doctors"}),K.map((e=>(0,X.jsx)(hi,{onSelect:()=>V(e._id),children:e.name},e._id)))]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"All"===m?"All Time":m]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>p("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>p("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>p("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>p("Custom"),children:"Custom Range"})]})]}),"Custom"===m&&(0,X.jsx)(M.Ur,{from:null===v||void 0===v?void 0:v.from,to:null===v||void 0===v?void 0:v.to,onSelect:e=>g(e),onSearch:ge,onCancel:xe})]})]}),!Z&&(0,X.jsx)("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(Cg,{className:"mr-2 h-4 w-4"})," Add Patient"]})}),(0,X.jsxs)(pi,{children:[(0,X.jsx)(hi,{onSelect:()=>{Y.discontinuedDaysLeft<0?u(!0):N(!0)},children:"OPD"}),(0,X.jsx)(hi,{onSelect:()=>{Y.discontinuedDaysLeft<0?u(!0):E(!0)},children:"IPD"})]})]})})]})}),(0,X.jsx)(oo,{isOpen:d,setIsOpen:u}),(0,X.jsx)(Ho,{value:"OPD",children:Z?ie.filter((e=>"OPD"===e.type)).length>0?(0,X.jsx)("div",{children:ie.filter((e=>"OPD"===e.type)).map((e=>(0,X.jsx)(ye,{patient:e},e._id)))}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,X.jsx)(ho,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-600",children:"No OPD patients found"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}):(0,X.jsx)(ve,{patients:ie.filter((e=>"OPD"===e.type)),type:"OPD"})}),(0,X.jsx)(Ho,{value:"IPD",children:Z?ie.filter((e=>"IPD"===e.type)).length>0?(0,X.jsx)("div",{children:ie.filter((e=>"IPD"===e.type)).map((e=>(0,X.jsx)(ye,{patient:e},e._id)))}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,X.jsx)(ho,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-600",children:"No IPD patients found"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}):(0,X.jsx)(ve,{patients:ie.filter((e=>"IPD"===e.type)),type:"IPD"})})]})]})]})}const ex=(0,N.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),tx=(0,N.A)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),nx=(0,N.A)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),rx=(0,N.A)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),ax=(0,N.A)("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),ix=(0,N.A)("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),sx=(0,N.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ox=(0,N.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),lx=e=>{let{icon:t,label:n,value:r,unit:a}=e;return(0,X.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg shadow-sm",children:[(0,X.jsx)("div",{className:"mr-3",children:t}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm font-medium text-gray-500",children:n}),(0,X.jsxs)("p",{className:"text-lg font-semibold",children:[r," ",(0,X.jsx)("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]})};function cx(e){let{patientData:n,selectedVisit:r,onVisitSelect:i}=e;const{toast:s}=(0,H.dj)(),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)([]),u=(0,a.Zp)();if((0,t.useEffect)((()=>{if(n){const e=[...(n.visits||[]).map((e=>({date:e.bookingDate,type:"visit",data:e}))),...(n.admissionDetails||[]).map((e=>({date:e.bookingDate,type:"admission",data:e})))].sort(((e,t)=>new Date(t.date)-new Date(e.date)));d(e),e.length>0&&l(r?r.reasonForVisit?"reason":r.diagnosis?"diagnosis":"reason":"reason")}}),[n]),(0,t.useEffect)((()=>{r&&l(r.reasonForVisit?"reason":r.diagnosis?"diagnosis":"reason")}),[r]),!n)return null;return(0,X.jsxs)("div",{className:"container mx-auto px-2 space-y-2 bg-gray-50",children:[(0,X.jsx)(k.Zp,{className:"shadow-md",children:(0,X.jsxs)(k.Wu,{className:"grid md:grid-cols-3 gap-4 p-3",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,X.jsx)(Zs,{className:"h-14 w-14 ring-2 ring-primary ring-offset-2",children:(0,X.jsx)(Qs,{children:n.name.charAt(0).toUpperCase()})}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:n.name}),(0,X.jsxs)("p",{className:"text-xs text-gray-500",children:["ID: ",n.registrationNumber]}),(0,X.jsx)(go.E,{variant:"outline",className:"mt-1 text-xs",children:n.bloodType})]})]}),(0,X.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,X.jsx)(dx,{icon:(0,X.jsx)(Yl,{className:"h-4 w-4"}),label:"Age & Gender",value:`${n.age} yrs, ${n.gender}`}),(0,X.jsx)(dx,{icon:(0,X.jsx)(_g,{className:"h-4 w-4"}),label:"Contact",value:n.contactNumber})]}),(0,X.jsxs)("div",{className:"text-sm",children:[(0,X.jsx)(dx,{icon:(0,X.jsx)(Sg,{className:"h-4 w-4"}),label:"Address",value:n.address}),(0,X.jsx)(dx,{icon:(0,X.jsx)(sx,{className:"h-4 w-4"}),label:"Email",value:n.email})]})]})}),(0,X.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Visit History"}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"hover:bg-gray-100",onClick:()=>{var e;if(!r||!n)return;const t=r,a={ID:t._id,bookingNumber:t.bookingNumber,patient:{name:n.name,registrationNumber:n.registrationNumber,age:n.age,gender:n.gender,contactNumber:n.contactNumber},bookingDate:t.bookingDate,clinicalSummary:t.clinicalSummary,notes:t.notes,type:null!==(e=n.admissionDetails)&&void 0!==e&&e.some((e=>e._id===t._id))?"IPD":"OPD",vitals:t.vitals,diagnosis:t.diagnosis,treatment:t.treatment,medications:t.medications,additionalInstructions:t.additionalInstructions,labTests:t.labTests,comorbidities:t.comorbidities,conditionOnAdmission:t.conditionOnAdmission,conditionOnDischarge:t.conditionOnDischarge};u("/doctors",{state:{editPatient:a}})},disabled:!r,children:[(0,X.jsx)(ox,{className:"mr-2 h-4 w-4"})," Doctor's Section"]})]}),(0,X.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:c.map((e=>(0,X.jsxs)(j.$,{variant:(null===r||void 0===r?void 0:r._id)===e.data._id?"default":"outline",size:"sm",className:""+((null===r||void 0===r?void 0:r._id)===e.data._id?"ring-2 ring-primary":""),onClick:()=>i(e.data),children:[(0,X.jsx)("span",{className:"mr-1",children:(0,fo.GP)(new Date(e.date),"dd MMM yyyy")}),(0,X.jsx)(go.E,{variant:"secondary",className:"text-xs",children:"visit"===e.type?"OPD":"IPD"})]},`${e.data._id}-${e.type}`)))}),(()=>{var e,t,a,i,s,c,d,u,m,p,h,f,v,g,x,y,b,w,j,N,_,S,E,C,D,T,A,P,O,R,M,I;if(!r||!n)return null;const L=r,F=null===(e=n.admissionDetails)||void 0===e?void 0:e.some((e=>e._id===L._id));return(0,X.jsxs)(Uo,{value:o,onValueChange:l,className:"w-full",children:[(0,X.jsx)("div",{className:"overflow-x-auto scrollbar-hide",children:(0,X.jsxs)($o,{className:(0,Ee.cn)("inline-flex h-9 items-center justify-start rounded-lg bg-muted p-1 text-muted-foreground mb-4","w-max min-w-full"),children:[(0,X.jsx)(zo,{value:"reason",className:"px-3",children:"Reason"}),(0,X.jsx)(zo,{value:"diagnosis",className:"px-3",children:"Diagnosis"}),(0,X.jsx)(zo,{value:"treatment",className:"px-3",children:"Treatment"}),(0,X.jsx)(zo,{value:"medications",className:"px-3",children:"Medications"}),(0,X.jsx)(zo,{value:"labTests",className:"px-3",children:"Lab Tests"}),(0,X.jsx)(zo,{value:"vitals",className:"px-3",children:"Vitals"}),(0,X.jsx)(zo,{value:"labReports",className:"px-3",children:"Lab Reports"})]})}),(0,X.jsx)(Ho,{value:"reason",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Reason for Visit"})}),(0,X.jsx)(k.Wu,{children:(0,X.jsx)("p",{children:L.reasonForVisit})})]})}),(0,X.jsx)(Ho,{value:"diagnosis",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Diagnosis"})}),(0,X.jsx)(k.Wu,{children:(0,X.jsx)("p",{children:L.diagnosis})})]})}),(0,X.jsx)(Ho,{value:"treatment",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Treatment"})}),(0,X.jsx)(k.Wu,{children:(0,X.jsx)("p",{children:L.treatment})})]})}),(0,X.jsx)(Ho,{value:"medications",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Medications"})}),(0,X.jsx)(k.Wu,{children:L.medications&&L.medications.length>0?(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Name"}),(0,X.jsx)(uo.nd,{children:"Frequency"}),(0,X.jsx)(uo.nd,{children:"Duration"})]})}),(0,X.jsx)(uo.BF,{children:L.medications.map(((e,t)=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:e.name}),(0,X.jsx)(uo.nA,{children:e.frequency}),(0,X.jsx)(uo.nA,{children:e.duration})]},t)))})]}):(0,X.jsx)("p",{children:"No medications prescribed."})})]})}),(0,X.jsx)(Ho,{value:"labTests",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Lab Tests"})}),(0,X.jsx)(k.Wu,{children:L.labTests&&L.labTests.length>0?(0,X.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:L.labTests.map(((e,t)=>(0,X.jsx)("li",{children:e},t)))}):(0,X.jsx)("p",{children:"No lab tests ordered."})})]})}),(0,X.jsx)(Ho,{value:"vitals",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Vitals"})}),(0,X.jsx)(k.Wu,{children:F?(0,X.jsxs)("div",{children:[(0,X.jsx)("h4",{className:"font-semibold mb-2",children:"Admission Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[(0,X.jsx)(lx,{icon:(0,X.jsx)(Zl,{className:"h-8 w-8 text-blue-500"}),label:"Blood Pressure",value:null===(t=L.vitals)||void 0===t||null===(a=t.admission)||void 0===a?void 0:a.bloodPressure,unit:"mmHg"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ex,{className:"h-8 w-8 text-red-500"}),label:"Heart Rate",value:null===(i=L.vitals)||void 0===i||null===(s=i.admission)||void 0===s?void 0:s.heartRate,unit:"bpm"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(tx,{className:"h-8 w-8 text-orange-500"}),label:"Temperature",value:null===(c=L.vitals)||void 0===c||null===(d=c.admission)||void 0===d?void 0:d.temperature,unit:"\xb0C"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(nx,{className:"h-8 w-8 text-green-500"}),label:"Weight",value:null===(u=L.vitals)||void 0===u||null===(m=u.admission)||void 0===m?void 0:m.weight,unit:"kg"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(rx,{className:"h-8 w-8 text-purple-500"}),label:"Height",value:null===(p=L.vitals)||void 0===p||null===(h=p.admission)||void 0===h?void 0:h.height,unit:"cm"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ax,{className:"h-8 w-8 text-cyan-500"}),label:"Oxygen Saturation",value:null===(f=L.vitals)||void 0===f||null===(v=f.admission)||void 0===v?void 0:v.oxygenSaturation,unit:"%"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ix,{className:"h-8 w-8 text-teal-500"}),label:"Respiration Rate",value:null===(g=L.vitals)||void 0===g||null===(x=g.admission)||void 0===x?void 0:x.respiratoryRate,unit:"breaths/min"})]}),(0,X.jsx)("h4",{className:"font-semibold mb-2",children:"Discharge Vitals"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,X.jsx)(lx,{icon:(0,X.jsx)(Zl,{className:"h-8 w-8 text-blue-500"}),label:"Blood Pressure",value:null===(y=L.vitals)||void 0===y||null===(b=y.discharge)||void 0===b?void 0:b.bloodPressure,unit:"mmHg"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ex,{className:"h-8 w-8 text-red-500"}),label:"Heart Rate",value:null===(w=L.vitals)||void 0===w||null===(j=w.discharge)||void 0===j?void 0:j.heartRate,unit:"bpm"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(tx,{className:"h-8 w-8 text-orange-500"}),label:"Temperature",value:null===(N=L.vitals)||void 0===N||null===(_=N.discharge)||void 0===_?void 0:_.temperature,unit:"\xb0C"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ax,{className:"h-8 w-8 text-cyan-500"}),label:"Oxygen Saturation",value:null===(S=L.vitals)||void 0===S||null===(E=S.discharge)||void 0===E?void 0:E.oxygenSaturation,unit:"%"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ix,{className:"h-8 w-8 text-teal-500"}),label:"Respiration Rate",value:null===(C=L.vitals)||void 0===C||null===(D=C.discharge)||void 0===D?void 0:D.respiratoryRate,unit:"breaths/min"})]})]}):(0,X.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,X.jsx)(lx,{icon:(0,X.jsx)(Zl,{className:"h-8 w-8 text-blue-500"}),label:"Blood Pressure",value:null===(T=L.vitals)||void 0===T?void 0:T.bloodPressure,unit:"mmHg"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ex,{className:"h-8 w-8 text-red-500"}),label:"Heart Rate",value:null===(A=L.vitals)||void 0===A?void 0:A.heartRate,unit:"bpm"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(tx,{className:"h-8 w-8 text-orange-500"}),label:"Temperature",value:null===(P=L.vitals)||void 0===P?void 0:P.temperature,unit:"\xb0C"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(nx,{className:"h-8 w-8 text-green-500"}),label:"Weight",value:null===(O=L.vitals)||void 0===O?void 0:O.weight,unit:"kg"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(rx,{className:"h-8 w-8 text-purple-500"}),label:"Height",value:null===(R=L.vitals)||void 0===R?void 0:R.height,unit:"cm"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ax,{className:"h-8 w-8 text-cyan-500"}),label:"Oxygen Saturation",value:null===(M=L.vitals)||void 0===M?void 0:M.oxygenSaturation,unit:"%"}),(0,X.jsx)(lx,{icon:(0,X.jsx)(ix,{className:"h-8 w-8 text-teal-500"}),label:"Respiration Rate",value:null===(I=L.vitals)||void 0===I?void 0:I.respiratoryRate,unit:"breaths/min"})]})})]})}),(0,X.jsx)(Ho,{value:"labReports",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Lab Reports"})}),(0,X.jsx)(k.Wu,{children:L.labReports&&L.labReports.length>0?L.labReports.map(((e,t)=>(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:[e.name.replaceAll("-"," ").toUpperCase(),(0,X.jsx)("span",{className:"text-sm font-normal ml-2 text-gray-500",children:e.date?new Date(e.date).toLocaleDateString("en-IN"):""})]}),(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Test"}),(0,X.jsx)(uo.nd,{children:"Result"}),(0,X.jsx)(uo.nd,{children:"Unit"}),(0,X.jsx)(uo.nd,{children:"Normal Range"})]})}),(0,X.jsx)(uo.BF,{children:Object.entries((null===e||void 0===e?void 0:e.report)||{}).filter((e=>{let[t,n]=e;return null!==n.value&&""!==n.value})).map((e=>{let[t,n]=e;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"font-medium",children:n.label}),(0,X.jsx)(uo.nA,{children:n.value}),(0,X.jsx)(uo.nA,{children:n.unit}),(0,X.jsx)(uo.nA,{children:n.normalRange})]},t)}))})]})]},t))):(0,X.jsx)("p",{children:"No lab reports available."})})]})})]})})()]})]})}function dx(e){let{icon:t,label:n,value:r,className:a=""}=e;return(0,X.jsxs)("div",{className:`flex items-center space-x-2 ${a}`,children:[(0,X.jsx)("div",{className:"text-gray-400",children:t}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"font-medium text-gray-700 text-xs",children:n}),(0,X.jsx)("p",{className:"text-gray-600",children:r})]})]})}const ux=(0,N.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function mx(){const{rooms:e}=(0,w.d4)((e=>e.rooms)),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)("All"),[o,l]=(0,t.useState)("All"),c=(0,a.Zp)(),d=wc("(max-width: 640px)"),[u,m]=(wc("(max-width: 1024px)"),(0,t.useState)(!1)),{toast:p}=(0,H.dj)(),h=e.filter((e=>{var t;return(e.roomNumber.toString().includes(n)||(null===(t=e.beds)||void 0===t?void 0:t.some((e=>e.patient&&e.patient.toLowerCase().includes(n.toLowerCase())))))&&("All"===i||e.type===i)&&("All"===o||e.status===o)})),[f,v]=((0,w.wA)(),(0,t.useState)([])),[g,x]=(0,t.useState)(!1),y=e=>{let{room:t}=e;const n=(0,w.wA)(),{toast:r}=(0,H.dj)(),i=(0,a.Zp)();return(0,X.jsxs)(so.lG,{children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",children:(0,X.jsx)(mo,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(so.zM,{asChild:!0,children:(0,X.jsxs)(hi,{children:[(0,X.jsx)(ux,{className:"h-4 w-4 mr-2"}),"View Details"]})}),(0,X.jsxs)(hi,{onClick:()=>{i(`/create-room?edit=${t._id}`)},children:[(0,X.jsx)(ox,{className:"h-4 w-4 mr-2"}),"Edit Room"]}),(0,X.jsxs)(hi,{onClick:async()=>{try{await n(nt(t._id)).unwrap(),r({title:"Success",description:"Room deleted successfully"})}catch(e){r({variant:"destructive",title:"Error",description:e.message||"Failed to delete room"})}},className:"text-destructive",children:[(0,X.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Delete Room"]})]})]}),(0,X.jsxs)(so.Cf,{className:"sm:max-w-[425px] max-w-[90vw] rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsxs)(so.L3,{children:["Bed Details - Room ",t.roomNumber]}),(0,X.jsxs)(so.rr,{children:["Information about beds in Room ",t.roomNumber]})]}),(0,X.jsxs)(b.F,{className:"max-h-[70vh]",children:[(0,X.jsx)("div",{className:"flex justify-end mb-4 px-4",children:(0,X.jsx)(j.$,{variant:"destructive",size:"sm",onClick:async()=>{try{await n(rt({roomIds:[t._id]})).unwrap();r({title:"Success",description:"All beds emptied successfully"})}catch(e){r({variant:"destructive",title:"Error",description:e.message||"Failed to empty beds"})}},children:"Empty All Beds"})}),(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Bed Number"}),(0,X.jsx)(uo.nd,{children:"Status"}),!d&&(0,X.jsx)(uo.nd,{children:"Patient"}),(0,X.jsx)(uo.nd,{className:"w-[50px]"})]})}),(0,X.jsx)(uo.BF,{children:t.beds.map((e=>{var a;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"font-medium",children:e.bedNumber}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:"Occupied"===e.status?"destructive":"Available"===e.status?"success":"Under Maintenance"===e.status?"destructive":"outline",children:e.status})}),!d&&(0,X.jsx)(uo.nA,{children:(null===(a=e.currentPatient)||void 0===a?void 0:a.name)||"-"}),(0,X.jsx)(uo.nA,{children:"Occupied"===e.status&&(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>(async e=>{try{await n(rt({roomIds:[t._id],bedIds:{[t._id]:[e]}})).unwrap(),r({title:"Success",description:"Bed emptied successfully"})}catch(a){r({variant:"destructive",title:"Error",description:a.message||"Failed to empty bed"})}})(e._id),children:(0,X.jsx)(C.A,{className:"h-4 w-4 text-destructive"})})})]},e.bedNumber)}))})]})]})]})]})},N=e=>{let{room:t}=e;return(0,X.jsx)(k.Zp,{className:"mb-4",children:(0,X.jsxs)(k.Wu,{className:"pt-6",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsxs)("h3",{className:"text-lg font-semibold",children:["Room ",t.roomNumber]}),(0,X.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Type: ",t.type]})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(go.E,{variant:"Occupied"===t.status?"destructive":"Partially Available"===t.status?"warning":"Under Maintenance"===t.status?"destructive":"success",children:t.status}),(0,X.jsx)(y,{room:t})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[(0,X.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Beds: ",t.capacity]}),(0,X.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Daily Rate: \u20b9",(null===t||void 0===t?void 0:t.ratePerDay)||"N/A"]}),(0,X.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Current Occupancy: ",t.currentOccupancy]})]})]})})};return(0,X.jsx)("div",{className:"w-full mx-auto p-0",children:(0,X.jsxs)(k.Zp,{className:"border-0 shadow-none",children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>{c(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{children:"Room List"}),(0,X.jsx)(k.BT,{children:"Manage and view room information"})]})]}),d&&(0,X.jsx)(j.$,{size:"icon",onClick:()=>c("/create-room"),children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})]}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:justify-between md:items-center mb-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search rooms...",value:n,onChange:e=>r(e.target.value),className:"pl-8 w-full"})]}),d&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>m(!u),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),d?(0,X.jsx)(Lc,{children:u&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,X.jsxs)(A.l6,{onValueChange:s,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Room Type"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Types"}),(0,X.jsx)(A.eb,{value:"General",children:"General"}),(0,X.jsx)(A.eb,{value:"ICU",children:"ICU"}),(0,X.jsx)(A.eb,{value:"Operation Theater",children:"Operation Theater"}),(0,X.jsx)(A.eb,{value:"Semi-Private",children:"Semi-Private"}),(0,X.jsx)(A.eb,{value:"Private",children:"Private"})]})]}),(0,X.jsxs)(A.l6,{onValueChange:l,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Room Status"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Statuses"}),(0,X.jsx)(A.eb,{value:"Occupied",children:"Occupied"}),(0,X.jsx)(A.eb,{value:"Partially Available",children:"Partially Available"}),(0,X.jsx)(A.eb,{value:"Available",children:"Available"}),(0,X.jsx)(A.eb,{value:"Under Maintenance",children:"Under Maintenance"})]})]})]})})}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(A.l6,{onValueChange:s,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full md:w-[180px]",children:(0,X.jsx)(A.yv,{placeholder:"Room Type"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Types"}),(0,X.jsx)(A.eb,{value:"General",children:"General"}),(0,X.jsx)(A.eb,{value:"ICU",children:"ICU"}),(0,X.jsx)(A.eb,{value:"Operation Theater",children:"Operation Theater"}),(0,X.jsx)(A.eb,{value:"Semi-Private",children:"Semi-Private"}),(0,X.jsx)(A.eb,{value:"Private",children:"Private"})]})]}),(0,X.jsxs)(A.l6,{onValueChange:l,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full md:w-[180px]",children:(0,X.jsx)(A.yv,{placeholder:"Room Status"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Statuses"}),(0,X.jsx)(A.eb,{value:"Occupied",children:"Occupied"}),(0,X.jsx)(A.eb,{value:"Partially Available",children:"Partially Available"}),(0,X.jsx)(A.eb,{value:"Available",children:"Available"}),(0,X.jsx)(A.eb,{value:"Under Maintenance",children:"Under Maintenance"})]})]})]})]}),!d&&(0,X.jsx)("div",{className:"flex justify-end",children:(0,X.jsxs)(j.$,{variant:"outline",onClick:()=>c("/create-room"),children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Add Room"]})})]}),h.length>0?d?(0,X.jsx)("div",{children:h.map((e=>(0,X.jsx)(N,{room:e},e._id)))}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[15%]",children:"Room Number"}),(0,X.jsx)(uo.nd,{className:"w-[20%]",children:"Type"}),(0,X.jsx)(uo.nd,{className:"w-[20%]",children:"Status"}),(0,X.jsx)(uo.nd,{className:"w-[15%]",children:"Daily Rate(\u20b9)"}),(0,X.jsx)(uo.nd,{className:"w-[15%]",children:"Beds"}),(0,X.jsx)(uo.nd,{className:"w-[15%]",children:"Current Occupancy"}),(0,X.jsx)(uo.nd,{className:"text-right",children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:h.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"font-medium",children:e.roomNumber}),(0,X.jsx)(uo.nA,{children:e.type}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:"Occupied"===e.status?"destructive":"Partially Available"===e.status?"warning":"Under Maintenance"===e.status?"destructive":"success",children:e.status})}),(0,X.jsx)(uo.nA,{className:"font-bold",children:(null===e||void 0===e?void 0:e.ratePerDay)||"N/A"}),(0,X.jsx)(uo.nA,{children:e.capacity}),(0,X.jsx)(uo.nA,{children:e.currentOccupancy}),(0,X.jsx)(uo.nA,{className:"text-right",children:(0,X.jsx)(y,{room:e})})]},e._id)))})]})}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[(0,X.jsx)(bo,{className:"h-10 w-10 text-muted-foreground mb-4"}),(0,X.jsx)("p",{className:"text-lg font-medium",children:"No rooms found"}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your search or filter criteria"})]})]})]})})}function px(){const e=(0,a.Zp)(),{toast:n}=(0,H.dj)(),{staffMembers:r}=(0,w.d4)((e=>e.staff)),{userData:i}=(0,w.d4)((e=>e.user)),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("All"),[d,u]=(0,t.useState)("All"),m=(0,w.d4)((e=>e.departments.departments)),p=r.filter((e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase()))&&("All"===l||(null===(n=e.department)||void 0===n?void 0:n.includes(l)))&&("All"===d||e.roles.includes(d.toLowerCase()))})),h=function(e,t,r){var a;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return!("view staff details"!==t||!s||i._id!==s._id)||(!(null===(a=i.permissions)||void 0===a||!a.includes(r))||(n({variant:"destructive",title:"Access Denied",description:"You don't have permission to "+t}),!1))},f=t=>{h("/addstaff","edit staff","edit_staff")&&e("/addstaff",{state:{editMode:!0,staffData:t}})},v=t=>{h(`/staff/${t._id}`,"view staff details","view_staff",t)&&e(`/staff/${t._id}`,{state:{staffData:t}})},g=()=>{h("/addstaff","add new staff","create_staff")&&e("/addstaff")},x=wc("(max-width: 640px)"),[y,N]=(0,t.useState)(!1);return(0,X.jsx)("div",{className:"w-full mx-auto p-0",children:(0,X.jsxs)(k.Zp,{className:"border-0 shadow-none",children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>{e(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{children:"Staff List"}),(0,X.jsx)(k.BT,{children:"Manage and view staff information"})]})]}),x&&(0,X.jsx)(j.$,{size:"icon",onClick:g,children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})]}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:justify-between md:items-center mb-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search staff...",value:s,onChange:e=>o(e.target.value),className:"pl-8 w-full"})]}),x&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>N(!y),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),x?(0,X.jsx)(Lc,{children:y&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,X.jsxs)(A.l6,{onValueChange:c,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Department"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Departments"}),m.map((e=>(0,X.jsx)(A.eb,{value:e.name,children:e.name},e.name)))]})]}),(0,X.jsxs)(A.l6,{onValueChange:u,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Role"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Roles"}),(0,X.jsx)(A.eb,{value:"doctor",children:"Doctor"}),(0,X.jsx)(A.eb,{value:"nurse",children:"Nurse"}),(0,X.jsx)(A.eb,{value:"technician",children:"Technician"}),(0,X.jsx)(A.eb,{value:"admin",children:"Administrative"})]})]})]})})}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(A.l6,{onValueChange:c,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full md:w-[180px]",children:(0,X.jsx)(A.yv,{placeholder:"Department"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Departments"}),m.map((e=>(0,X.jsx)(A.eb,{value:e.name,children:e.name},e.name)))]})]}),(0,X.jsxs)(A.l6,{onValueChange:u,defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full md:w-[180px]",children:(0,X.jsx)(A.yv,{placeholder:"Role"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All Roles"}),(0,X.jsx)(A.eb,{value:"doctor",children:"Doctor"}),(0,X.jsx)(A.eb,{value:"nurse",children:"Nurse"}),(0,X.jsx)(A.eb,{value:"technician",children:"Technician"}),(0,X.jsx)(A.eb,{value:"admin",children:"Administrative"})]})]})]})]}),!x&&(0,X.jsx)("div",{className:"flex justify-end",children:(0,X.jsxs)(j.$,{variant:"outline",onClick:g,children:[(0,X.jsx)(Cg,{className:"mr-2 h-4 w-4"})," Add Staff"]})})]}),p.length>0?x?(0,X.jsx)(b.F,{className:"h-[calc(100vh-250px)]",children:(0,X.jsx)("div",{className:"space-y-4",children:p.map((e=>(0,X.jsx)(k.Zp,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-4 cursor-pointer",onClick:()=>v(e),children:[(0,X.jsx)(Zs,{children:(0,X.jsx)(Qs,{children:null===e||void 0===e?void 0:e.name.split(" ").filter(((e,t,n)=>0===t||t===n.length-1)).map((e=>{var t;return null===(t=e[0])||void 0===t?void 0:t.toUpperCase()})).join("")})}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"font-semibold hover:underline",children:e.name}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:e.roles.join(", ")}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:e.department.join(", ")})]})]}),(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>v(e),children:(0,X.jsx)(Ci,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>f(e),children:(0,X.jsx)(ox,{className:"h-4 w-4"})})]})]})},e._id)))})}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[40%]",children:"Name"}),(0,X.jsx)(uo.nd,{className:"w-[20%]",children:"Role"}),(0,X.jsx)(uo.nd,{className:"w-[30%]",children:"Department"}),(0,X.jsx)(uo.nd,{className:"w-[10%]",children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:p.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"font-medium",children:(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(Zs,{className:"hidden md:block",children:(0,X.jsx)(Qs,{children:null===e||void 0===e?void 0:e.name.split(" ").filter(((e,t,n)=>0===t||t===n.length-1)).map((e=>{var t;return null===(t=e[0])||void 0===t?void 0:t.toUpperCase()})).join("")})}),(0,X.jsx)("span",{className:"cursor-pointer hover:underline capitalize",children:e.name})]})}),(0,X.jsx)(uo.nA,{children:e.roles.join(", ")}),(0,X.jsx)(uo.nA,{children:e.department.join(", ")}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>v(e),children:(0,X.jsx)(Ci,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>f(e),children:(0,X.jsx)(ox,{className:"h-4 w-4"})})]})})]},e._id)))})]})}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[(0,X.jsx)(bo,{className:"h-10 w-10 text-muted-foreground mb-4"}),(0,X.jsx)("p",{className:"text-lg font-medium",children:"No staff members found"}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your search or filter criteria"})]})]})]})})}function hx(){const e=(0,a.Zp)();return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(j.$,{onClick:()=>{e(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Settings"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,X.jsx)(j.$,{onClick:()=>{e("/addstaff")},children:"Add Staff"}),(0,X.jsx)(j.$,{onClick:()=>{e("/create-room")},children:"Create Room"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/hospital-info")},children:"Hospital Info"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/customization")},children:"Customization"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/lab-templates")},children:"Manage Lab Templates"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/printing-templates")},children:"Printing Templates"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/prefix-settings")},children:"Prefix Settings"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/department")},children:"Manage Department"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/hospital-settings")},children:"Hospital Settings"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/consultation-fees")},children:"Consultation Fees"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/discharge-form-templates")},children:"Discharge Form Templates"}),(0,X.jsx)(j.$,{onClick:()=>{e("/settings/subscription")},children:"Subscription"})]})]})}const fx=(0,N.A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),vx=(0,N.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),gx=(0,N.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),xx=(0,N.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),yx=(0,N.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),bx=(0,N.A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var wx=__webpack_require__(1208),jx=__webpack_require__(2885),Nx=__webpack_require__(5757),_x=__webpack_require__(8326);const Sx={"2023-07-01":{hours:8,patients:5,status:"present"},"2023-07-02":{hours:0,patients:0,status:"off"},"2023-07-03":{hours:7.5,patients:4,status:"present"},"2023-07-04":{hours:8,patients:6,status:"present"},"2023-07-05":{hours:8,patients:5,status:"present"},"2023-07-06":{hours:4,patients:2,status:"half-day"},"2023-07-07":{hours:8,patients:7,status:"present"},"2023-07-08":{hours:0,patients:0,status:"off"},"2023-07-09":{hours:0,patients:0,status:"off"},"2023-07-10":{hours:8,patients:5,status:"present"},"2023-07-11":{hours:8,patients:6,status:"present"},"2023-07-12":{hours:0,patients:0,status:"sick"},"2023-07-13":{hours:8,patients:4,status:"present"},"2023-07-14":{hours:8,patients:5,status:"present"},"2023-07-15":{hours:0,patients:0,status:"off"},"2023-07-16":{hours:0,patients:0,status:"off"},"2023-07-17":{hours:8,patients:6,status:"present"},"2023-07-18":{hours:8,patients:5,status:"present"},"2023-07-19":{hours:8,patients:7,status:"present"},"2023-07-20":{hours:8,patients:4,status:"present"},"2023-07-21":{hours:8,patients:5,status:"present"},"2023-07-22":{hours:0,patients:0,status:"off"},"2023-07-23":{hours:0,patients:0,status:"off"},"2023-07-24":{hours:8,patients:6,status:"present"},"2023-07-25":{hours:8,patients:5,status:"present"},"2023-07-26":{hours:8,patients:4,status:"present"},"2023-07-27":{hours:8,patients:6,status:"present"},"2023-07-28":{hours:8,patients:5,status:"present"},"2023-07-29":{hours:0,patients:0,status:"off"},"2023-07-30":{hours:0,patients:0,status:"off"},"2023-07-31":{hours:8,patients:5,status:"present"}};function Ex(){const[e,n]=(0,t.useState)(new Date(2023,6,1)),r=(0,cc.w)(e),a=(0,dc.p)(e),i=sc({start:(0,nc.k)(r),end:(0,rc.$)(a)}),s=e=>{n((t=>"prev"===e?(0,wx.a)(t,1):(0,jx.P)(t,1)))},o=e=>{switch(e){case"present":return"bg-green-100 text-green-800";case"half-day":return"bg-yellow-100 text-yellow-800";case"off":default:return"bg-gray-100 text-gray-800";case"sick":return"bg-red-100 text-red-800"}};return(0,X.jsxs)(k.Zp,{className:"w-full max-w-4xl mx-auto",children:[(0,X.jsxs)(k.aR,{children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(k.ZB,{className:"text-xl font-bold",children:"Monthly Calendar"}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(j.$,{variant:"outline",size:"icon",onClick:()=>s("prev"),children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{className:"flex items-center bg-muted rounded-md px-3 py-1",children:[(0,X.jsx)(po,{className:"h-4 w-4 mr-2"}),(0,X.jsx)("span",{children:(0,fo.GP)(e,"MMMM yyyy")})]}),(0,X.jsx)(j.$,{variant:"outline",size:"icon",onClick:()=>s("next"),children:(0,X.jsx)(_x.A,{className:"h-4 w-4"})})]})]}),(0,X.jsx)(k.BT,{children:"Staff attendance and work summary for the month"})]}),(0,X.jsxs)(k.Wu,{className:"relative",children:[(0,X.jsx)("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px] z-10 flex items-center justify-center",children:(0,X.jsxs)("div",{className:"text-center bg-white/70 p-6 rounded-lg shadow-lg",children:[(0,X.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Coming Soon"}),(0,X.jsx)("p",{className:"text-lg text-gray-600",children:"We're working on something exciting!"}),(0,X.jsx)("div",{className:"mt-4 w-16 h-1 bg-blue-400 mx-auto rounded-full"})]})}),(0,X.jsxs)("div",{className:"grid grid-cols-7 gap-2 opacity-40",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>(0,X.jsx)("div",{className:"text-center font-semibold",children:e},e))),i.map(((t,n)=>{const r=(0,fo.GP)(t,"yyyy-MM-dd"),a=Sx[r];return(0,X.jsx)(gs,{children:(0,X.jsxs)(xs,{children:[(0,X.jsx)(ys,{asChild:!0,children:(0,X.jsxs)("div",{className:(0,Ee.cn)("h-20 border rounded-md p-1 flex flex-col",!(0,Nx.t)(t,e)&&"bg-gray-50 text-gray-400",(0,oc.r)(t,new Date)&&"border-blue-500"),children:[(0,X.jsx)("div",{className:"text-right",children:(0,fo.GP)(t,"d")}),a&&(0,X.jsxs)("div",{className:"flex-grow flex flex-col justify-between",children:[(0,X.jsx)(go.E,{className:(0,Ee.cn)("w-full justify-center",o(a.status)),children:a.status}),"off"!==a.status&&(0,X.jsxs)("div",{className:"flex justify-between mt-auto",children:[(0,X.jsxs)("div",{className:"flex items-center justify-center text-xs",children:[(0,X.jsx)(Is,{className:"h-3 w-3 mr-1"}),a.hours,"h"]}),(0,X.jsxs)("div",{className:"flex items-center justify-center text-xs",children:[(0,X.jsx)(ki,{className:"h-3 w-3 mr-1"}),a.patients]})]})]})]})}),(0,X.jsxs)(bs,{children:[(0,X.jsxs)("p",{children:["Date: ",(0,fo.GP)(t,"MMMM d, yyyy")]}),a&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("p",{children:["Status: ",a.status]}),(0,X.jsxs)("p",{children:["Hours worked: ",a.hours]}),(0,X.jsxs)("p",{children:["Patients seen: ",a.patients]})]})]})]})},t.toString())}))]})]})]})}function Cx(){var e,t,n,r,i,s,o,l,c,d,u;const m=(0,a.zy)(),p=(0,a.Zp)(),h=(null===(e=m.state)||void 0===e?void 0:e.staffData)||{};return(0,X.jsxs)("div",{className:"space-y-2 px-4 ",children:[(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>p(-1),"aria-label":"Go back",children:(0,X.jsx)(gc.A,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-xl font-bold",children:"Staff Profile"})]})}),(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,X.jsxs)(k.Zp,{className:"lg:col-span-2",children:[(0,X.jsx)(k.aR,{}),(0,X.jsxs)(k.Wu,{className:"grid gap-4",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,X.jsxs)(Zs,{className:"h-16 w-16",children:[(0,X.jsx)(Js,{src:"/placeholder.svg?height=64&width=64",alt:h.name}),(0,X.jsx)(Qs,{children:h.name.split(" ").map((e=>e[0])).join("")})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"text-xl font-bold",children:h.name}),(0,X.jsx)("p",{className:"text-gray-500",children:null===(t=h.roles)||void 0===t?void 0:t.join(", ")})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(sx,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{children:h.email})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(Yl,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{children:h.username})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(fx,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{children:null===(n=h.department)||void 0===n?void 0:n.join(", ")})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(po,{className:"h-4 w-4 text-gray-500"}),(0,X.jsxs)("span",{children:["Joined on ",h.hireDate]})]})]})]})]}),(0,X.jsxs)(k.Zp,{className:"lg:col-span-2",children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Current Status"})}),(0,X.jsxs)(k.Wu,{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Shift Type:"}),(0,X.jsx)("span",{children:null===(r=h.shift)||void 0===r?void 0:r.type})]}),(0,X.jsxs)("div",{className:"flex align-center justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(Is,{className:"h-4 w-4 text-green-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Time In:"}),(0,X.jsx)("span",{children:null===(i=h.shift)||void 0===i?void 0:i.hours.start})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(Is,{className:"h-4 w-4 text-red-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Time Out:"}),(0,X.jsx)("span",{children:null===(s=h.shift)||void 0===s?void 0:s.hours.end})]})]})]})]}),(0,X.jsxs)(k.Zp,{className:"lg:col-span-1",children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Employee Info"})}),(0,X.jsxs)(k.Wu,{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Employee ID:"}),(0,X.jsx)("span",{children:h.employeeID})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("span",{className:"font-semibold",children:"Experience:"}),(0,X.jsxs)("span",{children:[h.yearsOfExperience," years"]})]})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,X.jsxs)(Uo,{defaultValue:"personal",className:"w-full",children:[(0,X.jsxs)($o,{className:"mb-2 flex flex-wrap",children:[(0,X.jsxs)(zo,{value:"personal",className:"flex-grow",children:[(0,X.jsx)("span",{className:"hidden sm:inline",children:"Personal Info"}),(0,X.jsx)("span",{className:"sm:hidden",children:"Personal"})]}),(0,X.jsxs)(zo,{value:"payroll",className:"flex-grow",children:[(0,X.jsx)("span",{className:"hidden sm:inline",children:"Payroll Info"}),(0,X.jsx)("span",{className:"sm:hidden",children:"Payroll"})]}),(0,X.jsxs)(zo,{value:"education",className:"flex-grow",children:[(0,X.jsx)("span",{className:"hidden sm:inline",children:"Education & Certifications"}),(0,X.jsx)("span",{className:"sm:hidden",children:"Education"})]})]}),(0,X.jsx)(Ho,{value:"personal",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Personal Information"})}),(0,X.jsx)(k.Wu,{children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(po,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Date of Birth:"}),(0,X.jsx)("span",{children:h.dateOfBirth})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(Yl,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Gender:"}),(0,X.jsx)("span",{children:h.gender})]}),(0,X.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,X.jsx)(vx,{className:"h-4 w-4 text-gray-500 mt-1"}),(0,X.jsx)("span",{className:"font-semibold",children:"Address:"}),(0,X.jsx)("span",{children:h.address})]})]})})]})}),(0,X.jsx)(Ho,{value:"payroll",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Payroll Information"})}),(0,X.jsx)(k.Wu,{children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(gx,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Salary:"}),(0,X.jsxs)("span",{children:["\u20b9",h.salary]})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(vx,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Bank Name:"}),(0,X.jsx)("span",{children:null===(o=h.payrollInfo)||void 0===o?void 0:o.bankName})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(xx,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Account Number:"}),(0,X.jsx)("span",{children:null===(l=h.payrollInfo)||void 0===l?void 0:l.accountNumber})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(xx,{className:"h-4 w-4 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"IFSC Code:"}),(0,X.jsx)("span",{children:null===(c=h.payrollInfo)||void 0===c?void 0:c.ifscCode})]})]})})]})}),(0,X.jsx)(Ho,{value:"education",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{children:[(0,X.jsx)(k.ZB,{children:"Education & Certifications"}),(0,X.jsx)(k.BT,{children:"Academic background and professional certifications"})]}),(0,X.jsx)(k.Wu,{children:(0,X.jsxs)("div",{className:"space-y-6",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Qualifications"}),(null===(d=h.qualifications)||void 0===d?void 0:d.length)>0?(0,X.jsx)("ul",{className:"space-y-2",children:h.qualifications.map(((e,t)=>(0,X.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,X.jsx)(yx,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,X.jsx)("div",{children:(0,X.jsx)("p",{className:"font-medium",children:e})})]},t)))}):(0,X.jsx)("p",{children:"No qualification information available."})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Certifications"}),(null===(u=h.certifications)||void 0===u?void 0:u.length)>0?(0,X.jsx)("ul",{className:"space-y-2",children:h.certifications.map(((e,t)=>(0,X.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,X.jsx)(bx,{className:"h-5 w-5 text-green-500 mt-0.5"}),(0,X.jsx)("div",{children:(0,X.jsx)("p",{className:"font-medium",children:e})})]},t)))}):(0,X.jsx)("p",{children:"No certification information available."})]})]})})]})})]}),(0,X.jsx)("div",{className:"w-full",children:(0,X.jsx)(Ex,{})})]})]})}const Dx=()=>{const[e,n]=(0,t.useState)(new Date),r=e=>{n((t=>"prev"===e?(0,lc.e)(t,1):(0,uc.f)(t,1)))};return(0,X.jsxs)("header",{className:"bg-white text-gray-800 px-4 py-2 flex justify-between items-center shadow-sm border-b border-gray-200 h-[50px]",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(po,{className:"h-4 w-4"}),(0,X.jsx)("h1",{className:"text-base font-semibold",children:"Appointment List"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-gray-100",onClick:()=>r("prev"),disabled:(0,fo.GP)(e,"yyyy-MM-dd")===(0,fo.GP)((0,lc.e)(new Date,1),"yyyy-MM-dd"),children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("span",{className:"text-base font-semibold min-w-[80px] text-center",children:(0,fo.GP)(e,"MMM d")}),(0,X.jsx)(j.$,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-gray-100",onClick:()=>r("next"),disabled:(0,fo.GP)(e,"yyyy-MM-dd")===(0,fo.GP)((0,uc.f)(new Date,1),"yyyy-MM-dd"),children:(0,X.jsx)(_x.A,{className:"h-4 w-4"})})]}),(0,X.jsx)("div",{className:"w-[100px]"})]})},Tx=1440,kx=[{id:1,name:"Patient Consultation",start:"8:30",end:"8:45",color:"from-blue-100 to-blue-50",textColor:"text-blue-800",borderColor:"border-blue-200"},{id:2,name:"Quick Check-up",start:"9:00",end:"9:10",color:"from-green-100 to-green-50",textColor:"text-green-800",borderColor:"border-green-200"},{id:3,name:"Surgery Prep",start:"9:15",end:"10:00",color:"from-red-100 to-red-50",textColor:"text-red-800",borderColor:"border-red-200"},{id:3,name:"Surgery Prep",start:"13:15",end:"13:30",color:"from-red-100 to-red-50",textColor:"text-red-800",borderColor:"border-red-200"},{id:3,name:"Surgery Prep",start:"1:15",end:"1:30",color:"from-red-100 to-red-50",textColor:"text-red-800",borderColor:"border-red-200"}],Ax=e=>{const[t,n]=e.split(":").map(Number);return 60*t+n},Px=(e,t)=>{const n=Ax(e),r=Ax(t);return{top:`${n/Tx*100}%`,height:`${(r-n)/Tx*100}%`}},Ox=()=>{const e=new Date,t=e.getHours(),n=e.getMinutes(),r=60*t+n;return{formatted:`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`,percentage:r/Tx*100}},Rx=()=>{const[e,n]=(0,t.useState)(Ox());return(0,t.useEffect)((()=>{const e=setInterval((()=>{n(Ox())}),6e4);return()=>clearInterval(e)}),[]),(0,X.jsx)("div",{className:"w-full bg-white pr-2",children:(0,X.jsxs)("div",{className:"relative",style:{height:"2880px"},children:[" ",(0,X.jsx)("div",{className:"absolute top-0 left-0 w-16 h-full flex flex-col border-r border-gray-200",children:Array.from({length:24}).map(((e,t)=>(0,X.jsx)("div",{className:"h-[120px] text-xs text-gray-500 text-right pr-4",children:0===t?"12 AM":12===t?"12 PM":t>12?t-12+" PM":`${t} AM`},t)))}),(0,X.jsxs)("div",{className:"absolute top-2 left-10 right-0 h-full pl-4",children:[Array.from({length:288}).map(((e,t)=>(0,X.jsx)("div",{className:"absolute w-full border-t "+(t%12===0?"border-gray-500":"border-gray-200"),style:{top:5*t/Tx*100+"%"}},t))),kx.map((e=>(0,X.jsx)("div",{className:`\n                absolute left-6 right-1 p-1 rounded-lg overflow-hidden \n                transition-all duration-200 hover:shadow-lg \n                border-2 ${e.borderColor} shadow\n                flex items-center\n              `,style:{...Px(e.start,e.end),background:`linear-gradient(135deg, ${e.color.split(" ")[1]} 0%, ${e.color.split(" ")[3]} 100%)`},children:(0,X.jsxs)("div",{className:"flex items-center w-full",children:[(0,X.jsx)("div",{className:`w-2 h-2 rounded-full ${e.borderColor} mr-1 flex-shrink-0`}),(0,X.jsxs)("div",{className:"flex-1 flex items-center min-w-0",children:[(0,X.jsx)("div",{className:`text-xs font-medium ${e.textColor} truncate mr-1`,children:e.name}),(0,X.jsxs)("div",{className:`text-xs ${e.textColor} opacity-75 whitespace-nowrap`,children:[e.start," - ",e.end]})]})]})},e.id))),(0,X.jsx)("div",{className:"absolute left-6 right-0 h-0.5 bg-red-500 z-10",style:{top:`${e.percentage}%`},children:(0,X.jsx)("div",{className:"absolute -top-2 -left-16 bg-red-500 text-white text-xs py-1 px-2 rounded",children:e.formatted})})]})]})})},Mx=()=>(0,X.jsxs)("div",{className:"h-full w-full flex flex-col",children:[(0,X.jsx)(Dx,{}),(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-4",style:{height:"calc(100vh - 110px)"},children:[(0,X.jsx)(b.F,{className:"col-span-1 h-full",children:(0,X.jsx)(gg,{})}),(0,X.jsx)(b.F,{className:"col-span-3 h-full",children:(0,X.jsx)(Rx,{})})]})]}),Ix=()=>{const[e,n]=(0,t.useState)(!1);return(0,X.jsxs)("div",{children:[(0,X.jsx)("button",{onClick:()=>n(!0),children:"open"}),(0,X.jsx)(Ug,{open:e,onOpenChange:n})]})},Lx=(0,N.A)("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),Fx=()=>{const{hospitalInfo:e}=(0,w.d4)((e=>e.hospital));return(0,X.jsxs)("div",{children:[(0,X.jsx)("h1",{className:"text-2xl font-bold text-center",children:e.pharmacyName}),(0,X.jsx)("p",{className:"text-center",children:e.pharmacyAddress}),(0,X.jsxs)("p",{className:"text-center",children:["Mobile: ",e.pharmacyContactNumber]})]})};function Bx(e){let{isOpen:n,setIsOpen:r,billData:a}=e;const i=(0,t.useRef)(),[s,o]=(0,t.useState)(!1),l=(0,yn.useReactToPrint)({content:()=>i.current,onBeforeGetContent:()=>(o(!0),new Promise((e=>{setTimeout((()=>{o(!1),e()}),0)}))),pageStyle:"\n      @media print {\n        @page {\n          size: auto;\n          margin: 0;\n        }\n        body {\n          padding: 20mm;\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n      }\n    "});return a?(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,X.jsxs)("div",{ref:i,className:s?"print-content":"",children:[(0,X.jsx)("div",{className:"hidden print:block mb-4",children:(0,X.jsx)(Fx,{})}),(0,X.jsx)("div",{className:"no-print",children:(0,X.jsxs)(so.c7,{className:"flex flex-row items-center justify-between mr-7 pb-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(so.L3,{children:"Bill Details"}),(0,X.jsx)(so.rr,{children:"Full details of the bill"})]}),(0,X.jsx)(Wx,{status:a.amountPaid===a.totalAmount?"Paid":"Due"})]})}),(0,X.jsxs)("div",{className:"grid gap-2 py-0",children:[(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{className:"text-right",children:"Customer Name"}),(0,X.jsx)("p",{className:"mt-1 font-medium",children:a.patientInfo.name})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{className:"text-right",children:"Bill Number"}),(0,X.jsx)("p",{className:"mt-1 font-medium",children:`#B${a._id.slice(-6)}`})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{className:"text-right",children:"Date and Time"}),(0,X.jsx)("p",{className:"mt-1 font-medium",children:(0,fo.GP)(new Date(a.createdAt),"MMM dd, hh:mm a")})]})]}),(0,X.jsxs)("div",{className:"mt-1",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-1",children:"Bill Items"}),(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Item Name"}),(0,X.jsx)(uo.nd,{children:"Type"}),(0,X.jsx)(uo.nd,{children:"Quantity"}),(0,X.jsx)(uo.nd,{children:"MRP"}),(0,X.jsx)(uo.nd,{children:"Discount(%)"}),(0,X.jsx)(uo.nd,{children:"Total"})]})}),(0,X.jsx)(uo.BF,{children:a.items.map(((e,t)=>{var n,r,a,i;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.name)||"Item deleted"}),(0,X.jsx)(uo.nA,{children:(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.type)||"Item deleted"}),(0,X.jsx)(uo.nA,{children:(null===e||void 0===e?void 0:e.quantity)||"Item deleted"}),(0,X.jsxs)(uo.nA,{children:["\u20b9",null===e||void 0===e||null===(a=e.MRP)||void 0===a?void 0:a.toFixed(2)]}),(0,X.jsxs)(uo.nA,{children:[null===e||void 0===e||null===(i=e.discount)||void 0===i?void 0:i.toFixed(0),"%"]}),(0,X.jsxs)(uo.nA,{children:["\u20b9",((null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.MRP)*(1-(null===e||void 0===e?void 0:e.discount)/100)).toFixed(2)]})]},t)}))})]}),(0,X.jsx)("div",{className:"mt-4 border-t border-gray-200 pt-2",children:(0,X.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,X.jsxs)("div",{className:"flex justify-between w-72",children:[(0,X.jsx)("span",{className:"text-sm text-gray-600",children:"Sub Total:"}),(0,X.jsxs)("span",{className:"text-sm",children:["\u20b9",a.subtotal.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between w-72",children:[(0,X.jsxs)("span",{className:"text-sm text-gray-600",children:["Additional Discount  (",((a.subtotal-a.totalAmount)/a.subtotal*100).toFixed(0),"%):"]}),(0,X.jsxs)("span",{className:"text-sm",children:["-\u20b9",(a.subtotal-a.totalAmount).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between w-72 border-t border-gray-200 pt-2 font-semibold",children:[(0,X.jsx)("span",{children:"Total Amount:"}),(0,X.jsxs)("span",{children:["\u20b9",a.totalAmount.toFixed(2)]})]})]})})]})]})]}),(0,X.jsxs)(so.Es,{className:"sm:justify-start pt-2",children:[(0,X.jsx)(j.$,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Close"}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",onClick:l,children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Bill"]})]})]})}):null}const Wx=e=>{let{status:t}=e;return(0,X.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${(e=>{switch(e.toLowerCase()){case"paid":return"bg-green-100 text-green-800";case"due":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t)}`,children:t})},Ux=e=>{let{bills:n}=e;const[r,a]=(0,t.useState)(null),[i,s]=(0,t.useState)(!1),o=wc("(min-width: 768px)"),l=e=>{a(e),s(!0)};return(0,X.jsxs)("div",{className:"w-full h-full overflow-hidden",children:[o?(0,X.jsx)("div",{className:"overflow-x-auto h-full",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Bill No"}),(0,X.jsx)(uo.nd,{children:"Customer"}),(0,X.jsx)(uo.nd,{children:"Date & Time"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Status"}),(0,X.jsx)(uo.nd,{children:"Method"}),(0,X.jsx)(uo.nd,{children:"Action"})]})}),(0,X.jsx)(uo.BF,{children:0===n.length?(0,X.jsx)(uo.Hj,{className:"hover:bg-white",children:(0,X.jsx)(uo.nA,{colSpan:7,className:"h-24 text-center",children:(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,X.jsx)(bc,{className:"w-8 h-8 mb-2"}),(0,X.jsx)("p",{className:"font-semibold",children:"No bills available"})]})})}):n.map((e=>{var t;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:`#B${e._id.slice(-6)}`}),(0,X.jsx)(uo.nA,{className:"capitalize",children:e.patientInfo.name}),(0,X.jsx)(uo.nA,{children:(0,fo.GP)(new Date(e.createdAt),"MMM dd, hh:mm a")}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.totalAmount.toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:(null===e||void 0===e?void 0:e.amountPaid)===(null===e||void 0===e?void 0:e.totalAmount)?"success":"destructive",children:(null===e||void 0===e?void 0:e.amountPaid)===(null===e||void 0===e?void 0:e.totalAmount)?"Paid":"Due"})}),(0,X.jsx)(uo.nA,{children:(null===e||void 0===e||null===(t=e.payment)||void 0===t?void 0:t.paymentMethod)||"__"}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>l(e),children:(0,X.jsx)(Ci,{className:"h-3 w-3 mr-2"})})})]},e._id)}))})]})}):(0,X.jsx)("div",{className:"overflow-y-auto h-[400px] md:pb-4 pb-0 pr-1",children:0===n.length?(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500 py-8 bg-white rounded-lg shadow",children:[(0,X.jsx)(bc,{className:"w-12 h-12 mb-2"}),(0,X.jsx)("p",{className:"font-semibold",children:"No bills available"})]}):n.map((e=>{var t;return(0,X.jsx)("div",{className:"bg-white p-3 rounded-lg shadow mb-3 border border-gray-200",children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("div",{className:"flex-grow",children:[(0,X.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,X.jsxs)("span",{className:"text-base font-semibold text-gray-800",children:["\u20b9",e.totalAmount.toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,X.jsx)(go.E,{variant:(null===e||void 0===e?void 0:e.amountPaid)===(null===e||void 0===e?void 0:e.totalAmount)?"success":"destructive",children:(null===e||void 0===e?void 0:e.amountPaid)===(null===e||void 0===e?void 0:e.totalAmount)?"Paid":"Due"})]}),(0,X.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,X.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,X.jsx)(Yl,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,X.jsx)("span",{className:"capitalize truncate",children:e.patientInfo.name})]}),(0,X.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,X.jsx)(po,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,X.jsx)("span",{className:"truncate",children:(0,fo.GP)(new Date(e.createdAt),"MMM dd, yyyy HH:mm")})]}),(0,X.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,X.jsx)(zl,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,X.jsx)("span",{className:"truncate",children:(null===e||void 0===e||null===(t=e.payment)||void 0===t?void 0:t.paymentMethod)||"Not specified"})]})]})]}),(0,X.jsx)("div",{className:"ml-2 flex items-center self-stretch",children:(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>l(e),children:[(0,X.jsx)(Ci,{className:"h-3 w-3 mr-1"})," View"]})})]})},e._id)}))}),(0,X.jsx)(Bx,{isOpen:i,setIsOpen:s,billData:r})]})},$x=e=>{let{isOpen:n,setIsOpen:r}=e;const a=(0,w.wA)(),{salesBills:i,salesBillsStatus:s}=(0,w.d4)((e=>e.pharmacy));(0,t.useEffect)((()=>{n&&"idle"===s&&a((0,it.BS)())}),[n,s,a]);const o=i.filter((e=>{const t=new Date(e.createdAt),n=new Date;return t.toDateString()===n.toDateString()}));return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"md:max-w-4xl max-h-[500px] overflow-y-auto w-[95vw] rounded-lg",children:[(0,X.jsx)(so.c7,{className:"flex flex-row items-center justify-between mr-5",children:(0,X.jsxs)("div",{children:[(0,X.jsxs)(so.L3,{children:["Sales Today - ",(0,fo.GP)(new Date,"MMMM d, yyyy")]}),(0,X.jsxs)(so.rr,{children:["Showing ",o.length," sales for today"]})]})}),"loading"===s?(0,X.jsx)("p",{children:"Loading sales data..."}):"failed"===s?(0,X.jsx)("p",{children:"Error loading sales data. Please try again."}):(0,X.jsx)(Ux,{bills:o})]})})},zx=(0,N.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function Hx(e){let{isOpen:n,setIsOpen:r,onPatientSelect:a}=e;const[i,s]=(0,t.useState)(""),o=(0,w.d4)((e=>e.patients.patientlist)),l=(0,w.wA)(),c=(0,w.d4)((e=>e.patients.status)),d=o.filter((e=>e.patient.name.toLowerCase().includes(i.toLowerCase()))),u=vo("(max-width: 640px)"),m=vo("(max-width: 768px)");return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:(u?"w-[95vw]":"max-w-3xl")+" max-h-[90vh] flex flex-col rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Patient List"}),(0,X.jsx)(so.rr,{children:"Select a patient to continue"})]}),(0,X.jsxs)("div",{className:`flex ${u?"flex-col":"flex-row"} justify-between items-center gap-2`,children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search patients...",value:i,onChange:e=>s(e.target.value),className:"pl-8 pr-8 h-8 text-sm w-full"}),i&&(0,X.jsx)("button",{onClick:()=>s(""),className:"absolute right-2 top-2.5 text-muted-foreground hover:text-foreground",children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]}),(0,X.jsx)(j.$,{onClick:()=>{l((0,Be.PP)())},disabled:"loading"===c,className:"flex items-center",size:"sm",children:"loading"===c?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(zx,{className:"mr-2 h-4 w-4 animate-spin"}),"Refreshing..."]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(zx,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),(0,X.jsx)(b.F,{className:"flex-grow h-[calc(90vh-200px)] pr-2",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Name"}),!u&&(0,X.jsx)(uo.nd,{children:"Mobile"}),!m&&(0,X.jsx)(uo.nd,{children:"Gender"}),(0,X.jsx)(uo.nd,{children:"Medications"})]})}),(0,X.jsx)(uo.BF,{children:d.map((e=>{var t,n,i,s;return(0,X.jsxs)(uo.Hj,{className:"cursor-pointer hover:bg-gray-100",onClick:()=>(e=>{l((0,Be.zC)(e)),r(!1),a(!0)})(e),children:[(0,X.jsx)(uo.nA,{children:null===e||void 0===e||null===(t=e.patient)||void 0===t?void 0:t.name}),!u&&(0,X.jsx)(uo.nA,{children:null===e||void 0===e||null===(n=e.patient)||void 0===n?void 0:n.contactNumber}),!m&&(0,X.jsx)(uo.nA,{children:null===e||void 0===e||null===(i=e.patient)||void 0===i?void 0:i.gender}),(0,X.jsx)(uo.nA,{children:null===e||void 0===e||null===(s=e.medications)||void 0===s?void 0:s.length})]},null===e||void 0===e?void 0:e._id)}))})]})})]})})}function Vx(e){let{onClearScreen:n,onPatientSelect:r}=e;const[a,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),l=vo("(max-width: 640px)");return(0,X.jsxs)("header",{className:"flex items-center justify-between p-1 bg-gray-100 border-b",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"text-gray-600",children:(0,X.jsx)(Li,{className:"h-4 w-4"})}),(0,X.jsx)(_x.A,{className:"h-3 w-3 text-gray-400"}),(0,X.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Sales"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(j.$,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",onClick:()=>i(!0),children:l?(0,X.jsx)(gx,{className:"h-4 w-4"}):"Sales Today"}),(0,X.jsx)(j.$,{variant:"default",size:"sm",className:"bg-cyan-600 hover:bg-cyan-700 text-white text-xs",onClick:()=>o(!0),children:l?(0,X.jsx)(ki,{className:"h-4 w-4"}):"Patient List"}),(0,X.jsx)(j.$,{variant:"default",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs",onClick:n,children:l?(0,X.jsx)(Lx,{className:"h-4 w-4"}):"Clear Screen"})]}),(0,X.jsx)($x,{isOpen:a,setIsOpen:i}),(0,X.jsx)(Hx,{isOpen:s,setIsOpen:o,onPatientSelect:r})]})}const qx=(0,N.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Gx=(0,N.A)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Kx=(0,N.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Yx=e=>{var n,r,a,i;let{isOpen:s,setIsOpen:o,selectedPatient:l,onConfirm:c}=e;const[d,u]=(0,t.useState)([]);(0,t.useEffect)((()=>{l&&u([])}),[l]);const m=(e,t)=>e.split("-").reduce(((e,t)=>e+parseInt(t)),0)*parseInt(t);return(0,X.jsx)(so.lG,{open:s,onOpenChange:()=>o(!1),children:(0,X.jsxs)(so.Cf,{children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsxs)(so.L3,{children:[null===l||void 0===l||null===(n=l.patient)||void 0===n?void 0:n.name,"'s Medications"]}),(0,X.jsx)(so.rr,{children:"Select the medications you want to prescribe"})]}),(null===l||void 0===l||null===(r=l.medications)||void 0===r?void 0:r.length)>0?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:(0,X.jsx)(ul,{checked:d.length===(null===l||void 0===l||null===(a=l.medications)||void 0===a?void 0:a.length),onCheckedChange:e=>{if(e){var t;const e=null===l||void 0===l||null===(t=l.medications)||void 0===t?void 0:t.map((e=>({name:e.name,quantity:m(e.frequency,e.duration)})));u(e)}else u([])}})}),(0,X.jsx)(uo.nd,{children:"Medication Name"}),(0,X.jsx)(uo.nd,{children:"Frequency"}),(0,X.jsx)(uo.nd,{children:"Duration"})]})}),(0,X.jsx)(uo.BF,{children:null===l||void 0===l||null===(i=l.medications)||void 0===i?void 0:i.map(((e,t)=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:(0,X.jsx)(ul,{checked:d.some((t=>t.name===e.name)),onCheckedChange:()=>(e=>{u((t=>{const n=t.findIndex((t=>t.name===e.name));if(-1!==n)return t.filter(((e,t)=>t!==n));{const n=m(e.frequency,e.duration);return[...t,{name:e.name,quantity:n}]}}))})(e)})}),(0,X.jsx)(uo.nA,{children:null===e||void 0===e?void 0:e.name}),(0,X.jsx)(uo.nA,{children:null===e||void 0===e?void 0:e.frequency}),(0,X.jsx)(uo.nA,{children:null===e||void 0===e?void 0:e.duration})]},t)))})]}),(0,X.jsx)(so.Es,{children:(0,X.jsx)(j.$,{onClick:()=>{c(d),o(!1)},children:"Confirm"})})]}):(0,X.jsx)("div",{className:"text-center py-4",children:(0,X.jsx)("p",{children:"No medications found for this patient."})})]})})};function Xx(e){let{clearTrigger:n,shouldOpenMedicineSuggDialog:r,setShouldOpenMedicineSuggDialog:a}=e;const i=(0,w.wA)(),{toast:s}=(0,H.dj)(),{items:o,itemsStatus:l,createSalesBillStatus:c,error:d,salesBills:u,salesBillsStatus:m}=(0,w.d4)((e=>e.pharmacy)),{patientlist:p,status:h,selectedPatient:f}=(0,w.d4)((e=>e.patients)),[v,g]=(0,t.useState)(""),[x,y]=(0,t.useState)({name:"",phone:"",_id:"",type:""}),[N,_]=(0,t.useState)([]),[E,C]=(0,t.useState)({id:"",name:"",quantity:"",mrp:"",discount:""}),[D,T]=(0,t.useState)(""),[P,O]=(0,t.useState)(""),[R,M]=(0,t.useState)(""),[I,L]=(0,t.useState)(""),F=(0,t.useRef)(null),[B,W]=(0,t.useState)(null),[U,$]=(0,t.useState)(!1),[z,V]=(0,t.useState)(!1),[q,G]=(0,t.useState)(!1),K=vo("(min-width: 1024px)"),Y=(0,t.useMemo)((()=>p.map((e=>({_id:e._id,patientId:e.patient._id,name:e.patient.name,phone:e.patient.contactNumber,gender:e.patient.gender,medications:e.medications,type:e.type})))),[p]);(0,t.useEffect)((()=>{"idle"===l&&i((0,it.LN)()),"idle"===m&&i((0,it.BS)()),"idle"===h&&i((0,Be.PP)())}),[i,l,m,h]);const Z=e=>{const{id:t,value:n}=e.target;y((e=>({...e,[t]:n})))},J=e=>{C((t=>({...t,mrp:e.MRP,id:e._id})))},Q=e=>{const{name:t,value:n}=e.target;C((e=>{const r={...e,[t]:n};if(r.quantity&&r.mrp){const e=parseFloat(r.quantity),t=parseFloat(r.mrp),n=parseFloat(r.discount)||0;r.total=e*t*(1-n/100)}else r.total=null;return r}))};(0,t.useEffect)((()=>{v&&C((e=>({...e,name:v})))}),[v]);const ee=e=>{_((t=>t.filter((t=>t.id!==e))))},te=e=>{const t=N.find((t=>t.id===e));ee(e),C(t),g(t.name)},ne=(0,t.useMemo)((()=>{const e=N.reduce(((e,t)=>e+t.total),0);return{subtotal:e,totalAmount:e-e*(R/100)}}),[N,R]),re=()=>{const e=N.map((e=>({item:e.id,quantity:e.quantity,MRP:e.mrp,discount:e.discount})));let t={};""!==x._id&&(t={_id:null===x||void 0===x?void 0:x._id,type:null===x||void 0===x?void 0:x.type});const n={items:e,patientInfo:{name:""===(null===x||void 0===x?void 0:x.name)?"Unknown":x.name,phone:x.phone},billInfo:t,totals:ne,paymentMethod:D,buyerName:P};i((0,it.C7)(n)).unwrap().then((()=>{ie(),s({title:"Sales order created successfully!",variant:"success",description:"You can print the bill by clicking on recent bills"})})).catch((e=>{s({title:"Failed to create sales order",description:e.message,variant:"destructive"})}))},ae=e=>{const t=parseFloat(e.target.value);isNaN(t)?M(""):M(Math.min(Math.max(t,0),100))};(0,t.useEffect)((()=>{ie()}),[n]);const ie=()=>{y({name:"",phone:"",_id:"",type:""}),_([]),C({id:"",name:"",quantity:"",mrp:"",discount:""}),T(""),O(""),M(""),L(""),g("")};(0,t.useEffect)((()=>{f&&r&&(y({name:f.patient.name,phone:f.patient.contactNumber||"",_id:f._id||"",type:f.type||""}),V(!0),a(!1))}),[f,r]);return(0,X.jsxs)("div",{className:"flex flex-col px-2 md:px-0",children:[(0,X.jsxs)("div",{className:"flex-1",children:[!K&&(0,X.jsx)("div",{className:"w-full mb-4",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{className:"font-semibold",children:"Customer Information"})}),(0,X.jsxs)(k.Wu,{className:"space-y-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Customer Name"}),(0,X.jsx)(xn.p,{id:"name",placeholder:"Enter Customer name",value:x.name,onChange:Z})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"phone",children:"Phone"}),(0,X.jsx)(xn.p,{id:"phone",placeholder:"Phone Number",value:x.phone,onChange:Z})]})]})]})}),(0,X.jsxs)("div",{className:(K?"flex space-x-2":"space-y-4")+" md:h-[70vh] overflow-hidden",children:[(0,X.jsx)("div",{className:K?"w-3/4":"w-full",children:(0,X.jsx)(k.Zp,{className:"h-full pt-2",children:(0,X.jsx)(b.F,{className:K?"h-[calc(100vh-235px)]":"",children:(0,X.jsx)(k.Wu,{className:"px-4 h-full",children:(0,X.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=parseInt(E.quantity),n=parseFloat(E.mrp),r=parseFloat(E.discount)||0,a=t*n,i=a-a*(r/100),s={...E,quantity:t,mrp:n,discount:r,total:i};_((e=>[...e,s])),C({name:"",quantity:"",mrp:"",discount:"",id:""}),g(""),F.current&&F.current.focus()},className:"h-full",children:K?(0,X.jsxs)(uo.XI,{className:"w-full h-full",children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{className:"bg-blue-200 border-2 border-blue-300 hover:bg-blue-200",children:[(0,X.jsx)(uo.nd,{className:"h-7 hidden lg:table-cell",children:"Sr."}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Item Name"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Quantity"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"MRP"}),(0,X.jsx)(uo.nd,{className:"h-7 hidden lg:table-cell",children:"Discount (%)"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Total"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Action"})]})}),(0,X.jsxs)(uo.BF,{children:[(0,X.jsxs)(uo.Hj,{className:"border-2 border-blue-300 overflow-visible",children:[(0,X.jsx)(uo.nA,{className:"hidden lg:table-cell"}),(0,X.jsx)(uo.nA,{className:"overflow-visible",children:(0,X.jsx)(bi.P,{suggestions:o,placeholder:"Enter Item name",value:v,setValue:g,ref:F,showStock:!0,onSuggestionSelect:J})}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(xn.p,{type:"number",name:"quantity",value:E.quantity,onChange:Q,placeholder:"0",className:"h-7 text-sm w-20",required:!0})}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(xn.p,{type:"number",name:"mrp",value:E.mrp,onChange:Q,placeholder:"0.00",className:"h-7 text-sm w-24",required:!0})}),(0,X.jsx)(uo.nA,{className:"hidden lg:table-cell",children:(0,X.jsx)(xn.p,{type:"number",name:"discount",value:E.discount,onChange:Q,placeholder:"0",className:"h-7 text-sm w-20"})}),(0,X.jsx)(uo.nA,{className:"w-20",children:E.quantity&&E.mrp?`\u20b9${E.total.toLocaleString()}`:"\u20b90.00"}),(0,X.jsxs)(uo.nA,{children:[(0,X.jsx)(j.$,{type:"submit",size:"icon",variant:"outline",className:"h-7 w-7 mr-1",children:(0,X.jsx)(S.A,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{type:"button",size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>{C({name:"",quantity:"",mrp:"",discount:""}),g("")},children:(0,X.jsx)(qx,{className:"h-4 w-4"})})]})]}),0===N.length?(0,X.jsx)(uo.Hj,{className:"hover:bg-white border-b-0",children:(0,X.jsx)(uo.nA,{colSpan:8,className:"text-center py-8",children:(0,X.jsxs)("div",{className:"flex flex-col items-center text-gray-500",children:[(0,X.jsx)(Gx,{className:"h-12 w-12 mb-2"}),(0,X.jsx)("span",{children:"No items added yet."})]})})}):N.map(((e,t)=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:t+1}),(0,X.jsx)(uo.nA,{children:e.name}),(0,X.jsx)(uo.nA,{children:e.quantity}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.mrp.toFixed(2)]}),(0,X.jsxs)(uo.nA,{children:[e.discount,"%"]}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.total.toFixed(2)]}),(0,X.jsxs)(uo.nA,{children:[(0,X.jsx)(j.$,{size:"icon",variant:"outline",className:"h-7 w-7 mr-1",onClick:()=>te(e.id),children:(0,X.jsx)(Kx,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>ee(e.id),children:(0,X.jsx)(qx,{className:"h-4 w-4"})})]})]},e.id))),(0,X.jsx)(uo.Hj,{style:{height:250-40*N.length+"px",display:N.length<=5?"block":"none"},className:"w-full"})]})]}):(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)(k.Zp,{children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(bi.P,{suggestions:o,placeholder:"Enter Item name",value:v,setValue:g,ref:F,showStock:!0,onSuggestionSelect:J}),(0,X.jsxs)("div",{className:"flex gap-2",children:[(0,X.jsx)(xn.p,{type:"number",name:"quantity",value:E.quantity,onChange:Q,placeholder:"Quantity",className:"w-full",required:!0}),(0,X.jsx)(xn.p,{type:"number",name:"mrp",value:E.mrp,onChange:Q,placeholder:"MRP",className:"w-full",required:!0}),(0,X.jsx)(xn.p,{type:"number",name:"discount",value:E.discount,onChange:Q,placeholder:"Dis(%)",className:"w-full"})]}),(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("span",{children:["Total: \u20b9",E.total?E.total.toLocaleString():"0.00"]}),(0,X.jsx)(j.$,{type:"submit",size:"sm",children:"Add Item"})]})]})})}),(0,X.jsx)(io,{className:"my-2"}),(0,X.jsx)("h1",{className:"text-lg font-semibold",children:"Items Added:"}),0===N.length?(0,X.jsx)(k.Zp,{className:"py-8",children:(0,X.jsxs)(k.Wu,{className:"flex flex-col items-center text-gray-500",children:[(0,X.jsx)(Gx,{className:"h-12 w-12 mb-2"}),(0,X.jsx)("span",{children:"No items added yet."})]})}):N.map(((e,t)=>(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:e.name})}),(0,X.jsxs)(k.Wu,{className:"grid grid-cols-5 px-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 col-span-4",children:[(0,X.jsxs)("div",{children:["Qty: ",e.quantity]}),(0,X.jsxs)("div",{children:["MRP: \u20b9",e.mrp.toFixed(2)]}),(0,X.jsxs)("div",{children:["Dis: ",e.discount,"%"]}),(0,X.jsxs)("div",{children:["Total: \u20b9",e.total.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"w-full flex flex-col items-end",children:[(0,X.jsx)(j.$,{size:"icon",variant:"outline",onClick:()=>te(e.id),children:(0,X.jsx)(Kx,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{size:"icon",variant:"outline",onClick:()=>ee(e.id),children:(0,X.jsx)(qx,{className:"h-4 w-4"})})]})]})]},e.id)))]})})})})})}),K&&(0,X.jsxs)("div",{className:"w-1/4",children:[(0,X.jsxs)(k.Zp,{className:"mb-4",children:[(0,X.jsx)(k.aR,{className:"pb-2",children:(0,X.jsx)(k.ZB,{className:"p-0 font-semibold",children:"Search Patients"})}),(0,X.jsx)(k.Wu,{className:"pb-2",children:(0,X.jsx)(bi.P,{suggestions:Y,placeholder:"Enter patient name or mobile",value:I,setValue:L,onSuggestionSelect:e=>{y({name:e.name,phone:e.phone||"",_id:e._id||"",type:e.type||""});const t=p.find((t=>t._id===e._id));i((0,Be.zC)(t)),a(!0)}})})]}),(0,X.jsxs)(k.Zp,{className:"mb-4",children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{className:"font-semibold",children:"Customer Information"})}),(0,X.jsxs)(k.Wu,{className:"space-y-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Customer Name"}),(0,X.jsx)(xn.p,{id:"name",placeholder:"Enter Customer name",value:x.name,onChange:Z})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"phone",children:"Phone"}),(0,X.jsx)(xn.p,{id:"phone",placeholder:"Phone Number",value:x.phone,onChange:Z})]})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{className:"pb-2",children:(0,X.jsx)(k.ZB,{className:"font-semibold",children:"Recent Bills"})}),(0,X.jsx)(k.Wu,{children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{className:"p-0 space-y-0",children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Customer Name"}),(0,X.jsx)(uo.nd,{children:"Amount"})]})}),(0,X.jsx)(uo.BF,{children:u.slice(0,3).map((e=>(0,X.jsxs)(uo.Hj,{className:"cursor-pointer hover:bg-gray-100",onClick:()=>(e=>{W(e),$(!0)})(e),children:[(0,X.jsx)(uo.nA,{children:e.patientInfo.name}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.totalAmount.toFixed(2)]})]},e._id)))})]})})]})]})]}),(0,X.jsx)(k.Zp,{className:"mt-2",children:(0,X.jsx)(k.Wu,{className:"p-2",children:(0,X.jsxs)("form",{className:`grid ${K?"grid-cols-4":"grid-cols-1"} gap-4 p-2`,onSubmit:e=>{e.preventDefault(),0!==N.length?""!==D?"Due"!==D||""!==P?""!==x.name.trim()?re():G(!0):s({title:"Please enter buyer name"}):s({title:"Please select payment method"}):s({title:"Please add items to create a sales order"})},children:[(0,X.jsxs)("div",{className:`grid ${K?"col-span-3 grid-cols-4":"grid-cols-1"} gap-4`,children:[(0,X.jsx)("div",{className:"h-full flex items-center",children:(0,X.jsxs)(A.l6,{onValueChange:e=>{T(e)},value:D,className:"w-full h-full",children:[(0,X.jsx)(A.bq,{id:"payment-method",children:(0,X.jsx)(A.yv,{placeholder:"Select payment method"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Cash",children:"Cash"}),(0,X.jsx)(A.eb,{value:"UPI",children:"UPI"}),(0,X.jsx)(A.eb,{value:"Card",children:"Card"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"}),(0,X.jsx)(A.eb,{value:"Due",children:"Due"})]})]})}),(0,X.jsx)(Zx,{label:"Buyer Name",value:P,onChange:e=>O(e.target.value),className:"w-full",placeholder:"Enter buyer name"}),K?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Zx,{label:"Additional Discount (%)",value:R,onChange:ae,onFocus:e=>{e.target.select()},className:"w-full",placeholder:"0",suffix:"%",min:"0",max:"100"}),(0,X.jsx)(Zx,{label:"Total",value:`\u20b9${ne.totalAmount.toFixed(2)}`,readOnly:!0,className:"w-full"})]}):(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsx)(Zx,{label:"Additional Disc (%)",value:R,onChange:ae,onFocus:e=>{e.target.select()},className:"w-full",placeholder:"0",suffix:"%",min:"0",max:"100"}),(0,X.jsx)(Zx,{label:"Total",value:`\u20b9${ne.totalAmount.toFixed(2)}`,readOnly:!0,className:"w-full"})]})]}),(0,X.jsxs)("div",{className:`grid ${K?"grid-cols-2":"grid-cols-1"} gap-4 items-center`,children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"hidden md:block",onClick:()=>{},disabled:!0,children:"Save Draft"}),(0,X.jsx)(j.$,{className:"bg-green-500 hover:bg-green-600",size:"sm",type:"submit",disabled:"loading"===c,children:"loading"===c?"Creating...":"Create Sales Order"})]})]})})})]}),(0,X.jsx)(Bx,{isOpen:U,setIsOpen:$,billData:B}),(0,X.jsx)(Yx,{isOpen:z,setIsOpen:V,selectedPatient:f,onConfirm:e=>{const t=e.map((e=>{const t=o.find((t=>t.name===e.name));if(t)return{id:t._id,name:t.name,quantity:parseInt(e.quantity),mrp:parseFloat(t.MRP),discount:0,total:parseFloat(t.MRP)*parseInt(e.quantity)}})).filter((e=>void 0!==e));_((e=>[...e,...t])),i((0,Be.zC)(null))}}),(0,X.jsx)(Ce,{open:q,onOpenChange:G,children:(0,X.jsxs)(Ae,{children:[(0,X.jsxs)(Pe,{children:[(0,X.jsx)(Re,{children:"Create Unknown Sale?"}),(0,X.jsx)(Me,{children:"The customer name is empty. Do you want to create an unknown sale?"})]}),(0,X.jsxs)(Oe,{children:[(0,X.jsx)(Le,{children:"Cancel"}),(0,X.jsx)(Ie,{onClick:()=>{y((e=>({...e,name:"Unknown"}))),G(!1),re()},children:"Continue"})]})]})})]})}const Zx=t.memo((e=>{let{label:t,value:n,readOnly:r=!1,onChange:a,className:i="",type:s="text",placeholder:o="",required:l=!1,suffix:c="",onFocus:d,min:u,max:m}=e;return(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("input",{type:s,value:n,readOnly:r,onChange:a,onFocus:d,className:`pl-2 pr-8 pt-4 pb-1 w-full text-sm border rounded ${i} [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`,placeholder:o,required:l,min:u,max:m}),(0,X.jsx)("label",{className:"absolute text-xs text-gray-500 top-1 left-2",children:t}),c&&(0,X.jsx)("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:c})]})})),Jx=()=>{const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)(!1),i=(0,w.wA)(),s=(0,t.useCallback)((()=>{n((e=>!e)),i((0,Be.zC)(null)),a(!1)}),[]),o=(0,t.useCallback)((()=>{a(!0)}),[]);return(0,X.jsxs)("div",{className:"h-full",children:[(0,X.jsx)(Vx,{onClearScreen:s,onPatientSelect:o}),(0,X.jsx)(Xx,{clearTrigger:e,shouldOpenMedicineSuggDialog:r,setShouldOpenMedicineSuggDialog:a})]})},Qx=(0,N.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function ey(){const e=(0,w.wA)(),{toast:n}=(0,H.dj)(),[r,a]=(0,t.useState)({name:"",phone:"",email:"",address:""}),[i,s]=(0,t.useState)([]),[o,l]=(0,t.useState)({id:"",name:"",type:"",quantity:"",MRP:"",discount:"",expiryDate:""}),[c,d]=(0,t.useState)(""),{createOrderStatus:u,error:m,suppliers:p,suppliersStatus:h,selectedSupplier:f}=(0,w.d4)((e=>e.pharmacy)),[v,g]=(0,t.useState)(""),[x,y]=(0,t.useState)([]);(0,t.useEffect)((()=>{"idle"===h&&e((0,it.qQ)())}),[e,h]),(0,t.useEffect)((()=>{f&&(a({name:f.name,phone:f.phone,email:f.email,address:f.address}),y(f.items))}),[f]);const b=e=>{const{id:t,value:n}=e.target;a((e=>({...e,[t]:n})))},N=e=>{const{name:t,value:n}=e.target;l((e=>{const r={...e,[t]:n};if(r.quantity&&r.MRP){const e=parseFloat(r.quantity)*parseFloat(r.MRP),t=e*((parseFloat(r.discount)||0)/100);r.total=e-t}else r.total=null;return r}))},_=()=>{if(!o.name||!o.quantity||!o.MRP)return void n({title:"Please fill in at least the item name, quantity, and MRP.",variant:"destructive"});const e=parseInt(o.quantity),t=parseFloat(o.MRP),r=parseFloat(o.discount)||0,a=e*t,i=a-a*(r/100),c={...o,quantity:e,MRP:t,discount:r,total:i,expiryDate:o.expiryDate};s((e=>[...e,c])),l({name:"",type:"",quantity:"",MRP:"",discount:"",expiryDate:"",id:""})},E=e=>{s((t=>t.filter((t=>t.id!==e))))},C=(()=>{const e=i.reduce(((e,t)=>{const n=t.quantity*t.MRP,r=n*(t.discount/100);return e.subtotal+=n,e.discountTotal+=r,e.grandTotal+=n-r,e}),{subtotal:0,discountTotal:0,grandTotal:0}),t=e.grandTotal-parseFloat(c||0);return{...e,dueAmount:t}})(),D=t=>{if(t.preventDefault(),0===i.length)return void alert("Please add at least one item to the purchase order.");if(""===r.name||""===r.phone)return void alert("Please fill name and phone the supplier information.");const n={supplierInfo:r,items:i,total:{subtotal:C.subtotal,totalAmount:C.grandTotal,paidAmount:parseFloat(c)||0}};e((0,it.fS)(n))};return(0,X.jsx)("div",{className:"flex flex-col",children:(0,X.jsxs)("div",{className:"flex-1",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between p-1 space-x-1 bg-gray-100",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"text-gray-600",children:(0,X.jsx)(Li,{className:"h-4 w-4"})}),(0,X.jsx)(_x.A,{className:"h-3 w-3 text-gray-400"}),(0,X.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Purchase Order"})]}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>{a({name:"",phone:"",email:"",address:""}),s([]),l({id:"",name:"",type:"",quantity:"",MRP:"",discount:"",expiryDate:""}),d(""),g(""),e((0,it.rU)())},className:"whitespace-nowrap",children:"Clear All"})]}),(0,X.jsxs)("div",{className:"flex space-x-2 h-[calc(100vh-245px)]",children:[(0,X.jsx)("div",{className:"w-3/4 space-y-4 h-full",children:(0,X.jsx)(k.Zp,{className:"h-full",children:(0,X.jsx)(k.Wu,{className:"px-4 pt-2",children:(0,X.jsx)("form",{onSubmit:e=>{e.preventDefault(),_()},children:(0,X.jsxs)(uo.XI,{className:"w-full",children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{className:"bg-blue-200 border-2 border-blue-300 hover:bg-blue-200",children:[(0,X.jsx)(uo.nd,{className:"h-7",children:"Sr."}),(0,X.jsx)(uo.nd,{className:"h-7 ",children:"Item Name"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Type"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Quantity"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"MRP"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Disc (%)"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Expiry Date"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Total"}),(0,X.jsx)(uo.nd,{className:"h-7",children:"Action"})]})}),(0,X.jsxs)(uo.BF,{children:[(0,X.jsxs)(uo.Hj,{className:"border-2 border-blue-300",children:[(0,X.jsx)(uo.nA,{}),(0,X.jsx)(uo.nA,{className:"w-40",children:(0,X.jsx)(bi.P,{suggestions:x,placeholder:"Enter Item name",value:o.name,setValue:e=>l((t=>({...t,name:e}))),onSuggestionSelect:e=>{l((t=>({...t,name:e.name,type:e.type,MRP:e.MRP,id:e._id})))}})}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)(A.l6,{name:"type",value:o.type,onValueChange:e=>{l((t=>({...t,type:e})))},children:[(0,X.jsx)(A.bq,{className:"h-7 text-sm w-28",children:(0,X.jsx)(A.yv,{placeholder:"Type"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Tablet",children:"Tablet"}),(0,X.jsx)(A.eb,{value:"Capsule",children:"Capsule"}),(0,X.jsx)(A.eb,{value:"Injection",children:"Injection"}),(0,X.jsx)(A.eb,{value:"syrup",children:"Syrup"}),(0,X.jsx)(A.eb,{value:"Liquid",children:"Liquid"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(xn.p,{type:"number",name:"quantity",value:o.quantity,onChange:N,placeholder:"0",className:"h-7 text-sm w-20",required:!0})}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(xn.p,{type:"number",name:"MRP",value:o.MRP,onChange:N,placeholder:"0.00",className:"h-7 text-sm w-20",required:!0})}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(xn.p,{type:"number",name:"discount",value:o.discount,onChange:N,placeholder:"0",className:"h-7 text-sm w-20"})}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(xn.p,{type:"month",size:"sm",name:"expiryDate",value:o.expiryDate,onChange:N,className:"h-7 text-sm w-25"})}),(0,X.jsx)(uo.nA,{className:"w-20",children:o.quantity&&o.MRP?`\u20b9${o.total.toLocaleString("en-IN")}`:"\u20b90.00"}),(0,X.jsxs)(uo.nA,{children:[(0,X.jsx)(j.$,{type:"submit",size:"icon",variant:"outline",className:"h-7 w-7 mr-1",children:(0,X.jsx)(S.A,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{type:"button",size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>{l({name:"",type:"",quantity:"",MRP:"",discount:"",expiryDate:""})},children:(0,X.jsx)(qx,{className:"h-4 w-4"})})]})]}),0===i.length?(0,X.jsx)(uo.Hj,{className:"hover:bg-white border-b-0",children:(0,X.jsx)(uo.nA,{colSpan:8,className:"text-center py-8",children:(0,X.jsxs)("div",{className:"flex flex-col items-center text-gray-500",children:[(0,X.jsx)(Gx,{className:"h-12 w-12 mb-2"}),(0,X.jsx)("span",{children:"No items added yet."})]})})}):i.map(((e,t)=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:t+1}),(0,X.jsx)(uo.nA,{children:e.name}),(0,X.jsx)(uo.nA,{children:e.type}),(0,X.jsx)(uo.nA,{children:e.quantity}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.MRP.toFixed(2)]}),(0,X.jsxs)(uo.nA,{children:[e.discount,"%"]}),(0,X.jsx)(uo.nA,{children:e.expiryDate}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.total.toLocaleString("en-IN")]}),(0,X.jsxs)(uo.nA,{children:[(0,X.jsx)(j.$,{size:"icon",variant:"outline",className:"h-7 w-7 mr-1",onClick:()=>(e=>{const t=i.find((t=>t.id===e));E(e),l(t)})(e.id),children:(0,X.jsx)(Kx,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>E(e.id),children:(0,X.jsx)(qx,{className:"h-4 w-4"})})]})]},e.id))),(0,X.jsx)(uo.Hj,{style:{height:250-40*i.length+"px",display:i.length<=5?"block":"none"},className:"w-full"})]})]})})})})}),(0,X.jsxs)("div",{className:"w-1/4 space-y-2",children:[(0,X.jsxs)(k.Zp,{className:"flex-grow",children:[(0,X.jsx)(k.aR,{className:"pb-2",children:(0,X.jsx)(k.ZB,{className:"p-0 font-semibold",children:"Search Supplier"})}),(0,X.jsx)(k.Wu,{className:"pb-4",children:(0,X.jsx)(bi.P,{suggestions:p,placeholder:"Enter Supplier name",value:v,setValue:g,onSuggestionSelect:t=>{s([]),l({id:"",name:"",type:"",quantity:"",MRP:"",discount:"",expiryDate:""}),e((0,it.ZJ)(t._id))}})})]}),(0,X.jsxs)(k.Zp,{className:"h-[calc(100vh-346px)]",children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Supplier Information"})}),(0,X.jsxs)(k.Wu,{className:"space-y-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Name"}),(0,X.jsx)(xn.p,{id:"name",placeholder:"Supplier Name",value:r.name,onChange:b})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"phone",children:"Phone"}),(0,X.jsx)(xn.p,{id:"phone",placeholder:"Phone Number",value:r.phone,onChange:b})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"email",children:"Email"}),(0,X.jsx)(xn.p,{id:"email",type:"email",placeholder:"Email Address",value:r.email,onChange:b})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"address",children:"Address"}),(0,X.jsx)(xo.T,{id:"address",placeholder:"Supplier Address",value:r.address,onChange:b})]})]})]})]})]}),(0,X.jsx)(k.Zp,{className:"mt-2 p-2 flex items-center",children:(0,X.jsx)(k.Wu,{className:" w-full p-2",children:(0,X.jsxs)("form",{className:"grid grid-cols-4 gap-4 p-2",onSubmit:D,children:[(0,X.jsxs)("div",{className:"grid col-span-3 grid-cols-5 gap-4",children:[(0,X.jsx)(ty,{label:"Subtotal",value:`\u20b9${C.subtotal.toLocaleString("en-IN")}`,readOnly:!0,className:"w-full"}),(0,X.jsx)(ty,{label:"Discount Total",value:`\u20b9${C.discountTotal.toLocaleString("en-IN")}`,readOnly:!0,className:"w-full"}),(0,X.jsx)(ty,{label:"Grand Total",value:`\u20b9${C.grandTotal.toLocaleString("en-IN")}`,readOnly:!0,className:"w-full font-bold"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(ty,{label:"Amount Paying",type:"number",value:c,onChange:e=>d(e.target.value),className:"w-full",placeholder:"Type Amount",required:!0}),(0,X.jsx)(j.$,{type:"button",size:"icon",variant:"ghost",className:"absolute right-0 top-1/2 transform -translate-y-1/2",onClick:()=>{d(C.grandTotal.toFixed(2))},children:(0,X.jsx)(Qx,{className:"h-4 w-4 hover:text-green-500"})})]}),(0,X.jsx)(ty,{label:"Due Amount",value:`\u20b9${C.dueAmount.toLocaleString("en-IN")}`,readOnly:!0,className:"w-full font-bold text-red-500"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>{},children:"Save Draft"}),(0,X.jsx)(j.$,{className:"bg-green-500 hover:bg-green-600",size:"sm",type:"submit",onClick:D,children:"Create Purchase Order"})]})]})})})]})})}const ty=e=>{let{label:t,value:n,readOnly:r=!1,onChange:a,className:i="",type:s="text",placeholder:o="",required:l=!1}=e;return(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("input",{type:s,value:n,readOnly:r,onChange:a,className:`pl-2 pr-2 pt-4 pb-1 w-full text-sm border rounded ${i} [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`,placeholder:o,required:l}),(0,X.jsx)("label",{className:"absolute text-xs text-gray-500 top-1 left-2",children:t})]})},ny=(0,N.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ry=(0,N.A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),ay=(0,N.A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),iy=(0,N.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var sy=__webpack_require__(7358);function oy(e){return(0,Jl.o)(Date.now(),e)}function ly(e){return(0,Ql.D)(Date.now(),e)}const cy=()=>{const e=(0,w.wA)(),n=(0,a.Zp)(),{salesBills:r,salesBillsStatus:i,items:s,itemsStatus:o}=(0,w.d4)((e=>e.pharmacy)),{hospitalInfo:l}=(0,w.d4)((e=>e.hospital)),c=wc("(max-width: 640px)");(0,t.useEffect)((()=>{"idle"===i&&e((0,it.BS)()),"idle"===o&&e((0,it.LN)())}),[e,i,o]);const d=s.filter((e=>e.quantity<=200)),u=(0,jx.P)(new Date,Number(null===l||void 0===l?void 0:l.pharmacyExpiryThreshold)),m=s.filter((e=>{if(!e.expiryDate)return!1;const t=new Date(e.expiryDate);return(0,sy.Y)(t,u)})),p=(0,t.useMemo)((()=>{const e=oy(),t=ly();return r.reduce(((n,r)=>{const a=new Date(r.createdAt);return a>=e&&a<=t&&(n.count++,n.totalAmount+=r.totalAmount),n}),{count:0,totalAmount:0})}),[r]),h=e=>{if(!e)return{status:null,variant:"secondary"};const t=new Date,n=Ko(new Date(e),t);return n<0?{status:"Expired",variant:"destructive"}:n<=30?{status:"Expiring Soon",variant:"warning",daysLeft:n}:{status:"OK",variant:"default",daysLeft:n}},f=e=>{var t;let{item:n}=e;return(0,X.jsx)(k.Zp,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,X.jsxs)("h3",{className:"text-lg font-semibold capitalize",children:[n.name,(0,X.jsxs)("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",n.type,")"]})]})}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-3",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Gx,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsxs)("span",{className:"text-sm",children:["Stock: ",n.quantity]})]}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)("span",{className:"text-sm capitalize",children:["Supplier: ",(null===n||void 0===n||null===(t=n.supplier)||void 0===t?void 0:t.name)||"\u2014"]})})]})]})})})},v=e=>{var t;let{item:n}=e;const{status:r,variant:a,daysLeft:i}=h(n.expiryDate);return(0,X.jsx)(k.Zp,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,X.jsxs)("h3",{className:"text-lg font-semibold capitalize",children:[n.name,(0,X.jsxs)("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",n.type,")"]})]})}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-3",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Gx,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsxs)("span",{className:"text-sm",children:["Stock: ",n.quantity]})]}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)("span",{className:"text-sm capitalize",children:["Supplier: ",(null===n||void 0===n||null===(t=n.supplier)||void 0===t?void 0:t.name)||"\u2014"]})}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)("span",{className:"text-sm",children:["Expiry: ",n.expiryDate?(0,fo.GP)(new Date(n.expiryDate),"MMM dd, yyyy"):"\u2014"]})}),(0,X.jsx)("div",{className:"flex items-center",children:r&&(0,X.jsxs)(go.E,{variant:a,children:[r,"Expiring Soon"===r&&` (${i} ${1===i?"day":"days"})`]})})]})]})})})};return(0,X.jsxs)("div",{children:[(0,X.jsxs)("div",{className:"flex justify-between items-center bg-gray-100 pr-2",children:[(0,X.jsxs)("div",{className:"flex items-center p-1 space-x-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"text-gray-600",children:(0,X.jsx)(Li,{className:"h-4 w-4"})}),(0,X.jsx)(_x.A,{className:"h-3 w-3 text-gray-400"}),(0,X.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Pharmacy Reports"})]}),(0,X.jsx)("div",{className:"flex items-center space-x-4"})]}),(0,X.jsxs)("main",{className:"flex-1 overflow-y-auto mt-2 mx-2 md:mx-0",children:[(0,X.jsxs)("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4 mb-4",children:[(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,X.jsx)(k.ZB,{className:"text-sm font-medium",children:"Items Expiring Soon"}),(0,X.jsx)(ny,{className:"w-4 h-4 text-yellow-500"})]}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsx)("div",{className:"text-2xl font-bold",children:m.length}),(0,X.jsx)("p",{className:"text-xs text-muted-foreground",children:"Within next 60 days"})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,X.jsx)(k.ZB,{className:"text-sm font-medium",children:"Low Stock Items"}),(0,X.jsx)(ry,{className:"w-4 h-4 text-red-500"})]}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsx)("div",{className:"text-2xl font-bold",children:d.length}),(0,X.jsx)("p",{className:"text-xs text-muted-foreground",children:"Below reorder level"})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,X.jsx)(k.ZB,{className:"text-sm font-medium",children:"Total Sales Today"}),(0,X.jsx)(ay,{className:"w-4 h-4 text-green-500"})]}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsxs)("div",{className:"text-2xl font-bold",children:["\u20b9",p.totalAmount.toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,X.jsx)("p",{className:"text-xs text-muted-foreground",children:"Today's total"})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,X.jsx)(k.ZB,{className:"text-sm font-medium",children:"Bills Generated Today"}),(0,X.jsx)(iy,{className:"w-4 h-4 text-blue-500"})]}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsx)("div",{className:"text-2xl font-bold",children:p.count}),(0,X.jsx)("p",{className:"text-xs text-muted-foreground",children:"Today's total"})]})]})]}),(0,X.jsxs)(Uo,{defaultValue:"expiring",className:"space-y-4",children:[(0,X.jsxs)($o,{className:"grid w-full lg:w-1/3 grid-cols-3 sm:grid-cols-3 mb-4",children:[(0,X.jsx)(zo,{value:"expiring",children:"Expiring Items"}),(0,X.jsx)(zo,{value:"lowstock",children:"Low Stock"}),(0,X.jsx)(zo,{value:"bills",children:"Recent Bills"})]}),(0,X.jsx)(Ho,{value:"expiring",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Items Expiring Soon"})}),(0,X.jsx)(k.Wu,{className:"overflow-x-auto px-4",children:c?(0,X.jsx)("div",{children:m.length>0?m.map(((e,t)=>(0,X.jsx)(v,{item:e},t))):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500 py-8",children:[(0,X.jsx)(bc,{className:"w-12 h-12 mb-2"}),(0,X.jsx)("p",{className:"font-semibold text-center",children:"No items expiring in the next 2 months"})]})}):(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Item Name"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Type"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Supplier"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Expiry Date"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Quantity"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Status"})]})}),(0,X.jsx)(uo.BF,{children:m.length>0?m.map(((e,t)=>{var n;const{status:r,variant:a,daysLeft:i}=h(e.expiryDate);return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"capitalize",children:e.name}),(0,X.jsx)(uo.nA,{children:e.type}),(0,X.jsx)(uo.nA,{className:"capitalize",children:(null===e||void 0===e||null===(n=e.supplier)||void 0===n?void 0:n.name)||"\u2014\u2014"}),(0,X.jsx)(uo.nA,{children:e.expiryDate?(0,fo.GP)(new Date(e.expiryDate),"MMM dd, yyyy"):"\u2014"}),(0,X.jsx)(uo.nA,{children:e.quantity}),(0,X.jsx)(uo.nA,{children:r?(0,X.jsxs)(go.E,{variant:a,children:[r,"Expiring Soon"===r&&` (${i} ${1===i?"day":"days"})`]}):"\u2014"})]},t)})):(0,X.jsx)(uo.Hj,{children:(0,X.jsx)(uo.nA,{colSpan:6,className:"h-24 text-center",children:(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,X.jsx)(bc,{className:"w-8 h-8 mb-2"}),(0,X.jsx)("p",{className:"font-semibold",children:"No items expiring in the next 2 months"})]})})})})]})})]})}),(0,X.jsx)(Ho,{value:"lowstock",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Low Stock Items"})}),(0,X.jsx)(k.Wu,{className:"overflow-x-auto px-4",children:c?(0,X.jsx)("div",{children:d.length>0?d.map(((e,t)=>(0,X.jsx)(f,{item:e},t))):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500 py-8",children:[(0,X.jsx)(bc,{className:"w-12 h-12 mb-2"}),(0,X.jsx)("p",{className:"font-semibold text-center",children:"No low stock items available"})]})}):(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Item Name"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Type"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Supplier"}),(0,X.jsx)(uo.nd,{className:"whitespace-nowrap",children:"Current Stock"})]})}),(0,X.jsx)(uo.BF,{children:d.length>0?d.map(((e,t)=>{var n;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"capitalize",children:e.name}),(0,X.jsx)(uo.nA,{children:null===e||void 0===e?void 0:e.type}),(0,X.jsx)(uo.nA,{className:"capitalize",children:(null===e||void 0===e||null===(n=e.supplier)||void 0===n?void 0:n.name)||"\u2014"}),(0,X.jsx)(uo.nA,{children:null===e||void 0===e?void 0:e.quantity})]},t)})):(0,X.jsx)(uo.Hj,{children:(0,X.jsx)(uo.nA,{colSpan:5,className:"h-24 text-center",children:(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,X.jsx)(bc,{className:"w-8 h-8 mb-2"}),(0,X.jsx)("p",{className:"font-semibold",children:"No low stock items available"})]})})})})]})})]})}),(0,X.jsx)(Ho,{value:"bills",children:(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-2 sm:space-y-0 space-x-2",children:[(0,X.jsx)("h1",{className:"text-lg font-semibold",children:"Recent Bills Generated"}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>n("/pharmacy/all-bills"),children:"View All"})]}),(0,X.jsx)(k.Wu,{className:"px-4",children:(0,X.jsx)(Ux,{bills:r.slice(0,5)})})]})})]})]})]})};var dy=__webpack_require__(8387),uy=__webpack_require__(9889),my=__webpack_require__.n(uy),py=__webpack_require__(620),hy=__webpack_require__.n(py),fy=__webpack_require__(5268),vy=__webpack_require__.n(fy),gy=__webpack_require__(3097),xy=__webpack_require__.n(gy),yy=__webpack_require__(9160),by=__webpack_require__.n(yy),wy=function(e){return 0===e?0:e>0?1:-1},jy=function(e){return hy()(e)&&e.indexOf("%")===e.length-1},Ny=function(e){return by()(e)&&!vy()(e)},_y=function(e){return Ny(e)||hy()(e)},Sy=0,Ey=function(e){var t=++Sy;return"".concat(e||"").concat(t)},Cy=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ny(e)&&!hy()(e))return r;if(jy(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return vy()(n)&&(n=r),a&&n>t&&(n=t),n},Dy=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Ty=function(e,t){return Ny(e)&&Ny(t)?function(n){return e+n*(t-e)}:function(){return t}};function ky(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):xy()(e,t))===n})):null}var Ay=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},Py=__webpack_require__(9686),Oy=__webpack_require__.n(Py),Ry=__webpack_require__(1629),My=__webpack_require__.n(Ry),Iy=__webpack_require__(6686),Ly=__webpack_require__.n(Iy),Fy=__webpack_require__(9062);function By(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Wy(e){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(e)}var Uy=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$y=["points","pathLength"],zy={svg:["viewBox","children"],polygon:$y,polyline:$y},Hy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vy=function(e,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),!Ly()(r))return null;var a={};return Object.keys(r).forEach((function(e){Hy.includes(e)&&(a[e]=n||function(t){return r[e](r,t)})})),a},qy=function(e,t,n){if(!Ly()(e)||"object"!==Wy(e))return null;var r=null;return Object.keys(e).forEach((function(a){var i=e[a];Hy.includes(a)&&"function"===typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))})),r},Gy=["children"],Ky=["children"];function Yy(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Xy={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zy=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Jy=null,Qy=null,eb=function e(n){if(n===Jy&&Array.isArray(Qy))return Qy;var r=[];return t.Children.forEach(n,(function(t){Oy()(t)||((0,Fy.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),Qy=r,Jy=n,r};function tb(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return Zy(e)})):[Zy(t)],eb(e).forEach((function(e){var t=xy()(e,"type.displayName")||xy()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function nb(e,t){var n=tb(e,t);return n&&n[0]}var rb=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ny(n)||n<=0||!Ny(r)||r<=0)},ab=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ib=function(e){return e&&e.type&&hy()(e.type)&&ab.indexOf(e.type)>=0},sb=function(e,n,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!Ly()(a))return null;var i={};return Object.keys(a).forEach((function(e){var t;(function(e,t,n,r){var a,i=null!==(a=null===zy||void 0===zy?void 0:zy[r])&&void 0!==a?a:[];return!My()(e)&&(r&&i.includes(t)||Uy.includes(t))||n&&Hy.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(i[e]=a[e])})),i},ob=function e(n,r){if(n===r)return!0;var a=t.Children.count(n);if(a!==t.Children.count(r))return!1;if(0===a)return!0;if(1===a)return lb(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var s=n[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!lb(s,o))return!1}return!0},lb=function(e,t){if(Oy()(e)&&Oy()(t))return!0;if(!Oy()(e)&&!Oy()(t)){var n=e.props||{},r=n.children,a=Yy(n,Gy),i=t.props||{},s=i.children,o=Yy(i,Ky);return r&&s?By(a,o)&&ob(r,s):!r&&!s&&By(a,o)}return!1},cb=function(e,t){var n=[],r={};return eb(e).forEach((function(e,a){if(ib(e))n.push(e);else if(e){var i=Zy(e.type),s=t[i]||{},o=s.handler,l=s.once;if(o&&(!l||!r[i])){var c=o(e,i,a);n.push(c),r[i]=!0}}})),n};function db(e){return db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(e)}function ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(n),!0).forEach((function(t){pb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=db(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=db(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==db(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vb=(0,t.forwardRef)((function(e,n){var r=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,s=e.width,o=void 0===s?"100%":s,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,m=e.minHeight,p=e.maxHeight,h=e.children,f=e.debounce,v=void 0===f?0:f,g=e.id,x=e.className,y=e.onResize,b=e.style,w=void 0===b?{}:b,j=(0,t.useRef)(null),N=(0,t.useRef)();N.current=y,(0,t.useImperativeHandle)(n,(function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})}));var _=hb((0,t.useState)({containerWidth:i.width,containerHeight:i.height}),2),S=_[0],E=_[1],C=(0,t.useCallback)((function(e,t){E((function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}}))}),[]);(0,t.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;C(r,a),null===(t=N.current)||void 0===t||t.call(N,r,a)};v>0&&(e=my()(e,v,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,a=n.height;return C(r,a),t.observe(j.current),function(){t.disconnect()}}),[C,v]);var D=(0,t.useMemo)((function(){var e=S.containerWidth,n=S.containerHeight;if(e<0||n<0)return null;Ay(jy(o)||jy(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),Ay(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=jy(o)?e:o,i=jy(c)?n:c;r&&r>0&&(a?i=a/r:i&&(a=i*r),p&&i>p&&(i=p)),Ay(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,o,c,u,m,r);var s=!Array.isArray(h)&&Zy(h.type).endsWith("Chart");return t.Children.map(h,(function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,mb({width:a,height:i},s?{style:mb({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e}))}),[r,h,c,p,m,u,S,o]);return t.createElement("div",{id:g?"".concat(g):void 0,className:(0,dy.A)("recharts-responsive-container",x),style:mb(mb({},w),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:p}),ref:j},D)})),gb={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return gb[e]},set:function(e,t){if("string"===typeof e)gb[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){gb[t]=e[t]}))}}};function xb(e){return xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(e)}function yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(n),!0).forEach((function(t){wb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xb(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jb={widthCache:{},cacheCount:0},Nb={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_b="recharts_measurement_span";var Sb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||gb.isSsr)return{width:0,height:0};var n=function(e){var t=bb({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(jb.widthCache[r])return jb.widthCache[r];try{var a=document.getElementById(_b);a||((a=document.createElement("span")).setAttribute("id",_b),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=bb(bb({},Nb),n);Object.assign(a.style,i),a.textContent="".concat(e);var s=a.getBoundingClientRect(),o={width:s.width,height:s.height};return jb.widthCache[r]=o,++jb.cacheCount>2e3&&(jb.cacheCount=0,jb.widthCache={}),o}catch(H1){return{width:0,height:0}}};function Eb(e){return Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(e)}function Cb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Db(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Db(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Db(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kb(r.key),r)}}function kb(e){var t=function(e,t){if("object"!=Eb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eb(t)?t:t+""}var Ab=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ob=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rb=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mb={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Ib=Object.keys(Mb),Lb="NaN";var Fb=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Ob.test(n)||(this.num=NaN,this.unit=""),Ib.includes(n)&&(this.num=function(e,t){return e*Mb[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Cb(null!==(n=Rb.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Tb(t.prototype,n),r&&Tb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Bb(e){if(e.includes(Lb))return Lb;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Cb(null!==(n=Ab.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],s=r[3],o=Fb.parse(null!==a&&void 0!==a?a:""),l=Fb.parse(null!==s&&void 0!==s?s:""),c="*"===i?o.multiply(l):o.divide(l);if(c.isNaN())return Lb;t=t.replace(Ab,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=Cb(null!==(d=Pb.exec(t))&&void 0!==d?d:[],4),m=u[1],p=u[2],h=u[3],f=Fb.parse(null!==m&&void 0!==m?m:""),v=Fb.parse(null!==h&&void 0!==h?h:""),g="+"===p?f.add(v):f.subtract(v);if(g.isNaN())return Lb;t=t.replace(Pb,g.toString())}return t}var Wb=/\(([^()]*)\)/;function Ub(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Cb(Wb.exec(t),2)[1];t=t.replace(Wb,Bb(n))}return t}(t),t=Bb(t)}function $b(e){var t=function(e){try{return Ub(e)}catch(H1){return Lb}}(e.slice(5,-1));return t===Lb?"":t}var zb=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hb=["dx","dy","angle","className","breakAll"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(this,arguments)}function qb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yb=/[ \f\n\r\t\v\u2028\u2029]+/,Xb=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return Oy()(t)||(a=n?t.toString().split(""):t.toString().split(Yb)),{wordsWithComputedWidth:a.map((function(e){return{word:e,width:Sb(e,r).width}})),spaceWidth:n?0:Sb("\xa0",r).width}}catch(H1){return null}},Zb=function(e){return[{words:Oy()(e)?[]:e.toString().split(Yb)}]},Jb=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,s=e.maxLines;if((t||n)&&!gb.isSsr){var o=Xb({breakAll:i,children:r,style:a});return o?function(e,t,n,r,a){var i=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=Ny(i),d=s,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,s=t.width,o=e[e.length-1];if(o&&(null==r||a||o.width+s+n<Number(r)))o.words.push(i),o.width+=s+n;else{var l={words:[i],width:s};e.push(l)}return e}),[])},m=u(t);if(!c)return m;for(var p,h=function(e){var t=d.slice(0,e),n=Xb({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=u(n),s=a.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(a).width>Number(r);return[s,a]},f=0,v=d.length-1,g=0;f<=v&&g<=d.length-1;){var x=Math.floor((f+v)/2),y=Gb(h(x-1),2),b=y[0],w=y[1],j=Gb(h(x),1)[0];if(b||j||(f=x+1),b&&j&&(v=x-1),!b&&j){p=w;break}g++}return p||m}({breakAll:i,children:r,maxLines:s,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,n):Zb(r)}return Zb(r)},Qb="#808080",ew=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a,s=e.lineHeight,o=void 0===s?"1em":s,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,m=e.textAnchor,p=void 0===m?"start":m,h=e.verticalAnchor,f=void 0===h?"end":h,v=e.fill,g=void 0===v?Qb:v,x=qb(e,zb),y=(0,t.useMemo)((function(){return Jb({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:u,style:x.style,width:x.width})}),[x.breakAll,x.children,x.maxLines,u,x.style,x.width]),b=x.dx,w=x.dy,j=x.angle,N=x.className,_=x.breakAll,S=qb(x,Hb);if(!_y(r)||!_y(i))return null;var E,C=r+(Ny(b)?b:0),D=i+(Ny(w)?w:0);switch(f){case"start":E=$b("calc(".concat(c,")"));break;case"middle":E=$b("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:E=$b("calc(".concat(y.length-1," * -").concat(o,")"))}var T=[];if(u){var k=y[0].width,A=x.width;T.push("scale(".concat((Ny(A)?A/k:1)/k,")"))}return j&&T.push("rotate(".concat(j,", ").concat(C,", ").concat(D,")")),T.length&&(S.transform=T.join(" ")),t.createElement("text",Vb({},sb(S,!0),{x:C,y:D,className:(0,dy.A)("recharts-text",N),textAnchor:p,fill:g.includes("url")?Qb:g}),y.map((function(e,n){var r=e.words.join(_?"":" ");return t.createElement("tspan",{x:C,dy:0===n?E:o,key:"".concat(r,"-").concat(n)},r)})))};function tw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function nw(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class rw extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ow;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(aw(this,e))}has(e){return super.has(aw(this,e))}set(e,t){return super.set(iw(this,e),t)}delete(e){return super.delete(sw(this,e))}}Set;function aw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function iw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function sw(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function ow(e){return null!==e&&"object"===typeof e?e.valueOf():e}const lw=Symbol("implicit");function cw(){var e=new rw,t=[],n=[],r=lw;function a(a){let i=e.get(a);if(void 0===i){if(r!==lw)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new rw;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return cw(t,n).unknown(r)},tw.apply(a,arguments),a}function dw(){var e,t,n=cw().unknown(void 0),r=n.domain,a=n.range,i=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var n=r().length,u=s<i,m=u?s:i,p=u?i:s;e=(p-m)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),m+=(p-m-e*(n-l))*d,t=e*(1-l),o&&(m=Math.round(m),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map((function(t){return m+e*t}));return a(u?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,u()):[i,s]},n.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,u()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return dw(r(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},tw.apply(u(),arguments)}function uw(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uw(t())},e}function mw(){return uw(dw.apply(null,arguments).paddingInner(1))}const pw=Math.sqrt(50),hw=Math.sqrt(10),fw=Math.sqrt(2);function vw(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=pw?10:i>=hw?5:i>=fw?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?vw(e,t,2*n):[o,l,c]}function gw(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,s]=r?vw(t,e,n):vw(e,t,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function xw(e,t,n){return vw(e=+e,t=+t,n=+n)[2]}function yw(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?xw(t,e,n):xw(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function bw(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ww(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jw(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=bw,n=(t,n)=>bw(e(t),n),r=(t,n)=>e(t)-n):(t=e===bw||e===ww?e:Nw,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function Nw(){return 0}function _w(e){return null===e?NaN:+e}const Sw=jw(bw),Ew=Sw.right,Cw=(Sw.left,jw(_w).center,Ew);function Dw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tw(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kw(){}var Aw=.7,Pw=1/Aw,Ow="\\s*([+-]?\\d+)\\s*",Rw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iw=/^#([0-9a-f]{3,8})$/,Lw=new RegExp(`^rgb\\(${Ow},${Ow},${Ow}\\)$`),Fw=new RegExp(`^rgb\\(${Mw},${Mw},${Mw}\\)$`),Bw=new RegExp(`^rgba\\(${Ow},${Ow},${Ow},${Rw}\\)$`),Ww=new RegExp(`^rgba\\(${Mw},${Mw},${Mw},${Rw}\\)$`),Uw=new RegExp(`^hsl\\(${Rw},${Mw},${Mw}\\)$`),$w=new RegExp(`^hsla\\(${Rw},${Mw},${Mw},${Rw}\\)$`),zw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hw(){return this.rgb().formatHex()}function Vw(){return this.rgb().formatRgb()}function qw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Iw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Gw(t):3===n?new Xw(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Kw(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Kw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Lw.exec(e))?new Xw(t[1],t[2],t[3],1):(t=Fw.exec(e))?new Xw(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Bw.exec(e))?Kw(t[1],t[2],t[3],t[4]):(t=Ww.exec(e))?Kw(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Uw.exec(e))?nj(t[1],t[2]/100,t[3]/100,1):(t=$w.exec(e))?nj(t[1],t[2]/100,t[3]/100,t[4]):zw.hasOwnProperty(e)?Gw(zw[e]):"transparent"===e?new Xw(NaN,NaN,NaN,0):null}function Gw(e){return new Xw(e>>16&255,e>>8&255,255&e,1)}function Kw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xw(e,t,n,r)}function Yw(e,t,n,r){return 1===arguments.length?((a=e)instanceof kw||(a=qw(a)),a?new Xw((a=a.rgb()).r,a.g,a.b,a.opacity):new Xw):new Xw(e,t,n,null==r?1:r);var a}function Xw(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Zw(){return`#${tj(this.r)}${tj(this.g)}${tj(this.b)}`}function Jw(){const e=Qw(this.opacity);return`${1===e?"rgb(":"rgba("}${ej(this.r)}, ${ej(this.g)}, ${ej(this.b)}${1===e?")":`, ${e})`}`}function Qw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ej(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tj(e){return((e=ej(e))<16?"0":"")+e.toString(16)}function nj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new aj(e,t,n,r)}function rj(e){if(e instanceof aj)return new aj(e.h,e.s,e.l,e.opacity);if(e instanceof kw||(e=qw(e)),!e)return new aj;if(e instanceof aj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(n-r)/o+6*(n<r):n===i?(r-t)/o+2:(t-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new aj(s,o,l,e.opacity)}function aj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ij(e){return(e=(e||0)%360)<0?e+360:e}function sj(e){return Math.max(0,Math.min(1,e||0))}function oj(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function lj(e,t,n,r,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*n+(1+3*e+3*i-3*s)*r+s*a)/6}Dw(kw,qw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hw,formatHex:Hw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return rj(this).formatHsl()},formatRgb:Vw,toString:Vw}),Dw(Xw,Yw,Tw(kw,{brighter(e){return e=null==e?Pw:Math.pow(Pw,e),new Xw(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Aw:Math.pow(Aw,e),new Xw(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xw(ej(this.r),ej(this.g),ej(this.b),Qw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zw,formatHex:Zw,formatHex8:function(){return`#${tj(this.r)}${tj(this.g)}${tj(this.b)}${tj(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Jw,toString:Jw})),Dw(aj,(function(e,t,n,r){return 1===arguments.length?rj(e):new aj(e,t,n,null==r?1:r)}),Tw(kw,{brighter(e){return e=null==e?Pw:Math.pow(Pw,e),new aj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Aw:Math.pow(Aw,e),new aj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Xw(oj(e>=240?e-240:e+120,a,r),oj(e,a,r),oj(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new aj(ij(this.h),sj(this.s),sj(this.l),Qw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qw(this.opacity);return`${1===e?"hsl(":"hsla("}${ij(this.h)}, ${100*sj(this.s)}%, ${100*sj(this.l)}%${1===e?")":`, ${e})`}`}}));const cj=e=>()=>e;function dj(e,t){return function(n){return e+n*t}}function uj(e){return 1===(e=+e)?mj:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):cj(isNaN(t)?n:t)}}function mj(e,t){var n=t-e;return n?dj(e,n):cj(isNaN(e)?t:e)}const pj=function e(t){var n=uj(t);function r(e,t){var r=n((e=Yw(e)).r,(t=Yw(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),s=mj(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function hj(e){return function(t){var n,r,a=t.length,i=new Array(a),s=new Array(a),o=new Array(a);for(n=0;n<a;++n)r=Yw(t[n]),i[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return i=e(i),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=i(e),r.g=s(e),r.b=o(e),r+""}}}hj((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],s=r>0?e[r-1]:2*a-i,o=r<t-1?e[r+2]:2*i-a;return lj((n-r/t)*t,s,a,i,o)}})),hj((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return lj((n-r/t)*t,a,i,s,o)}}));function fj(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r);for(n=0;n<a;++n)i[n]=Nj(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=i[n](e);return s}}function vj(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xj(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Nj(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var yj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bj=new RegExp(yj.source,"g");function wj(e,t){var n,r,a,i=yj.lastIndex=bj.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=yj.exec(e))&&(r=bj.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:gj(n,r)})),i=bj.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function jj(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Nj(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?cj(t):("number"===a?gj:"string"===a?(n=qw(t))?(t=n,pj):wj:t instanceof qw?pj:t instanceof Date?vj:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?fj:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?xj:gj:jj))(e,t)}function _j(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Sj(e){return+e}var Ej=[0,1];function Cj(e){return e}function Dj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Tj(e,t,n){var r=e[0],a=e[1],i=t[0],s=t[1];return a<r?(r=Dj(a,r),i=n(s,i)):(r=Dj(r,a),i=n(i,s)),function(e){return i(r(e))}}function kj(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=Dj(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=Cw(e,t,1,r)-1;return i[n](a[n](t))}}function Aj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pj(){var e,t,n,r,a,i,s=Ej,o=Ej,l=Nj,c=Cj;function d(){var e=Math.min(s.length,o.length);return c!==Cj&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?kj:Tj,a=i=null,u}function u(t){return null==t||isNaN(t=+t)?n:(a||(a=r(s.map(e),o,l)))(e(c(t)))}return u.invert=function(n){return c(t((i||(i=r(o,s.map(e),gj)))(n)))},u.domain=function(e){return arguments.length?(s=Array.from(e,Sj),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=_j,d()},u.clamp=function(e){return arguments.length?(c=!!e||Cj,d()):c!==Cj},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function Oj(){return Pj()(Cj,Cj)}var Rj,Mj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ij(e){if(!(t=Mj.exec(e)))throw new Error("invalid format: "+e);var t;return new Lj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Lj(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Fj(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bj(e){return(e=Fj(Math.abs(e)))?e[1]:NaN}function Wj(e,t){var n=Fj(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Ij.prototype=Lj.prototype,Lj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Uj={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wj(100*e,t),r:Wj,s:function(e,t){var n=Fj(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Rj=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Fj(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $j(e){return e}var zj,Hj,Vj,qj=Array.prototype.map,Gj=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Kj(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?$j:(t=qj.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?$j:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(qj.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=Ij(e)).fill,n=e.align,u=e.sign,m=e.symbol,p=e.zero,h=e.width,f=e.comma,v=e.precision,g=e.trim,x=e.type;"n"===x?(f=!0,x="g"):Uj[x]||(void 0===v&&(v=12),g=!0,x="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===m?a:"#"===m&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",b="$"===m?i:/[%p]/.test(x)?l:"",w=Uj[x],j=/[defgprs%]/.test(x);function N(e){var a,i,l,m=y,N=b;if("c"===x)N=w(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==u&&(_=!1),m=(_?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===x?Gj[8+Rj/3]:"")+N+(_&&"("===u?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?s+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}f&&!p&&(e=r(e,1/0));var S=m.length+e.length+N.length,E=S<h?new Array(h-S+1).join(t):"";switch(f&&p&&(e=r(E+e,E.length?h-N.length:1/0),E=""),n){case"<":e=m+e+N+E;break;case"=":e=m+E+e+N;break;case"^":e=E.slice(0,S=E.length>>1)+m+e+N+E.slice(S);break;default:e=E+m+e+N}return o(e)}return v=void 0===v?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var n=u(((e=Ij(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Bj(t)/3))),a=Math.pow(10,-r),i=Gj[8+r/3];return function(e){return n(a*e)+i}}}}function Yj(e,t,n,r){var a,i=yw(e,t,n);switch((r=Ij(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bj(t)/3)))-Bj(Math.abs(e)))}(i,s))||(r.precision=a),Vj(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bj(t)-Bj(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Bj(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return Hj(r)}function Xj(e){var t=e.domain;return e.ticks=function(e){var n=t();return gw(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Yj(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],d=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);d-- >0;){if((a=xw(l,c,n))===r)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Zj(){var e=Oj();return e.copy=function(){return Aj(e,Zj())},tw.apply(e,arguments),Xj(e)}function Jj(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Sj),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Jj(e).unknown(t)},e=arguments.length?Array.from(e,Sj):[0,1],Xj(n)}function Qj(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],s=e[a];return s<i&&(n=r,r=a,a=n,n=i,i=s,s=n),e[r]=t.floor(i),e[a]=t.ceil(s),e}function eN(e){return Math.log(e)}function tN(e){return Math.exp(e)}function nN(e){return-Math.log(-e)}function rN(e){return-Math.exp(-e)}function aN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iN(e){return(t,n)=>-e(-t,n)}function sN(e){const t=e(eN,tN),n=t.domain;let r,a,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?aN:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=iN(r),a=iN(a),e(nN,rN)):e(eN,tN),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,d,u=r(s),m=r(o);const p=null==e?10:+e;let h=[];if(!(i%1)&&m-u<p){if(u=Math.floor(u),m=Math.ceil(m),s>0){for(;u<=m;++u)for(c=1;c<i;++c)if(d=u<0?c/a(-u):c*a(u),!(d<s)){if(d>o)break;h.push(d)}}else for(;u<=m;++u)for(c=i-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<s)){if(d>o)break;h.push(d)}2*h.length<p&&(h=gw(s,o,p))}else h=gw(u,m,Math.min(m-u,p)).map(a);return l?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=Ij(n)).precision||(n.trim=!0),n=Hj(n)),e===1/0)return n;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=s?n(e):""}},t.nice=()=>n(Qj(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function oN(){const e=sN(Pj()).domain([1,10]);return e.copy=()=>Aj(e,oN()).base(e.base()),tw.apply(e,arguments),e}function lN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dN(e){var t=1,n=e(lN(t),cN(t));return n.constant=function(n){return arguments.length?e(lN(t=+n),cN(t)):t},Xj(n)}function uN(){var e=dN(Pj());return e.copy=function(){return Aj(e,uN()).constant(e.constant())},tw.apply(e,arguments)}function mN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pN(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hN(e){return e<0?-e*e:e*e}function fN(e){var t=e(Cj,Cj),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Cj,Cj):.5===n?e(pN,hN):e(mN(n),mN(1/n)):n},Xj(t)}function vN(){var e=fN(Pj());return e.copy=function(){return Aj(e,vN()).exponent(e.exponent())},tw.apply(e,arguments),e}function gN(){return vN.apply(null,arguments).exponent(.5)}function xN(e){return Math.sign(e)*e*e}function yN(){var e,t=Oj(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(xN(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Sj)).map(xN)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return yN(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},tw.apply(a,arguments),Xj(a)}function bN(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function wN(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function jN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bw;if(e===bw)return NN;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function NN(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function _N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?NN:jN(a);r>n;){if(r-n>600){const i=r-n+1,s=t-n+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);_N(e,t,Math.max(n,Math.floor(t-s*l/i+c)),Math.min(r,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=n,o=r;for(SN(e,n,t),a(e[r],i)>0&&SN(e,n,r);s<o;){for(SN(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[n],i)?SN(e,n,o):(++o,SN(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function SN(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EN(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return wN(e);if(t>=1)return bN(e);var r,a=(r-1)*t,i=Math.floor(a),s=bN(_N(e,i).subarray(0,i+1));return s+(wN(e.subarray(i+1))-s)*(a-i)}}function CN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_w;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),s=+n(e[i],i,e);return s+(+n(e[i+1],i+1,e)-s)*(a-i)}}function DN(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=CN(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[Cw(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(bw),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return DN().domain(t).range(n).unknown(e)},tw.apply(i,arguments)}function TN(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[Cw(a,t,0,r)]:e}function o(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,a[0]]:s>=r?[a[r-1],n]:[a[s-1],a[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return TN().domain([t,n]).range(i).unknown(e)},tw.apply(Xj(s),arguments)}function kN(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Cw(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return kN().domain(t).range(n).unknown(e)},tw.apply(a,arguments)}zj=Kj({thousands:",",grouping:[3],currency:["$",""]}),Hj=zj.format,Vj=zj.formatPrefix;const AN=1e3,PN=6e4,ON=36e5,RN=864e5,MN=6048e5,IN=2592e6,LN=31536e6,FN=new Date,BN=new Date;function WN(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const s=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return s;let o;do{s.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return s},a.filter=n=>WN((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(a.count=(t,r)=>(FN.setTime(+t),BN.setTime(+r),e(FN),e(BN),Math.floor(n(FN,BN))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const UN=WN((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));UN.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?WN((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):UN:null);UN.range;const $N=WN((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*AN)}),((e,t)=>(t-e)/AN),(e=>e.getUTCSeconds())),zN=($N.range,WN((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*AN)}),((e,t)=>{e.setTime(+e+t*PN)}),((e,t)=>(t-e)/PN),(e=>e.getMinutes()))),HN=(zN.range,WN((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*PN)}),((e,t)=>(t-e)/PN),(e=>e.getUTCMinutes()))),VN=(HN.range,WN((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*AN-e.getMinutes()*PN)}),((e,t)=>{e.setTime(+e+t*ON)}),((e,t)=>(t-e)/ON),(e=>e.getHours()))),qN=(VN.range,WN((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*ON)}),((e,t)=>(t-e)/ON),(e=>e.getUTCHours()))),GN=(qN.range,WN((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*PN)/RN),(e=>e.getDate()-1))),KN=(GN.range,WN((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/RN),(e=>e.getUTCDate()-1))),YN=(KN.range,WN((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/RN),(e=>Math.floor(e/RN))));YN.range;function XN(e){return WN((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*PN)/MN))}const ZN=XN(0),JN=XN(1),QN=XN(2),e_=XN(3),t_=XN(4),n_=XN(5),r_=XN(6);ZN.range,JN.range,QN.range,e_.range,t_.range,n_.range,r_.range;function a_(e){return WN((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/MN))}const i_=a_(0),s_=a_(1),o_=a_(2),l_=a_(3),c_=a_(4),d_=a_(5),u_=a_(6),m_=(i_.range,s_.range,o_.range,l_.range,c_.range,d_.range,u_.range,WN((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),p_=(m_.range,WN((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),h_=(p_.range,WN((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));h_.every=e=>isFinite(e=Math.floor(e))&&e>0?WN((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;h_.range;const f_=WN((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));f_.every=e=>isFinite(e=Math.floor(e))&&e>0?WN((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;f_.range;function v_(e,t,n,r,a,i){const s=[[$N,1,AN],[$N,5,5e3],[$N,15,15e3],[$N,30,3e4],[i,1,PN],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,ON],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,RN],[r,2,1728e5],[n,1,MN],[t,1,IN],[t,3,7776e6],[e,1,LN]];function o(t,n,r){const a=Math.abs(n-t)/r,i=jw((e=>{let[,,t]=e;return t})).right(s,a);if(i===s.length)return e.every(yw(t/LN,n/LN,r));if(0===i)return UN.every(Math.max(yw(t,n,r),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:o(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},o]}const[g_,x_]=v_(f_,p_,i_,YN,qN,HN),[y_,b_]=v_(h_,m_,ZN,GN,VN,zN);function w_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function j_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function N_(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var __,S_,E_,C_={"-":"",_:" ",0:"0"},D_=/^\s*\d+/,T_=/^%/,k_=/[\\^$*+?|[\]().{}]/g;function A_(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function P_(e){return e.replace(k_,"\\$&")}function O_(e){return new RegExp("^(?:"+e.map(P_).join("|")+")","i")}function R_(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function M_(e,t,n){var r=D_.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function I_(e,t,n){var r=D_.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function L_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function F_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function B_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function W_(e,t,n){var r=D_.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function U_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $_(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function z_(e,t,n){var r=D_.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function H_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function V_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function q_(e,t,n){var r=D_.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function G_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function K_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Y_(e,t,n){var r=D_.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function X_(e,t,n){var r=D_.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Z_(e,t,n){var r=D_.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function J_(e,t,n){var r=T_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Q_(e,t,n){var r=D_.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function eS(e,t,n){var r=D_.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function tS(e,t){return A_(e.getDate(),t,2)}function nS(e,t){return A_(e.getHours(),t,2)}function rS(e,t){return A_(e.getHours()%12||12,t,2)}function aS(e,t){return A_(1+GN.count(h_(e),e),t,3)}function iS(e,t){return A_(e.getMilliseconds(),t,3)}function sS(e,t){return iS(e,t)+"000"}function oS(e,t){return A_(e.getMonth()+1,t,2)}function lS(e,t){return A_(e.getMinutes(),t,2)}function cS(e,t){return A_(e.getSeconds(),t,2)}function dS(e){var t=e.getDay();return 0===t?7:t}function uS(e,t){return A_(ZN.count(h_(e)-1,e),t,2)}function mS(e){var t=e.getDay();return t>=4||0===t?t_(e):t_.ceil(e)}function pS(e,t){return e=mS(e),A_(t_.count(h_(e),e)+(4===h_(e).getDay()),t,2)}function hS(e){return e.getDay()}function fS(e,t){return A_(JN.count(h_(e)-1,e),t,2)}function vS(e,t){return A_(e.getFullYear()%100,t,2)}function gS(e,t){return A_((e=mS(e)).getFullYear()%100,t,2)}function xS(e,t){return A_(e.getFullYear()%1e4,t,4)}function yS(e,t){var n=e.getDay();return A_((e=n>=4||0===n?t_(e):t_.ceil(e)).getFullYear()%1e4,t,4)}function bS(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+A_(t/60|0,"0",2)+A_(t%60,"0",2)}function wS(e,t){return A_(e.getUTCDate(),t,2)}function jS(e,t){return A_(e.getUTCHours(),t,2)}function NS(e,t){return A_(e.getUTCHours()%12||12,t,2)}function _S(e,t){return A_(1+KN.count(f_(e),e),t,3)}function SS(e,t){return A_(e.getUTCMilliseconds(),t,3)}function ES(e,t){return SS(e,t)+"000"}function CS(e,t){return A_(e.getUTCMonth()+1,t,2)}function DS(e,t){return A_(e.getUTCMinutes(),t,2)}function TS(e,t){return A_(e.getUTCSeconds(),t,2)}function kS(e){var t=e.getUTCDay();return 0===t?7:t}function AS(e,t){return A_(i_.count(f_(e)-1,e),t,2)}function PS(e){var t=e.getUTCDay();return t>=4||0===t?c_(e):c_.ceil(e)}function OS(e,t){return e=PS(e),A_(c_.count(f_(e),e)+(4===f_(e).getUTCDay()),t,2)}function RS(e){return e.getUTCDay()}function MS(e,t){return A_(s_.count(f_(e)-1,e),t,2)}function IS(e,t){return A_(e.getUTCFullYear()%100,t,2)}function LS(e,t){return A_((e=PS(e)).getUTCFullYear()%100,t,2)}function FS(e,t){return A_(e.getUTCFullYear()%1e4,t,4)}function BS(e,t){var n=e.getUTCDay();return A_((e=n>=4||0===n?c_(e):c_.ceil(e)).getUTCFullYear()%1e4,t,4)}function WS(){return"+0000"}function US(){return"%"}function $S(e){return+e}function zS(e){return Math.floor(+e/1e3)}function HS(e){return new Date(e)}function VS(e){return e instanceof Date?+e:+new Date(+e)}function qS(e,t,n,r,a,i,s,o,l,c){var d=Oj(),u=d.invert,m=d.domain,p=c(".%L"),h=c(":%S"),f=c("%I:%M"),v=c("%I %p"),g=c("%a %d"),x=c("%b %d"),y=c("%B"),b=c("%Y");function w(e){return(l(e)<e?p:o(e)<e?h:s(e)<e?f:i(e)<e?v:r(e)<e?a(e)<e?g:x:n(e)<e?y:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,VS)):m().map(HS)},d.ticks=function(t){var n=m();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var n=m();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?m(Qj(n,e)):d},d.copy=function(){return Aj(d,qS(e,t,n,r,a,i,s,o,l,c))},d}function GS(){return tw.apply(qS(y_,b_,h_,m_,ZN,GN,VN,zN,$N,S_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KS(){return tw.apply(qS(g_,x_,f_,p_,i_,KN,qN,HN,$N,E_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function YS(){var e,t,n,r,a,i=0,s=1,o=Cj,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=r(i=+i),t=r(s=+s),n=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(Nj),c.rangeRound=d(_j),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(s),n=e===t?0:1/(t-e),c}}function XS(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZS(){var e=Xj(YS()(Cj));return e.copy=function(){return XS(e,ZS())},nw.apply(e,arguments)}function JS(){var e=sN(YS()).domain([1,10]);return e.copy=function(){return XS(e,JS()).base(e.base())},nw.apply(e,arguments)}function QS(){var e=dN(YS());return e.copy=function(){return XS(e,QS()).constant(e.constant())},nw.apply(e,arguments)}function eE(){var e=fN(YS());return e.copy=function(){return XS(e,eE()).exponent(e.exponent())},nw.apply(e,arguments)}function tE(){return eE.apply(null,arguments).exponent(.5)}function nE(){var e=[],t=Cj;function n(n){if(null!=n&&!isNaN(n=+n))return t((Cw(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(bw),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>EN(e,r/t)))},n.copy=function(){return nE(t).domain(e)},nw.apply(n,arguments)}function rE(){var e,t,n,r,a,i,s,o=0,l=.5,c=1,d=1,u=Cj,m=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(d*e<d*t?r:a),u(m?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,u=function(e,t){void 0===t&&(t=e,e=Nj);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),p):[u(0),u(.5),u(1)]}}return p.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,p):[o,l,c]},p.clamp=function(e){return arguments.length?(m=!!e,p):m},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.range=h(Nj),p.rangeRound=h(_j),p.unknown=function(e){return arguments.length?(s=e,p):s},function(s){return i=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,p}}function aE(){var e=Xj(rE()(Cj));return e.copy=function(){return XS(e,aE())},nw.apply(e,arguments)}function iE(){var e=sN(rE()).domain([.1,1,10]);return e.copy=function(){return XS(e,iE()).base(e.base())},nw.apply(e,arguments)}function sE(){var e=dN(rE());return e.copy=function(){return XS(e,sE()).constant(e.constant())},nw.apply(e,arguments)}function oE(){var e=fN(rE());return e.copy=function(){return XS(e,oE()).exponent(e.exponent())},nw.apply(e,arguments)}function lE(){return oE.apply(null,arguments).exponent(.5)}function cE(e,t){if((a=e.length)>1)for(var n,r,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(r=s,s=e[t[i]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){__=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=O_(a),d=R_(a),u=O_(i),m=R_(i),p=O_(s),h=R_(s),f=O_(o),v=R_(o),g=O_(l),x=R_(l),y={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:tS,e:tS,f:sS,g:gS,G:yS,H:nS,I:rS,j:aS,L:iS,m:oS,M:lS,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:$S,s:zS,S:cS,u:dS,U:uS,V:pS,w:hS,W:fS,x:null,X:null,y:vS,Y:xS,Z:bS,"%":US},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:wS,e:wS,f:ES,g:LS,G:BS,H:jS,I:NS,j:_S,L:SS,m:CS,M:DS,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:$S,s:zS,S:TS,u:kS,U:AS,V:OS,w:RS,W:MS,x:null,X:null,y:IS,Y:FS,Z:WS,"%":US},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return _(e,t,n,r)},d:V_,e:V_,f:Z_,g:U_,G:W_,H:G_,I:G_,j:q_,L:X_,m:H_,M:K_,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:z_,Q:Q_,s:eS,S:Y_,u:I_,U:L_,V:F_,w:M_,W:B_,x:function(e,t,r){return _(e,n,t,r)},X:function(e,t,n){return _(e,r,t,n)},y:U_,Y:W_,Z:$_,"%":J_};function j(e,t){return function(n){var r,a,i,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=C_[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(n){var r,a,i=N_(1900,void 0,1);if(_(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=j_(N_(i.y,0,1))).getUTCDay(),r=a>4||0===a?s_.ceil(r):s_(r),r=KN.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=w_(N_(i.y,0,1))).getDay(),r=a>4||0===a?JN.ceil(r):JN(r),r=GN.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?j_(N_(i.y,0,1)).getUTCDay():w_(N_(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,j_(i)):w_(i)}}function _(e,t,n,r){for(var a,i,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=w[a in C_?t.charAt(s++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return y.x=j(n,y),y.X=j(r,y),y.c=j(t,y),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),S_=__.format,__.parse,E_=__.utcFormat,__.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function dE(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function uE(e){return function(){return e}}function mE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function pE(e,t){return e[t]}function hE(e){const t=[];return t.key=e,t}var fE=__webpack_require__(539),vE=__webpack_require__.n(fE),gE=__webpack_require__(6745),xE=__webpack_require__.n(gE),yE=__webpack_require__(3538),bE=__webpack_require__.n(yE),wE=__webpack_require__(643),jE=__webpack_require__.n(wE),NE=__webpack_require__(9853),_E=__webpack_require__.n(NE),SE=__webpack_require__(7424),EE=__webpack_require__.n(SE),CE=__webpack_require__(8210),DE=__webpack_require__.n(CE);function TE(e){return function(e){if(Array.isArray(e))return kE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return kE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AE=function(e){return e},PE={"@@functional/placeholder":!0},OE=function(e){return e===PE},RE=function(e){return function t(){return 0===arguments.length||1===arguments.length&&OE(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},ME=function e(t,n){return 1===t?n:RE((function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter((function(e){return e!==PE})).length;return s>=t?n.apply(void 0,a):e(t-s,RE((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.map((function(e){return OE(e)?t.shift():e}));return n.apply(void 0,TE(i).concat(t))})))}))},IE=function(e){return ME(e.length,e)},LE=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},FE=IE((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),BE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return AE;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},WE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},UE=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((function(e,n){return e===t[n]}))?n:(t=a,n=e.apply(void 0,a))}};const $E={rangeStep:function(e,t,n){for(var r=new(DE())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(DE())(e).abs().log(10).toNumber())+1},interpolateNumber:IE((function(e,t,n){var r=+e;return r+n*(+t-r)})),uninterpolateNumber:IE((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uninterpolateTruncation:IE((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}))};function zE(e){return function(e){if(Array.isArray(e))return qE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||VE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||VE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VE(e,t){if(e){if("string"===typeof e)return qE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qE(e,t):void 0}}function qE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GE(e){var t=HE(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function KE(e,t,n){if(e.lte(0))return new(DE())(0);var r=$E.getDigitCount(e.toNumber()),a=new(DE())(10).pow(r),i=e.div(a),s=1!==r?.05:.1,o=new(DE())(Math.ceil(i.div(s).toNumber())).add(n).mul(s).mul(a);return t?o:new(DE())(Math.ceil(o))}function YE(e,t,n){var r=1,a=new(DE())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(DE())(10).pow($E.getDigitCount(e)-1),a=new(DE())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(DE())(Math.floor(e)))}else 0===e?a=new(DE())(Math.floor((t-1)/2)):n||(a=new(DE())(Math.floor(e)));var s=Math.floor((t-1)/2);return BE(FE((function(e){return a.add(new(DE())(e-s).mul(r)).toNumber()})),LE)(0,t)}function XE(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(DE())(0),tickMin:new(DE())(0),tickMax:new(DE())(0)};var i,s=KE(new(DE())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(DE())(0):(i=new(DE())(e).add(t).div(2)).sub(new(DE())(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new(DE())(t).sub(i).div(s).toNumber()),c=o+l+1;return c>n?XE(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:i.sub(new(DE())(o).mul(s)),tickMax:i.add(new(DE())(l).mul(s))})}var ZE=UE((function(e){var t=HE(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=HE(GE([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(zE(LE(0,a-1).map((function(){return 1/0})))):[].concat(zE(LE(0,a-1).map((function(){return-1/0}))),[c]);return n>r?WE(d):d}if(l===c)return YE(l,a,i);var u=XE(l,c,s,i),m=u.step,p=u.tickMin,h=u.tickMax,f=$E.rangeStep(p,h.add(new(DE())(.1).mul(m)),m);return n>r?WE(f):f})),JE=(UE((function(e){var t=HE(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=HE(GE([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return YE(l,a,i);var d=KE(new(DE())(c).sub(l).div(s-1),i,0),u=BE(FE((function(e){return new(DE())(l).add(new(DE())(e).mul(d)).toNumber()})),LE)(0,s).filter((function(e){return e>=l&&e<=c}));return n>r?WE(u):u})),UE((function(e,t){var n=HE(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=HE(GE([r,a]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[r,a];if(o===l)return[o];var c=Math.max(t,2),d=KE(new(DE())(l).sub(o).div(c-1),i,0),u=[].concat(zE($E.rangeStep(new(DE())(o),new(DE())(l).sub(new(DE())(.99).mul(d)),d)),[l]);return r>a?WE(u):u}))),QE=__webpack_require__(3404),eC=["children","className"];function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tC.apply(this,arguments)}function nC(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var rC=t.forwardRef((function(e,n){var r=e.children,a=e.className,i=nC(e,eC),s=(0,dy.A)("recharts-layer",a);return t.createElement("g",tC({className:s},sb(i,!0),{ref:n}),r)})),aC=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function iC(e){return iC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iC(e)}function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sC.apply(this,arguments)}function oC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cC(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vC(r.key),r)}}function uC(e,t,n){return t=pC(t),function(e,t){if(t&&("object"===iC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mC()?Reflect.construct(t,n||[],pC(e).constructor):t.apply(e,n))}function mC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mC=function(){return!!e})()}function pC(e){return pC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pC(e)}function hC(e,t){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hC(e,t)}function fC(e,t,n){return(t=vC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vC(e){var t=function(e,t){if("object"!=iC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iC(t)?t:t+""}var gC=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),uC(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hC(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,n=e.offset,r=e.layout,a=e.width,i=e.dataKey,s=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=cC(e,aC),u=sb(d,!1);"x"===this.props.direction&&"number"!==l.type&&(0,QE.A)(!1);var m=s.map((function(e){var s=o(e,i),d=s.x,m=s.y,p=s.value,h=s.errorVal;if(!h)return null;var f,v,g=[];if(Array.isArray(h)){var x=oC(h,2);f=x[0],v=x[1]}else f=v=h;if("vertical"===r){var y=l.scale,b=m+n,w=b+a,j=b-a,N=y(p-f),_=y(p+v);g.push({x1:_,y1:w,x2:_,y2:j}),g.push({x1:N,y1:b,x2:_,y2:b}),g.push({x1:N,y1:w,x2:N,y2:j})}else if("horizontal"===r){var S=c.scale,E=d+n,C=E-a,D=E+a,T=S(p-f),k=S(p+v);g.push({x1:C,y1:k,x2:D,y2:k}),g.push({x1:E,y1:T,x2:E,y2:k}),g.push({x1:C,y1:T,x2:D,y2:T})}return t.createElement(rC,sC({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),g.map((function(e){return t.createElement("line",sC({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return t.createElement(rC,{className:"recharts-errorBars"},m)}}])&&dC(r.prototype,a),i&&dC(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);fC(gC,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),fC(gC,"displayName","ErrorBar");var xC=["children","width","height","viewBox","className","style","title","desc"];function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yC.apply(this,arguments)}function bC(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wC(e){var n=e.children,r=e.width,a=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,d=bC(e,xC),u=i||{width:r,height:a,x:0,y:0},m=(0,dy.A)("recharts-surface",s);return t.createElement("svg",yC({},sb(d,!0,"svg"),{className:m,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),n)}Math.abs,Math.atan2;const jC=Math.cos,NC=(Math.max,Math.min,Math.sin),_C=Math.sqrt,SC=Math.PI,EC=2*SC;const CC={draw(e,t){const n=_C(t/SC);e.moveTo(n,0),e.arc(0,0,n,0,EC)}},DC={draw(e,t){const n=_C(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},TC=_C(1/3),kC=2*TC,AC={draw(e,t){const n=_C(t/kC),r=n*TC;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},PC={draw(e,t){const n=_C(t),r=-n/2;e.rect(r,r,n,n)}},OC=NC(SC/10)/NC(7*SC/10),RC=NC(EC/10)*OC,MC=-jC(EC/10)*OC,IC={draw(e,t){const n=_C(.8908130915292852*t),r=RC*n,a=MC*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=EC*i/5,s=jC(t),o=NC(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*a,o*r+s*a)}e.closePath()}},LC=_C(3),FC={draw(e,t){const n=-_C(t/(3*LC));e.moveTo(0,2*n),e.lineTo(-LC*n,-n),e.lineTo(LC*n,-n),e.closePath()}},BC=-.5,WC=_C(3)/2,UC=1/_C(12),$C=3*(UC/2+1),zC={draw(e,t){const n=_C(t/$C),r=n/2,a=n*UC,i=r,s=n*UC+n,o=-i,l=s;e.moveTo(r,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(BC*r-WC*a,WC*r+BC*a),e.lineTo(BC*i-WC*s,WC*i+BC*s),e.lineTo(BC*o-WC*l,WC*o+BC*l),e.lineTo(BC*r+WC*a,BC*a-WC*r),e.lineTo(BC*i+WC*s,BC*s-WC*i),e.lineTo(BC*o+WC*l,BC*l-WC*o),e.closePath()}},HC=Math.PI,VC=2*HC,qC=1e-6,GC=VC-qC;function KC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class YC{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?KC:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KC;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=n-e,l=r-t,c=i-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>qC)if(Math.abs(d*o-l*c)>qC&&a){let m=n-i,p=r-s,h=o*o+l*l,f=m*m+p*p,v=Math.sqrt(h),g=Math.sqrt(u),x=a*Math.tan((HC-Math.acos((h+u-f)/(2*v*g)))/2),y=x/g,b=x/v;Math.abs(y-1)>qC&&this._append`L${e+y*c},${t+y*d}`,this._append`A${a},${a},0,0,${+(d*m>c*p)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,d=1^i,u=i?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>qC||Math.abs(this._y1-c)>qC)&&this._append`L${l},${c}`,n&&(u<0&&(u=u%VC+VC),u>GC?this._append`A${n},${n},0,1,${d},${e-s},${t-o}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:u>qC&&this._append`A${n},${n},0,${+(u>=HC)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function XC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new YC(t)}_C(3),_C(3);function ZC(e){return ZC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZC(e)}var JC=["type","size","sizeType"];function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QC.apply(this,arguments)}function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach((function(t){nD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ZC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZC(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var aD={symbolCircle:CC,symbolCross:DC,symbolDiamond:AC,symbolSquare:PC,symbolStar:IC,symbolTriangle:FC,symbolWye:zC},iD=Math.PI/180,sD=function(e){var n=e.type,r=void 0===n?"circle":n,a=e.size,i=void 0===a?64:a,s=e.sizeType,o=void 0===s?"area":s,l=tD(tD({},rD(e,JC)),{},{type:r,size:i,sizeType:o}),c=l.className,d=l.cx,u=l.cy,m=sb(l,!0);return d===+d&&u===+u&&i===+i?t.createElement("path",QC({},m,{className:(0,dy.A)("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(jE()(e));return aD[t]||CC}(r),t=function(e,t){let n=null,r=XC(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:uE(e||CC),t="function"===typeof t?t:uE(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:uE(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:uE(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*iD;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,o,r));return t()}()})):null};function oD(e){return oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oD(e)}function lD(){return lD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lD.apply(this,arguments)}function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vD(r.key),r)}}function uD(e,t,n){return t=pD(t),function(e,t){if(t&&("object"===oD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mD()?Reflect.construct(t,n||[],pD(e).constructor):t.apply(e,n))}function mD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mD=function(){return!!e})()}function pD(e){return pD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pD(e)}function hD(e,t){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hD(e,t)}function fD(e,t,n){return(t=vD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vD(e){var t=function(e,t){if("object"!=oD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oD(t)?t:t+""}sD.registerSymbol=function(e,t){aD["symbol".concat(jE()(e))]=t};var gD=32,xD=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),uD(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hD(e,t)}(n,e),r=n,a=[{key:"renderIcon",value:function(e){var n=this.props.inactiveColor,r=16,a=gD/6,i=gD/3,s=e.inactive?n:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:gD,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(r,"\n            H").concat(gD,"M").concat(2*i,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(gD,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cD(Object(n),!0).forEach((function(t){fD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete o.legendIcon,t.cloneElement(e.legendIcon,o)}return t.createElement(sD,{fill:s,cx:r,cy:r,size:gD,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,n=this.props,r=n.payload,a=n.iconSize,i=n.layout,s=n.formatter,o=n.inactiveColor,l={x:0,y:0,width:gD,height:gD},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(n,r){var i=n.formatter||s,u=(0,dy.A)(fD(fD({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",n.inactive));if("none"===n.type)return null;var m=My()(n.value)?null:n.value;Ay(!My()(n.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=n.inactive?o:n.color;return t.createElement("li",lD({className:u,style:c,key:"legend-item-".concat(r)},qy(e.props,n,r)),t.createElement(wC,{width:a,height:a,viewBox:l,style:d},e.renderIcon(n)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},i?i(m,n,r):m))}))}},{key:"render",value:function(){var e=this.props,n=e.payload,r=e.layout,a=e.align;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&dD(r.prototype,a),i&&dD(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);fD(xD,"displayName","Legend"),fD(xD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yD=__webpack_require__(977),bD=__webpack_require__.n(yD);function wD(e,t,n){return!0===t?bD()(e,n):My()(t)?bD()(e,t):e}function jD(e){return jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jD(e)}var ND=["ref"];function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_D(Object(n),!0).forEach((function(t){AD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ED(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PD(r.key),r)}}function CD(e,t,n){return t=TD(t),function(e,t){if(t&&("object"===jD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DD()?Reflect.construct(t,n||[],TD(e).constructor):t.apply(e,n))}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DD=function(){return!!e})()}function TD(e){return TD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TD(e)}function kD(e,t){return kD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kD(e,t)}function AD(e,t,n){return(t=PD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PD(e){var t=function(e,t){if("object"!=jD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jD(t)?t:t+""}function OD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function RD(e){return e.value}var MD=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return AD(e=CD(this,n,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kD(e,t)}(n,e),r=n,i=[{key:"getWithHeight",value:function(e,t){var n=SD(SD({},this.defaultProps),e.props).layout;return"vertical"===n&&Ny(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?SD({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,s=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),SD(SD({},t),n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.content,a=n.width,i=n.height,s=n.wrapperStyle,o=n.payloadUniqBy,l=n.payload,c=SD(SD({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(s)),s);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,n){if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return t.createElement(e,n);n.ref;var r=OD(n,ND);return t.createElement(xD,r)}(r,SD(SD({},this.props),{},{payload:wD(l,o,RD)})))}}])&&ED(r.prototype,a),i&&ED(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function ID(e){return ID="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ID(e)}function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach((function(t){BD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ID(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ID(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ID(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}AD(MD,"displayName","Legend"),AD(MD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WD=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=nb(t,MD);if(!i)return null;var s,o=MD.defaultProps,l=void 0!==o?FD(FD({},o),i.props):{};return s=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map((function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?FD(FD({},n),t.props):{},a=r.dataKey,i=r.name,s=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||s||"square",color:YD(t),value:i||a,payload:r}})),FD(FD(FD({},l),MD.getWithHeight(i,r)),{},{payload:s,item:i})};function UD(e){return UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UD(e)}function $D(e){return function(e){if(Array.isArray(e))return zD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HD(Object(n),!0).forEach((function(t){qD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=UD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UD(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GD(e,t,n){return Oy()(e)||Oy()(t)?n:_y(t)?xy()(e,t,n):My()(t)?t(e):n}function KD(e,t,n,r){var a=bE()(e,(function(e){return GD(e,t)}));if("number"===n){var i=a.filter((function(e){return Ny(e)||parseFloat(e)}));return i.length?[xE()(i),vE()(i)]:[1/0,-1/0]}return(r?a.filter((function(e){return!Oy()(e)})):a).map((function(e){return _y(e)||e instanceof Date?e:""}))}var YD=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?VD(VD({},e.type.defaultProps),e.props):e.props,i=a.stroke,s=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:s;break;default:n=s}return n},XD=function(e,t,n,r,a){var i=tb(t.props.children,gC).filter((function(e){return function(e,t,n){return!!Oy()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)}));if(i&&i.length){var s=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=GD(t,n);if(Oy()(r))return e;var a=Array.isArray(r)?[xE()(r),vE()(r)]:[r,r],i=s.reduce((function(e,n){var r=GD(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),s=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(s,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},ZD=function(e,t,n,r,a){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&XD(e,t,i,r)||KD(e,i,n,a)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var s={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)s[t[n]]||(s[t[n]]=!0,e.push(t[n]));return e}),[])},JD=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},QD=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,s=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===s||void 0===s?void 0:s.length)>=2?2*wy(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!vy()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}}))},eT=new WeakMap,tT=function(e,t){if("function"!==typeof t)return e;eT.has(e)||eT.set(e,new WeakMap);var n=eT.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},nT=function(t,n,r){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if("auto"===a)return"radial"===s&&"radiusAxis"===o?{scale:dw(),realScaleType:"band"}:"radial"===s&&"angleAxis"===o?{scale:Zj(),realScaleType:"linear"}:"category"===i&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:mw(),realScaleType:"point"}:"category"===i?{scale:dw(),realScaleType:"band"}:{scale:Zj(),realScaleType:"linear"};if(hy()(a)){var l="scale".concat(jE()(a));return{scale:(e[l]||mw)(),realScaleType:e[l]?l:"point"}}return My()(a)?{scale:a}:{scale:mw(),realScaleType:"point"}},rT=1e-4,aT=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-rT,i=Math.max(r[0],r[1])+rT,s=e(t[0]),o=e(t[n-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[n-1]])}},iT={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,s=0;s<t;++s){var o=vy()(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,s=e[0].length;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}cE(e,t)}},none:cE,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;a[r][1]+=a[r][0]=-o/2}cE(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[s][1]||0,m=(u-(d[s-1][1]||0))/2,p=0;p<o;++p){var h=e[t[p]];m+=(h[s][1]||0)-(h[s-1][1]||0)}l+=u,c+=m*u}n[s-1][1]+=n[s-1][0]=i,l&&(i-=c/l)}n[s-1][1]+=n[s-1][0]=i,cE(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var s=vy()(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},sT=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),a=iT[n],i=function(){var e=uE([]),t=mE,n=cE,r=pE;function a(a){var i,s,o=Array.from(e.apply(this,arguments),hE),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+r(e,o[i].key,c,a)]).data=e;for(i=0,s=dE(t(o));i<l;++i)o[s[i]].index=i;return n(o,s),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:uE(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:uE(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?mE:"function"===typeof e?e:uE(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?cE:e,a):n},a}().keys(r).value((function(e,t){return+GD(e,t,0)})).order(mE).offset(a);return i(e)},oT=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,s=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=ZE(l,a,s);return e.domain([xE()(c),vE()(c)]),{niceTicks:c}}if(a&&"number"===r){var d=e.domain();return{niceTicks:JE(d,a,s)}}return null};var lT=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,s=e.index;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=GD(i,t.dataKey,t.domain[s]);return Oy()(o)?null:t.scale(o)-a/2+r},cT=function(e,t,n){return Object.keys(e).reduce((function(r,a){var i=e[a].stackedData.reduce((function(e,r){var a=r.slice(t,n+1).reduce((function(e,t){return[xE()(t.concat([e[0]]).filter(Ny)),vE()(t.concat([e[1]]).filter(Ny))]}),[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},dT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mT=function(e,t,n){if(My()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ny(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(dT.test(e[0])){var a=+dT.exec(e[0])[1];r[0]=t[0]-a}else My()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ny(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(uT.test(e[1])){var i=+uT.exec(e[1])[1];r[1]=t[1]+i}else My()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},pT=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=EE()(t,(function(e){return e.coordinate})),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},hT=function(e,t,n){return e&&e.length?_E()(e,xy()(n,"type.defaultProps.domain"))?t:e:t},fT=function(e,t){var n=e.type.defaultProps?VD(VD({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,s=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return VD(VD({},sb(e,!1)),{},{dataKey:r,unit:i,formatter:s,name:a||r,color:YD(e),value:GD(t,r),type:o,payload:t,chartType:l,hide:c})};function vT(e){return vT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vT(e)}function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gT(Object(n),!0).forEach((function(t){yT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=vT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return wT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jT=Math.PI/180,NT=function(e){return 180*e/Math.PI},_T=function(e,t,n,r){return{x:e+Math.cos(-jT*r)*n,y:t+Math.sin(-jT*r)*n}},ST=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},ET=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,s=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(s<=0)return{radius:s};var o=(n-a)/s,l=Math.acos(o);return r>i&&(l=2*Math.PI-l),{radius:s,angle:NT(l),angleInRadian:l}},CT=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},DT=function(e,t){var n=e.x,r=e.y,a=ET({x:n,y:r},t),i=a.radius,s=a.angle,o=t.innerRadius,l=t.outerRadius;if(i<o||i>l)return!1;if(0===i)return!0;var c,d=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),u=d.startAngle,m=d.endAngle,p=s;if(u<=m){for(;p>m;)p-=360;for(;p<u;)p+=360;c=p>=u&&p<=m}else{for(;p>u;)p-=360;for(;p<m;)p+=360;c=p>=m&&p<=u}return c?xT(xT({},t),{},{radius:i,angle:CT(p,t)}):null},TT=function(e){return(0,t.isValidElement)(e)||My()(e)||"boolean"===typeof e?"":e.className};function kT(e){return kT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(e)}var AT=["offset"];function PT(e){return function(e){if(Array.isArray(e))return OT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return OT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RT(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MT(Object(n),!0).forEach((function(t){LT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=kT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FT.apply(this,arguments)}var BT=function(e,n,r){var a,i,s=e.position,o=e.viewBox,l=e.offset,c=e.className,d=o,u=d.cx,m=d.cy,p=d.innerRadius,h=d.outerRadius,f=d.startAngle,v=d.endAngle,g=d.clockWise,x=(p+h)/2,y=function(e,t){return wy(t-e)*Math.min(Math.abs(t-e),360)}(f,v),b=y>=0?1:-1;"insideStart"===s?(a=f+b*l,i=g):"insideEnd"===s?(a=v-b*l,i=!g):"end"===s&&(a=v+b*l,i=g),i=y<=0?i:!i;var w=_T(u,m,x,a),j=_T(u,m,x,a+359*(i?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(i?0:1,",\n    ").concat(j.x,",").concat(j.y),_=Oy()(e.id)?Ey("recharts-radial-line-"):e.id;return t.createElement("text",FT({},r,{dominantBaseline:"central",className:(0,dy.A)("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:_,d:N})),t.createElement("textPath",{xlinkHref:"#".concat(_)},n))};function WT(e){var n,r=e.offset,a=IT({offset:void 0===r?5:r},RT(e,AT)),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,d=a.className,u=void 0===d?"":d,m=a.textBreakAll;if(!i||Oy()(o)&&Oy()(l)&&!(0,t.isValidElement)(c)&&!My()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(My()(c)){if(n=(0,t.createElement)(c,a),(0,t.isValidElement)(n))return n}else n=function(e){var t=e.value,n=e.formatter,r=Oy()(e.children)?t:e.children;return My()(n)?n(r):r}(a);var p=function(e){return"cx"in e&&Ny(e.cx)}(i),h=sb(a,!0);if(p&&("insideStart"===s||"insideEnd"===s||"end"===s))return BT(a,n,h);var f=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,s=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var d=_T(i,s,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=_T(i,s,(o+l)/2,c);return{x:m.x,y:m.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,s=i.x,o=i.y,l=i.width,c=i.height,d=c>=0?1:-1,u=d*r,m=d>0?"end":"start",p=d>0?"start":"end",h=l>=0?1:-1,f=h*r,v=h>0?"end":"start",g=h>0?"start":"end";if("top"===a)return IT(IT({},{x:s+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:m}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===a)return IT(IT({},{x:s+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===a){var x={x:s-f,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return IT(IT({},x),n?{width:Math.max(x.x-n.x,0),height:c}:{})}if("right"===a){var y={x:s+l+f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return IT(IT({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?IT({x:s+f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?IT({x:s+l-f,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideTop"===a?IT({x:s+l/2,y:o+u,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===a?IT({x:s+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:m},b):"insideTopLeft"===a?IT({x:s+f,y:o+u,textAnchor:g,verticalAnchor:p},b):"insideTopRight"===a?IT({x:s+l-f,y:o+u,textAnchor:v,verticalAnchor:p},b):"insideBottomLeft"===a?IT({x:s+f,y:o+c-u,textAnchor:g,verticalAnchor:m},b):"insideBottomRight"===a?IT({x:s+l-f,y:o+c-u,textAnchor:v,verticalAnchor:m},b):Ly()(a)&&(Ny(a.x)||jy(a.x))&&(Ny(a.y)||jy(a.y))?IT({x:s+Cy(a.x,l),y:o+Cy(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):IT({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(ew,FT({className:(0,dy.A)("recharts-label",u)},h,f,{breakAll:m}),n)}WT.displayName="Label";var UT=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,m=e.top,p=e.left,h=e.width,f=e.height,v=e.clockWise,g=e.labelViewBox;if(g)return g;if(Ny(h)&&Ny(f)){if(Ny(d)&&Ny(u))return{x:d,y:u,width:h,height:f};if(Ny(m)&&Ny(p))return{x:m,y:p,width:h,height:f}}return Ny(d)&&Ny(u)?{x:d,y:u,width:0,height:0}:Ny(t)&&Ny(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:v}:e.viewBox?e.viewBox:{}};function $T(e){return $T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(e)}function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zT.apply(this,arguments)}function HT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return VT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qT(Object(n),!0).forEach((function(t){KT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YT(e){return Array.isArray(e)&&_y(e[0])&&_y(e[1])?e.join(" ~ "):e}WT.parseViewBox=UT,WT.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=UT(e),s=tb(a,WT).map((function(e,r){return(0,t.cloneElement)(e,{viewBox:n||i,key:"label-".concat(r)})}));if(!r)return s;var o=function(e,n){return e?!0===e?t.createElement(WT,{key:"label-implicit",viewBox:n}):_y(e)?t.createElement(WT,{key:"label-implicit",viewBox:n,value:e}):(0,t.isValidElement)(e)?e.type===WT?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:n}):t.createElement(WT,{key:"label-implicit",content:e,viewBox:n}):My()(e)?t.createElement(WT,{key:"label-implicit",content:e,viewBox:n}):Ly()(e)?t.createElement(WT,FT({viewBox:n},e,{key:"label-implicit"})):null:null}(e.label,n||i);return[o].concat(PT(s))};var XT=function(e){var n=e.separator,r=void 0===n?" : ":n,a=e.contentStyle,i=void 0===a?{}:a,s=e.itemStyle,o=void 0===s?{}:s,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,m=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,f=e.label,v=e.labelFormatter,g=e.accessibilityLayer,x=void 0!==g&&g,y=GT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=GT({margin:0},c),w=!Oy()(f),j=w?f:"",N=(0,dy.A)("recharts-default-tooltip",p),_=(0,dy.A)("recharts-tooltip-label",h);w&&v&&void 0!==d&&null!==d&&(j=v(f,d));var S=x?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",zT({className:N,style:y},S),t.createElement("p",{className:_,style:b},t.isValidElement(j)?j:"".concat(j)),function(){if(d&&d.length){var e=(m?EE()(d,m):d).map((function(e,n){if("none"===e.type)return null;var a=GT({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),i=e.formatter||u||YT,s=e.value,l=e.name,c=s,m=l;if(i&&null!=c&&null!=m){var p=i(s,l,e,n,d);if(Array.isArray(p)){var h=HT(p,2);c=h[0],m=h[1]}else c=p}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:a},_y(m)?t.createElement("span",{className:"recharts-tooltip-item-name"},m):null,_y(m)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function ZT(e){return ZT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZT(e)}function JT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ZT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QT="recharts-tooltip-wrapper",ek={visibility:"hidden"};function tk(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return(0,dy.A)(QT,JT(JT(JT(JT({},"".concat(QT,"-right"),Ny(n)&&t&&Ny(t.x)&&n>=t.x),"".concat(QT,"-left"),Ny(n)&&t&&Ny(t.x)&&n<t.x),"".concat(QT,"-bottom"),Ny(r)&&t&&Ny(t.y)&&r>=t.y),"".concat(QT,"-top"),Ny(r)&&t&&Ny(t.y)&&r<t.y))}function nk(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Ny(i[r]))return i[r];var d=n[r]-o-a,u=n[r]+a;return t[r]?s[r]?d:u:s[r]?d<l[r]?Math.max(u,l[r]):Math.max(d,l[r]):u+o>l[r]+c?Math.max(d,l[r]):Math.max(u,l[r])}function rk(e){return rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rk(e)}function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ik(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ak(Object(n),!0).forEach((function(t){uk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mk(r.key),r)}}function ok(e,t,n){return t=ck(t),function(e,t){if(t&&("object"===rk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lk()?Reflect.construct(t,n||[],ck(e).constructor):t.apply(e,n))}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lk=function(){return!!e})()}function ck(e){return ck=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ck(e)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dk(e,t)}function uk(e,t,n){return(t=mk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mk(e){var t=function(e,t){if("object"!=rk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rk(t)?t:t+""}var pk=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return uk(e=ok(this,n,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uk(e,"handleKeyDown",(function(t){var n,r,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}(n,e),r=n,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,o=n.children,l=n.coordinate,c=n.hasPayload,d=n.isAnimationActive,u=n.offset,m=n.position,p=n.reverseDirection,h=n.useTranslate3d,f=n.viewBox,v=n.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=nk({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=nk({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):ek,cssClasses:tk({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:u,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:f}),x=g.cssClasses,y=g.cssProperties,b=ik(ik({transition:d&&r?"transform ".concat(i,"ms ").concat(s):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},v);return t.createElement("div",{tabIndex:-1,className:x,style:b,ref:function(t){e.wrapperNode=t}},o)}}])&&sk(r.prototype,a),i&&sk(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function hk(e){return hk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hk(e)}function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fk(Object(n),!0).forEach((function(t){jk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nk(r.key),r)}}function xk(e,t,n){return t=bk(t),function(e,t){if(t&&("object"===hk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yk()?Reflect.construct(t,n||[],bk(e).constructor):t.apply(e,n))}function yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yk=function(){return!!e})()}function bk(e){return bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bk(e)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wk(e,t)}function jk(e,t,n){return(t=Nk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nk(e){var t=function(e,t){if("object"!=hk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hk(t)?t:t+""}function _k(e){return e.dataKey}var Sk=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),xk(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this,n=this.props,r=n.active,a=n.allowEscapeViewBox,i=n.animationDuration,s=n.animationEasing,o=n.content,l=n.coordinate,c=n.filterNull,d=n.isAnimationActive,u=n.offset,m=n.payload,p=n.payloadUniqBy,h=n.position,f=n.reverseDirection,v=n.useTranslate3d,g=n.viewBox,x=n.wrapperStyle,y=null!==m&&void 0!==m?m:[];c&&y.length&&(y=wD(m.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),p,_k));var b=y.length>0;return t.createElement(pk,{allowEscapeViewBox:a,animationDuration:i,animationEasing:s,isAnimationActive:d,active:r,coordinate:l,hasPayload:b,offset:u,position:h,reverseDirection:f,useTranslate3d:v,viewBox:g,wrapperStyle:x},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(XT,n)}(o,vk(vk({},this.props),{},{payload:y})))}}])&&gk(r.prototype,a),i&&gk(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);jk(Sk,"displayName","Tooltip"),jk(Sk,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gb.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ek=__webpack_require__(4223),Ck=__webpack_require__.n(Ek);function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dk.apply(this,arguments)}var Tk=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,s=(0,dy.A)("recharts-dot",i);return n===+n&&r===+r&&a===+a?t.createElement("circle",Dk({},sb(e,!1),Vy(e),{className:s,cx:n,cy:r,r:a})):null},kk=__webpack_require__(5173),Ak=__webpack_require__.n(kk),Pk=Object.getOwnPropertyNames,Ok=Object.getOwnPropertySymbols,Rk=Object.prototype.hasOwnProperty;function Mk(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function Ik(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,i=a.get(t),s=a.get(n);if(i&&s)return i===n&&s===t;a.set(t,n),a.set(n,t);var o=e(t,n,r);return a.delete(t),a.delete(n),o}}function Lk(e){return Pk(e).concat(Ok(e))}var Fk=Object.hasOwn||function(e,t){return Rk.call(e,t)};function Bk(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Wk=Object.getOwnPropertyDescriptor,Uk=Object.keys;function $k(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function zk(e,t){return Bk(e.getTime(),t.getTime())}function Hk(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Vk(e,t){return e===t}function qk(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,s=new Array(r),o=e.entries(),l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(i=c.next())&&!i.done;)if(s[u])u++;else{var m=a.value,p=i.value;if(n.equals(m[0],p[0],l,u,e,t,n)&&n.equals(m[1],p[1],m[0],p[0],e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1;l++}return!0}var Gk=Bk;function Kk(e,t,n){var r=Uk(e),a=r.length;if(Uk(t).length!==a)return!1;for(;a-- >0;)if(!tA(e,t,n,r[a]))return!1;return!0}function Yk(e,t,n){var r,a,i,s=Lk(e),o=s.length;if(Lk(t).length!==o)return!1;for(;o-- >0;){if(!tA(e,t,n,r=s[o]))return!1;if(a=Wk(e,r),i=Wk(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function Xk(e,t){return Bk(e.valueOf(),t.valueOf())}function Zk(e,t){return e.source===t.source&&e.flags===t.flags}function Jk(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,s=new Array(r),o=e.values();(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(i=l.next())&&!i.done;){if(!s[d]&&n.equals(a.value,i.value,a.value,i.value,e,t,n)){c=s[d]=!0;break}d++}if(!c)return!1}return!0}function Qk(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function eA(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tA(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Fk(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var nA=Array.isArray,rA="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,aA=Object.assign,iA=Object.prototype.toString.call.bind(Object.prototype.toString);var sA=oA();oA({strict:!0}),oA({circular:!0}),oA({circular:!0,strict:!0}),oA({createInternalComparator:function(){return Bk}}),oA({strict:!0,createInternalComparator:function(){return Bk}}),oA({circular:!0,createInternalComparator:function(){return Bk}}),oA({circular:!0,createInternalComparator:function(){return Bk},strict:!0});function oA(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,i=e.createState,s=e.strict,o=void 0!==s&&s,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Yk:$k,areDatesEqual:zk,areErrorsEqual:Hk,areFunctionsEqual:Vk,areMapsEqual:r?Mk(qk,Yk):qk,areNumbersEqual:Gk,areObjectsEqual:r?Yk:Kk,arePrimitiveWrappersEqual:Xk,areRegExpsEqual:Zk,areSetsEqual:r?Mk(Jk,Yk):Jk,areTypedArraysEqual:r?Yk:Qk,areUrlsEqual:eA};if(n&&(a=aA({},a,n(a))),t){var i=Ik(a.areArraysEqual),s=Ik(a.areMapsEqual),o=Ik(a.areObjectsEqual),l=Ik(a.areSetsEqual);a=aA({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var f=typeof e;if(f!==typeof p)return!1;if("object"!==f)return"number"===f?s(e,p,h):"function"===f&&a(e,p,h);var v=e.constructor;if(v!==p.constructor)return!1;if(v===Object)return o(e,p,h);if(nA(e))return t(e,p,h);if(null!=rA&&rA(e))return u(e,p,h);if(v===Date)return n(e,p,h);if(v===RegExp)return c(e,p,h);if(v===Map)return i(e,p,h);if(v===Set)return d(e,p,h);var g=iA(e);return"[object Date]"===g?n(e,p,h):"[object RegExp]"===g?c(e,p,h):"[object Map]"===g?i(e,p,h):"[object Set]"===g?d(e,p,h):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof p.then&&o(e,p,h):"[object URL]"===g?m(e,p,h):"[object Error]"===g?r(e,p,h):"[object Arguments]"===g?o(e,p,h):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,p,h)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,s){var o=r(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return n(e,s,{cache:c,equals:a,meta:d,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,s)}}({circular:r,comparator:c,createState:i,equals:a?a(c):(t=c,function(e,n,r,a,i,s,o){return t(e,n,o)}),strict:o})}function lA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function cA(e){return cA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(e)}function dA(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return uA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mA(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=dA(r),i=a[0],s=a.slice(1);return"number"===typeof i?void lA(n.bind(null,s),i):(n(i),void lA(n.bind(null,s)))}"object"===cA(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function pA(e){return pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pA(e)}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hA(Object(n),!0).forEach((function(t){vA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pA(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gA=function(e){return e},xA=function(e,t){return Object.keys(t).reduce((function(n,r){return fA(fA({},n),{},vA({},r,e(r,t[r])))}),{})},yA=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function bA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||jA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wA(e){return function(e){if(Array.isArray(e))return NA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jA(e,t){if(e){if("string"===typeof e)return NA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NA(e,t):void 0}}function NA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _A=1e-4,SA=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},EA=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},CA=function(e,t){return function(n){var r=SA(e,t);return EA(r,n)}},DA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,i=1,s=1;break;case"ease":r=.25,a=.1,i=.25,s=1;break;case"ease-in":r=.42,a=0,i=1,s=1;break;case"ease-out":r=.42,a=0,i=.58,s=1;break;case"ease-in-out":r=0,a=0,i=.58,s=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=bA(o[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],a=l[1],i=l[2],s=l[3]}}[r,i,a,s].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c,d,u=CA(r,i),m=CA(a,s),p=(c=r,d=i,function(e){var t=SA(c,d),n=[].concat(wA(t.map((function(e,t){return e*t})).slice(1)),[0]);return EA(n,e)}),h=function(e){for(var t,n=e>1?1:e,r=n,a=0;a<8;++a){var i=u(r)-n,s=p(r);if(Math.abs(i-n)<_A||s<_A)return m(r);r=(t=r-i/s)>1?1:t<0?0:t}return m(r)};return h.isStepper=!1,h},TA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DA(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,s=void 0===i?17:i,o=function(e,t,r){var i=r+(-(e-t)*n-r*a)*s/1e3,o=r*s/1e3+e;return Math.abs(o-t)<_A&&Math.abs(i)<_A?[t,0]:[o,i]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===r.split("(")[0])return DA(r)}return"function"===typeof r?r:null};function kA(e){return kA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kA(e)}function AA(e){return function(e){if(Array.isArray(e))return LA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||IA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PA(Object(n),!0).forEach((function(t){RA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==kA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kA(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||IA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IA(e,t){if(e){if("string"===typeof e)return LA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LA(e,t):void 0}}function LA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FA=function(e,t,n){return e+(t-e)*n},BA=function(e){return e.from!==e.to},WA=function e(t,n,r){var a=xA((function(e,n){if(BA(n)){var r=MA(t(n.from,n.to,n.velocity),2),a=r[0],i=r[1];return OA(OA({},n),{},{from:a,velocity:i})}return n}),n);return r<1?xA((function(e,t){return BA(t)?OA(OA({},t),{},{velocity:FA(t.velocity,a[e].velocity,r),from:FA(t.from,a[e].from,r)}):t}),n):e(t,a,r-1)};const UA=function(e,t,n,r,a){var i,s,o,l,c=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),d=c.reduce((function(n,r){return OA(OA({},n),{},RA({},r,[e[r],t[r]]))}),{}),u=c.reduce((function(n,r){return OA(OA({},n),{},RA({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),m=-1,p=function(){return null};return p=n.isStepper?function(r){o||(o=r);var i=(r-o)/n.dt;u=WA(n,u,i),a(OA(OA(OA({},e),t),xA((function(e,t){return t.from}),u))),o=r,Object.values(u).filter(BA).length&&(m=requestAnimationFrame(p))}:function(i){l||(l=i);var s=(i-l)/r,o=xA((function(e,t){return FA.apply(void 0,AA(t).concat([n(s)]))}),d);if(a(OA(OA(OA({},e),t),o)),s<1)m=requestAnimationFrame(p);else{var c=xA((function(e,t){return FA.apply(void 0,AA(t).concat([n(1)]))}),d);a(OA(OA(OA({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(m)}}};function $A(e){return $A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$A(e)}var zA=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function HA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VA(e){return function(e){if(Array.isArray(e))return qA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GA(Object(n),!0).forEach((function(t){YA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YA(e,t,n){return(t=ZA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZA(r.key),r)}}function ZA(e){var t=function(e,t){if("object"!==$A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$A(t)?t:String(t)}function JA(e,t){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JA(e,t)}function QA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(H1){return!1}}();return function(){var n,r=nP(e);if(t){var a=nP(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return eP(this,n)}}function eP(e,t){if(t&&("object"===$A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tP(e)}function tP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(e){return nP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nP(e)}var rP=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JA(e,t)}(s,e);var n,r,a,i=QA(s);function s(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=(n=i.call(this,e,t)).props,a=r.isActive,o=r.attributeName,l=r.from,c=r.to,d=r.steps,u=r.children,m=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(tP(n)),n.changeStyle=n.changeStyle.bind(tP(n)),!a||m<=0)return n.state={style:{}},"function"===typeof u&&(n.state={style:c}),eP(n);if(d&&d.length)n.state={style:d[0].style};else if(l){if("function"===typeof u)return n.state={style:l},eP(n);n.state={style:o?YA({},o,l):l}}else n.state={style:{}};return n}return n=s,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(sA(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||i?o:e.to;if(this.state&&l){var u={style:a?YA({},a,d):d};(a&&l[a]!==d||!a&&l!==d)&&this.setState(u)}this.runAnimation(KA(KA({},this.props),{},{from:d,begin:0}))}}else{var m={style:a?YA({},a,s):s};this.state&&l&&(a&&l[a]!==s||!a&&l!==s)&&this.setState(m)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=UA(n,r,TA(i),a,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],s=i.style,o=i.duration,l=void 0===o?0:o;return this.manager.start([a].concat(VA(n.reduce((function(e,r,a){if(0===a)return e;var i=r.duration,s=r.easing,o=void 0===s?"ease":s,l=r.style,c=r.properties,d=r.onAnimationEnd,u=a>0?n[a-1]:r,m=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(VA(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:i,easing:o}),i]);var p=yA(m,i,o),h=KA(KA(KA({},u.style),l),{},{transition:p});return[].concat(VA(e),[h,i,d]).filter(gA)}),[s,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=mA());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var u=r?YA({},r,a):a,m=yA(Object.keys(u),n,i);d.start([s,t,KA(KA({},u),{},{transition:m}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,n=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,HA(e,zA)),s=t.Children.count(n),o=this.state.style;if("function"===typeof n)return n(o);if(!a||0===s||r<=0)return n;var l=function(e){var n=e.props,r=n.style,a=void 0===r?{}:r,s=n.className;return(0,t.cloneElement)(e,KA(KA({},i),{},{style:KA(KA({},a),o),className:s}))};return 1===s?l(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,(function(e){return l(e)})))}}])&&XA(n.prototype,r),a&&XA(n,a),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.PureComponent);rP.displayName="Animate",rP.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},rP.propTypes={from:Ak().oneOfType([Ak().object,Ak().string]),to:Ak().oneOfType([Ak().object,Ak().string]),attributeName:Ak().string,duration:Ak().number,begin:Ak().number,easing:Ak().oneOfType([Ak().string,Ak().func]),steps:Ak().arrayOf(Ak().shape({duration:Ak().number.isRequired,style:Ak().object.isRequired,easing:Ak().oneOfType([Ak().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ak().func]),properties:Ak().arrayOf("string"),onAnimationEnd:Ak().func})),children:Ak().oneOfType([Ak().node,Ak().func]),isActive:Ak().bool,canBegin:Ak().bool,onAnimationEnd:Ak().func,shouldReAnimate:Ak().bool,onAnimationStart:Ak().func,onAnimationReStart:Ak().func};const aP=rP;function iP(e){return iP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iP(e)}function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sP.apply(this,arguments)}function oP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(n),!0).forEach((function(t){uP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=iP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iP(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mP=function(e,t,n,r,a){var i,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>s?s:a[u];i="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(i+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),i+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(i+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*d[1])),i+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(i+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+r)),i+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(i+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*d[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);i="M ".concat(e,",").concat(t+o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,"\n            L ").concat(e+n-l*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*m,"\n            L ").concat(e+n,",").concat(t+r-o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(t+r,"\n            L ").concat(e+l*m,",").concat(t+r,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*m," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},pP=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(i,i+o),u=Math.max(i,i+o);return n>=l&&n<=c&&r>=d&&r<=u}return!1},hP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fP=function(e){var n=dP(dP({},hP),e),r=(0,t.useRef)(),a=oP((0,t.useState)(-1),2),i=a[0],s=a[1];(0,t.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}}),[]);var o=n.x,l=n.y,c=n.width,d=n.height,u=n.radius,m=n.className,p=n.animationEasing,h=n.animationDuration,f=n.animationBegin,v=n.isAnimationActive,g=n.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var x=(0,dy.A)("recharts-rectangle",m);return g?t.createElement(aP,{canBegin:i>0,from:{width:c,height:d,x:o,y:l},to:{width:c,height:d,x:o,y:l},duration:h,animationEasing:p,isActive:g},(function(e){var a=e.width,s=e.height,o=e.x,l=e.y;return t.createElement(aP,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:v,easing:p},t.createElement("path",sP({},sb(n,!0),{className:x,d:mP(o,l,a,s,u),ref:r})))})):t.createElement("path",sP({},sb(n,!0),{className:x,d:mP(o,l,c,d,u)}))};function vP(e){return vP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vP(e)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gP(Object(n),!0).forEach((function(t){yP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=vP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vP(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bP=["Webkit","Moz","O","ms"];function wP(e){return wP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wP(e)}function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(this,arguments)}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(n),!0).forEach((function(t){kP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AP(r.key),r)}}function EP(e,t,n){return t=DP(t),function(e,t){if(t&&("object"===wP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CP()?Reflect.construct(t,n||[],DP(e).constructor):t.apply(e,n))}function CP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CP=function(){return!!e})()}function DP(e){return DP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DP(e)}function TP(e,t){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TP(e,t)}function kP(e,t,n){return(t=AP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AP(e){var t=function(e,t){if("object"!=wP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wP(t)?t:t+""}var PP=function(e){return e.changedTouches&&!!e.changedTouches.length},OP=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),kP(t=EP(this,n,[e]),"handleDrag",(function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)})),kP(t,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])})),kP(t,"handleDragEnd",(function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:a})})),t.detachDragEndListener()})),kP(t,"handleLeaveWrapper",(function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))})),kP(t,"handleEnterSlideOrTraveller",(function(){t.setState({isTextActive:!0})})),kP(t,"handleLeaveSlideOrTraveller",(function(){t.setState({isTextActive:!1})})),kP(t,"handleSlideDragStart",(function(e){var n=PP(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()})),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TP(e,t)}(n,e),r=n,i=[{key:"renderDefaultTraveller",value:function(e){var n=e.x,r=e.y,a=e.width,i=e.height,s=e.stroke,o=Math.floor(r+i/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:n,y:r,width:a,height:i,fill:s,stroke:"none"}),t.createElement("line",{x1:n+1,y1:o,x2:n+a-1,y2:o,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:n+1,y1:o+2,x2:n+a-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):My()(e)?e(r):n.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||s!==t.prevUpdateId)return _P({prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=mw().domain(Ck()(0,o)).range([a,a+i-s]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:i,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],(a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,a=this.state.scaleValues,i=this.props,s=i.gap,o=i.data.length-1,l=Math.min(t,r),c=Math.max(t,r),d=n.getIndexInRange(a,l),u=n.getIndexInRange(a,c);return{startIndex:d-d%s,endIndex:u===o?o:u-u%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=GD(n[e],a,e);return My()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,s=i.x,o=i.width,l=i.travellerWidth,c=i.startIndex,d=i.endIndex,u=i.onChange,m=e.pageX-n;m>0?m=Math.min(m,s+o-l-a,s+o-l-r):m<0&&(m=Math.max(m,s-r,s-a));var p=this.getIndex({startX:r+m,endX:a+m});p.startIndex===c&&p.endIndex===d||!u||u(p),this.setState({startX:r+m,endX:a+m,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=PP(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,s=this.state[r],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,m=o.gap,p=o.data,h={startX:this.state.startX,endX:this.state.endX},f=e.pageX-n;f>0?f=Math.min(f,l+c-d-s):f<0&&(f=Math.max(f,l-s)),h[r]=s+f;var v=this.getIndex(h),g=v.startIndex,x=v.endIndex;this.setState(kP(kP({},r,s+f),"brushMoveStartX",e.pageX),(function(){u&&function(){var e=p.length-1;return"startX"===r&&(a>i?g%m===0:x%m===0)||a<i&&x===e||"endX"===r&&(a>i?x%m===0:g%m===0)||a>i&&x===e}()&&u(v)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,s=r.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var d=a[c];"startX"===t&&d>=s||"endX"===t&&d<=i||this.setState(kP({},t,d),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,s=e.fill,o=e.stroke;return t.createElement("rect",{stroke:o,fill:s,x:n,y:r,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,s=e.data,o=e.children,l=e.padding,c=t.Children.only(o);return c?t.cloneElement(c,{x:n,y:r,width:a,height:i,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,i,s=this,o=this.props,l=o.y,c=o.travellerWidth,d=o.height,u=o.traveller,m=o.ariaLabel,p=o.data,h=o.startIndex,f=o.endIndex,v=Math.max(e,this.props.x),g=_P(_P({},sb(this.props,!1)),{},{x:v,y:l,width:c,height:d}),x=m||"Min value: ".concat(null===(a=p[h])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=p[f])||void 0===i?void 0:i.name);return t.createElement(rC,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),s.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,n){var r=this.props,a=r.y,i=r.height,s=r.stroke,o=r.travellerWidth,l=Math.min(e,n)+o,c=Math.max(Math.abs(n-e)-o,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:a,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,n=e.startIndex,r=e.endIndex,a=e.y,i=e.height,s=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:o};return t.createElement(rC,{className:"recharts-brush-texts"},t.createElement(ew,jP({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:a+i/2},u),this.getTextOfTick(n)),t.createElement(ew,jP({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+s+5,y:a+i/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.className,a=e.children,i=e.x,s=e.y,o=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,m=d.endX,p=d.isTextActive,h=d.isSlideMoving,f=d.isTravellerMoving,v=d.isTravellerFocused;if(!n||!n.length||!Ny(i)||!Ny(s)||!Ny(o)||!Ny(l)||o<=0||l<=0)return null;var g=(0,dy.A)("recharts-brush",r),x=1===t.Children.count(a),y=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=bP.reduce((function(e,r){return xP(xP({},e),{},yP({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return t.createElement(rC,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(u,m),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(m,"endX"),(p||h||f||v||c)&&this.renderText())}}])&&SP(r.prototype,a),i&&SP(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);kP(OP,"displayName","Brush"),kP(OP,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var RP=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},MP=__webpack_require__(1733),IP=__webpack_require__.n(MP),LP=__webpack_require__(7002),FP=__webpack_require__.n(LP),BP=function(e){return null};BP.displayName="Cell";var WP=__webpack_require__(4065),UP=__webpack_require__.n(WP);function $P(e){return $P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$P(e)}var zP=["valueAccessor"],HP=["data","dataKey","clockWise","id","textBreakAll"];function VP(e){return function(e){if(Array.isArray(e))return qP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GP.apply(this,arguments)}function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KP(Object(n),!0).forEach((function(t){XP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var JP=function(e){return Array.isArray(e.value)?UP()(e.value):e.value};function QP(e){var n=e.valueAccessor,r=void 0===n?JP:n,a=ZP(e,zP),i=a.data,s=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=ZP(a,HP);return i&&i.length?t.createElement(rC,{className:"recharts-label-list"},i.map((function(e,n){var a=Oy()(s)?r(e,n):GD(e&&e.payload,s),i=Oy()(l)?{}:{id:"".concat(l,"-").concat(n)};return t.createElement(WT,GP({},sb(e,!0),d,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:WT.parseViewBox(Oy()(o)?e:YP(YP({},e),{},{clockWise:o})),key:"label-".concat(n),index:n}))}))):null}QP.displayName="LabelList",QP.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=tb(e.children,QP).map((function(e,r){return(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)})}));return r?[function(e,n){return e?!0===e?t.createElement(QP,{key:"labelList-implicit",data:n}):t.isValidElement(e)||My()(e)?t.createElement(QP,{key:"labelList-implicit",data:n,content:e}):Ly()(e)?t.createElement(QP,GP({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n)].concat(VP(a)):a};var eO=__webpack_require__(2322),tO=__webpack_require__.n(eO),nO=__webpack_require__(6361),rO=__webpack_require__.n(nO);function aO(e){return aO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aO(e)}function iO(){return iO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iO.apply(this,arguments)}function sO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return oO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(n),!0).forEach((function(t){dO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=aO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uO=function(e,t,n,r,a){var i,s=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-s/2,",").concat(t+a),i+="L ".concat(e+n-s/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},mO={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pO=function(e){var n=cO(cO({},mO),e),r=(0,t.useRef)(),a=sO((0,t.useState)(-1),2),i=a[0],s=a[1];(0,t.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}}),[]);var o=n.x,l=n.y,c=n.upperWidth,d=n.lowerWidth,u=n.height,m=n.className,p=n.animationEasing,h=n.animationDuration,f=n.animationBegin,v=n.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var g=(0,dy.A)("recharts-trapezoid",m);return v?t.createElement(aP,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:o,y:l},duration:h,animationEasing:p,isActive:v},(function(e){var a=e.upperWidth,s=e.lowerWidth,o=e.height,l=e.x,c=e.y;return t.createElement(aP,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:p},t.createElement("path",iO({},sb(n,!0),{className:g,d:uO(l,c,a,s,o),ref:r})))})):t.createElement("g",null,t.createElement("path",iO({},sb(n,!0),{className:g,d:uO(o,l,c,d,u)})))};function hO(e){return hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hO(e)}function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fO.apply(this,arguments)}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vO(Object(n),!0).forEach((function(t){xO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=hO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yO=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+r,d=Math.asin(o/c)/jT,u=l?a:a+i*d,m=l?a-i*d:a;return{center:_T(t,n,c,u),circleTangency:_T(t,n,r,u),lineTangency:_T(t,n,c*Math.cos(d*jT),m),theta:d}},bO=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,s=function(e,t){return wy(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),o=i+s,l=_T(t,n,a,i),c=_T(t,n,a,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var u=_T(t,n,r,i),m=_T(t,n,r,o);d+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},wO={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jO=function(e){var n=gO(gO({},wO),e),r=n.cx,a=n.cy,i=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,u=n.endAngle,m=n.className;if(s<i||d===u)return null;var p,h=(0,dy.A)("recharts-sector",m),f=s-i,v=Cy(o,f,0,!0);return p=v>0&&Math.abs(d-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=wy(c-l),u=yO({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),m=u.circleTangency,p=u.lineTangency,h=u.theta,f=yO({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:o}),v=f.circleTangency,g=f.lineTangency,x=f.theta,y=o?Math.abs(l-c):Math.abs(l-c)-h-x;if(y<0)return s?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):bO({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var w=yO({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),j=w.circleTangency,N=w.lineTangency,_=w.theta,S=yO({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),E=S.circleTangency,C=S.lineTangency,D=S.theta,T=o?Math.abs(l-c):Math.abs(l-c)-_-D;if(T<0&&0===i)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):bO({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:u}),t.createElement("path",fO({},sb(n,!0),{className:h,d:p,role:"img"}))},NO=["option","shapeType","propTransformer","activeClassName","isActive"];function _O(e){return _O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_O(e)}function SO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EO(Object(n),!0).forEach((function(t){DO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_O(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TO(e,t){return CO(CO({},t),e)}function kO(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return t.createElement(fP,r);case"trapezoid":return t.createElement(pO,r);case"sector":return t.createElement(jO,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(sD,r);break;default:return null}}function AO(e){var n,r=e.option,a=e.shapeType,i=e.propTransformer,s=void 0===i?TO:i,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,d=SO(e,NO);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,CO(CO({},d),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if(My()(r))n=r(d);else if(tO()(r)&&!rO()(r)){var u=s(r,d);n=t.createElement(kO,{shapeType:a,elementProps:u})}else{var m=d;n=t.createElement(kO,{shapeType:a,elementProps:m})}return c?t.createElement(rC,{className:l},n):n}function PO(e,t){return null!=t&&"trapezoids"in e.props}function OO(e,t){return null!=t&&"sectors"in e.props}function RO(e,t){return null!=t&&"points"in e.props}function MO(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function IO(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function LO(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function FO(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return PO(e,t)?n="trapezoids":OO(e,t)?n="sectors":RO(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return PO(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:OO(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:RO(e,t)?t.payload:{}}(n,t),s=r.filter((function(e,r){var s=_E()(i,e),o=n.props[a].filter((function(e){var r=function(e,t){var n;return PO(e,t)?n=MO:OO(e,t)?n=IO:RO(e,t)&&(n=LO),n}(n,t);return r(e,t)})),l=n.props[a].indexOf(o[o.length-1]);return s&&r===l}));return r.indexOf(s[s.length-1])}var BO=["x","y"];function WO(e){return WO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WO(e)}function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UO.apply(this,arguments)}function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$O(Object(n),!0).forEach((function(t){HO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=WO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qO(e,t){var n=e.x,r=e.y,a=VO(e,BO),i="".concat(n),s=parseInt(i,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),m=parseInt(u,10);return zO(zO(zO(zO(zO({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function GO(e){return t.createElement(AO,UO({shapeType:"rectangle",propTransformer:qO,activeClassName:"recharts-active-bar"},e))}var KO,YO=["value","background"];function XO(e){return XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XO(e)}function ZO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JO.apply(this,arguments)}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach((function(t){sR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oR(r.key),r)}}function nR(e,t,n){return t=aR(t),function(e,t){if(t&&("object"===XO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rR()?Reflect.construct(t,n||[],aR(e).constructor):t.apply(e,n))}function rR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rR=function(){return!!e})()}function aR(e){return aR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aR(e)}function iR(e,t){return iR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iR(e,t)}function sR(e,t,n){return(t=oR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oR(e){var t=function(e,t){if("object"!=XO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XO(t)?t:t+""}var lR=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return sR(e=nR(this,n,[].concat(r)),"state",{isAnimationFinished:!1}),sR(e,"id",Ey("recharts-bar-")),sR(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),sR(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iR(e,t)}(n,e),r=n,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(a=[{key:"renderRectanglesStatically",value:function(e){var n=this,r=this.props,a=r.shape,i=r.dataKey,s=r.activeIndex,o=r.activeBar,l=sb(this.props,!1);return e&&e.map((function(e,r){var c=r===s,d=c?o:a,u=eR(eR(eR({},l),e),{},{isActive:c,option:d,index:r,dataKey:i,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return t.createElement(rC,JO({className:"recharts-bar-rectangle"},qy(n.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),t.createElement(GO,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,n=this.props,r=n.data,a=n.layout,i=n.isAnimationActive,s=n.animationBegin,o=n.animationDuration,l=n.animationEasing,c=n.animationId,d=this.state.prevData;return t.createElement(aP,{begin:s,duration:o,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var i=n.t,s=r.map((function(e,t){var n=d&&d[t];if(n){var r=Ty(n.x,e.x),s=Ty(n.y,e.y),o=Ty(n.width,e.width),l=Ty(n.height,e.height);return eR(eR({},e),{},{x:r(i),y:s(i),width:o(i),height:l(i)})}if("horizontal"===a){var c=Ty(0,e.height)(i);return eR(eR({},e),{},{y:e.y+e.height-c,height:c})}var u=Ty(0,e.width)(i);return eR(eR({},e),{},{width:u})}));return t.createElement(rC,null,e.renderRectanglesStatically(s))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&_E()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,n=this.props,r=n.data,a=n.dataKey,i=n.activeIndex,s=sb(this.props.background,!1);return r.map((function(n,r){n.value;var o=n.background,l=ZO(n,YO);if(!o)return null;var c=eR(eR(eR(eR(eR({},l),{},{fill:"#eee"},o),s),qy(e.props,n,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(GO,JO({key:"background-bar-".concat(r),option:e.props.background,isActive:r===i},c))}))}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,i=r.xAxis,s=r.yAxis,o=r.layout,l=tb(r.children,gC);if(!l)return null;var c="vertical"===o?a[0].height/2:a[0].width/2,d=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:GD(e,t)}},u={clipPath:e?"url(#clipPath-".concat(n,")"):null};return t.createElement(rC,u,l.map((function(e){return t.cloneElement(e,{key:"error-bar-".concat(n,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:s,layout:o,offset:c,dataPointFormatter:d})})))}},{key:"render",value:function(){var e=this.props,n=e.hide,r=e.data,a=e.className,i=e.xAxis,s=e.yAxis,o=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,m=e.background,p=e.id;if(n||!r||!r.length)return null;var h=this.state.isAnimationFinished,f=(0,dy.A)("recharts-bar",a),v=i&&i.allowDataOverflow,g=s&&s.allowDataOverflow,x=v||g,y=Oy()(p)?this.id:p;return t.createElement(rC,{className:f},v||g?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(y)},t.createElement("rect",{x:v?o:o-c/2,y:g?l:l-d/2,width:v?c:2*c,height:g?d:2*d}))):null,t.createElement(rC,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(y,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,y),(!u||h)&&QP.renderCallByParent(this.props,r))}}])&&tR(r.prototype,a),i&&tR(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function cR(e){return cR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cR(e)}function dR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hR(r.key),r)}}function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uR(Object(n),!0).forEach((function(t){pR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pR(e,t,n){return(t=hR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hR(e){var t=function(e,t){if("object"!=cR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cR(t)?t:t+""}KO=lR,sR(lR,"displayName","Bar"),sR(lR,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gb.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),sR(lR,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,m=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var h=t.layout,f=n.type.defaultProps,v=void 0!==f?eR(eR({},f),n.props):n.props,g=v.dataKey,x=v.children,y=v.minPointSize,b="horizontal"===h?s:i,w=c?b.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),N=tb(x,BP),_=u.map((function(e,t){var r,u,m,f,v,x;c?r=function(e,t){if(!t||2!==t.length||!Ny(t[0])||!Ny(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ny(e[0])||e[0]<n)&&(a[0]=n),(!Ny(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[d+t],w):(r=GD(e,g),Array.isArray(r)||(r=[j,r]));var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a="number"===typeof n;return a?e(n,r):(a||(0,QE.A)(!1),t)}}(y,KO.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var _,S=[s.scale(r[0]),s.scale(r[1])],E=S[0],C=S[1];u=lT({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:e,index:t}),m=null!==(_=null!==C&&void 0!==C?C:E)&&void 0!==_?_:void 0,f=p.size;var D=E-C;if(v=Number.isNaN(D)?0:D,x={x:u,y:s.y,width:f,height:s.height},Math.abs(b)>0&&Math.abs(v)<Math.abs(b)){var T=wy(v||b)*(Math.abs(b)-Math.abs(v));m-=T,v+=T}}else{var k=[i.scale(r[0]),i.scale(r[1])],A=k[0],P=k[1];if(u=A,m=lT({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:e,index:t}),f=P-A,v=p.size,x={x:i.x,y:m,width:i.width,height:v},Math.abs(b)>0&&Math.abs(f)<Math.abs(b))f+=wy(f||b)*(Math.abs(b)-Math.abs(f))}return eR(eR(eR({},e),{},{x:u,y:m,width:f,height:v,value:c?r:r[1],payload:e,background:x},N&&N[t]&&N[t].props),{},{tooltipPayload:[fT(n,e)],tooltipPosition:{x:u+f/2,y:m+v/2}})}));return eR({data:_,layout:h},m)}));var fR=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},vR=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&dR(t.prototype,n),r&&dR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();pR(vR,"EPS",1e-4);var gR=function(e){var t=Object.keys(e).reduce((function(t,n){return mR(mR({},t),{},pR({},n,vR.create(e[n])))}),{});return mR(mR({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return IP()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:a})}))},isInRange:function(e){return FP()(e,(function(e,n){return t[n].isInRange(e)}))}})};function xR(){return xR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xR.apply(this,arguments)}function yR(e){return yR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yR(e)}function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bR(Object(n),!0).forEach((function(t){CR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DR(r.key),r)}}function NR(e,t,n){return t=SR(t),function(e,t){if(t&&("object"===yR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_R()?Reflect.construct(t,n||[],SR(e).constructor):t.apply(e,n))}function _R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_R=function(){return!!e})()}function SR(e){return SR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SR(e)}function ER(e,t){return ER=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ER(e,t)}function CR(e,t,n){return(t=DR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DR(e){var t=function(e,t){if("object"!=yR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yR(t)?t:t+""}var TR=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),NR(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ER(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,i=e.r,s=e.alwaysShow,o=e.clipPathId,l=_y(r),c=_y(a);if(Ay(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=gR({x:r.scale,y:a.scale}),s=i.apply({x:t,y:n},{bandAware:!0});return RP(e,"discard")&&!i.isInRange(s)?null:s}(this.props);if(!d)return null;var u=d.x,m=d.y,p=this.props,h=p.shape,f=p.className,v=wR(wR({clipPath:RP(this.props,"hidden")?"url(#".concat(o,")"):void 0},sb(this.props,!0)),{},{cx:u,cy:m});return t.createElement(rC,{className:(0,dy.A)("recharts-reference-dot",f)},n.renderDot(h,v),WT.renderCallByParent(this.props,{x:u-i,y:m-i,width:2*i,height:2*i}))}}])&&jR(r.prototype,a),i&&jR(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);CR(TR,"displayName","ReferenceDot"),CR(TR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),CR(TR,"renderDot",(function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):My()(e)?e(n):t.createElement(Tk,xR({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"}))}));var kR=__webpack_require__(4597),AR=__webpack_require__.n(kR),PR=(__webpack_require__(8990),__webpack_require__(5797)),OR=__webpack_require__.n(PR)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var RR=(0,t.createContext)(void 0),MR=(0,t.createContext)(void 0),IR=(0,t.createContext)(void 0),LR=(0,t.createContext)({}),FR=(0,t.createContext)(void 0),BR=(0,t.createContext)(0),WR=(0,t.createContext)(0),UR=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=OR(i);return t.createElement(RR.Provider,{value:r},t.createElement(MR.Provider,{value:a},t.createElement(LR.Provider,{value:i},t.createElement(IR.Provider,{value:d},t.createElement(FR.Provider,{value:s},t.createElement(BR.Provider,{value:c},t.createElement(WR.Provider,{value:l},o)))))))};var $R=function(e){var n=(0,t.useContext)(RR);null==n&&(0,QE.A)(!1);var r=n[e];return null==r&&(0,QE.A)(!1),r},zR=function(e){var n=(0,t.useContext)(MR);null==n&&(0,QE.A)(!1);var r=n[e];return null==r&&(0,QE.A)(!1),r},HR=function(){return(0,t.useContext)(WR)},VR=function(){return(0,t.useContext)(BR)};function qR(e){return qR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qR(e)}function GR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tM(r.key),r)}}function KR(e,t,n){return t=XR(t),function(e,t){if(t&&("object"===qR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YR()?Reflect.construct(t,n||[],XR(e).constructor):t.apply(e,n))}function YR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YR=function(){return!!e})()}function XR(e){return XR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XR(e)}function ZR(e,t){return ZR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZR(e,t)}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JR(Object(n),!0).forEach((function(t){eM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eM(e,t,n){return(t=tM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tM(e){var t=function(e,t){if("object"!=qR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qR(t)?t:t+""}function nM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aM(){return aM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aM.apply(this,arguments)}function iM(e){var n=e.x,r=e.y,a=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=(0,t.useContext)(FR),u=$R(i),m=zR(s),p=(0,t.useContext)(IR);if(!d||!p)return null;Ay(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,a,i,s,o,l){var c=a.x,d=a.y,u=a.width,m=a.height;if(n){var p=l.y,h=e.y.apply(p,{position:i});if(RP(l,"discard")&&!e.y.isInRange(h))return null;var f=[{x:c+u,y:h},{x:c,y:h}];return"left"===o?f.reverse():f}if(t){var v=l.x,g=e.x.apply(v,{position:i});if(RP(l,"discard")&&!e.x.isInRange(g))return null;var x=[{x:g,y:d+m},{x:g,y:d}];return"top"===s?x.reverse():x}if(r){var y=l.segment.map((function(t){return e.apply(t,{position:i})}));return RP(l,"discard")&&AR()(y,(function(t){return!e.isInRange(t)}))?null:y}return null}(gR({x:u.scale,y:m.scale}),_y(n),_y(r),a&&2===a.length,p,e.position,u.orientation,m.orientation,e);if(!h)return null;var f=nM(h,2),v=f[0],g=v.x,x=v.y,y=f[1],b=y.x,w=y.y,j=QR(QR({clipPath:RP(e,"hidden")?"url(#".concat(d,")"):void 0},sb(e,!0)),{},{x1:g,y1:x,x2:b,y2:w});return t.createElement(rC,{className:(0,dy.A)("recharts-reference-line",l)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):My()(e)?e(n):t.createElement("line",aM({},n,{className:"recharts-reference-line-line"}))}(o,j),WT.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return fR({x:t,y:n},{x:r,y:a})}({x1:g,y1:x,x2:b,y2:w})))}var sM=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),KR(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZR(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(iM,this.props)}}])&&GR(r.prototype,a),i&&GR(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function oM(){return oM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oM.apply(this,arguments)}function lM(e){return lM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lM(e)}function cM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cM(Object(n),!0).forEach((function(t){vM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gM(r.key),r)}}function mM(e,t,n){return t=hM(t),function(e,t){if(t&&("object"===lM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pM()?Reflect.construct(t,n||[],hM(e).constructor):t.apply(e,n))}function pM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pM=function(){return!!e})()}function hM(e){return hM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hM(e)}function fM(e,t){return fM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fM(e,t)}function vM(e,t,n){return(t=gM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gM(e){var t=function(e,t){if("object"!=lM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lM(t)?t:t+""}eM(sM,"displayName","ReferenceLine"),eM(sM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var xM=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),mM(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fM(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,i=e.y1,s=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;Ay(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=_y(r),u=_y(a),m=_y(i),p=_y(s),h=this.props.shape;if(!d&&!u&&!m&&!p&&!h)return null;var f=function(e,t,n,r,a){var i=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var u=gR({x:c.scale,y:d.scale}),m={x:e?u.x.apply(i,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(o,{position:"start"}):u.y.rangeMin},p={x:t?u.x.apply(s,{position:"end"}):u.x.rangeMax,y:r?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!RP(a,"discard")||u.isInRange(m)&&u.isInRange(p)?fR(m,p):null}(d,u,m,p,this.props);if(!f&&!h)return null;var v=RP(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(rC,{className:(0,dy.A)("recharts-reference-area",o)},n.renderRect(h,dM(dM({clipPath:v},sb(this.props,!0)),f)),WT.renderCallByParent(this.props,f))}}])&&uM(r.prototype,a),i&&uM(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function yM(e){return function(e){if(Array.isArray(e))return bM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}vM(xM,"displayName","ReferenceArea"),vM(xM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),vM(xM,"renderRect",(function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):My()(e)?e(n):t.createElement(fP,oM({},n,{className:"recharts-reference-area-rect"}))}));var wM=function(e,t,n,r,a){var i=tb(e,sM),s=tb(e,TR),o=[].concat(yM(i),yM(s)),l=tb(e,xM),c="".concat(r,"Id"),d=r[0],u=t;if(o.length&&(u=o.reduce((function(e,t){if(t.props[c]===n&&RP(t.props,"extendDomain")&&Ny(t.props[d])){var r=t.props[d];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),u)),l.length){var m="".concat(d,"1"),p="".concat(d,"2");u=l.reduce((function(e,t){if(t.props[c]===n&&RP(t.props,"extendDomain")&&Ny(t.props[m])&&Ny(t.props[p])){var r=t.props[m],a=t.props[p];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e}),u)}return a&&a.length&&(u=a.reduce((function(e,t){return Ny(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),u)),u},jM=__webpack_require__(7283),NM=new(__webpack_require__.n(jM)()),_M="recharts.syncMouseEvents";function SM(e){return SM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(e)}function EM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DM(r.key),r)}}function CM(e,t,n){return(t=DM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DM(e){var t=function(e,t){if("object"!=SM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SM(t)?t:t+""}var TM=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CM(this,"activeIndex",0),CM(this,"coordinateList",[]),CM(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+s+o,d=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])&&EM(e.prototype,t),n&&EM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function kM(){}function AM(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function PM(e){this._context=e}function OM(e){this._context=e}function RM(e){this._context=e}PM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:AM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:AM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OM.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:AM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:AM(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class MM{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function IM(e){this._context=e}function LM(e){this._context=e}function FM(e){return new LM(e)}function BM(e){return e<0?-1:1}function WM(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),o=(i*a+s*r)/(r+a);return(BM(i)+BM(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function UM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $M(e,t,n){var r=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,a+o*t,i-o,s-o*n,i,s)}function zM(e){this._context=e}function HM(e){this._context=new VM(e)}function VM(e){this._context=e}function qM(e){this._context=e}function GM(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function KM(e,t){this._context=e,this._t=t}function YM(e){return e[0]}function XM(e){return e[1]}function ZM(e,t){var n=uE(!0),r=null,a=FM,i=null,s=XC(o);function o(o){var l,c,d,u=(o=dE(o)).length,m=!1;for(null==r&&(i=a(d=s())),l=0;l<=u;++l)!(l<u&&n(c=o[l],l,o))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(c,l,o),+t(c,l,o));if(d)return i=null,d+""||null}return e="function"===typeof e?e:void 0===e?YM:uE(e),t="function"===typeof t?t:void 0===t?XM:uE(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:uE(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:uE(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:uE(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),o):r},o}function JM(e,t,n){var r=null,a=uE(!0),i=null,s=FM,o=null,l=XC(c);function c(c){var d,u,m,p,h,f=(c=dE(c)).length,v=!1,g=new Array(f),x=new Array(f);for(null==i&&(o=s(h=l())),d=0;d<=f;++d){if(!(d<f&&a(p=c[d],d,c))===v)if(v=!v)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=u;--m)o.point(g[m],x[m]);o.lineEnd(),o.areaEnd()}v&&(g[d]=+e(p,d,c),x[d]=+t(p,d,c),o.point(r?+r(p,d,c):g[d],n?+n(p,d,c):x[d]))}if(h)return o=null,h+""||null}function d(){return ZM().defined(a).curve(s).context(i)}return e="function"===typeof e?e:void 0===e?YM:uE(+e),t="function"===typeof t?t:uE(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?XM:uE(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:uE(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:uE(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:uE(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:uE(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:uE(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:uE(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:uE(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function QM(e){return QM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QM(e)}function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eI.apply(this,arguments)}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach((function(t){rI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=QM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}IM.prototype={areaStart:kM,areaEnd:kM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},LM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},zM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$M(this,this._t0,UM(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$M(this,UM(this,n=WM(this,e,t)),n);break;default:$M(this,this._t0,n=WM(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(HM.prototype=Object.create(zM.prototype)).point=function(e,t){zM.prototype.point.call(this,t,e)},VM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},qM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=GM(e),a=GM(t),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},KM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var aI={curveBasisClosed:function(e){return new OM(e)},curveBasisOpen:function(e){return new RM(e)},curveBasis:function(e){return new PM(e)},curveBumpX:function(e){return new MM(e,!0)},curveBumpY:function(e){return new MM(e,!1)},curveLinearClosed:function(e){return new IM(e)},curveLinear:FM,curveMonotoneX:function(e){return new zM(e)},curveMonotoneY:function(e){return new HM(e)},curveNatural:function(e){return new qM(e)},curveStep:function(e){return new KM(e,.5)},curveStepAfter:function(e){return new KM(e,1)},curveStepBefore:function(e){return new KM(e,0)}},iI=function(e){return e.x===+e.x&&e.y===+e.y},sI=function(e){return e.x},oI=function(e){return e.y},lI=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(My()(e))return e;var n="curve".concat(jE()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?aI[n]||FM:aI["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),u=c?i.filter((function(e){return iI(e)})):i;if(Array.isArray(s)){var m=c?s.filter((function(e){return iI(e)})):s,p=u.map((function(e,t){return nI(nI({},e),{},{base:m[t]})}));return(t="vertical"===o?JM().y(oI).x1(sI).x0((function(e){return e.base.x})):JM().x(sI).y1(oI).y0((function(e){return e.base.y}))).defined(iI).curve(d),t(p)}return(t="vertical"===o&&Ny(s)?JM().y(oI).x1(sI).x0(s):Ny(s)?JM().x(sI).y1(oI).y0(s):ZM().x(sI).y(oI)).defined(iI).curve(d),t(u)},cI=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?lI(e):a;return t.createElement("path",eI({},sb(e,!1),Vy(e),{className:(0,dy.A)("recharts-curve",n),d:s,ref:i}))};function dI(e){return dI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dI(e)}var uI=["x","y","top","left","width","height","className"];function mI(){return mI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mI.apply(this,arguments)}function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var vI=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},gI=function(e){var n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a,s=e.top,o=void 0===s?0:s,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,m=e.height,p=void 0===m?0:m,h=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pI(Object(n),!0).forEach((function(t){hI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:r,y:i,top:o,left:c,width:u,height:p},fI(e,uI));return Ny(r)&&Ny(i)&&Ny(u)&&Ny(p)&&Ny(o)&&Ny(c)?t.createElement("path",mI({},sb(f,!0),{className:(0,dy.A)("recharts-cross",h),d:vI(r,i,u,p,o,c)})):null};function xI(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[_T(t,n,r,a),_T(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function yI(e,t,n){var r,a,i,s;if("horizontal"===e)i=r=t.x,a=n.top,s=n.top+n.height;else if("vertical"===e)s=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return xI(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,m=_T(o,l,c,u),p=_T(o,l,d,u);r=m.x,a=m.y,i=p.x,s=p.y}return[{x:r,y:a},{x:i,y:s}]}function bI(e){return bI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bI(e)}function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wI(Object(n),!0).forEach((function(t){NI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=bI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _I(e){var n,r,a,i=e.element,s=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,f=null!==(n=i.props.cursor)&&void 0!==n?n:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!f||!o||!l||"ScatterChart"!==h&&"axis"!==s)return null;var v=cI;if("ScatterChart"===h)a=l,v=gI;else if("BarChart"===h)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,d,m),v=fP;else if("radial"===p){var g=xI(l),x=g.cx,y=g.cy,b=g.radius;a={cx:x,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},v=jO}else a={points:yI(p,l,d)},v=cI;var w=jI(jI(jI(jI({stroke:"#ccc",pointerEvents:"none"},d),a),sb(f,!1)),{},{payload:c,payloadIndex:u,className:(0,dy.A)("recharts-tooltip-cursor",f.className)});return(0,t.isValidElement)(f)?(0,t.cloneElement)(f,w):(0,t.createElement)(v,w)}var SI=["item"],EI=["children","className","width","height","style","compact","title","desc"];function CI(e){return CI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CI(e)}function DI(){return DI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DI.apply(this,arguments)}function TI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||LI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function AI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$I(r.key),r)}}function PI(e,t,n){return t=RI(t),function(e,t){if(t&&("object"===CI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OI()?Reflect.construct(t,n||[],RI(e).constructor):t.apply(e,n))}function OI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OI=function(){return!!e})()}function RI(e){return RI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RI(e)}function MI(e,t){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MI(e,t)}function II(e){return function(e){if(Array.isArray(e))return FI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||LI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LI(e,t){if(e){if("string"===typeof e)return FI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FI(e,t):void 0}}function FI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BI(Object(n),!0).forEach((function(t){UI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UI(e,t,n){return(t=$I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $I(e){var t=function(e,t){if("object"!=CI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CI(t)?t:t+""}var zI={xAxis:["bottom","top"],yAxis:["left","right"]},HI={width:"100%",height:"100%"},VI={x:0,y:0};function qI(e){return e}var GI=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(II(e),II(n)):e}),[]);return i.length>0?i:e&&e.length&&Ny(r)&&Ny(a)?e.slice(r,a+1):[]};function KI(e){return"number"===e?[0,"auto"]:void 0}var YI=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,s=GI(t,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce((function(a,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=ky(void 0===d?s:d,i.dataKey,r):c=d&&d[n]||s[n];return c?[].concat(II(a),[fT(o,c)]):a}),[])},XI=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,s=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(s<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,d=r[l].coordinate,u=l>=s-1?r[0].coordinate:r[l+1].coordinate,m=void 0;if(wy(d-c)!==wy(u-d)){var p=[];if(wy(u-d)===wy(o[1]-o[0])){m=u;var h=d+o[1]-o[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{m=c;var f=u+o[1]-o[0];p[0]=Math.min(d,(f+d)/2),p[1]=Math.max(d,(f+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){i=r[l].index;break}}else{var g=Math.min(c,u),x=Math.max(c,u);if(e>(g+d)/2&&e<=(x+d)/2){i=r[l].index;break}}}else for(var y=0;y<s;y++)if(0===y&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y>0&&y<s-1&&e>(n[y].coordinate+n[y-1].coordinate)/2&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y===s-1&&e>(n[y].coordinate+n[y-1].coordinate)/2){i=n[y].index;break}return i}(i,s,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=YI(e,t,c,d),m=function(e,t,n,r){var a=t.find((function(e){return e&&e.index===n}));if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,s=r.radius;return WI(WI(WI({},r),_T(r.cx,r.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,l=r.angle;return WI(WI(WI({},r),_T(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return VI}(n,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:m}}return null},ZI=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,m=JD(c,a);return n.reduce((function(t,n){var p,h=void 0!==n.type.defaultProps?WI(WI({},n.type.defaultProps),n.props):n.props,f=h.type,v=h.dataKey,g=h.allowDataOverflow,x=h.allowDuplicatedCategory,y=h.scale,b=h.ticks,w=h.includeHidden,j=h[i];if(t[j])return t;var N,_,S,E=GI(e.data,{graphicalItems:r.filter((function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j})),dataStartIndex:o,dataEndIndex:l}),C=E.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&Ny(r)&&Ny(a))return!0}return!1})(h.domain,g,f)&&(N=mT(h.domain,null,g),!m||"number"!==f&&"auto"===y||(S=KD(E,v,"category")));var D=KI(f);if(!N||0===N.length){var T,k=null!==(T=h.domain)&&void 0!==T?T:D;if(v){if(N=KD(E,v,f),"category"===f&&m){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);x&&A?(_=N,N=Ck()(0,C)):x||(N=hT(k,N,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(II(e),[t])}),[]))}else if("category"===f)N=x?N.filter((function(e){return""!==e&&!Oy()(e)})):hT(k,N,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Oy()(t)?e:[].concat(II(e),[t])}),[]);else if("number"===f){var P=function(e,t,n,r,a){var i=t.map((function(t){return XD(e,t,n,a,r)})).filter((function(e){return!Oy()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(E,r.filter((function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!a)})),v,a,c);P&&(N=P)}!m||"number"!==f&&"auto"===y||(S=KD(E,v,"category"))}else N=m?Ck()(0,C):s&&s[j]&&s[j].hasStack&&"number"===f?"expand"===u?[0,1]:cT(s[j].stackGroups,o,l):ZD(E,r.filter((function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)})),f,c,!0);if("number"===f)N=wM(d,N,j,a,b),k&&(N=mT(k,N,g));else if("category"===f&&k){var O=k;N.every((function(e){return O.indexOf(e)>=0}))&&(N=O)}}return WI(WI({},t),{},UI({},j,WI(WI({},h),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:_,originalDomain:null!==(p=h.domain)&&void 0!==p?p:D,isCategorical:m,layout:c})))}),{})},JI=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(r,"Id"),u=tb(c,a),m={};return u&&u.length?m=ZI(e,{axes:u,graphicalItems:i,axisType:r,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):i&&i.length&&(m=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=GI(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),m=u.length,p=JD(c,a),h=-1;return n.reduce((function(e,t){var f,v=(void 0!==t.type.defaultProps?WI(WI({},t.type.defaultProps),t.props):t.props)[i],g=KI("number");return e[v]?e:(h++,p?f=Ck()(0,m):s&&s[v]&&s[v].hasStack?(f=cT(s[v].stackGroups,o,l),f=wM(d,f,v,a)):(f=mT(g,ZD(u,n.filter((function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===v&&!a})),"number",c),r.defaultProps.allowDataOverflow),f=wM(d,f,v,a)),WI(WI({},e),{},UI({},v,WI(WI({axisType:a},r.defaultProps),{},{hide:!0,orientation:xy()(zI,"".concat(a,".").concat(h%2),null),domain:f,originalDomain:g,isCategorical:p,layout:c}))))}),{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),m},QI=function(e){var t=e.children,n=e.defaultShowTooltip,r=nb(t,OP),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},eL=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tL=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,s=void 0===i?{}:i,o=n.width,l=n.height,c=n.children,d=n.margin||{},u=nb(c,OP),m=nb(c,MD),p=Object.keys(s).reduce((function(e,t){var n=s[t],r=n.orientation;return n.mirror||n.hide?e:WI(WI({},e),{},UI({},r,e[r]+n.width))}),{left:d.left||0,right:d.right||0}),h=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:WI(WI({},e),{},UI({},r,xy()(e,"".concat(r))+n.height))}),{top:d.top||0,bottom:d.bottom||0}),f=WI(WI({},h),p),v=f.bottom;u&&(f.bottom+=u.props.height||OP.defaultProps.height),m&&t&&(f=function(e,t,n,r){var a=n.children,i=n.width,s=n.margin,o=i-(s.left||0)-(s.right||0),l=WD({children:a,legendWidth:o});if(l){var c=r||{},d=c.width,u=c.height,m=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==m&&Ny(e[m]))return VD(VD({},e),{},qD({},m,e[m]+(d||0)));if(("horizontal"===h||"vertical"===h&&"center"===m)&&"middle"!==p&&Ny(e[p]))return VD(VD({},e),{},qD({},p,e[p]+(u||0)))}return e}(f,0,n,t));var g=o-f.left-f.right,x=l-f.top-f.bottom;return WI(WI({brushBottom:v},f),{},{width:Math.max(g,0),height:Math.max(x,0)})},nL=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},rL=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,s=e.validateTooltipEventTypes,o=void 0===s?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,m=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,s=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,m=e.barCategoryGap,p=e.maxBarSize,h=eL(d),f=h.numericAxisName,v=h.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Zy(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),x=[];return n.forEach((function(n,h){var y=GI(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:o}),b=void 0!==n.type.defaultProps?WI(WI({},n.type.defaultProps),n.props):n.props,w=b.dataKey,j=b.maxBarSize,N=b["".concat(f,"Id")],_=b["".concat(v,"Id")],S=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||(0,QE.A)(!1);var i=r[a];return WI(WI({},e),{},UI(UI({},n.axisType,i),"".concat(n.axisType,"Ticks"),QD(i)))}),{}),E=S[v],C=S["".concat(v,"Ticks")],D=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?VD(VD({},e.type.defaultProps),e.props):e.props).stackId;if(_y(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[N].stackGroups),T=Zy(n.type).indexOf("Bar")>=0,k=pT(E,C),A=[],P=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},s=Object.keys(a),o=0,l=s.length;o<l;o++)for(var c=a[s[o]].stackGroups,d=Object.keys(c),u=0,m=d.length;u<m;u++){var p=c[d[u]],h=p.items,f=p.cateAxisId,v=h.filter((function(e){return Zy(e.type).indexOf("Bar")>=0}));if(v&&v.length){var g=v[0].type.defaultProps,x=void 0!==g?VD(VD({},g),v[0].props):v[0].props,y=x.barSize,b=x[f];i[b]||(i[b]=[]);var w=Oy()(y)?t:y;i[b].push({item:v[0],stackList:v.slice(1),barSize:Oy()(w)?void 0:Cy(w,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:nL(S,v)});if(T){var O,R,M=Oy()(j)?p:j,I=null!==(O=null!==(R=pT(E,C,!0))&&void 0!==R?R:M)&&void 0!==O?O:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,s=e.maxBarSize,o=i.length;if(o<1)return null;var l,c=Cy(t,r,0,!0),d=[];if(i[0].barSize===+i[0].barSize){var u=!1,m=r/o,p=i.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(o-1)*c)>=r&&(p-=(o-1)*c,c=0),p>=r&&m>0&&(u=!0,p=o*(m*=.9));var h={offset:((r-p)/2|0)-c,size:0};l=i.reduce((function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+c,size:u?m:t.barSize}},r=[].concat($D(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:h})})),r}),d)}else{var f=Cy(n,r,0,!0);r-2*f-(o-1)*c<=0&&(c=0);var v=(r-2*f-(o-1)*c)/o;v>1&&(v>>=0);var g=s===+s?Math.min(v,s):v;l=i.reduce((function(e,t,n){var r=[].concat($D(e),[{item:t.item,position:{offset:f+(v+c)*n+(v-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),d)}return l}({barGap:u,barCategoryGap:m,bandSize:I!==k?I:k,sizeList:P[_],maxBarSize:M}),I!==k&&(A=A.map((function(e){return WI(WI({},e),{},{position:WI(WI({},e.position),{},{offset:e.position.offset-I/2})})})))}var L,F,B=n&&n.type&&n.type.getComposedData;B&&x.push({props:WI(WI({},B(WI(WI({},S),{},{displayedData:y,props:e,dataKey:w,item:n,bandSize:k,barPosition:A,offset:a,stackedData:D,layout:d,dataStartIndex:s,dataEndIndex:o}))),{},UI(UI(UI({key:n.key||"item-".concat(h)},f,S[f]),v,S[v]),"animationId",i)),childIndex:(L=n,F=e.children,eb(F).indexOf(L)),item:n})})),x},p=function(e,t){var a=e.props,i=e.dataStartIndex,s=e.dataEndIndex,o=e.updateId;if(!rb({props:a}))return null;var c=a.children,u=a.layout,p=a.stackOffset,h=a.data,f=a.reverseStackOrder,v=eL(u),g=v.numericAxisName,x=v.cateAxisName,y=tb(c,r),b=function(e,t,n,r,a,i){if(!e)return null;var s=(i?t.reverse():t).reduce((function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?VD(VD({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(i.hide)return e;var o=i[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(_y(s)){var c=l.stackGroups[s]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[Ey("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return VD(VD({},e),{},qD({},o,l))}),{});return Object.keys(s).reduce((function(t,i){var o=s[i];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce((function(t,i){var s=o.stackGroups[i];return VD(VD({},t),{},qD({},i,{numericAxisId:n,cateAxisId:r,items:s.items,stackedData:sT(e,s.items,a)}))}),{})),VD(VD({},t),{},qD({},i,o))}),{})}(h,y,"".concat(g,"Id"),"".concat(x,"Id"),p,f),w=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return WI(WI({},e),{},UI({},n,JI(a,WI(WI({},t),{},{graphicalItems:y,stackGroups:t.axisType===g&&b,dataStartIndex:i,dataEndIndex:s}))))}),{}),j=tL(WI(WI({},w),{},{props:a,graphicalItems:y}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach((function(e){w[e]=d(a,w[e],j,e.replace("Map",""),n)}));var N=function(e){var t=Dy(e),n=QD(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:EE()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:pT(t,n)}}(w["".concat(x,"Map")]),_=m(a,WI(WI({},w),{},{dataStartIndex:i,dataEndIndex:s,updateId:o,graphicalItems:y,stackGroups:b,offset:j}));return WI(WI({formattedGraphicalItems:_,graphicalItems:y,offset:j,stackGroups:b},N),w)},h=function(e){function r(e){var a,i,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),UI(s=PI(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),UI(s,"accessibilityManager",new TM),UI(s,"handleLegendBBoxUpdate",(function(e){if(e){var t=s.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;s.setState(WI({legendBBox:e},p({props:s.props,dataStartIndex:n,dataEndIndex:r,updateId:a},WI(WI({},s.state),{},{legendBBox:e}))))}})),UI(s,"handleReceiveSyncEvent",(function(e,t,n){if(s.props.syncId===e){if(n===s.eventEmitterSymbol&&"function"!==typeof s.props.syncMethod)return;s.applySyncEvent(t)}})),UI(s,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==s.state.dataStartIndex||n!==s.state.dataEndIndex){var r=s.state.updateId;s.setState((function(){return WI({dataStartIndex:t,dataEndIndex:n},p({props:s.props,dataStartIndex:t,dataEndIndex:n,updateId:r},s.state))})),s.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),UI(s,"handleMouseEnter",(function(e){var t=s.getMouseInfo(e);if(t){var n=WI(WI({},t),{},{isTooltipActive:!0});s.setState(n),s.triggerSyncEvent(n);var r=s.props.onMouseEnter;My()(r)&&r(n,e)}})),UI(s,"triggeredAfterMouseMove",(function(e){var t=s.getMouseInfo(e),n=t?WI(WI({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(n),s.triggerSyncEvent(n);var r=s.props.onMouseMove;My()(r)&&r(n,e)})),UI(s,"handleItemMouseEnter",(function(e){s.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),UI(s,"handleItemMouseLeave",(function(){s.setState((function(){return{isTooltipActive:!1}}))})),UI(s,"handleMouseMove",(function(e){e.persist(),s.throttleTriggeredAfterMouseMove(e)})),UI(s,"handleMouseLeave",(function(e){s.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};s.setState(t),s.triggerSyncEvent(t);var n=s.props.onMouseLeave;My()(n)&&n(t,e)})),UI(s,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&Xy[t]?Xy[t]:null}(e),r=xy()(s.props,"".concat(n));n&&My()(r)&&r(null!==(t=/.*touch.*/i.test(n)?s.getMouseInfo(e.changedTouches[0]):s.getMouseInfo(e))&&void 0!==t?t:{},e)})),UI(s,"handleClick",(function(e){var t=s.getMouseInfo(e);if(t){var n=WI(WI({},t),{},{isTooltipActive:!0});s.setState(n),s.triggerSyncEvent(n);var r=s.props.onClick;My()(r)&&r(n,e)}})),UI(s,"handleMouseDown",(function(e){var t=s.props.onMouseDown;My()(t)&&t(s.getMouseInfo(e),e)})),UI(s,"handleMouseUp",(function(e){var t=s.props.onMouseUp;My()(t)&&t(s.getMouseInfo(e),e)})),UI(s,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),UI(s,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseDown(e.changedTouches[0])})),UI(s,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseUp(e.changedTouches[0])})),UI(s,"handleDoubleClick",(function(e){var t=s.props.onDoubleClick;My()(t)&&t(s.getMouseInfo(e),e)})),UI(s,"handleContextMenu",(function(e){var t=s.props.onContextMenu;My()(t)&&t(s.getMouseInfo(e),e)})),UI(s,"triggerSyncEvent",(function(e){void 0!==s.props.syncId&&NM.emit(_M,s.props.syncId,e,s.eventEmitterSymbol)})),UI(s,"applySyncEvent",(function(e){var t=s.props,n=t.layout,r=t.syncMethod,a=s.state.updateId,i=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)s.setState(WI({dataStartIndex:i,dataEndIndex:o},p({props:s.props,dataStartIndex:i,dataEndIndex:o,updateId:a},s.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=s.state,m=u.offset,h=u.tooltipTicks;if(!m)return;if("function"===typeof r)d=r(h,e);else if("value"===r){d=-1;for(var f=0;f<h.length;f++)if(h[f].value===e.activeLabel){d=f;break}}var v=WI(WI({},m),{},{x:m.left,y:m.top}),g=Math.min(l,v.x+v.width),x=Math.min(c,v.y+v.height),y=h[d]&&h[d].value,b=YI(s.state,s.props.data,d),w=h[d]?{x:"horizontal"===n?h[d].coordinate:g,y:"horizontal"===n?x:h[d].coordinate}:VI;s.setState(WI(WI({},e),{},{activeLabel:y,activeCoordinate:w,activePayload:b,activeTooltipIndex:d}))}else s.setState(e)})),UI(s,"renderCursor",(function(e){var r,a=s.state,i=a.isTooltipActive,o=a.activeCoordinate,l=a.activePayload,c=a.offset,d=a.activeTooltipIndex,u=a.tooltipAxisBandSize,m=s.getTooltipEventType(),p=null!==(r=e.props.active)&&void 0!==r?r:i,h=s.props.layout,f=e.key||"_recharts-cursor";return t.createElement(_I,{key:f,activeCoordinate:o,activePayload:l,activeTooltipIndex:d,chartName:n,element:e,isActive:p,layout:h,offset:c,tooltipAxisBandSize:u,tooltipEventType:m})})),UI(s,"renderPolarAxis",(function(e,n,r){var a=xy()(e,"type.axisType"),i=xy()(s.state,"".concat(a,"Map")),o=e.type.defaultProps,l=void 0!==o?WI(WI({},o),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,WI(WI({},c),{},{className:(0,dy.A)(a,c.className),key:e.key||"".concat(n,"-").concat(r),ticks:QD(c,!0)}))})),UI(s,"renderPolarGrid",(function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,i=n.polarRadius,o=s.state,l=o.radiusAxisMap,c=o.angleAxisMap,d=Dy(l),u=Dy(c),m=u.cx,p=u.cy,h=u.innerRadius,f=u.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:QD(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:QD(d,!0).map((function(e){return e.coordinate})),cx:m,cy:p,innerRadius:h,outerRadius:f,key:e.key||"polar-grid",radialLines:r})})),UI(s,"renderLegend",(function(){var e=s.state.formattedGraphicalItems,n=s.props,r=n.children,a=n.width,i=n.height,o=s.props.margin||{},l=a-(o.left||0)-(o.right||0),d=WD({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,m=kI(d,SI);return(0,t.cloneElement)(u,WI(WI({},m),{},{chartWidth:a,chartHeight:i,margin:o,onBBoxUpdate:s.handleLegendBBoxUpdate}))})),UI(s,"renderTooltip",(function(){var e,n=s.props,r=n.children,a=n.accessibilityLayer,i=nb(r,Sk);if(!i)return null;var o=s.state,l=o.isTooltipActive,c=o.activeCoordinate,d=o.activePayload,u=o.activeLabel,m=o.offset,p=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(i,{viewBox:WI(WI({},m),{},{x:m.left,y:m.top}),active:p,label:u,payload:p?d:[],coordinate:c,accessibilityLayer:a})})),UI(s,"renderBrush",(function(e){var n=s.props,r=n.margin,a=n.data,i=s.state,o=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,d=i.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:tT(s.handleBrushChange,e.props.onChange),data:a,x:Ny(e.props.x)?e.props.x:o.left,y:Ny(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(r.bottom||0),width:Ny(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})})),UI(s,"renderReferenceElement",(function(e,n,r){if(!e)return null;var a=s.clipPathId,i=s.state,o=i.xAxisMap,l=i.yAxisMap,c=i.offset,d=e.type.defaultProps||{},u=e.props,m=u.xAxisId,p=void 0===m?d.xAxisId:m,h=u.yAxisId,f=void 0===h?d.yAxisId:h;return(0,t.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:o[p],yAxis:l[f],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})})),UI(s,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,a=e.basePoint,i=e.childIndex,s=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?WI(WI({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=WI(WI({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:YD(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},sb(d,!1)),Vy(d));return o.push(r.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(i))),a?o.push(r.renderActiveDot(d,WI(WI({},u),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):s&&o.push(null),o})),UI(s,"renderGraphicChild",(function(e,n,r){var a=s.filterFormatItem(e,n,r);if(!a)return null;var i=s.getTooltipEventType(),o=s.state,l=o.isTooltipActive,c=o.tooltipAxis,d=o.activeTooltipIndex,u=o.activeLabel,m=nb(s.props.children,Sk),p=a.props,h=p.points,f=p.isRange,v=p.baseLine,g=void 0!==a.item.type.defaultProps?WI(WI({},a.item.type.defaultProps),a.item.props):a.item.props,x=g.activeDot,y=g.hide,b=g.activeBar,w=g.activeShape,j=Boolean(!y&&l&&m&&(x||b||w)),N={};"axis"!==i&&m&&"click"===m.props.trigger?N={onClick:tT(s.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:tT(s.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:tT(s.handleItemMouseEnter,e.props.onMouseEnter)});var _=(0,t.cloneElement)(e,WI(WI({},a.props),N));if(j){if(!(d>=0)){var S,E=(null!==(S=s.getItemByXY(s.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:_}).graphicalItem,C=E.item,D=void 0===C?e:C,T=E.childIndex,k=WI(WI(WI({},a.props),N),{},{activeIndex:T});return[(0,t.cloneElement)(D,k),null,null]}var A,P;if(c.dataKey&&!c.allowDuplicatedCategory){var O="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=ky(h,O,u),P=f&&v&&ky(v,O,u)}else A=null===h||void 0===h?void 0:h[d],P=f&&v&&v[d];if(w||b){var R=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,t.cloneElement)(e,WI(WI(WI({},a.props),N),{},{activeIndex:R})),null,null]}if(!Oy()(A))return[_].concat(II(s.renderActivePoints({item:a,activePoint:A,basePoint:P,childIndex:d,isRange:f})))}return f?[_,null,null]:[_,null]})),UI(s,"renderCustomized",(function(e,n,r){return(0,t.cloneElement)(e,WI(WI({key:"recharts-customized-".concat(r)},s.props),s.state))})),UI(s,"renderMap",{CartesianGrid:{handler:qI,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:qI},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:qI},YAxis:{handler:qI},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Ey("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=my()(s.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),s.state={},s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MI(e,t)}(r,e),a=r,s=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=nb(t,Sk);if(i){var s=i.props.defaultIndex;if(!("number"!==typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=YI(this.state,n,s,o),c=this.state.tooltipTicks[s].coordinate,d=(this.state.offset.top+r)/2,u="horizontal"===a?{x:c,y:d}:{y:c,x:d},m=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));m&&(u=WI(WI({},u),m.props.points[s].tooltipPosition),l=m.props.points[s].tooltipPayload);var p={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){ob([nb(e.children,Sk)],[nb(this.props.children,Sk)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=nb(this.props.children,Sk);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},s=r.width/n.offsetWidth||1,o=this.inRange(i.chartX,i.chartY,s);if(!o)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&d){var u=Dy(c).scale,m=Dy(d).scale,p=u&&u.invert?u.invert(i.chartX):null,h=m&&m.invert?m.invert(i.chartY):null;return WI(WI({},i),{},{xValue:p,yValue:h})}var f=XI(this.state,this.props.data,this.props.layout,o);return f?WI(WI({},i),f):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var s=this.state.offset;return a>=s.left&&a<=s.left+s.width&&i>=s.top&&i<=s.top+s.height?{x:a,y:i}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=Dy(l);return DT({x:a,y:i},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=nb(e,Sk),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),WI(WI({},Vy(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){NM.on(_M,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){NM.removeListener(_M,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var s=r[a];if(s.item===e||s.props.key===e.key||t===Zy(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,n=this.state.offset,r=n.left,a=n.top,i=n.height,s=n.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:r,y:a,height:i,width:s})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=TI(t,2),r=n[0],a=n[1];return WI(WI({},e),{},UI({},r,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=TI(t,2),r=n[0],a=n[1];return WI(WI({},e),{},UI({},r,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var s=n[a],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?WI(WI({},l.type.defaultProps),l.props):l.props,d=Zy(l.type);if("Bar"===d){var u=(o.data||[]).find((function(t){return pP(e,t)}));if(u)return{graphicalItem:s,payload:u}}else if("RadialBar"===d){var m=(o.data||[]).find((function(t){return DT(e,t)}));if(m)return{graphicalItem:s,payload:m}}else if(PO(s,r)||OO(s,r)||RO(s,r)){var p=FO({graphicalItem:s,activeTooltipItem:r,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:WI(WI({},s),{},{childIndex:h}),payload:RO(s,r)?c.data[p]:s.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!rb(this))return null;var n,r,a=this.props,i=a.children,s=a.className,o=a.width,l=a.height,c=a.style,d=a.compact,u=a.title,m=a.desc,p=kI(a,EI),h=sb(p,!1);if(d)return t.createElement(UR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(wC,DI({},h,{width:o,height:l,title:u,desc:m}),this.renderClipPath(),cb(i,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,h.role=null!==(r=this.props.role)&&void 0!==r?r:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return t.createElement(UR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",DI({className:(0,dy.A)("recharts-wrapper",s),style:WI({position:"relative",cursor:"default",width:o,height:l},c)},f,{ref:function(t){e.container=t}}),t.createElement(wC,DI({},h,{width:o,height:l,title:u,desc:m,style:HI}),this.renderClipPath(),cb(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],s&&AI(a.prototype,s),l&&AI(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,s,l}(t.Component);UI(h,"displayName",n),UI(h,"defaultProps",WI({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),UI(h,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var m=QI(e);return WI(WI(WI({},m),{},{updateId:0},p(WI(WI({props:e},m),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!By(c,t.prevMargin)){var h=QI(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},v=WI(WI({},XI(t,r,o)),{},{updateId:t.updateId+1}),g=WI(WI(WI({},h),f),v);return WI(WI(WI({},g),p(WI({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!ob(a,t.prevChildren)){var x,y,b,w,j=nb(a,OP),N=j&&null!==(x=null===(y=j.props)||void 0===y?void 0:y.startIndex)&&void 0!==x?x:d,_=j&&null!==(b=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:u,S=N!==d||_!==u,E=!Oy()(r)&&!S?t.updateId:t.updateId+1;return WI(WI({updateId:E},p(WI(WI({props:e},t),{},{updateId:E,dataStartIndex:N,dataEndIndex:_}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:_})}return null})),UI(h,"renderActiveDot",(function(e,n,r){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):My()(e)?e(n):t.createElement(Tk,n),t.createElement(rC,{className:"recharts-active-dot",key:r},a)}));var f=(0,t.forwardRef)((function(e,n){return t.createElement(h,DI({},e,{ref:n}))}));return f.displayName=h.displayName,f};function aL(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function iL(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),s=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function sL(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function oL(e){return oL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oL(e)}function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lL(Object(n),!0).forEach((function(t){dL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=oL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uL(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!a||!a.length||!r)return[];if(Ny(l)||gb.isSsr)return function(e,t){return aL(e,t+1)}(a,"number"===typeof l&&Ny(l)?l:0);var m=[],p="top"===o||"bottom"===o?"width":"height",h=d&&"width"===p?Sb(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},f=function(e,r){var a=My()(c)?c(e.value,r):e.value;return"width"===p?iL(Sb(a,{fontSize:t,letterSpacing:n}),h,u):Sb(a,{fontSize:t,letterSpacing:n})[p]},v=a.length>=2?wy(a[1].coordinate-a[0].coordinate):1,g=function(e,t,n){var r="width"===n,a=e.x,i=e.y,s=e.width,o=e.height;return 1===t?{start:r?a:i,end:r?a+s:i+o}:{start:r?a+s:i+o,end:r?a:i}}(i,v,p);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,s=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,m=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:aL(r,d)};var i,s=c,m=function(){return void 0===i&&(i=n(t,s)),i},p=t.coordinate,h=0===c||sL(e,p,m,u,l);h||(c=0,u=o,d+=1),h&&(u=p+e*(m()/2+a),c+=d)};d<=s.length;)if(i=m())return i.v;return[]}(v,g,f,a,s):(m="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var s=(r||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var d=r[o-1],u=n(d,o-1),m=e*(d.coordinate+e*u/2-c);s[o-1]=d=cL(cL({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),sL(e,d.tickCoord,(function(){return u}),l,c)&&(c=d.tickCoord-e*(u/2+a),s[o-1]=cL(cL({},d),{},{isShow:!0}))}for(var p=i?o-1:o,h=function(t){var r,i=s[t],o=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var d=e*(i.coordinate-e*o()/2-l);s[t]=i=cL(cL({},i),{},{tickCoord:d<0?i.coordinate-d*e:i.coordinate})}else s[t]=i=cL(cL({},i),{},{tickCoord:i.coordinate});sL(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=cL(cL({},i),{},{isShow:!0}))},f=0;f<p;f++)h(f);return s}(v,g,f,a,s,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(t){var r,c=i[t],d=function(){return void 0===r&&(r=n(c,t)),r};if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);i[t]=c=cL(cL({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else i[t]=c=cL(cL({},c),{},{tickCoord:c.coordinate});sL(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),i[t]=cL(cL({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}(v,g,f,a,s),m.filter((function(e){return e.isShow})))}var mL=["viewBox"],pL=["viewBox"],hL=["ticks"];function fL(e){return fL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fL(e)}function vL(){return vL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vL.apply(this,arguments)}function gL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gL(Object(n),!0).forEach((function(t){SL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yL(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EL(r.key),r)}}function wL(e,t,n){return t=NL(t),function(e,t){if(t&&("object"===fL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jL()?Reflect.construct(t,n||[],NL(e).constructor):t.apply(e,n))}function jL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jL=function(){return!!e})()}function NL(e){return NL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NL(e)}function _L(e,t){return _L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_L(e,t)}function SL(e,t,n){return(t=EL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EL(e){var t=function(e,t){if("object"!=fL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fL(t)?t:t+""}var CL=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=wL(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_L(e,t)}(n,e),r=n,i=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):My()(e)?e(n):t.createElement(ew,vL({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=yL(e,mL),a=this.props,i=a.viewBox,s=yL(a,pL);return!By(n,i)||!By(r,s)||!By(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,s,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,m=o.orientation,p=o.tickSize,h=o.mirror,f=o.tickMargin,v=h?-1:1,g=e.tickSize||p,x=Ny(e.tickCoord)?e.tickCoord:e.coordinate;switch(m){case"top":t=n=e.coordinate,s=(r=(a=c+ +!h*u)-v*g)-v*f,i=x;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!h*d)-v*g)-v*f,s=x;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +h*d)+v*g)+v*f,s=x;break;default:t=n=e.coordinate,s=(r=(a=c+ +h*u)+v*g)+v*f,i=x}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,s=e.orientation,o=e.mirror,l=e.axisLine,c=xL(xL(xL({},sb(this.props,!1)),sb(l,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var d=+("top"===s&&!o||"bottom"===s&&o);c=xL(xL({},c),{},{x1:n,y1:r+d*i,x2:n+a,y2:r+d*i})}else{var u=+("left"===s&&!o||"right"===s&&o);c=xL(xL({},c),{},{x1:n+u*a,y1:r,x2:n+u*a,y2:r+i})}return t.createElement("line",vL({},c,{className:(0,dy.A)("recharts-cartesian-axis-line",xy()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var i=this,s=this.props,o=s.tickLine,l=s.stroke,c=s.tick,d=s.tickFormatter,u=s.unit,m=uL(xL(xL({},this.props),{},{ticks:e}),r,a),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=sb(this.props,!1),v=sb(c,!1),g=xL(xL({},f),{},{fill:"none"},sb(o,!1)),x=m.map((function(e,r){var a=i.getTickLineCoord(e),s=a.line,x=a.tick,y=xL(xL(xL(xL({textAnchor:p,verticalAnchor:h},f),{},{stroke:"none",fill:l},v),x),{},{index:r,payload:e,visibleTicksCount:m.length,tickFormatter:d});return t.createElement(rC,vL({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},qy(i.props,e,r)),o&&t.createElement("line",vL({},g,s,{className:(0,dy.A)("recharts-cartesian-axis-tick-line",xy()(o,"className"))})),c&&n.renderTickItem(c,y,"".concat(My()(d)?d(e.value,r):e.value).concat(u||"")))}));return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,n=this.props,r=n.axisLine,a=n.width,i=n.height,s=n.ticksGenerator,o=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,d=yL(l,hL),u=c;return My()(s)&&(u=c&&c.length>0?s(this.props):s(d)),a<=0||i<=0||!u||!u.length?null:t.createElement(rC,{className:(0,dy.A)("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),WT.renderCallByParent(this.props))}}])&&bL(r.prototype,a),i&&bL(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function DL(e){return DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DL(e)}function TL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ML(r.key),r)}}function kL(e,t,n){return t=PL(t),function(e,t){if(t&&("object"===DL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AL()?Reflect.construct(t,n||[],PL(e).constructor):t.apply(e,n))}function AL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AL=function(){return!!e})()}function PL(e){return PL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PL(e)}function OL(e,t){return OL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OL(e,t)}function RL(e,t,n){return(t=ML(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ML(e){var t=function(e,t){if("object"!=DL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DL(t)?t:t+""}function IL(){return IL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IL.apply(this,arguments)}function LL(e){var n=e.xAxisId,r=HR(),a=VR(),i=$R(n);return null==i?null:t.createElement(CL,IL({},i,{className:(0,dy.A)("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return QD(e,!0)}}))}SL(CL,"displayName","CartesianAxis"),SL(CL,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FL=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),kL(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OL(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(LL,this.props)}}])&&TL(r.prototype,a),i&&TL(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);function BL(e){return BL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BL(e)}function WL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qL(r.key),r)}}function UL(e,t,n){return t=zL(t),function(e,t){if(t&&("object"===BL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$L()?Reflect.construct(t,n||[],zL(e).constructor):t.apply(e,n))}function $L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($L=function(){return!!e})()}function zL(e){return zL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zL(e)}function HL(e,t){return HL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HL(e,t)}function VL(e,t,n){return(t=qL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qL(e){var t=function(e,t){if("object"!=BL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BL(t)?t:t+""}function GL(){return GL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GL.apply(this,arguments)}RL(FL,"displayName","XAxis"),RL(FL,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var KL=function(e){var n=e.yAxisId,r=HR(),a=VR(),i=zR(n);return null==i?null:t.createElement(CL,GL({},i,{className:(0,dy.A)("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return QD(e,!0)}}))},YL=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),UL(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HL(e,t)}(n,e),r=n,(a=[{key:"render",value:function(){return t.createElement(KL,this.props)}}])&&WL(r.prototype,a),i&&WL(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.Component);VL(YL,"displayName","YAxis"),VL(YL,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var XL=rL({chartName:"BarChart",GraphicalChild:lR,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:FL},{axisType:"yAxis",AxisComp:YL}],formatAxisMap:function(e,t,n,r,a){var i=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},u=!!nb(l,lR);return c.reduce((function(i,s){var l,c,m,p,h,f=t[s],v=f.orientation,g=f.domain,x=f.padding,y=void 0===x?{}:x,b=f.mirror,w=f.reversed,j="".concat(v).concat(b?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=g[1]-g[0],_=1/0,S=f.categoricalDomain.sort();if(S.forEach((function(e,t){t>0&&(_=Math.min((e||0)-(S[t-1]||0),_))})),Number.isFinite(_)){var E=_/N,C="vertical"===f.layout?n.height:n.width;if("gap"===f.padding&&(l=E*C/2),"no-gap"===f.padding){var D=Cy(e.barCategoryGap,E*C),T=E*C/2;l=T-D-(T-D)/C*D}}}c="xAxis"===r?[n.left+(y.left||0)+(l||0),n.left+n.width-(y.right||0)-(l||0)]:"yAxis"===r?"horizontal"===o?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(l||0),n.top+n.height-(y.bottom||0)-(l||0)]:f.range,w&&(c=[c[1],c[0]]);var k=nT(f,a,u),A=k.scale,P=k.realScaleType;A.domain(g).range(c),aT(A);var O=oT(A,mR(mR({},f),{},{realScaleType:P}));"xAxis"===r?(h="top"===v&&!b||"bottom"===v&&b,m=n.left,p=d[j]-h*f.height):"yAxis"===r&&(h="left"===v&&!b||"right"===v&&b,m=d[j]-h*f.width,p=n.top);var R=mR(mR(mR({},f),O),{},{realScaleType:P,x:m,y:p,scale:A,width:"xAxis"===r?n.width:f.width,height:"yAxis"===r?n.height:f.height});return R.bandSize=pT(R,O),f.hide||"xAxis"!==r?f.hide||(d[j]+=(h?-1:1)*R.width):d[j]+=(h?-1:1)*R.height,mR(mR({},i),{},pR({},s,R))}),{})}}),ZL=["points","className","baseLinePoints","connectNulls"];function JL(){return JL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JL.apply(this,arguments)}function QL(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eF(e){return function(e){if(Array.isArray(e))return tF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nF=function(e){return e&&e.x===+e.x&&e.y===+e.y},rF=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){nF(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),nF(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(eF(e),eF(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},aF=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=QL(e,ZL);if(!n||!n.length)return null;var o=(0,dy.A)("recharts-polygon",r);if(a&&a.length){var l=s.stroke&&"none"!==s.stroke,c=function(e,t,n){var r=rF(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(rF(t.reverse(),n).slice(1))}(n,a,i);return t.createElement("g",{className:o},t.createElement("path",JL({},sb(s,!0),{fill:"Z"===c.slice(-1)?s.fill:"none",stroke:"none",d:c})),l?t.createElement("path",JL({},sb(s,!0),{fill:"none",d:rF(n,i)})):null,l?t.createElement("path",JL({},sb(s,!0),{fill:"none",d:rF(a,i)})):null)}var d=rF(n,i);return t.createElement("path",JL({},sb(s,!0),{fill:"Z"===d.slice(-1)?s.fill:"none",className:o,d:d}))};function iF(e){return iF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iF(e)}function sF(){return sF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sF.apply(this,arguments)}function oF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oF(Object(n),!0).forEach((function(t){hF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fF(r.key),r)}}function dF(e,t,n){return t=mF(t),function(e,t){if(t&&("object"===iF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uF()?Reflect.construct(t,n||[],mF(e).constructor):t.apply(e,n))}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uF=function(){return!!e})()}function mF(e){return mF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mF(e)}function pF(e,t){return pF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pF(e,t)}function hF(e,t,n){return(t=fF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fF(e){var t=function(e,t){if("object"!=iF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iF(t)?t:t+""}var vF=Math.PI/180,gF=1e-5,xF=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),dF(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pF(e,t)}(n,e),r=n,i=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):My()(e)?e(n):t.createElement(ew,sF({},n,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(a=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,a=t.radius,i=t.orientation,s=t.tickSize||8,o=_T(n,r,a,e.coordinate),l=_T(n,r,a+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*vF);return n>gF?"outer"===t?"start":"end":n<-1e-5?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.cx,r=e.cy,a=e.radius,i=e.axisLine,s=e.axisLineType,o=lF(lF({},sb(this.props,!1)),{},{fill:"none"},sb(i,!1));if("circle"===s)return t.createElement(Tk,sF({className:"recharts-polar-angle-axis-line"},o,{cx:n,cy:r,r:a}));var l=this.props.ticks.map((function(e){return _T(n,r,a,e.coordinate)}));return t.createElement(aF,sF({className:"recharts-polar-angle-axis-line"},o,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,i=r.tick,s=r.tickLine,o=r.tickFormatter,l=r.stroke,c=sb(this.props,!1),d=sb(i,!1),u=lF(lF({},c),{},{fill:"none"},sb(s,!1)),m=a.map((function(r,a){var m=e.getTickLineCoord(r),p=lF(lF(lF({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},d),{},{index:a,payload:r,x:m.x2,y:m.y2});return t.createElement(rC,sF({className:(0,dy.A)("recharts-polar-angle-axis-tick",TT(i)),key:"tick-".concat(r.coordinate)},qy(e.props,r,a)),s&&t.createElement("line",sF({className:"recharts-polar-angle-axis-tick-line"},u,m)),i&&n.renderTickItem(i,p,o?o(r.value,a):r.value))}));return t.createElement(rC,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var e=this.props,n=e.ticks,r=e.radius,a=e.axisLine;return r<=0||!n||!n.length?null:t.createElement(rC,{className:(0,dy.A)("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}])&&cF(r.prototype,a),i&&cF(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);hF(xF,"displayName","PolarAngleAxis"),hF(xF,"axisType","angleAxis"),hF(xF,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yF=__webpack_require__(2794),bF=__webpack_require__.n(yF),wF=__webpack_require__(9364),jF=__webpack_require__.n(wF),NF=["cx","cy","angle","ticks","axisLine"],_F=["ticks","tick","angle","tickFormatter","stroke"];function SF(e){return SF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SF(e)}function EF(){return EF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EF.apply(this,arguments)}function CF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CF(Object(n),!0).forEach((function(t){MF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TF(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IF(r.key),r)}}function AF(e,t,n){return t=OF(t),function(e,t){if(t&&("object"===SF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PF()?Reflect.construct(t,n||[],OF(e).constructor):t.apply(e,n))}function PF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PF=function(){return!!e})()}function OF(e){return OF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OF(e)}function RF(e,t){return RF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RF(e,t)}function MF(e,t,n){return(t=IF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IF(e){var t=function(e,t){if("object"!=SF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SF(t)?t:t+""}var LF,FF=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),AF(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RF(e,t)}(n,e),r=n,i=[{key:"renderTickItem",value:function(e,n,r){return t.isValidElement(e)?t.cloneElement(e,n):My()(e)?e(n):t.createElement(ew,EF({},n,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(a=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,a=n.cx,i=n.cy;return _T(a,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=bF()(a,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:jF()(a,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,n=e.cx,r=e.cy,a=e.angle,i=e.ticks,s=e.axisLine,o=TF(e,NF),l=i.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=_T(n,r,l[0],a),d=_T(n,r,l[1],a),u=DF(DF(DF({},sb(o,!1)),{},{fill:"none"},sb(s,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return t.createElement("line",EF({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,i=r.tick,s=r.angle,o=r.tickFormatter,l=r.stroke,c=TF(r,_F),d=this.getTickTextAnchor(),u=sb(c,!1),m=sb(i,!1),p=a.map((function(r,a){var c=e.getTickValueCoord(r),p=DF(DF(DF(DF({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(c.x,", ").concat(c.y,")")},u),{},{stroke:"none",fill:l},m),{},{index:a},c),{},{payload:r});return t.createElement(rC,EF({className:(0,dy.A)("recharts-polar-radius-axis-tick",TT(i)),key:"tick-".concat(r.coordinate)},qy(e.props,r,a)),n.renderTickItem(i,p,o?o(r.value,a):r.value))}));return t.createElement(rC,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,n=e.ticks,r=e.axisLine,a=e.tick;return n&&n.length?t.createElement(rC,{className:(0,dy.A)("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),a&&this.renderTicks(),WT.renderCallByParent(this.props,this.getViewBox())):null}}])&&kF(r.prototype,a),i&&kF(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);function BF(e){return BF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BF(e)}function WF(){return WF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WF.apply(this,arguments)}function UF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UF(Object(n),!0).forEach((function(t){KF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YF(r.key),r)}}function HF(e,t,n){return t=qF(t),function(e,t){if(t&&("object"===BF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VF()?Reflect.construct(t,n||[],qF(e).constructor):t.apply(e,n))}function VF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(VF=function(){return!!e})()}function qF(e){return qF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qF(e)}function GF(e,t){return GF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GF(e,t)}function KF(e,t,n){return(t=YF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YF(e){var t=function(e,t){if("object"!=BF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BF(t)?t:t+""}MF(FF,"displayName","PolarRadiusAxis"),MF(FF,"axisType","radiusAxis"),MF(FF,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var XF=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),KF(t=HF(this,n,[e]),"pieRef",null),KF(t,"sectorRefs",[]),KF(t,"id",Ey("recharts-pie-")),KF(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),My()(e)&&e()})),KF(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),My()(e)&&e()})),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GF(e,t)}(n,e),r=n,i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,n,r){if(t.isValidElement(e))return t.cloneElement(e,n);if(My()(e))return e(n);var a=(0,dy.A)("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(cI,WF({},n,{key:r,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,n,r){if(t.isValidElement(e))return t.cloneElement(e,n);var a=r;if(My()(e)&&(a=e(n),t.isValidElement(a)))return a;var i=(0,dy.A)("recharts-pie-label-text","boolean"===typeof e||My()(e)?"":e.className);return t.createElement(ew,WF({},n,{alignmentBaseline:"middle",className:i}),a)}}],(a=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.label,i=r.labelLine,s=r.dataKey,o=r.valueKey,l=sb(this.props,!1),c=sb(a,!1),d=sb(i,!1),u=a&&a.offsetRadius||20,m=e.map((function(e,r){var m=(e.startAngle+e.endAngle)/2,p=_T(e.cx,e.cy,e.outerRadius+u,m),h=$F($F($F($F({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:n.getTextAnchor(p.x,e.cx)},p),f=$F($F($F($F({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[_T(e.cx,e.cy,e.outerRadius,m),p]}),v=s;return Oy()(s)&&Oy()(o)?v="value":Oy()(s)&&(v=o),t.createElement(rC,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},i&&n.renderLabelLineItem(i,f,"line"),n.renderLabelItem(a,h,GD(e,v)))}));return t.createElement(rC,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(e){var n=this,r=this.props,a=r.activeShape,i=r.blendStroke,s=r.inactiveShape;return e.map((function(r,o){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=n.isActiveIndex(o),c=s&&n.hasActiveIndex()?s:null,d=l?a:c,u=$F($F({},r),{},{stroke:i?r.fill:r.stroke,tabIndex:-1});return t.createElement(rC,WF({ref:function(e){e&&!n.sectorRefs.includes(e)&&n.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},qy(n.props,r,o),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(o)}),t.createElement(AO,WF({option:d,isActive:l,shapeType:"sector"},u)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,n=this.props,r=n.sectors,a=n.isAnimationActive,i=n.animationBegin,s=n.animationDuration,o=n.animationEasing,l=n.animationId,c=this.state,d=c.prevSectors,u=c.prevIsAnimationActive;return t.createElement(aP,{begin:i,duration:s,isActive:a,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(n){var a=n.t,i=[],s=(r&&r[0]).startAngle;return r.forEach((function(e,t){var n=d&&d[t],r=t>0?xy()(e,"paddingAngle",0):0;if(n){var o=Ty(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=$F($F({},e),{},{startAngle:s+r,endAngle:s+o(a)+r});i.push(l),s=l.endAngle}else{var c=e.endAngle,u=e.startAngle,m=Ty(0,c-u)(a),p=$F($F({},e),{},{startAngle:s+r,endAngle:s+m+r});i.push(p),s=p.endAngle}})),t.createElement(rC,null,e.renderSectorsStatically(i))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&_E()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,n=this.props,r=n.hide,a=n.sectors,i=n.className,s=n.label,o=n.cx,l=n.cy,c=n.innerRadius,d=n.outerRadius,u=n.isAnimationActive,m=this.state.isAnimationFinished;if(r||!a||!a.length||!Ny(o)||!Ny(l)||!Ny(c)||!Ny(d))return null;var p=(0,dy.A)("recharts-pie",i);return t.createElement(rC,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),s&&this.renderLabels(a),WT.renderCallByParent(this.props,null,!1),(!u||m)&&QP.renderCallByParent(this.props,a,!1))}}])&&zF(r.prototype,a),i&&zF(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(t.PureComponent);LF=XF,KF(XF,"displayName","Pie"),KF(XF,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gb.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),KF(XF,"parseDeltaAngle",(function(e,t){return wy(t-e)*Math.min(Math.abs(t-e),360)})),KF(XF,"getRealPieData",(function(e){var t=e.data,n=e.children,r=sb(e,!1),a=tb(n,BP);return t&&t.length?t.map((function(e,t){return $F($F($F({payload:e},r),e),a&&a[t]&&a[t].props)})):a&&a.length?a.map((function(e){return $F($F({},r),e.props)})):[]})),KF(XF,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,s=ST(a,i);return{cx:r+Cy(e.cx,a,a/2),cy:n+Cy(e.cy,i,i/2),innerRadius:Cy(e.innerRadius,s,0),outerRadius:Cy(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}})),KF(XF,"getComposedData",(function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?$F($F({},t.type.defaultProps),t.props):t.props,a=LF.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,u=r.valueKey,m=r.tooltipType,p=Math.abs(r.minAngle),h=LF.parseCoordinateOfPie(r,n),f=LF.parseDeltaAngle(s,o),v=Math.abs(f),g=c;Oy()(c)&&Oy()(u)?(Ay(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):Oy()(c)&&(Ay(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=u);var x,y,b=a.filter((function(e){return 0!==GD(e,g,0)})).length,w=v-b*p-(v>=360?b:b-1)*l,j=a.reduce((function(e,t){var n=GD(t,g,0);return e+(Ny(n)?n:0)}),0);j>0&&(x=a.map((function(e,t){var n,r=GD(e,g,0),a=GD(e,d,t),o=(Ny(r)?r:0)/j,c=(n=t?y.endAngle+wy(f)*l*(0!==r?1:0):s)+wy(f)*((0!==r?p:0)+o*w),u=(n+c)/2,v=(h.innerRadius+h.outerRadius)/2,x=[{name:a,value:r,payload:e,dataKey:g,type:m}],b=_T(h.cx,h.cy,v,u);return y=$F($F($F({percent:o,cornerRadius:i,name:a,tooltipPayload:x,midAngle:u,middleRadius:v,tooltipPosition:b},e),h),{},{value:GD(e,g),startAngle:n,endAngle:c,payload:e,paddingAngle:wy(f)*l})})));return $F($F({},h),{},{sectors:x,data:a})}));var ZF=rL({chartName:"PieChart",GraphicalChild:XF,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xF},{axisType:"radiusAxis",AxisComp:FF}],formatAxisMap:function(e,t,n,r,a){var i=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=Cy(e.cx,i,i/2),d=Cy(e.cy,s,s/2),u=ST(i,s,n),m=Cy(e.innerRadius,u,0),p=Cy(e.outerRadius,u,.8*u);return Object.keys(t).reduce((function(e,n){var i,s=t[n],u=s.domain,h=s.reversed;if(Oy()(s.range))"angleAxis"===r?i=[o,l]:"radiusAxis"===r&&(i=[m,p]),h&&(i=[i[1],i[0]]);else{var f=bT(i=s.range,2);o=f[0],l=f[1]}var v=nT(s,a),g=v.realScaleType,x=v.scale;x.domain(u).range(i),aT(x);var y=oT(x,xT(xT({},s),{},{realScaleType:g})),b=xT(xT(xT({},s),y),{},{range:i,radius:p,realScaleType:g,scale:x,cx:c,cy:d,innerRadius:m,outerRadius:p,startAngle:o,endAngle:l});return xT(xT({},e),{},yT({},n,b))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function JF(e,t){return+(0,ec.a)(e)===+(0,ec.a)(t)}const QF=()=>{const e=vo("(max-width: 767px)"),[n,r]=(0,t.useState)("Today"),[i,s]=(0,t.useState)({from:null,to:null}),o=(0,a.Zp)(),l=(0,w.wA)(),{dashboardData:c,dashboardDataStatus:d,items:u,itemsStatus:m}=(0,w.d4)((e=>e.pharmacy)),p=(0,t.useMemo)((()=>u.reduce(((e,t)=>e+t.quantity),0)),[u]),h=(0,t.useMemo)((()=>{if("Custom"===n)return{currentValue:c,previousValue:[]};const e=(0,M.SM)(n),t=new Date(e.from),r=new Date(e.to);let a,i;"Today"===n||"Yesterday"===n?(a=(0,Jl.o)((0,lc.e)(t,1)),i=(0,Ql.D)((0,lc.e)(r,1))):"This Week"===n?(a=(0,nc.k)((0,lc.e)(t,7)),i=(0,rc.$)((0,lc.e)(r,7))):"This Month"===n?(a=(0,cc.w)((0,lc.e)(t,30)),i=(0,dc.p)((0,lc.e)(r,30))):(a=null,i=null);return{currentValue:c.filter((e=>tc(new Date(e._id),{start:t,end:r}))),previousValue:a&&i?c.filter((e=>tc(new Date(e._id),{start:a,end:i}))):[]}}),[c,n]),f=(0,t.useMemo)((()=>h.previousValue.reduce(((e,t)=>({totalRevenue:e.totalRevenue+t.totalRevenue,totalCount:e.totalCount+t.totalCount})),{totalRevenue:0,totalCount:0})),[h]),v=(0,t.useMemo)((()=>h.currentValue.reduce(((e,t)=>(e.totalRevenue+=t.totalRevenue,e.totalPrescriptions+=t.totalCount,t.paymentMethods.forEach((t=>{const n=t.method||"Others";e.paymentMethods[n]||(e.paymentMethods[n]=0),e.paymentMethods[n]+=parseInt(t.amount)})),e)),{totalRevenue:0,totalPrescriptions:0,paymentMethods:{}})),[h]),g=(0,t.useMemo)((()=>{const e={Cash:"hsl(var(--chart-1))",UPI:"hsl(var(--chart-2))",Card:"hsl(var(--chart-3))",Others:"hsl(var(--chart-4))"};return Object.entries(v.paymentMethods).map((t=>{let[n,r]=t;return{method:n,value:r,fill:e[n]||"hsl(var(--chart-4))"}}))}),[v]),x=(0,t.useMemo)((()=>{const e=(0,Jl.o)(new Date),t=Array.from({length:7},((t,n)=>{const r=(0,lc.e)(e,6-n);return{date:r,formattedDate:(0,fo.GP)(r,"EEE"),sales:0,prescriptions:0}}));return c.forEach((e=>{const n=(0,Jl.o)(new Date(e._id)),r=t.findIndex((e=>JF(e.date,n)));-1!==r&&(t[r].sales=parseInt(e.totalRevenue),t[r].prescriptions=e.totalCount)})),t}),[h]);(0,t.useEffect)((()=>{if("idle"===d){const e=(0,M.SM)("Last 7 Days");b(e)}"idle"===m&&l((0,it.LN)())}),[d,l,m]);const y=e=>{if(r(e),"Custom"!==e){let t;t="Today"===e||"Yesterday"===e?(0,M.SM)("Last 7 Days"):"This Week"===e?(0,M.SM)("This Week Fetched"):"This Month"===e?(0,M.SM)("This Month Fetched"):(0,M.SM)(e),b(t)}},b=e=>{const t={startDate:new Date(e.from).toISOString(),endDate:new Date(e.to).toISOString()};l((0,it.E0)(t))};return(0,X.jsxs)("div",{children:[(0,X.jsxs)("div",{className:"flex justify-between items-center bg-gray-100 pr-2",children:[(0,X.jsxs)("div",{className:"flex items-center p-1 space-x-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"text-gray-600",children:(0,X.jsx)(Li,{className:"h-4 w-4"})}),(0,X.jsx)(_x.A,{className:"h-3 w-3 text-gray-400"}),(0,X.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Pharmacy Dashboard"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-4",children:["Custom"===n&&(0,X.jsx)(M.Ur,{from:i.from,to:i.to,onSelect:e=>s(e),onSearch:()=>{r("Custom"),b(i)},onCancel:()=>{s({from:null,to:null}),r("Today")}}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",size:"sm",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"All"===n?"All Time":n]})}),(0,X.jsxs)(pi,{align:"end",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>y("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>y("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>y("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>y("This Month"),children:"This Month"}),(0,X.jsx)(hi,{onSelect:()=>y("All"),children:"All Time"}),(0,X.jsx)(hi,{onClick:()=>y("Custom"),children:"Custom Range"})]})]})]})]}),(0,X.jsxs)("div",{className:"space-y-4 mt-2 mx-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,X.jsxs)("div",{className:"col-span-1 md:col-span-3",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[(0,X.jsx)(k.Zp,{className:"bg-blue-100 col-span-1",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)(Ai,{className:"w-8 h-8 text-blue-600 mb-2"}),(0,X.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:v.totalPrescriptions}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Prescriptions Filled"}),(0,X.jsxs)("p",{className:"text-xs mt-1 "+((0,M.tP)(v.totalPrescriptions,f.totalCount)>=0?"text-green-600":"text-red-600"),children:[(0,M.tP)(v.totalPrescriptions,f.totalCount),"% from previous period"]})]})}),(0,X.jsx)(k.Zp,{className:"bg-green-100 col-span-1",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)(gx,{className:"w-8 h-8 text-green-600 mb-2"}),(0,X.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20b9",parseInt(v.totalRevenue).toLocaleString()]}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Today's Revenue"}),(0,X.jsxs)("p",{className:"text-xs mt-1 "+((0,M.tP)(v.totalRevenue,f.totalRevenue)>=0?"text-green-600":"text-red-600"),children:[(0,M.tP)(v.totalRevenue,f.totalRevenue),"% from previous period"]})]})}),!e&&(0,X.jsx)(k.Zp,{className:"bg-yellow-100 col-span-1",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)(Gx,{className:"w-8 h-8 text-yellow-600 mb-2"}),(0,X.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:p.toLocaleString()}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Items in Stock"})]})})]}),e&&(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,X.jsx)(k.Zp,{className:"bg-yellow-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)(Gx,{className:"w-8 h-8 text-yellow-600 mb-2"}),(0,X.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:p.toLocaleString()}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Items in Stock"})]})}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Quick Actions"})}),(0,X.jsxs)(k.Wu,{className:"grid grid-cols-1 gap-2 px-3",children:[(0,X.jsxs)(j.$,{className:"w-full justify-center",variant:"outline",onClick:()=>o("/pharmacy/sales"),children:[(0,X.jsx)(ki,{className:"mr-2 h-4 w-4"}),"Sales"]}),(0,X.jsxs)(j.$,{className:"w-full justify-center",variant:"outline",onClick:()=>o("/pharmacy/items-master"),children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"Inventory"]}),(0,X.jsxs)(j.$,{className:"w-full justify-center",variant:"outline",onClick:()=>o("/pharmacy/reports"),children:[(0,X.jsx)(Zl,{className:"mr-2 h-4 w-4"}),"Reports"]})]})]})]}),!e&&(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Quick Actions"})}),(0,X.jsxs)(k.Wu,{className:"grid grid-cols-3 gap-4",children:[(0,X.jsxs)(j.$,{className:"w-full justify-center",variant:"outline",onClick:()=>o("/pharmacy/sales"),children:[(0,X.jsx)(ki,{className:"mr-2 h-4 w-4"}),"Pharmacy Sales"]}),(0,X.jsxs)(j.$,{className:"w-full justify-center",variant:"outline",onClick:()=>o("/pharmacy/items-master"),children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"Manage Inventory"]}),(0,X.jsxs)(j.$,{className:"w-full justify-center",variant:"outline",onClick:()=>o("/pharmacy/reports"),children:[(0,X.jsx)(Zl,{className:"mr-2 h-4 w-4"}),"View Reports"]})]})]})]}),(0,X.jsxs)(k.Zp,{className:"col-span-1",children:[(0,X.jsxs)(k.aR,{className:"pb-0",children:[(0,X.jsx)(k.ZB,{children:"Payment Methods"}),(0,X.jsx)(k.BT,{children:"Distribution of payment methods used"})]}),(0,X.jsx)(k.Wu,{children:g.length>0?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{className:"h-[180px]",children:(0,X.jsx)(vb,{width:"100%",height:"100%",children:(0,X.jsxs)(ZF,{children:[(0,X.jsxs)(XF,{data:g,dataKey:"value",nameKey:"method",cx:"50%",cy:"50%",innerRadius:45,outerRadius:85,paddingAngle:1,children:[g.map(((e,t)=>(0,X.jsx)(BP,{fill:e.fill},`cell-${t}`))),(0,X.jsx)(WT,{content:e=>{let{viewBox:t}=e;const{cx:n,cy:r}=t;return(0,X.jsxs)("text",{x:n,y:r,textAnchor:"middle",dominantBaseline:"central",children:[(0,X.jsxs)("tspan",{x:n,y:r,className:"text-xl font-bold",children:["\u20b9",parseInt(v.totalRevenue).toLocaleString()]}),(0,X.jsx)("tspan",{x:n,y:r+15,className:"text-xs",children:"Total"})]})}})]}),(0,X.jsx)(Sk,{})]})})}),(0,X.jsx)("div",{className:"mt-0 flex justify-center space-x-4",children:g.map(((e,t)=>(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)("div",{className:"w-3 h-3 mr-1",style:{backgroundColor:e.fill}}),(0,X.jsx)("span",{className:"text-xs",children:e.method})]},t)))})]}):(0,X.jsxs)("div",{className:"h-[180px] flex flex-col items-center justify-center text-gray-500",children:[(0,X.jsx)(bo,{className:"w-12 h-12 mb-2"}),(0,X.jsx)("p",{className:"text-sm",children:"No payment data available"})]})})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{children:[(0,X.jsx)(k.ZB,{children:"Weekly Performance"}),(0,X.jsx)(k.BT,{children:"Sales and prescriptions filled in the last 7 days"})]}),(0,X.jsx)(k.Wu,{children:(0,X.jsx)("div",{className:"h-[300px] sm:h-[400px] md:h-[300px]",children:(0,X.jsx)(vb,{width:"100%",height:"100%",children:(0,X.jsxs)(XL,{data:x,children:[(0,X.jsx)(FL,{dataKey:"formattedDate"}),(0,X.jsx)(YL,{yAxisId:"left",orientation:"left",stroke:"#3b82f6"}),(0,X.jsx)(YL,{yAxisId:"right",orientation:"right",stroke:"#10b981"}),(0,X.jsx)(Sk,{}),(0,X.jsx)(MD,{}),(0,X.jsx)(lR,{yAxisId:"left",dataKey:"sales",fill:"#3b82f6",name:"Sales (\u20b9)"}),(0,X.jsx)(lR,{yAxisId:"right",dataKey:"prescriptions",fill:"#10b981",name:"Prescriptions"})]})})})})]})]})]})},eB=(0,N.A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),tB=()=>(0,X.jsxs)("div",{className:"hidden print:block mb-4",children:[(0,X.jsx)("h1",{className:"text-2xl font-bold text-center",children:"Your Pharmacy Name"}),(0,X.jsx)("p",{className:"text-center",children:"123 Pharmacy Street, City, Country"}),(0,X.jsx)("p",{className:"text-center",children:"Phone: (123) 456-7890"})]});function nB(e){var n;let{order:r,isOpen:a,setIsOpen:i}=e;const s=(0,t.useRef)(),[o,l]=(0,t.useState)(!1),c=(0,yn.useReactToPrint)({content:()=>s.current,onBeforeGetContent:()=>(l(!0),new Promise((e=>{setTimeout((()=>{l(!1),e()}),0)}))),pageStyle:"\n      @media print {\n        @page {\n          size: auto;\n          margin: 0;\n        }\n        body {\n          padding: 10mm;\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n      }\n    "});if(!r)return null;const d=r.totalAmount,u=r.subtotal-r.totalAmount,m=r.paidAmount,p=d-m;return(0,X.jsx)(so.lG,{open:a,onOpenChange:i,children:(0,X.jsx)(so.Cf,{className:"max-w-4xl max-h-[70vh] overflow-y-auto p-6",children:(0,X.jsxs)("div",{ref:s,className:o?"print-content":"",children:[(0,X.jsx)(tB,{}),(0,X.jsx)("div",{className:"no-print",children:(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{className:"text-lg font-bold",children:"Order Details"})})}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{className:"py-2 flex flex-row justify-between items-center",children:[(0,X.jsx)(k.ZB,{className:"text-base",children:"Order Summary"}),(0,X.jsx)("div",{className:"flex space-x-2",children:(0,X.jsx)(go.E,{variant:p<=0?"success":m>0?"warning":"destructive",children:p<=0?"Paid":m>0?"Partially Paid":"Due"})})]}),(0,X.jsx)(k.Wu,{className:"grid grid-cols-1 gap-2 py-2",children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(Gx,{className:"w-5 h-5 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Order ID:"}),(0,X.jsxs)("span",{children:["ORD",r._id.slice(-5)]})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(po,{className:"w-5 h-5 text-gray-500"}),(0,X.jsx)("span",{className:"font-semibold",children:"Order Date:"}),(0,X.jsx)("span",{children:(0,M.Yq)(r.orderDate)})]})]})})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{className:"py-2",children:(0,X.jsx)(k.ZB,{className:"text-base",children:"Payment"})}),(0,X.jsx)(k.Wu,{className:"py-2",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"text-xs",children:"Payment ID"}),(0,X.jsx)(uo.nd,{className:"text-xs text-right",children:"Amount"}),(0,X.jsx)(uo.nd,{className:"text-xs",children:"Date"})]})}),(0,X.jsx)(uo.BF,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-sm py-1",children:null===r||void 0===r||null===(n=r.payment)||void 0===n?void 0:n._id.slice(-5)}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1 text-right",children:["\u20b9",r.payment.amount.toFixed(2).toLocaleString()]}),(0,X.jsx)(uo.nA,{className:"text-sm py-1",children:(0,M.Yq)(r.payment.createdAt)})]})})]})})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{className:"py-2",children:(0,X.jsx)(k.ZB,{className:"text-base",children:"Order Items"})}),(0,X.jsx)(k.Wu,{className:"py-2",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"text-xs",children:"Item Name"}),(0,X.jsx)(uo.nd,{className:"text-xs",children:"Type"}),(0,X.jsx)(uo.nd,{className:"text-xs",children:"Quantity"}),(0,X.jsx)(uo.nd,{className:"text-xs",children:"MRP"}),(0,X.jsx)(uo.nd,{className:"text-xs",children:"Discount"}),(0,X.jsx)(uo.nd,{className:"text-xs",children:"Total"}),(0,X.jsx)(uo.nd,{className:"text-xs ",children:"Expiry Date"})]})}),(0,X.jsx)(uo.BF,{children:r.items&&r.items.map(((e,t)=>{var n,r;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-sm py-1 capitalize",children:(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.name)||"Deleted Item"}),(0,X.jsx)(uo.nA,{className:"text-sm py-1 capitalize",children:(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.type)||"N/A"}),(0,X.jsx)(uo.nA,{className:"text-sm py-1",children:(null===e||void 0===e?void 0:e.quantity.toLocaleString())||"N/A"}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1",children:["\u20b9",(null===e||void 0===e?void 0:e.MRP.toFixed(2).toLocaleString())||"N/A"]}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1",children:[null===e||void 0===e?void 0:e.discount,"%"]}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1",children:["\u20b9",((null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.MRP)*(1-(null===e||void 0===e?void 0:e.discount)/100)).toLocaleString()||"N/A"]}),(0,X.jsx)(uo.nA,{className:"text-sm py-1",children:(0,M.Yq)(null===e||void 0===e?void 0:e.expiryDate)||"N/A"})]},t)}))})]})})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{className:"py-2",children:(0,X.jsx)(k.ZB,{className:"text-base",children:"Order Total"})}),(0,X.jsx)(k.Wu,{className:"py-2",children:(0,X.jsx)(uo.XI,{children:(0,X.jsxs)(uo.BF,{children:[(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-sm py-1 font-semibold",children:"Subtotal:"}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1 text-right",children:["\u20b9",r.subtotal.toLocaleString()]})]}),(0,X.jsxs)(uo.Hj,{children:[(0,X.jsxs)(uo.nA,{className:"text-sm py-1 font-semibold",children:["Total Discount (",(u/r.subtotal*100).toFixed(2),"%):"]}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1 text-right",children:["\u20b9",u.toLocaleString()]})]}),(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-sm py-1 font-semibold",children:"Total Amount:"}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1 text-right",children:["\u20b9",d.toLocaleString()]})]}),(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-sm py-1 font-semibold",children:"Total Amount Paid:"}),(0,X.jsxs)(uo.nA,{className:"text-sm py-1 text-right",children:["\u20b9",m.toLocaleString()]})]}),(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-base py-1 font-semibold",children:"Remaining Amount to be Paid:"}),(0,X.jsxs)(uo.nA,{className:"text-base py-1 text-right font-bold",children:["\u20b9",p.toLocaleString()]})]})]})})})]}),(0,X.jsxs)("div",{className:"flex justify-end space-x-2 mt-2 no-print",children:[(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:c,children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Order"]}),(0,X.jsx)(j.$,{size:"sm",onClick:()=>i(!1),children:"Close"})]})]})]})})})}const rB=e=>{let{open:n,setOpen:r,onAddSupplier:a}=e;const[i,s]=(0,t.useState)({name:"",address:"",contactNumber:"",email:"",itemsOffered:[]}),o=e=>{s({...i,[e.target.name]:e.target.value})},l=(e,t,n)=>{const r=[...i.itemsOffered];r[e]={...r[e],[t]:n},"type"===t&&"Other"!==n&&(r[e].otherType=""),s({...i,itemsOffered:r})};return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"max-w-4xl max-h-[80vh] overflow-y-auto p-6",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:" font-semibold",children:"Supplier Registration"}),(0,X.jsx)(so.rr,{children:"Enter details to reegister a new supplier"})]}),(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={...i,id:`SID${Math.floor(1e3*Math.random())}`,lastPurchased:"N/A",totalPurchaseValue:0,orders:[]};a(t),r(!1)},className:"space-y-2",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Name"}),(0,X.jsx)(xn.p,{type:"text",id:"name",name:"name",value:i.name,onChange:o,required:!0})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"contactNumber",children:"Contact Number"}),(0,X.jsx)(xn.p,{type:"tel",id:"contactNumber",name:"contactNumber",value:i.contactNumber,onChange:o,required:!0})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"email",children:"Email"}),(0,X.jsx)(xn.p,{type:"email",id:"email",name:"email",value:i.email,onChange:o,required:!0})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"address",children:"Address"}),(0,X.jsx)(xo.T,{id:"address",name:"address",value:i.address,onChange:o,required:!0,className:"h-20"})]})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{children:"Items Offered"}),i.itemsOffered.map(((e,t)=>(0,X.jsxs)("div",{className:"flex space-x-2 items-end",children:[(0,X.jsx)("div",{className:"flex-1 space-y-2",children:(0,X.jsx)(xn.p,{type:"text",placeholder:"Item name",value:e.name,onChange:e=>l(t,"name",e.target.value),required:!0})}),(0,X.jsx)("div",{className:"flex-1 space-y-2",children:(0,X.jsx)(xn.p,{type:"number",placeholder:"MRP",value:e.mrp,onChange:e=>l(t,"mrp",e.target.value),required:!0})}),(0,X.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,X.jsx)(xn.p,{type:"text",placeholder:"Type",value:e.type,onChange:e=>l(t,"type",e.target.value),required:!0,list:`type-suggestions-${t}`}),(0,X.jsxs)("datalist",{id:`type-suggestions-${t}`,children:[(0,X.jsx)("option",{value:"Tablet"}),(0,X.jsx)("option",{value:"Capsule"}),(0,X.jsx)("option",{value:"Injection"})]})]}),"Other"===e.type&&(0,X.jsx)("div",{className:"flex-1 space-y-2",children:(0,X.jsx)(xn.p,{type:"text",placeholder:"Specify type",value:e.otherType||"",onChange:e=>l(t,"otherType",e.target.value),required:!0})}),(0,X.jsx)("div",{className:"flex-1 space-y-2",children:(0,X.jsx)(xn.p,{type:"number",placeholder:"Discount %",value:e.discount,onChange:e=>l(t,"discount",e.target.value),required:!0})}),(0,X.jsx)(j.$,{type:"button",variant:"destructive",onClick:()=>(e=>{const t=i.itemsOffered.filter(((t,n)=>n!==e));s({...i,itemsOffered:t})})(t),children:(0,X.jsx)(qx,{className:"h-4 w-4"})})]},t))),(0,X.jsxs)(j.$,{type:"button",variant:"outline",onClick:()=>{s({...i,itemsOffered:[...i.itemsOffered,{name:"",mrp:"",type:"",discount:""}]})},className:"w-full",children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-2"})," Add Item"]})]}),(0,X.jsx)(j.$,{type:"submit",className:"w-full",children:"Register Supplier"})]})]})})},aB=()=>{const e=(0,w.wA)(),{suppliers:n,suppliersStatus:r,selectedSupplier:a}=(0,w.d4)((e=>e.pharmacy)),[i,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(!1);(0,t.useEffect)((()=>{"idle"===r&&e((0,it.qQ)())}),[r,e]);const p=e=>e.items&&e.items.length>0?e.items.reduce(((e,t)=>e+t.quantity),0):e.quantity||0,h=e=>(100*(1-e.totalAmount/e.subtotal)).toFixed(2)||"N/A",f=n.filter((e=>e.name.toLowerCase().includes(c.toLowerCase())));return(0,X.jsxs)("div",{className:"h-full w-full flex flex-col",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 p-1 justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"text-gray-600",children:(0,X.jsx)(Li,{className:"h-4 w-4"})}),(0,X.jsx)(_x.A,{className:"h-3 w-3 text-gray-400"}),(0,X.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Supplier"})]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"text-gray-600 hover:bg-gray-100",onClick:()=>m(!0),children:[(0,X.jsx)(S.A,{className:"h-4 w-4"})," ",(0,X.jsx)("span",{className:"font-semibold text-gray-700 text-sm",children:"Add Supplier"})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-4 w-full flex-grow",children:[(0,X.jsx)("div",{className:"col-span-3 border-r-2 border-gray-200 p-4",children:a?(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsxs)(k.ZB,{className:"capitalize",children:[a.name," ",(0,X.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a._id.slice(-6),")"]})]})}),(0,X.jsxs)(k.Wu,{className:"space-y-2",children:[a.address&&(0,X.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,X.jsx)(eB,{size:16}),(0,X.jsx)("span",{className:"text-sm",children:a.address})]}),a.phone&&(0,X.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,X.jsx)(_g,{size:16}),(0,X.jsxs)("span",{className:"text-sm",children:["+91-",a.phone]})]}),a.email&&(0,X.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,X.jsx)(sx,{size:16}),(0,X.jsx)("span",{className:"text-sm",children:a.email})]})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Purchase Summary"})}),(0,X.jsxs)(k.Wu,{className:"space-y-2",children:[a.lastPurchased&&(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("span",{className:"text-sm font-medium",children:"Last Purchase:"}),(0,X.jsx)("span",{className:"text-sm",children:(0,M.Yq)(a.lastPurchased)})]}),void 0!==a.amountPaid&&(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("span",{className:"text-sm font-medium",children:"Total Purchase Value:"}),(0,X.jsxs)("span",{className:"text-sm",children:["\u20b9",(Number(a.amountPaid)+Number(a.amountDue)).toLocaleString()]})]}),void 0!==a.amountDue&&(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("span",{className:"text-sm font-medium",children:"Amount Due:"}),(0,X.jsxs)("span",{className:"text-sm",children:["\u20b9",a.amountDue.toLocaleString()]})]})]})]}),(0,X.jsxs)(k.Zp,{children:[(0,X.jsx)(k.aR,{children:(0,X.jsx)(k.ZB,{children:"Items Offered"})}),(0,X.jsx)(k.Wu,{children:a.items&&a.items.length>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-2",children:a.items.map(((e,t)=>(0,X.jsx)(go.E,{variant:"outline",className:"capitalize",children:e.name},t)))}):(0,X.jsx)("p",{className:"text-sm text-gray-500",children:"No items offered"})})]})]}),(0,X.jsx)("h4",{className:"text-lg font-medium",children:"Orders"}),a.orders&&a.orders.length>0?(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Order ID"}),(0,X.jsx)(uo.nd,{children:"Order Date"}),(0,X.jsx)(uo.nd,{children:"Quantity"}),(0,X.jsx)(uo.nd,{children:"Total Amount"}),(0,X.jsx)(uo.nd,{children:"Discount"}),(0,X.jsx)(uo.nd,{children:"Payments"}),(0,X.jsx)(uo.nd,{children:"Action"})]})}),(0,X.jsx)(uo.BF,{children:a.orders.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsxs)(uo.nA,{className:"capitalize",children:["ORD",e._id.slice(-5)]}),(0,X.jsx)(uo.nA,{children:(0,M.Yq)(e.orderDate)}),(0,X.jsx)(uo.nA,{children:p(e)}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.totalAmount.toLocaleString()]}),(0,X.jsxs)(uo.nA,{children:[h(e),"%"]}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.paidAmount.toLocaleString()]}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{s(e),l(!0)})(e),children:(0,X.jsx)(ux,{size:16})})})]},e._id)))})]}):(0,X.jsx)("p",{className:"text-gray-500",children:"No orders found"})]}):(0,X.jsx)("p",{className:"text-gray-500",children:"Select a supplier to view details"})}),(0,X.jsxs)("div",{className:"px-2 py-4 flex flex-col h-full",children:[(0,X.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Supplier List"}),(0,X.jsx)(xn.p,{placeholder:"Search suppliers...",value:c,onChange:e=>d(e.target.value),className:"mb-2"}),(0,X.jsx)(b.F,{className:"flex-grow",children:f.length>0?(0,X.jsx)("div",{className:"space-y-2 pr-4",children:f.map((t=>(0,X.jsxs)("div",{className:"py-2 px-4 bg-white shadow rounded-lg mb-2 cursor-pointer transition-colors duration-200 hover:bg-gray-100 "+(a&&a._id===t._id?"border-2 border-blue-400 shadow-md":""),onClick:()=>(t=>{e((0,it.ZJ)(t._id))})(t),children:[(0,X.jsxs)("h3",{className:"font-semibold capitalize",children:[t.name," ",(0,X.jsxs)("span",{className:"text-xs text-gray-500",children:["(",t._id.slice(-6),")"]})]}),(0,X.jsxs)("p",{className:"text-sm text-gray-500",children:["Last purchase: ",(0,M.Yq)(t.lastPurchased)]}),(0,X.jsxs)("p",{className:"text-sm text-gray-500",children:["Total Purchase Value: \u20b9",t.amountPaid+t.amountDue]})]},t._id)))}):(0,X.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,X.jsx)("p",{className:"text-gray-500",children:"No suppliers found"})})})]})]}),(0,X.jsx)(rB,{open:u,setOpen:m}),(0,X.jsx)(nB,{isOpen:o,setIsOpen:l,order:i})]})},iB=(0,N.A)("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);function sB(e){var n;let{isOpen:r,onClose:a,item:i}=e;const s=(0,w.wA)(),{updateInventoryStatus:o}=(0,w.d4)((e=>e.pharmacy)),{toast:l}=(0,H.dj)(),[c,d]=(0,t.useState)((null===i||void 0===i?void 0:i.name)||""),[u,m]=(0,t.useState)((null===i||void 0===i?void 0:i.CP)||""),[p,h]=(0,t.useState)((null===i||void 0===i?void 0:i.quantity)||""),[f,v]=(0,t.useState)(null!==i&&void 0!==i&&i.expiryDate?new Date(i.expiryDate).toISOString().slice(0,7):""),[g,x]=(0,t.useState)((null===i||void 0===i?void 0:i.MRP)||""),[y,b]=(0,t.useState)((null===i||void 0===i?void 0:i.type)||""),[N,_]=(0,t.useState)((null===i||void 0===i||null===(n=i.supplier)||void 0===n?void 0:n.name)||""),{hospitalInfo:S}=(0,w.d4)((e=>e.hospital)),E=(null===S||void 0===S?void 0:S.pharmacyItemCategories)||[];(0,t.useEffect)((()=>{var e;i&&(d(i.name||""),m(i.CP||""),h(i.quantity||""),v(i.expiryDate?new Date(i.expiryDate).toISOString().slice(0,7):""),x(i.MRP||""),b(i.type||""),_((null===(e=i.supplier)||void 0===e?void 0:e.name)||""))}),[i]);return(0,X.jsx)(so.lG,{open:r,onOpenChange:a,children:(0,X.jsxs)(so.Cf,{className:"sm:max-w-[600px] md:max-w-[800px] w-[95vw] rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Edit Item"}),(0,X.jsx)(so.rr,{children:"Edit the details of the item"})]}),(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};c!==i.name&&(e.name=c),u!==i.CP&&(e.CP=u),p!==i.quantity&&(e.quantity=p),f!==new Date(i.expiryDate).toISOString().slice(0,7)&&(e.expiryDate=f),g!==i.MRP&&(e.MRP=g),y!==i.type&&(e.type=y),0===Object.keys(e).length?l({title:"No changes made",description:"No items were modified.",variant:"success"}):s((0,it.Fv)({itemId:i._id,updateData:e})).unwrap().then((()=>{l({title:"Item updated successfully",description:"The item has been successfully updated.",variant:"success"})})).catch((e=>{l({title:"Failed to update item",description:e.message,variant:"destructive"})})).finally((()=>{a()}))})()},children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Item Name"}),(0,X.jsx)(xn.p,{id:"name",placeholder:"Name",value:c,onChange:e=>d(e.target.value)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"types",children:"Type"}),(0,X.jsxs)(A.l6,{onValueChange:e=>b(e),value:y,children:[(0,X.jsx)(A.bq,{id:"types",children:(0,X.jsx)(A.yv,{placeholder:"Select Type"})}),(0,X.jsx)(A.gC,{children:E.map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"MRP",children:"MRP"}),(0,X.jsx)(xn.p,{id:"MRP",placeholder:"MRP",value:g,onChange:e=>x(e.target.value)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"price",children:"Cost Price"}),(0,X.jsx)(xn.p,{id:"price",placeholder:"Price",value:u,onChange:e=>m(e.target.value)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"quantity",children:"Quantity"}),(0,X.jsx)(xn.p,{id:"quantity",placeholder:"Quantity",value:p,onChange:e=>h(e.target.value)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"expiryDate",children:"Expiry Date"}),(0,X.jsx)(xn.p,{id:"expiryDate",type:"month",placeholder:"Expiry Date",value:f,onChange:e=>v(e.target.value)})]}),(0,X.jsxs)("div",{className:"sm:col-span-2 md:col-span-3",children:[(0,X.jsx)(wi.J,{htmlFor:"supplierName",children:"Supplier Name"}),(0,X.jsx)(xn.p,{disabled:!0,id:"supplierName",placeholder:"Supplier Name",readOnly:!0,value:N,onChange:e=>_(e.target.value)})]})]}),(0,X.jsxs)(so.Es,{className:"mt-4 flex-col-reverse sm:flex-row gap-2",children:[(0,X.jsx)(j.$,{className:"hidden md:block",type:"button",size:"sm",variant:"outline",onClick:()=>{d(""),m(""),h(""),v(""),x(""),b(""),_("")},children:"Reset"}),(0,X.jsx)(j.$,{type:"button",size:"sm",variant:"outline",onClick:a,children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",size:"sm",disabled:"loading"===o,children:"loading"===o?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})}function oB(e){let{isOpen:n,onClose:r}=e;const a=(0,w.wA)(),{toast:i}=(0,H.dj)(),{createInventoryItemStatus:s}=(0,w.d4)((e=>e.pharmacy)),{hospitalInfo:o}=(0,w.d4)((e=>e.hospital)),l=(null===o||void 0===o?void 0:o.pharmacyItemCategories)||[],[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[p,h]=(0,t.useState)(""),[f,v]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[N,_]=(0,t.useState)(""),[S,E]=(0,t.useState)(""),[C,D]=(0,t.useState)("");return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"max-w-[800px] w-[90vw] rounded-lg overflow-y-auto",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Add New Item"}),(0,X.jsx)(so.rr,{children:"Fill basic details of item for new item registration"})]}),(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={itemsDetails:{name:c,CP:parseFloat(u),quantity:parseInt(p),expiryDate:f,MRP:parseFloat(g),type:y},supplierInfo:{name:N,phone:S,address:C}};a((0,it.wp)(e)).unwrap().then((()=>{i({title:"Item added successfully",description:"The new item has been added to the inventory.",variant:"success"})})).catch((e=>{i({title:"Failed to add item",description:e.message||"There was an error adding the item. Please try again.",variant:"destructive"})})).finally((()=>{r()}))})()},children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 md:gap-4 gap-1",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Item Name"}),(0,X.jsx)(xn.p,{id:"name",placeholder:"Name",value:c,onChange:e=>d(e.target.value),required:!0})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"types",children:"Type"}),(0,X.jsxs)(A.l6,{onValueChange:e=>b(e),required:!0,children:[(0,X.jsx)(A.bq,{id:"types",children:(0,X.jsx)(A.yv,{placeholder:"Select Type"})}),(0,X.jsx)(A.gC,{children:l.map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"price",children:"Price"}),(0,X.jsx)(xn.p,{id:"price",placeholder:"Price",value:u,onChange:e=>m(e.target.value),required:!0})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"MRP",children:"MRP"}),(0,X.jsx)(xn.p,{id:"MRP",placeholder:"MRP",value:g,onChange:e=>x(e.target.value),required:!0})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"quantity",children:"Quantity"}),(0,X.jsx)(xn.p,{id:"quantity",placeholder:"Quantity",value:p,onChange:e=>h(e.target.value),required:!0})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"expiryDate",children:"Expiry Date"}),(0,X.jsx)(xn.p,{id:"expiryDate",type:"month",placeholder:"Expiry Date",value:f,onChange:e=>v(e.target.value)})]}),(0,X.jsxs)("div",{className:"hidden sm:block",children:[(0,X.jsx)(wi.J,{htmlFor:"supplierName",children:"Supplier Name"})," ",(0,X.jsx)(xn.p,{id:"supplierName",placeholder:"Supplier Name",value:N,onChange:e=>_(e.target.value)})]}),(0,X.jsxs)("div",{className:"hidden sm:block",children:[(0,X.jsx)(wi.J,{htmlFor:"supplierPhone",children:"Supplier Phone"}),(0,X.jsx)(xn.p,{id:"supplierPhone",placeholder:"Supplier Phone",value:S,onChange:e=>E(e.target.value)})]}),(0,X.jsxs)("div",{className:"hidden sm:block",children:[(0,X.jsx)(wi.J,{htmlFor:"supplierAddress",children:"Supplier Address"}),(0,X.jsx)(xn.p,{id:"supplierAddress",placeholder:"Supplier Address",value:C,onChange:e=>D(e.target.value)})]})]}),(0,X.jsxs)(so.Es,{className:"mt-4 flex-col-reverse sm:flex-row gap-2",children:[(0,X.jsx)(j.$,{className:"hidden md:block",type:"button",size:"sm",variant:"outline",onClick:()=>{d(""),m(""),h(""),v(""),x(""),b(""),_(""),E(""),D("")},children:"Reset"}),(0,X.jsx)(j.$,{type:"button",size:"sm",variant:"outline",onClick:r,children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",size:"sm",disabled:"loading"===s,children:"loading"===s?"Adding...":"Add Item"})]})]})]})})}function lB(){const e=(0,w.wA)(),{items:n,itemsStatus:r,deleteInventoryItemStatus:a}=(0,w.d4)((e=>e.pharmacy)),{toast:i}=(0,H.dj)(),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("All"),[d,u]=(0,t.useState)(1),[m,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[v,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1),[b,N]=(0,t.useState)(null),[E,C]=(0,t.useState)(""),[D,T]=(0,t.useState)(!1),A=wc("(max-width: 640px)"),P=wc("(max-width: 1024px)"),[O,R]=(0,t.useState)(!1),M=["All",...new Set(n.map((e=>e.type)))];(0,t.useEffect)((()=>{"idle"===r&&e((0,it.LN)())}),[r,e]);const I=n.filter((e=>e.name.toLowerCase().includes(s.toLowerCase()))).filter((e=>"All"===l||e.type===l)),L=Math.ceil(I.length/10),F=I.slice(10*(d-1),10*d),B=e=>{c(e),u(1)},W=e=>{"prev"===e&&d>1?u(d-1):"next"===e&&d<L&&u(d+1)},U=e=>{f(e),p(!0)},$=e=>{N(e),y(!0)},z=()=>{g(!0)},V=e=>{var t;let{item:n}=e;return(0,X.jsx)(k.Zp,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("div",{className:"flex items-center flex-grow",children:(0,X.jsxs)("h3",{className:"text-lg font-semibold capitalize",children:[n.name,(0,X.jsxs)("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",n.type,")"]})]})}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,X.jsx)(mo,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(hi,{onClick:()=>U(n),children:"Edit"}),(0,X.jsx)(hi,{className:"text-red-600",onClick:()=>$(n),children:"Delete"})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-3",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Gx,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,X.jsxs)("span",{className:"text-sm",children:["Stock: ",n.quantity]})]}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)("span",{className:"text-sm font-semibold",children:["MRP: \u20b9",n.MRP.toFixed(2)]})}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)("span",{className:"text-sm",children:["CP: \u20b9",n.CP.toFixed(2)]})}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)("span",{className:"text-sm",children:["Expiry: ",n.expiryDate?(0,fo.GP)(new Date(n.expiryDate),"MMM, yyyy"):"-"]})})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)("span",{className:"text-sm text-muted-foreground mr-2",children:"Supplier:"}),(0,X.jsx)("span",{className:"text-sm capitalize",children:(null===n||void 0===n||null===(t=n.supplier)||void 0===t?void 0:t.name)||"-"})]})]})})})};return(0,X.jsxs)(k.Zp,{className:"w-full mx-auto shadow-none border-none",children:[(0,X.jsx)(k.aR,{children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{className:"font-semibold",children:"Pharmacy Inventory"}),(0,X.jsx)(k.BT,{children:"Manage and view item information"})]}),A&&(0,X.jsx)(j.$,{variant:"outline",size:"icon",onClick:z,children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})]})}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[(0,X.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search items...",value:s,onChange:e=>{o(e.target.value),u(1)},className:"pl-8 w-full"})]}),A&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>R(!O),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),A?(0,X.jsx)(Lc,{children:O&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsx)("div",{className:"pt-2 space-y-2",children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===l?"Select type":l]})}),(0,X.jsx)(pi,{align:"start",className:"w-[200px]",children:M.map((e=>(0,X.jsx)(hi,{onClick:()=>B(e),children:e},e)))})]})})})}):(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===l?"Select type":l]})}),(0,X.jsx)(pi,{children:M.map((e=>(0,X.jsx)(hi,{onClick:()=>B(e),children:e},e)))})]})]}),!A&&(0,X.jsx)("div",{className:"flex space-x-2",children:(0,X.jsxs)(j.$,{variant:"outline",onClick:z,children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Add Item"]})})]}),0===I.length?(0,X.jsxs)("div",{className:"text-center py-12",children:[(0,X.jsx)(iB,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,X.jsx)("p",{className:"mt-4 text-lg font-medium text-muted-foreground",children:"No items found"}),(0,X.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your search or filter to find what you're looking for."})]}):A?(0,X.jsx)("div",{children:F.map((e=>(0,X.jsx)(V,{item:e},e._id)))}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Name"}),(0,X.jsx)(uo.nd,{children:"Type"}),!P&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nd,{children:"Supplier Name"}),(0,X.jsx)(uo.nd,{children:"CP"})]}),(0,X.jsx)(uo.nd,{children:"MRP"}),(0,X.jsx)(uo.nd,{children:"Stock"}),(0,X.jsx)(uo.nd,{children:"Expiry Date"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:F.map((e=>{var t;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"capitalize",children:e.name}),(0,X.jsx)(uo.nA,{children:e.type}),!P&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.nA,{className:"capitalize",children:(null===e||void 0===e||null===(t=e.supplier)||void 0===t?void 0:t.name)||"-"}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.CP.toFixed(2)]})]}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.MRP.toFixed(2)]}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:e.quantity<=100?"destructive":e.quantity<=200?"secondary":"success",children:e.quantity})}),(0,X.jsx)(uo.nA,{children:e.expiryDate?(0,fo.GP)(new Date(e.expiryDate),"MMM, yyyy"):"-"}),(0,X.jsxs)(uo.nA,{className:"flex",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>U(e),children:(0,X.jsx)(Kx,{className:"h-3 w-3"})}),(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>$(e),children:(0,X.jsx)(qx,{className:"h-3 w-3"})})]})]},e._id)}))})]})}),(0,X.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,X.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min(10*(d-1)+1,I.length)," to ",Math.min(10*d,I.length)," of ",I.length," items"]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>W("prev"),disabled:1===d,children:[(0,X.jsx)(_,{className:"h-4 w-4"}),"Previous"]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>W("next"),disabled:d===L,children:["Next",(0,X.jsx)(_x.A,{className:"h-4 w-4"})]})]})]})]}),(0,X.jsx)(sB,{isOpen:m,onClose:()=>{p(!1),f(null)},item:h}),(0,X.jsx)(oB,{isOpen:v,onClose:()=>{g(!1)}}),(0,X.jsx)(Ce,{open:x,onOpenChange:y,children:(0,X.jsxs)(Ae,{className:"rounded-lg w-[95vw]",children:[(0,X.jsxs)(Pe,{children:[(0,X.jsxs)(Re,{children:["Delete ",null===b||void 0===b?void 0:b.name,"?"]}),(0,X.jsx)(Me,{children:"This will permanently delete the item from your inventory. This action cannot be undone."})]}),(0,X.jsxs)(Oe,{children:[(0,X.jsx)(Le,{children:"Cancel"}),(0,X.jsx)(Ie,{onClick:()=>{e((0,it.T$)(b._id)).unwrap().then((()=>{C(""),i({title:"Item deleted successfully",description:`${b.name} has been removed from the inventory.`,variant:"success"})})).catch((e=>{i({title:"Failed to delete item",description:e.message||"An error occurred while deleting the item.",variant:"destructive"})})).finally((()=>{y(!1)}))},disabled:"loading"===a,children:"loading"===a?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})}const cB=()=>{const{tab:e}=(0,a.g)(),t=(0,a.Zp)();return(0,X.jsx)("div",{className:"flex flex-col flex-1 mt-1 h-[calc(100vh-52px)]",children:(0,X.jsxs)(Uo,{value:e||"sales",onValueChange:e=>{t(`/pharmacy/${e}`)},className:"w-full h-full",children:[(0,X.jsx)("div",{className:"overflow-x-auto pb-2 md:pb-0 scrollbar-hide",children:(0,X.jsxs)($o,{className:"inline-flex md:flex w-max md:w-full justify-start",children:[(0,X.jsx)(zo,{value:"dashboard",children:"Dashboard"}),(0,X.jsx)(zo,{value:"sales",children:"Sales"}),(0,X.jsx)(zo,{className:"hidden md:block",value:"supplier",children:"Supplier"}),(0,X.jsx)(zo,{className:"hidden md:block",value:"purchases",children:"Purchases"}),(0,X.jsx)(zo,{value:"items-master",children:"Items Master"}),(0,X.jsx)(zo,{value:"reports",children:"Reports"})]})}),(0,X.jsx)(Ho,{value:"dashboard",children:(0,X.jsx)(QF,{})}),(0,X.jsx)(Ho,{value:"sales",children:(0,X.jsx)(Jx,{})}),(0,X.jsx)(Ho,{value:"supplier",children:(0,X.jsx)(aB,{})}),(0,X.jsx)(Ho,{value:"purchases",children:(0,X.jsx)(ey,{})}),(0,X.jsx)(Ho,{value:"reports",children:(0,X.jsx)(cy,{})}),(0,X.jsx)(Ho,{value:"items-master",children:(0,X.jsx)(lB,{})})]})})};var dB=__webpack_require__(4524);function uB(e,t){const n=()=>(0,ic.w)(t?.in,NaN),r=t?.additionalDigits??2,a=function(e){const t={},n=e.split(mB.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],mB.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mB.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=mB.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let i;if(a.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(a.date,r);i=function(e,t){if(null===t)return new Date(NaN);const n=e.match(pB);if(!n)return new Date(NaN);const r=!!n[4],a=vB(n[1]),i=vB(n[2])-1,s=vB(n[3]),o=vB(n[4]),l=vB(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(xB[t]||(yB(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(yB(e)?366:365)}(t,a)?(e.setUTCFullYear(t,i,Math.max(a,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return n();const s=+i;let o,l=0;if(a.time&&(l=function(e){const t=e.match(hB);if(!t)return NaN;const n=gB(t[1]),r=gB(t[2]),a=gB(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*dB.s0+r*dB.Cg+1e3*a}(a.time),isNaN(l)))return n();if(!a.timezone){const e=new Date(s+l),n=(0,ec.a)(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return o=function(e){if("Z"===e)return 0;const t=e.match(fB);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*dB.s0+a*dB.Cg)}(a.timezone),isNaN(o)?n():(0,ec.a)(s+l+o,t?.in)}const mB={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vB(e){return e?parseInt(e):1}function gB(e){return e&&parseFloat(e.replace(",","."))||0}const xB=[31,null,31,30,31,30,31,31,30,31,30,31];function yB(e){return e%400===0||e%4===0&&e%100!==0}const bB=()=>{const e=(0,w.wA)(),{salesBills:n,salesBillsStatus:r}=(0,w.d4)((e=>e.pharmacy)),[a,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(1),[l,c]=(0,t.useState)("All"),[d,u]=(0,t.useState)({from:null,to:null}),[m,p]=(0,t.useState)({from:null,to:null}),[h,f]=(0,t.useState)(null),[v,g]=(0,t.useState)(!1),x=wc("(max-width: 640px)"),[y,b]=(wc("(max-width: 1024px)"),(0,t.useState)(!1));(0,t.useEffect)((()=>{"idle"===r&&e((0,it.BS)())}),[r,e]);const N=n.filter((e=>{const t=`#B${e._id.slice(-6)}`.toLowerCase().includes(a.toLowerCase())||e.patientInfo.name.toLowerCase().includes(a.toLowerCase());let n=!0;const r=uB(e.createdAt),i=new Date;switch(l){case"Today":n=tc(r,{start:(0,Jl.o)(i),end:(0,Ql.D)(i)});break;case"Yesterday":n=tc(r,{start:(0,Jl.o)((0,lc.e)(i,1)),end:(0,Ql.D)((0,lc.e)(i,1))});break;case"This Week":n=tc(r,{start:(0,nc.k)(i),end:(0,Ql.D)(i)});break;case"Custom":d.from&&d.to&&(n=tc(r,{start:(0,Jl.o)(d.from),end:(0,Ql.D)(d.to)}))}return t&&n})),S=Math.ceil(N.length/10),E=N.slice(10*(s-1),10*s),C=e=>{"prev"===e&&s>1?o(s-1):"next"===e&&s<S&&o(s+1)},D=e=>{f(e),g(!0)},T=()=>{u(m),c("Custom")},A=()=>{p({from:null,to:null}),c("All")},P=e=>{var t;let{bill:n}=e;return(0,X.jsx)(k.Zp,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:`#B${n._id.slice(-6)}`}),(0,X.jsx)(go.E,{variant:(null===n||void 0===n?void 0:n.amountPaid)===(null===n||void 0===n?void 0:n.totalAmount)?"success":"destructive",children:(null===n||void 0===n?void 0:n.amountPaid)===(null===n||void 0===n?void 0:n.totalAmount)?"Paid":"Due"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-3",children:[(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsx)("span",{className:"text-sm font-semibold capitalize",children:n.patientInfo.name})}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)("span",{className:"text-sm",children:["\u20b9",n.totalAmount.toFixed(2)]})}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsx)("span",{className:"text-sm",children:(0,fo.GP)(new Date(n.createdAt),"MMM dd, hh:mm a")})}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsx)("span",{className:"text-sm",children:(null===n||void 0===n||null===(t=n.payment)||void 0===t?void 0:t.paymentMethod)||"__"})})]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>D(n),className:"w-full mt-2",children:[(0,X.jsx)(Ci,{className:"h-3 w-3 mr-2"})," View Details"]})]})})})};return(0,X.jsxs)(k.Zp,{className:"w-full mx-auto",children:[(0,X.jsxs)(k.aR,{children:[(0,X.jsx)(k.ZB,{className:"font-semibold",children:"Pharmacy All Bills"}),(0,X.jsx)(k.BT,{children:"View and manage all pharmacy bills"})]}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4 space-y-2 md:space-y-0",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search bills...",value:a,onChange:e=>{i(e.target.value),o(1)},className:"pl-8 w-full"})]}),x&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>b(!y),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),x?(0,X.jsx)(Lc,{children:y&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"All"===l?"All Time":l]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>c("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>c("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>c("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>c("All"),children:"All Time"}),(0,X.jsx)(hi,{onSelect:()=>c("Custom"),children:"Custom Range"})]})]}),"Custom"===l&&(0,X.jsx)(wB,{from:m.from,to:m.to,onSelect:e=>p(e),onSearch:T,onCancel:A})]})})}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),"All"===l?"All Time":l]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>c("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>c("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>c("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>c("All"),children:"All Time"}),(0,X.jsx)(hi,{onSelect:()=>c("Custom"),children:"Custom Range"})]})]}),"Custom"===l&&(0,X.jsx)(wB,{from:m.from,to:m.to,onSelect:e=>p(e),onSearch:T,onCancel:A})]})]})}),N.length>0?(0,X.jsxs)(X.Fragment,{children:[x?(0,X.jsx)("div",{children:E.map((e=>(0,X.jsx)(P,{bill:e},e._id)))}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Bill No"}),(0,X.jsx)(uo.nd,{children:"Customer"}),(0,X.jsx)(uo.nd,{children:"Date & Time"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Status"}),(0,X.jsx)(uo.nd,{children:"Method"}),(0,X.jsx)(uo.nd,{children:"Action"})]})}),(0,X.jsx)(uo.BF,{children:E.map((e=>{var t;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:`#B${e._id.slice(-6)}`}),(0,X.jsx)(uo.nA,{className:"capitalize",children:e.patientInfo.name}),(0,X.jsx)(uo.nA,{children:(0,fo.GP)(new Date(e.createdAt),"MMM dd, hh:mm a")}),(0,X.jsxs)(uo.nA,{children:["\u20b9",e.totalAmount.toFixed(2)]}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:(null===e||void 0===e?void 0:e.amountPaid)===(null===e||void 0===e?void 0:e.totalAmount)?"success":"destructive",children:(null===e||void 0===e?void 0:e.amountPaid)===(null===e||void 0===e?void 0:e.totalAmount)?"Paid":"Due"})}),(0,X.jsx)(uo.nA,{children:(null===e||void 0===e||null===(t=e.payment)||void 0===t?void 0:t.paymentMethod)||"__"}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>D(e),children:(0,X.jsx)(Ci,{className:"h-3 w-3 mr-2"})})})]},e._id)}))})]})}),(0,X.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,X.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min(10*(s-1)+1,N.length)," to"," ",Math.min(10*s,N.length)," of ",N.length," bills"]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>C("prev"),disabled:1===s,children:[(0,X.jsx)(_,{className:"h-4 w-4"}),!x&&"Previous"]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>C("next"),disabled:s===S,children:[!x&&"Next",(0,X.jsx)(_x.A,{className:"h-4 w-4"})]})]})]})]}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,X.jsx)(bc,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,X.jsx)("p",{className:"text-lg font-medium text-muted-foreground",children:"No bills found"}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your search or filter criteria"})]})]}),(0,X.jsx)(Bx,{isOpen:v,setIsOpen:g,billData:h})]})},wB=e=>{let{from:n,to:r,onSelect:a,onSearch:i,onCancel:s}=e;const[o,l]=(0,t.useState)(!1),c=new Date,d=(0,wx.a)(c,1);return(0,X.jsx)("div",{className:(0,Ee.cn)("grid gap-2"),children:(0,X.jsxs)(eo.AM,{open:o,onOpenChange:l,children:[(0,X.jsx)(eo.Wv,{asChild:!0,children:(0,X.jsxs)(j.$,{id:"date",variant:"outline",className:(0,Ee.cn)("w-[300px] justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),n?r?(0,X.jsxs)(X.Fragment,{children:[(0,fo.GP)(n,"LLL dd, y")," - ",(0,fo.GP)(r,"LLL dd, y")]}):(0,fo.GP)(n,"LLL dd, y"):(0,X.jsx)("span",{children:"Pick a date range"})]})}),(0,X.jsxs)(eo.hl,{className:"w-auto p-0",align:"start",children:[(0,X.jsx)(fg.V,{initialFocus:!0,mode:"range",defaultMonth:d,selected:{from:n,to:r},onSelect:a,numberOfMonths:2,disabled:e=>(0,sy.Y)(c,e),toDate:c}),(0,X.jsxs)("div",{className:"flex justify-end gap-2 p-2",children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>{s(),l(!1)},children:"Cancel"}),(0,X.jsx)(j.$,{size:"sm",onClick:()=>{i(),l(!1)},children:"Search"})]})]})]})})};function jB(){var e,n,r,i,s,o,l,c,d,u,m;const{toast:p}=(0,H.dj)(),h=(0,w.wA)(),f=(0,a.Zp)(),v=(0,a.zy)(),{staffId:g}=(0,a.g)(),{status:x,error:y}=(0,w.d4)((e=>e.staff)),{userData:b}=(0,w.d4)((e=>e.user)),N=(0,w.d4)((e=>e.departments.departments)),E={roles:[],permissions:[],name:"",username:"",password:"",employeeID:"",aadharNumber:"",contactNumber:"",email:"",dateOfBirth:"",gender:"",hireDate:"",yearsOfExperience:"",shift:{type:"",hours:{start:"",end:""}},salary:"",payrollInfo:{bankName:"",accountNumber:"",ifscCode:""},department:[],qualifications:[],certifications:[],address:""},[C,D]=(0,t.useState)(E),[k,P]=(0,t.useState)(!1),[O,R]=(0,t.useState)({}),[I,L]=(0,t.useState)(""),[W,U]=(0,t.useState)(""),$=null===(e=b.permissions)||void 0===e?void 0:e.includes("create_staff"),z=null===(n=b.permissions)||void 0===n?void 0:n.includes("edit_staff"),V=()=>{D(JSON.parse(JSON.stringify(E))),R({}),L(""),U("")};(0,t.useEffect)((()=>{}),[C]),(0,t.useEffect)((()=>{var e,t;if(null!==(e=v.state)&&void 0!==e&&e.editMode&&null!==(t=v.state)&&void 0!==t&&t.staffData){if(!z)return p({variant:"destructive",title:"Access Denied",description:"You don't have permission to edit staff members."}),void f(-1);P(!0),D(v.state.staffData)}else if(g)P(!0);else{if(!$)return p({variant:"destructive",title:"Access Denied",description:"You don't have permission to create staff members."}),void f(-1);P(!1),V()}}),[]);const q=e=>{const{id:t,value:n}=e.target,r=t.split(".");if(2===r.length){const[e,r]=t.split(".");D((t=>({...t,[e]:{...t[e],[r]:n}})))}else 3===r.length?D((e=>({...e,[r[0]]:{...e[r[0]],[r[1]]:{...e[r[0]][r[1]],[r[2]]:n}}}))):D((e=>({...e,[t]:n})))},G=(e,t)=>{if(e.includes(".")){const[n,r]=e.split(".");D((e=>({...e,[n]:{...e[n],[r]:t}})))}else D({...C,[e]:t})},K=(e,t)=>{D((n=>({...n,permissions:t?[...n.permissions||[],e]:(n.permissions||[]).filter((t=>t!==e))})))},Y=(e,t)=>{const n=e.map((e=>e.id));D((e=>{const r=new Set(e.permissions||[]);return n.forEach((e=>{t?r.add(e):r.delete(e)})),{...e,permissions:Array.from(r)}}))};return $||k?k&&!z?(p({variant:"destructive",title:"Access Denied",description:"You don't have permission to edit staff members."}),f(-1),null):(0,X.jsxs)("div",{className:"max-w-[1200px] mx-auto p-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(j.$,{onClick:()=>f(-1),variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("h2",{className:"text-xl font-bold",children:[k?"Edit":"Add New"," Staff Member"]})]}),(0,X.jsxs)("p",{className:"text-gray-600 mb-4",children:["Fill in the details of the ",k?"existing":"new"," staff member"]}),(0,X.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{var e;const t={};return C.name.trim()||(t.name="Name is required"),null!==(e=C.roles)&&void 0!==e&&e.includes("admin")&&!C.username.trim()&&(t.username="Username is required for admin"),C.roles&&0!==C.roles.length||(t.roles="At least one role is required"),R(t),0===Object.keys(t).length})())try{const e=Object.entries(C).reduce(((e,t)=>{let[n,r]=t;if(k){var a,i;if("shift"===n)(r.type||null!==(a=r.hours)&&void 0!==a&&a.start||null!==(i=r.hours)&&void 0!==i&&i.end)&&(e[n]=r);else if("payrollInfo"===n){Object.values(r).some((e=>""!==e.trim()))&&(e[n]=r)}else e[n]=r;return e}var s,o;if("shift"===n)return r.type&&null!==(s=r.hours)&&void 0!==s&&s.start&&null!==(o=r.hours)&&void 0!==o&&o.end&&(e[n]=r),e;if("payrollInfo"===n){const t=Object.entries(r).reduce(((e,t)=>{let[n,r]=t;return r&&""!==r.trim()&&(e[n]=r),e}),{});return Object.keys(t).length>0&&(e[n]=t),e}return Array.isArray(r)?(r.length>0&&(e[n]=r),e):"string"===typeof r?(""!==r.trim()&&(e[n]=r),e):(null!==r&&void 0!==r&&""!==r&&(e[n]=r),e)}),{});k?(await h(B({id:C._id,data:e})).unwrap(),p({variant:"success",title:"Staff Updated",description:"Staff member has been updated successfully."})):(await h(F(e)).unwrap(),p({variant:"success",title:"Staff Added",description:"Staff member has been added successfully."})),f("/staff")}catch(y){p({title:"Error",description:y||`Failed to ${k?"update":"add"} staff member. Please try again.`,variant:"destructive"})}},children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 md:col-span-2 lg:col-span-3 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Full Name"}),(0,X.jsx)(xn.p,{id:"name",value:C.name,onChange:q}),O.name&&(0,X.jsx)("span",{className:"text-red-500 text-sm",children:O.name})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"username",children:"Username"}),(0,X.jsx)(xn.p,{id:"username",value:C.username,onChange:q}),O.username&&(0,X.jsx)("span",{className:"text-red-500 text-sm",children:O.username})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"password",children:"Password"}),(0,X.jsx)(xn.p,{id:"password",type:"password",value:C.password,onChange:q}),O.password&&(0,X.jsx)("span",{className:"text-red-500 text-sm",children:O.password})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"employeeID",children:"Employee ID"}),(0,X.jsx)(xn.p,{id:"employeeID",value:C.employeeID,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"aadharNumber",children:"Aadhar Number"}),(0,X.jsx)(xn.p,{id:"aadharNumber",value:C.aadharNumber,onChange:q,maxLength:12,placeholder:"Enter 12-digit Aadhar number"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"contactNumber",children:"Contact Number"}),(0,X.jsx)(xn.p,{id:"contactNumber",value:C.contactNumber,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"email",children:"Email"}),(0,X.jsx)(xn.p,{id:"email",type:"email",value:C.email,onChange:q}),O.email&&(0,X.jsx)("span",{className:"text-red-500 text-sm",children:O.email})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"dateOfBirth",children:"Date of Birth"}),(0,X.jsx)(xn.p,{id:"dateOfBirth",type:"date",value:C.dateOfBirth,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"gender",children:"Gender"}),(0,X.jsxs)(A.l6,{onValueChange:e=>G("gender",e),children:[(0,X.jsx)(A.bq,{children:(0,X.jsx)(A.yv,{placeholder:"Select gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"hireDate",children:"Hire Date"}),(0,X.jsx)(xn.p,{id:"hireDate",type:"date",value:C.hireDate,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"yearsOfExperience",children:"Years of Experience"}),(0,X.jsx)(xn.p,{id:"yearsOfExperience",type:"number",value:C.yearsOfExperience,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"shift.type",children:"Shift Type"}),(0,X.jsxs)(A.l6,{onValueChange:e=>G("shift.type",e),children:[(0,X.jsx)(A.bq,{children:(0,X.jsx)(A.yv,{placeholder:"Select shift type"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Morning",children:"Morning"}),(0,X.jsx)(A.eb,{value:"Afternoon",children:"Afternoon"}),(0,X.jsx)(A.eb,{value:"Night",children:"Night"}),(0,X.jsx)(A.eb,{value:"Rotating",children:"Rotating"})]})]})]}),(0,X.jsxs)("div",{className:"sm:col-span-2 md:col-span-1",children:[(0,X.jsx)(wi.J,{children:"Shift Hours"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"shift.hours.start",children:"Start Time"}),(0,X.jsx)(xn.p,{id:"shift.hours.start",type:"time",value:null===C||void 0===C||null===(r=C.shift)||void 0===r||null===(i=r.hours)||void 0===i?void 0:i.start,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"shift.hours.end",children:"End Time"}),(0,X.jsx)(xn.p,{id:"shift.hours.end",type:"time",value:null===C||void 0===C||null===(s=C.shift)||void 0===s||null===(o=s.hours)||void 0===o?void 0:o.end,onChange:q})]})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"salary",children:"Salary"}),(0,X.jsx)(xn.p,{id:"salary",type:"number",value:C.salary,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"payrollInfo.bankName",children:"Bank Name"}),(0,X.jsx)(xn.p,{id:"payrollInfo.bankName",value:null===C||void 0===C||null===(l=C.payrollInfo)||void 0===l?void 0:l.bankName,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"payrollInfo.accountNumber",children:"Account Number"}),(0,X.jsx)(xn.p,{id:"payrollInfo.accountNumber",value:null===C||void 0===C||null===(c=C.payrollInfo)||void 0===c?void 0:c.accountNumber,onChange:q})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"payrollInfo.ifscCode",children:"IFSC Code"}),(0,X.jsx)(xn.p,{id:"payrollInfo.ifscCode",value:null===C||void 0===C||null===(d=C.payrollInfo)||void 0===d?void 0:d.ifscCode,onChange:q})]})]}),(0,X.jsxs)("div",{className:"flex flex-col gap-4 md:col-span-1",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{children:"Roles"}),(0,X.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["pharmacist","admin","nurse","receptionist","doctor","technician","lab technician","manager","accountant"].map((e=>{var t,n,r;return(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:e,checked:null===(t=C.roles)||void 0===t?void 0:t.includes(e),onCheckedChange:t=>((e,t)=>{const n=C.roles||[],r=t?[...n,e]:null===n||void 0===n?void 0:n.filter((t=>t!==e));D({...C,roles:r})})(e,t)}),(0,X.jsx)("label",{htmlFor:e,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:null===(n=e.split(" "))||void 0===n||null===(r=n.map((e=>{var t;return(null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())+e.slice(1)})))||void 0===r?void 0:r.join(" ")})]},e)}))}),O.roles&&(0,X.jsx)("span",{className:"text-red-500 text-sm",children:O.roles})]}),(0,X.jsx)("div",{}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{children:"Departments"}),(0,X.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null===N||void 0===N?void 0:N.map((e=>e.name)).map((e=>{var t;return(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:`department-${e}`,checked:null===(t=C.department)||void 0===t?void 0:t.includes(e),onCheckedChange:t=>((e,t)=>{const n=C.department||[],r=t?[...n,e]:null===n||void 0===n?void 0:n.filter((t=>t!==e));D({...C,department:r})})(e,t)}),(0,X.jsx)("label",{htmlFor:`department-${e}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e})]},e)}))})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"qualifications",children:"Qualifications"}),(0,X.jsx)("ul",{className:"list-disc pl-5 mb-2",children:null===(u=C.qualifications)||void 0===u?void 0:u.map(((e,t)=>(0,X.jsxs)("li",{className:"flex items-center justify-between",children:[(0,X.jsx)("span",{children:e}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>(e=>{const t=C.qualifications.filter(((t,n)=>n!==e));D({...C,qualifications:t})})(t),children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]},t)))}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(xn.p,{value:I,onChange:e=>L(e.target.value),placeholder:"Add new qualification"}),(0,X.jsx)(j.$,{type:"button",onClick:()=>{I.trim()&&(D((e=>({...e,qualifications:[...e.qualifications||[],I.trim()]}))),L(""))},size:"sm",children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"certifications",children:"Certifications"}),(0,X.jsx)("ul",{className:"list-disc pl-5 mb-2",children:null===(m=C.certifications)||void 0===m?void 0:m.map(((e,t)=>(0,X.jsxs)("li",{className:"flex items-center justify-between",children:[(0,X.jsx)("span",{children:e}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>(e=>{const t=C.certifications.filter(((t,n)=>n!==e));D({...C,certifications:t})})(t),children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]},t)))}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(xn.p,{value:W,onChange:e=>U(e.target.value),placeholder:"Add new certification"}),(0,X.jsx)(j.$,{type:"button",onClick:()=>{W.trim()&&(D((e=>({...e,certifications:[...e.certifications||[],W.trim()]}))),U(""))},size:"sm",children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"address",children:"Address"}),(0,X.jsx)(xo.T,{id:"address",value:C.address,onChange:q})]})]})]}),(()=>{var e;return(0,X.jsx)("div",{className:"space-y-6 bg-gray-50 p-4 rounded-lg",children:(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Staff Permissions"}),(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,X.jsx)("div",{className:"space-y-6",children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(wi.J,{className:"text-sm font-semibold text-gray-700",children:"Patient Management"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>Y(M.aj["Patient Management"],!0),className:"h-7 px-2 text-xs",children:"Select All"})]}),(0,X.jsx)("div",{className:"space-y-2 grid grid-cols-2",children:M.aj["Patient Management"].map((e=>(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:e.id,checked:(C.permissions||[]).includes(e.id),onCheckedChange:t=>K(e.id,t)}),(0,X.jsx)("label",{htmlFor:e.id,className:"text-sm",children:e.label})]},e.id)))}),(0,X.jsx)(io,{className:"my-4"})]})}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(wi.J,{className:"text-sm font-semibold text-gray-700",children:"Inventory Management"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>Y(M.aj["Inventory Management"],!0),className:"h-7 px-2 text-xs",children:"Select All"})]}),(0,X.jsx)("div",{className:"space-y-2",children:M.aj["Inventory Management"].map((e=>(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:e.id,checked:(C.permissions||[]).includes(e.id),onCheckedChange:t=>K(e.id,t)}),(0,X.jsx)("label",{htmlFor:e.id,className:"text-sm",children:e.label})]},e.id)))}),(0,X.jsx)(io,{className:"my-4"})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(wi.J,{className:"text-sm font-semibold text-gray-700",children:"Hospital Management"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>Y(M.aj["Hospital Management"],!0),className:"h-7 px-2 text-xs",children:"Select All"})]}),(0,X.jsx)("div",{className:"space-y-2 grid grid-cols-2",children:M.aj["Hospital Management"].map((e=>(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:e.id,checked:(C.permissions||[]).includes(e.id),onCheckedChange:t=>K(e.id,t)}),(0,X.jsx)("label",{htmlFor:e.id,className:"text-sm",children:e.label})]},e.id)))}),(0,X.jsx)(io,{className:"my-4"})]}),(0,X.jsxs)("div",{className:"space-y-2 ",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(wi.J,{className:"text-sm font-semibold text-gray-700",children:"Financial Management"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>Y(M.aj["Financial Management"],!0),className:"h-7 px-2 text-xs",children:"Select All"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 space-y-2",children:[M.aj["Financial Management"].map((e=>(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:e.id,checked:(C.permissions||[]).includes(e.id),onCheckedChange:t=>K(e.id,t)}),(0,X.jsx)("label",{htmlFor:e.id,className:"text-sm",children:e.label})]},e.id))),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:"delete_payments",checked:(C.permissions||[]).includes("delete_payments"),onCheckedChange:e=>K("delete_payments",e)}),(0,X.jsx)("label",{htmlFor:"delete_payments",className:"text-sm",children:"Delete Payments"})]},"delete_payments")]}),(0,X.jsx)("div",{className:"grid grid-cols-2 space-y-2",children:null===(e=M.aj["Expense/Return"])||void 0===e?void 0:e.map((e=>(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:e.id,checked:(C.permissions||[]).includes(e.id),onCheckedChange:t=>K(e.id,t)}),(0,X.jsx)("label",{htmlFor:e.id,className:"text-sm",children:e.label})]},e.id)))})]}),(0,X.jsx)("div",{className:"space-y-6",children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(wi.J,{className:"text-sm font-semibold text-gray-700",children:"Staff Management"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>Y(M.aj["Staff Management"],!0),className:"h-7 px-2 text-xs",children:"Select All"})]}),(0,X.jsx)("div",{className:"space-y-2 grid grid-cols-2",children:M.aj["Staff Management"].map((e=>(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:e.id,checked:(C.permissions||[]).includes(e.id),onCheckedChange:t=>K(e.id,t)}),(0,X.jsx)("label",{htmlFor:e.id,className:"text-sm",children:e.label})]},e.id)))}),(0,X.jsx)(io,{className:"my-4"})]})})]})]})})})(),(0,X.jsxs)("div",{className:"mt-4 flex justify-end space-x-4",children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:()=>{V()},children:"Reset"}),(0,X.jsx)(j.$,{type:"submit",disabled:"loading"===x,children:"loading"===x?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),k?"Updating...":"Adding..."]}):k?"Update Staff":"Add Staff"})]})]})]}):(p({variant:"destructive",title:"Access Denied",description:"You don't have permission to create staff members."}),f(-1),null)}const NB=[{name:"wbc",label:"White Blood Cell Count (WBC)",unit:"10^3/\xb5L",value:""},{name:"rbc",label:"Red Blood Cell Count (RBC)",unit:"10^6/\xb5L",value:""},{name:"hemoglobin",label:"Hemoglobin",unit:"g/dL",value:""},{name:"hematocrit",label:"Hematocrit",unit:"%",value:""},{name:"platelets",label:"Platelet Count",unit:"10^3/\xb5L",value:""},{name:"mcv",label:"Mean Corpuscular Volume (MCV)",unit:"fL",value:""},{name:"mch",label:"Mean Corpuscular Hemoglobin (MCH)",unit:"pg",value:""},{name:"mchc",label:"Mean Corpuscular Hemoglobin Concentration (MCHC)",unit:"g/dL",value:""},{name:"neutrophils",label:"Neutrophils",unit:"%",value:""},{name:"lymphocytes",label:"Lymphocytes",unit:"%",value:""},{name:"monocytes",label:"Monocytes",unit:"%",value:""},{name:"eosinophils",label:"Eosinophils",unit:"%",value:""},{name:"basophils",label:"Basophils",unit:"%",value:""},{name:"glucose",label:"Glucose",unit:"mg/dL",value:""},{name:"creatinine",label:"Creatinine",unit:"mg/dL",value:""}],_B=()=>{const[e,n]=(0,t.useState)(NB),[r,a]=(0,t.useState)({name:"",label:"",unit:"",value:""});return(0,X.jsxs)("div",{className:"container mx-auto p-4 max-w-3xl",children:[(0,X.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Create Blood Work Report"}),(0,X.jsx)(k.Zp,{className:"p-6",children:(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault()},className:"space-y-6",children:[(0,X.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map((t=>(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsx)(wi.J,{htmlFor:t.name,className:"mb-1",children:t.label}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(xn.p,{type:"number",id:t.name,name:t.name,value:t.value,onChange:e=>((e,t)=>{const{value:r}=e.target;n((e=>e.map((e=>e.name===t?{...e,value:r}:e))))})(e,t.name),className:"mr-2",step:"0.01"}),(0,X.jsx)("span",{className:"text-sm text-gray-500 w-16",children:t.unit}),!NB.some((e=>e.name===t.name))&&(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>{return r=t.name,void n(e.filter((e=>e.name!==r)));var r},children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]})]},t.name)))}),(0,X.jsxs)("div",{className:"border-t pt-4",children:[(0,X.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Add Custom Field"}),(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(xn.p,{placeholder:"Field Name",value:r.name,onChange:e=>a({...r,name:e.target.value})}),(0,X.jsx)(xn.p,{placeholder:"Label",value:r.label,onChange:e=>a({...r,label:e.target.value})}),(0,X.jsx)(xn.p,{placeholder:"Unit",value:r.unit,onChange:e=>a({...r,unit:e.target.value})}),(0,X.jsxs)(j.$,{type:"button",onClick:()=>{r.name&&r.label&&r.unit&&(n([...e,{...r,value:""}]),a({name:"",label:"",unit:"",value:""}))},children:[(0,X.jsx)(xg.A,{className:"h-4 w-4 mr-2"})," Add"]})]})]}),(0,X.jsx)(j.$,{type:"submit",className:"w-full",children:"Save Blood Work Report"})]})})]})};var SB=__webpack_require__(5872),EB=__webpack_require__(8739);const CB={page:{pageBreakInside:"auto",pageBreakAfter:"auto",pageBreakBefore:"auto"},header:{pageBreakInside:"avoid",pageBreakAfter:"avoid",breakInside:"avoid-page"},reportTitle:{pageBreakAfter:"avoid",breakAfter:"avoid-page"},tableHeader:{pageBreakAfter:"avoid",breakAfter:"avoid-page"},tableRow:{pageBreakInside:"avoid",breakInside:"avoid-page"},sectionTitle:{pageBreakAfter:"avoid",breakAfter:"avoid-page"},footer:{position:"fixed",bottom:"10mm",left:"10mm",right:"10mm",backgroundColor:"white"}},DB=(0,t.forwardRef)(((e,n)=>{const{reportsData:r,patientData:a,hospital:i}=e,s=(0,w.d4)((e=>e.templates.headerTemplateArray)),o=(0,w.d4)((e=>e.templates.mergeTemplate)),l=(null===s||void 0===s?void 0:s.length)>0?s[0].value:wn.h,c=o||EB.W,d=(0,bn.G)(l||wn.h),u=new Function("React","HospitalHeader","styles",`return ${c};`);try{return u(t,d,CB)(r,a,i,n)}catch(m){return console.error("Error rendering merged lab report:",m),t.createElement("div",null,"Error rendering merged lab report template")}})),TB=()=>{var e,n;const r=(0,a.zy)(),i=(0,w.wA)(),{toast:s}=(0,H.dj)(),{labTestsTemplate:o,status:l,error:c}=(0,w.d4)((e=>e.templates)),d=(0,a.Zp)(),u=(0,w.d4)((e=>e.hospital.hospitalInfo)),[m,p]=(0,t.useState)(""),[h,f]=(0,t.useState)(null),[v,g]=(0,t.useState)(null),[x,y]=(0,t.useState)(null),[N,S]=(0,t.useState)([]),[E,C]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),A=(0,t.useRef)(null),P=(0,yn.useReactToPrint)({content:()=>A.current,onBeforeGetContent:()=>new Promise((e=>{setTimeout(e,250)}))});(0,t.useEffect)((()=>{"idle"===l&&i((0,R.QK)())}),[l,i]),(0,t.useEffect)((()=>{var e;null!==(e=r.state)&&void 0!==e&&e.patientData&&f(r.state.patientData)}),[r.state]);const O=t.useMemo((()=>{let e=[...o||[]];return m&&(e=e.filter((e=>e.name.toLowerCase().includes(m.toLowerCase())))),null!==h&&void 0!==h&&h.labTests?e.sort(((e,t)=>{const n=h.labTests.some((t=>t.name.toLowerCase()===e.name.toLowerCase())),r=h.labTests.some((e=>e.name.toLowerCase()===t.name.toLowerCase()));return n&&!r?-1:!n&&r?1:0})):e}),[o,h,m]),M=e=>{switch(e){case"Completed":return"text-green-600";case"Sample Collected":return"text-[#f5a158]";case"Registered":return"text-[#b51616]";default:return"text-black-600"}};return(0,X.jsxs)("div",{className:"container mx-auto p-4 flex h-screen",children:[(0,X.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 w-full h-full",children:[(0,X.jsxs)("div",{className:"w-full md:w-1/3 flex flex-col h-full",children:[(0,X.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>d(-1),children:(0,X.jsx)(_,{className:"h-5 w-5"})}),(0,X.jsx)("div",{className:"text-sm font-bold",children:"Laboratory Reports"})]}),h&&(0,X.jsxs)("div",{className:"mb-4 p-2 bg-white rounded-lg shadow",children:[(0,X.jsxs)("div",{className:"flex items-baseline text-sm justify-between",children:[(0,X.jsxs)("div",{className:" font-semibold",children:["Name: ",h.patientName]}),(0,X.jsxs)("div",{className:"text-gray-600 font-semibold",children:["Lab No: ",h.labNumber]})]}),(0,X.jsxs)("div",{className:"mt-2 text-sm font-bold",children:[(0,X.jsx)("h3",{className:" mb-1",children:"Ordered Tests:"}),(0,X.jsx)("ul",{className:"list-disc list-inside",children:h.labTests.map(((e,t)=>(0,X.jsxs)("li",{className:`${M(e.reportStatus)} `,children:[e.name,(0,X.jsxs)("span",{className:"text-gray-500 text-sm ml-2",children:["(",e.reportStatus,")"]})]},t)))})]})]}),(0,X.jsx)(xn.p,{type:"text",placeholder:"Search for lab test...",value:m,onChange:e=>p(e.target.value),className:"mb-4"}),(0,X.jsx)(b.F,{className:"flex-grow",children:(0,X.jsx)("div",{className:"pr-4 space-y-4",children:"succeeded"===l&&O&&(0,X.jsxs)("div",{className:"mb-4",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,X.jsx)("h2",{className:"text-lg font-bold",children:"Lab Test Templates"}),(null===h||void 0===h||null===(e=h.labTests)||void 0===e?void 0:e.length)>0&&(0,X.jsxs)("div",{className:"flex gap-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>T(!D),className:"text-[13px] p-1 h-auto",children:D?"Cancel Merge":"Select Reports"}),D&&(0,X.jsx)(j.$,{onClick:P,className:"text-[13px] p-1 h-auto",children:"Merge & Print"})]})]}),(0,X.jsx)("div",{className:"space-y-2",children:O.map((e=>{var t,n;const r=N.some((t=>{var n,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())})),a=null===h||void 0===h||null===(t=h.labReports)||void 0===t?void 0:t.some((t=>{var n,r;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase())}));return(0,X.jsx)(k.Zp,{className:"cursor-pointer hover:bg-gray-50 transition-colors p-0 "+(null!==h&&void 0!==h&&null!==(n=h.labTests)&&void 0!==n&&n.some((t=>t.name.toLowerCase()===e.name.toLowerCase()))?"border-2 border-blue-500":""),children:(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between space-y-0 p-3",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(k.ZB,{className:"text-[14px]",children:e.name.toUpperCase()}),(0,X.jsxs)("span",{className:"text-gray-500 text-xs",children:["(",Object.keys((null===e||void 0===e?void 0:e.fields)||{}).length," fields)"]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[!D&&(0,X.jsx)(j.$,{className:"p-1 text-[12px] h-auto "+(a?"bg-green-600 hover:bg-green-700":""),onClick:()=>(e=>{y(e),g(null)})(e),children:a?"View Report":"Create Report"}),a&&D&&(0,X.jsx)(ul,{checked:r,onCheckedChange:()=>((e,t)=>{S((n=>n.some((t=>t.name===e.name))?n.filter((t=>t.name!==e.name)):[...n,{...e,sections:t.sections}]))})(h.labReports.find((t=>{var n,r;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase())})),e)})]})]})},e._id)}))})]})})})]}),(0,X.jsx)("div",{className:"w-full md:w-2/3 h-full",children:(0,X.jsx)(b.F,{className:"h-full",children:(0,X.jsx)("div",{className:"pr-4",children:x?(0,X.jsx)(SB.A,{template:x,patientData:h,onClose:()=>y(null),searchWhere:null===h||void 0===h||null===(n=h.type)||void 0===n?void 0:n.toLowerCase(),onSave:(e,t)=>{f((n=>{const r=n.labReports||[],a=r.findIndex((t=>t.name===e.name&&new Date(t.date).toDateString()===new Date(e.date).toDateString())),i=[...r];return-1!==a?i[a]=e:i.push(e),{...n,...t,labReports:i}}))}}):(0,X.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,X.jsx)("p",{className:"text-xl text-gray-500",children:"Select a lab test or template to begin"})})})})})]}),(0,X.jsx)("div",{className:"max-w-[210mm] hidden mx-auto bg-white shadow-lg print:shadow-none print:block print:mx-0",children:(0,X.jsx)("div",{ref:A,children:(0,X.jsx)(DB,{reportsData:N,patientData:h,hospital:u})})})]})};var kB=__webpack_require__(8145);const AB=(0,N.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),PB=e=>{let{label:t,name:n,value:r,onChange:a,type:i="text",required:s=!1,disabled:o=!1}=e;return(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:n,className:"text-sm font-medium",children:t}),(0,X.jsx)(xn.p,{id:n,name:n,type:i,value:r,onChange:a,placeholder:`Enter ${t.toLowerCase()}`,required:s,disabled:o,className:"w-full"})]})},OB=e=>{let{label:t,name:n,value:r,onChange:a,required:i=!1}=e;return(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:n,className:"text-sm font-medium",children:t}),(0,X.jsx)(xo.T,{id:n,name:n,value:r,onChange:a,placeholder:`Enter ${t.toLowerCase()}`,required:i,className:"w-full"})]})},RB=e=>{let{label:t,categories:n,newCategory:r,setNewCategory:a,onAdd:i,onRemove:s}=e;return(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{className:"text-sm font-medium",children:t}),(0,X.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i()},className:"flex space-x-2",children:[(0,X.jsx)(xn.p,{value:r,onChange:e=>a(e.target.value),placeholder:"Enter a new category",className:"flex-grow"}),(0,X.jsx)(j.$,{type:"submit",disabled:!r.trim(),children:(0,X.jsx)(S.A,{size:16})})]}),(0,X.jsx)(b.F,{className:"h-[150px] w-full border rounded-md p-4",children:(null===n||void 0===n?void 0:n.length)>0?(0,X.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(((e,t)=>(0,X.jsxs)(go.E,{variant:"secondary",className:"text-sm py-1 px-2 flex items-center space-x-1",children:[(0,X.jsx)("span",{children:e}),(0,X.jsx)("button",{onClick:()=>s(t),className:"ml-1 text-gray-500 hover:text-red-500 focus:outline-none",children:(0,X.jsx)(T.A,{size:14})})]},t)))}):(0,X.jsx)("p",{className:"text-gray-500 text-sm",children:"No categories added yet."})})]})]})},MB=()=>{var e;const{toast:n}=(0,H.dj)(),r=(0,w.wA)(),i=(0,a.Zp)(),{hospitalInfo:s,hospitalInfoStatus:o,updateStatus:l}=(0,w.d4)((e=>e.hospital)),c=(0,w.d4)((e=>e.hospital.moreLogosBlobs)),[d,u]=(0,t.useState)({name:"",logo:"",logo2:"",address:"",contactNumber:"",email:"",website:"",doctorName:"",doctorInfo:"",hospitalId:"",pharmacyName:"",pharmacyAddress:"",pharmacyContactNumber:"",pharmacyLogo:"",pharmacyExpiryThreshold:"",pharmacyItemCategories:[],morelogos:[]}),[m,p]=(0,t.useState)(""),[h,f]=(0,t.useState)(null),[v,g]=(0,t.useState)(null),[x,y]=(0,t.useState)(null),[b,N]=(0,t.useState)(null),[S,E]=(0,t.useState)([]),[C,D]=(0,t.useState)([]);(0,t.useEffect)((()=>{"idle"===o&&r(Et())}),[r,o]),(0,t.useEffect)((()=>{s&&u((e=>({...e,...s})))}),[s]);const A=e=>{const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))},P=e=>{E((t=>t.filter(((t,n)=>n!==e)))),D((t=>t.filter(((t,n)=>n!==e)))),u((t=>({...t,morelogos:t.morelogos.filter(((t,n)=>n!==e))})))},O=e=>{m.trim()&&(u((t=>({...t,[e]:[...t[e],m.trim()]}))),p(""))},R=(e,t)=>{u((n=>({...n,[e]:n[e].filter(((e,n)=>n!==t))})))};return(0,X.jsxs)(k.Zp,{className:"w-full",children:[(0,X.jsx)(k.aR,{className:"border-b pb-3",children:(0,X.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>i(-1),variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{className:"mb-4 sm:mb-0",children:[(0,X.jsx)(k.ZB,{className:"text-xl sm:text-2xl font-bold",children:"Hospital Information Management"}),(0,X.jsx)(k.BT,{className:"text-gray-500",children:"Manage your hospital's details"})]})]}),(0,X.jsx)(j.$,{onClick:async e=>{e.preventDefault();try{let e={...d};if(v){const t=await(async()=>{if(!v)return null;try{const e=await fetch(`${M.B8}/api/hospitals/getUploadUrl`,{credentials:"include"});if(!e.ok)throw new Error("Failed to upload logo");const t=await e.json();if((await fetch(t.url,{method:"PUT",body:v,headers:{"Content-Type":"image/png"}})).ok)return`${M.hn}/${t.key}`;throw new Error("Failed to upload logo")}catch(e){return console.error("Error uploading logo:",e),n({title:"Logo Upload Failed",description:"Failed to upload the logo. Please try again.",variant:"destructive"}),null}})();t&&(e.logo=t)}if(b){const t=await(async()=>{if(!b)return null;try{const e=await fetch(`${M.B8}/api/hospitals/getUploadUrl`,{credentials:"include"});if(!e.ok)throw new Error("Failed to upload logo2");const t=await e.json();if((await fetch(t.url,{method:"PUT",body:b,headers:{"Content-Type":"image/png"}})).ok)return`${M.hn}/${t.key}`;throw new Error("Failed to upload logo2")}catch(e){return console.error("Error uploading logo2:",e),n({title:"Logo2 Upload Failed",description:"Failed to upload the second logo. Please try again.",variant:"destructive"}),null}})();t&&(e.logo2=t)}if(S.length>0){const t=await(async()=>{if(!S.length)return[];const e=[];for(const r of S)try{const t=await fetch(`${M.B8}/api/hospitals/getUploadUrl`,{credentials:"include"});if(!t.ok)throw new Error("Failed to upload additional logo");const n=await t.json();if(!(await fetch(n.url,{method:"PUT",body:r,headers:{"Content-Type":"image/png"}})).ok)throw new Error("Failed to upload additional logo");e.push(`${M.hn}/${n.key}`)}catch(t){console.error("Error uploading additional logo:",t),n({title:"Additional Logo Upload Failed",description:"Failed to upload one or more additional logos. Please try again.",variant:"destructive"})}return e})();t.length>0&&(e.morelogos=[...e.morelogos||[],...t])}await r(Ct(e)).unwrap(),E([]),D([]),n({variant:"success",title:"Updated Successfully",description:"Hospital information has been updated successfully."})}catch(t){n({title:"Unable to update",description:"Failed to update hospital information. Please try again.",variant:"destructive"})}},disabled:"loading"===l,className:"w-full sm:w-auto",children:"loading"===l?"Saving...":"Save Changes"})]})}),(0,X.jsx)(k.Wu,{className:"pt-6",children:(0,X.jsxs)(Uo,{defaultValue:"hospital",className:"w-full",children:[(0,X.jsxs)($o,{className:"grid w-full sm:w-1/2 grid-cols-2 mb-6",children:[(0,X.jsxs)(zo,{value:"hospital",className:"text-sm font-medium",children:[(0,X.jsx)("span",{className:"hidden sm:inline",children:"Hospital Information"}),(0,X.jsx)("span",{className:"sm:hidden",children:"Hospital"})]}),(0,X.jsxs)(zo,{value:"pharmacy",className:"text-sm font-medium",children:[(0,X.jsx)("span",{className:"hidden sm:inline",children:"Pharmacy Information"}),(0,X.jsx)("span",{className:"sm:hidden",children:"Pharmacy"})]})]}),(0,X.jsx)(Ho,{value:"hospital",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,X.jsxs)("div",{className:"sm:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,X.jsx)(PB,{label:"Hospital ID",name:"hospitalId",value:d.hospitalId,onChange:A,disabled:!0}),(0,X.jsx)(PB,{label:"Hospital Name",name:"name",value:d.name,onChange:A,required:!0}),(0,X.jsx)(PB,{label:"Contact Number",name:"contactNumber",value:d.contactNumber,onChange:A,required:!0}),(0,X.jsx)(PB,{label:"Email",name:"email",type:"email",value:d.email,onChange:A,required:!0}),(0,X.jsx)(PB,{label:"Website",name:"website",type:"url",value:d.website,onChange:A}),(0,X.jsx)(PB,{label:"Doctor's Name (Only for Clinic)",name:"doctorName",value:d.doctorName,onChange:A}),(0,X.jsx)(OB,{label:"Doctor Information",name:"doctorInfo",value:d.doctorInfo,onChange:A}),(0,X.jsx)(OB,{label:"Address",name:"address",value:d.address,onChange:A,required:!0})]}),(0,X.jsxs)("div",{className:"col-span-1",children:[(0,X.jsx)(wi.J,{htmlFor:"logo-upload",className:"text-sm font-medium",children:"Hospital Logo"}),(0,X.jsxs)("div",{className:"mb-6 grid grid-cols-2 gap-6",children:[(0,X.jsx)("div",{className:"mt-2 flex justify-center items-center rounded-lg border border-dashed border-gray-900/25 w-full sm:w-40 h-40 cursor-pointer",onClick:()=>{document.getElementById("logo-upload").click()},children:(0,X.jsxs)("div",{className:"text-center",children:[h||d.logo?(0,X.jsx)("img",{src:h||d.logo,alt:"Logo Preview",className:"mx-auto h-32 w-32 object-cover"}):(0,X.jsxs)("div",{className:"flex flex-col items-center",children:[(0,X.jsx)(AB,{className:"h-10 w-10 text-gray-300","aria-hidden":"true"}),(0,X.jsx)("span",{className:"mt-2 block text-sm font-semibold text-gray-900",children:"Upload"})]}),(0,X.jsx)("input",{id:"logo-upload",name:"logo-upload",type:"file",className:"hidden",onChange:e=>{const t=e.target.files[0];if(t){g(t);const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(t)}},accept:"image/*"})]})}),(0,X.jsx)("div",{className:"mt-2 flex justify-center items-center rounded-lg border border-dashed border-gray-900/25 w-full sm:w-40 h-40 cursor-pointer",onClick:()=>{document.getElementById("logo2-upload").click()},children:(0,X.jsxs)("div",{className:"text-center",children:[x||d.logo2?(0,X.jsx)("img",{src:x||d.logo2,alt:"Secondary Logo Preview",className:"mx-auto h-32 w-32 object-cover"}):(0,X.jsxs)("div",{className:"flex flex-col items-center",children:[(0,X.jsx)(AB,{className:"h-10 w-10 text-gray-300","aria-hidden":"true"}),(0,X.jsx)("span",{className:"mt-2 block text-sm font-semibold text-gray-900",children:"Upload"})]}),(0,X.jsx)("input",{id:"logo2-upload",name:"logo2-upload",type:"file",className:"hidden",onChange:e=>{const t=e.target.files[0];if(t){N(t);const e=new FileReader;e.onloadend=()=>{y(e.result)},e.readAsDataURL(t)}},accept:"image/*"})]})})]}),(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsx)(wi.J,{className:"text-sm font-medium mb-2 block",children:"Additional Logos"}),(0,X.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[null===(e=d.morelogos)||void 0===e?void 0:e.map(((e,t)=>(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("img",{src:c[t]||e,alt:`Additional Logo ${t+1}`,className:"w-full h-32 object-cover rounded-lg"}),(0,X.jsx)(j.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>P(t),children:(0,X.jsx)(T.A,{size:16})})]},`existing-${t}`))),C.map(((e,t)=>(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("img",{src:e,alt:`New Logo Preview ${t+1}`,className:"w-full h-32 object-cover rounded-lg"}),(0,X.jsx)(j.$,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>P(t),children:(0,X.jsx)(T.A,{size:16})})]},`preview-${t}`))),(0,X.jsx)("div",{className:"flex justify-center items-center rounded-lg border border-dashed border-gray-900/25 w-full h-32 cursor-pointer",onClick:()=>document.getElementById("more-logos-upload").click(),children:(0,X.jsxs)("div",{className:"text-center",children:[(0,X.jsx)(AB,{className:"h-8 w-8 text-gray-300 mx-auto"}),(0,X.jsx)("span",{className:"mt-2 block text-sm font-semibold text-gray-900",children:"Add More"})]})}),(0,X.jsx)("input",{id:"more-logos-upload",type:"file",multiple:!0,className:"hidden",onChange:e=>{const t=Array.from(e.target.files);t.length>0&&(E((e=>[...e,...t])),t.forEach((e=>{const t=new FileReader;t.onloadend=()=>{D((e=>[...e,t.result]))},t.readAsDataURL(e)})))},accept:"image/*"})]})]}),(0,X.jsx)(RB,{label:"Hospital Service Categories",categories:d.hospitalServiceCategories,newCategory:m,setNewCategory:p,onAdd:()=>O("hospitalServiceCategories"),onRemove:e=>R("hospitalServiceCategories",e)})]})]})}),(0,X.jsx)(Ho,{value:"pharmacy",children:(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,X.jsxs)("div",{className:"sm:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,X.jsx)(PB,{label:"Pharmacy Name",name:"pharmacyName",value:d.pharmacyName,onChange:A}),(0,X.jsx)(PB,{label:"Pharmacy Contact Number",name:"pharmacyContactNumber",value:d.pharmacyContactNumber,onChange:A}),(0,X.jsx)(PB,{label:"Pharmacy Logo URL",name:"pharmacyLogo",value:d.pharmacyLogo,onChange:A}),(0,X.jsx)(OB,{label:"Pharmacy Address",name:"pharmacyAddress",value:d.pharmacyAddress,onChange:A}),(0,X.jsx)(PB,{label:"Item Expiry Threshold (months)",name:"pharmacyExpiryThreshold",type:"number",value:d.pharmacyExpiryThreshold,onChange:A})]}),(0,X.jsx)("div",{className:"col-span-1",children:(0,X.jsx)(RB,{label:"Pharmacy Item Categories",categories:d.pharmacyItemCategories,newCategory:m,setNewCategory:p,onAdd:()=>O("pharmacyItemCategories"),onRemove:e=>R("pharmacyItemCategories",e)})})]})})]})})]})},IB=(0,N.A)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),LB=["Consultation","Lab","General","OPD Procedure","Surgery","Sub Category","Other"];function FB(e){let{isOpen:n,onClose:r}=e;const a=(0,w.wA)(),i=(0,w.d4)((e=>e.services.createServiceStatus)),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),{toast:m}=(0,H.dj)(),p=()=>{o(""),c(""),u("")};return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"sm:max-w-[425px] max-w-[90vw] rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"text-lg sm:text-xl",children:"Add New Service"}),(0,X.jsx)(so.rr,{className:"text-sm sm:text-base",children:"Fill in the details to add a new service"})]}),(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={name:s,category:l,rate:parseFloat(d)};a(ot(e)).unwrap().then((()=>{m({title:"Service added successfully",description:"The new service has been added.",variant:"success"}),p()})).catch((e=>{m({title:"Failed to add service",description:e.message||"There was an error adding the service. Please try again.",variant:"destructive"})})).finally((()=>{r()}))})()},children:[(0,X.jsxs)("div",{className:"grid gap-4",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"name",className:"text-sm font-medium",children:"Service Name"}),(0,X.jsx)(xn.p,{id:"name",placeholder:"Name",value:s,onChange:e=>o(e.target.value),required:!0,className:"w-full"})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"category",className:"text-sm font-medium",children:"Category"}),(0,X.jsxs)(A.l6,{onValueChange:e=>c(e),value:l,children:[(0,X.jsx)(A.bq,{id:"category",className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Select Category"})}),(0,X.jsx)(A.gC,{children:LB.map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"rate",className:"text-sm font-medium",children:"Rate"}),(0,X.jsx)(xn.p,{id:"rate",placeholder:"Rate",type:"number",value:d,onChange:e=>u(e.target.value),className:"w-full"})]})]}),(0,X.jsxs)(so.Es,{className:"mt-6 flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:p,className:"w-full sm:w-auto",children:"Reset"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:r,className:"w-full sm:w-auto",children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",disabled:"loading"===i,className:"w-full sm:w-auto",children:"loading"===i?"Adding...":"Add Service"})]})]})]})})}var BB=__webpack_require__(7459);const WB=["Consultation","Lab","General","OPD Procedure","Surgery","Sub Category","Other"];function UB(e){let{isOpen:n,onClose:r,service:a}=e;const i=(0,w.wA)(),s=(0,w.d4)((e=>e.services.updateServiceStatus)),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[p,h]=(0,t.useState)([]),[f,v]=(0,t.useState)(!1),[g,x]=(0,t.useState)({frequency:"daily",dailyPrecision:"precise",resetTime:"00:00"}),{toast:y}=(0,H.dj)();(0,t.useEffect)((()=>{var e,t,n,r;a&&(l(a.name),d(a.category),m(null===(e=a.rate)||void 0===e?void 0:e.toString()),h(a.subdivisions||[]),v(a.isRecurring||!1),x({frequency:(null===(t=a.recurringLogic)||void 0===t?void 0:t.frequency)||"daily",dailyPrecision:(null===(n=a.recurringLogic)||void 0===n?void 0:n.dailyPrecision)||"precise",resetTime:(null===(r=a.recurringLogic)||void 0===r?void 0:r.resetTime)||"00:00"}))}),[a]);const b=(e,t,n)=>{const r=[...p];r[e]={...r[e],[t]:"rate"===t?parseFloat(n):n},h(r)},N=()=>{if(!(()=>{if(0===p.length)return!0;const e=p.reduce(((e,t)=>e+(t.rate||0)),0);return Math.abs(e-parseFloat(u))<.01})())return void y({title:"Validation Error",description:"Sum of subdivision rates must equal the service rate",variant:"destructive"});const e={_id:a._id,name:o,category:c,rate:parseFloat(u),subdivisions:p,isRecurring:f,recurringLogic:f?g:void 0};i(ct(e)).unwrap().then((()=>{y({title:"Service updated successfully",description:"The service has been updated.",variant:"success"}),r()})).catch((e=>{y({title:"Failed to update service",description:e.message||"There was an error updating the service. Please try again.",variant:"destructive"})}))};return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"sm:max-w-[500px] max-w-[95vw] rounded-lg",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"text-xl",children:"Edit Service"}),(0,X.jsx)(so.rr,{className:"text-sm sm:text-base",children:"Update the service details"})]}),(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N()},className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,X.jsxs)("div",{className:"col-span-2",children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Name"}),(0,X.jsx)(xn.p,{id:"name",value:o,onChange:e=>l(e.target.value),required:!0,className:"mt-1"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"category",children:"Category"}),(0,X.jsxs)(A.l6,{onValueChange:d,value:c,children:[(0,X.jsx)(A.bq,{id:"category",className:"mt-1",children:(0,X.jsx)(A.yv,{placeholder:"Select"})}),(0,X.jsx)(A.gC,{children:WB.map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"rate",children:"Rate"}),(0,X.jsx)(xn.p,{id:"rate",type:"number",value:u,onChange:e=>m(e.target.value),required:!0,className:"mt-1"})]})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)(wi.J,{children:"Subdivisions"}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{h([...p,{name:"",rate:""}])},className:"h-8",children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"Add"]})]}),(0,X.jsx)("div",{className:"space-y-2",children:p.map(((e,t)=>(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)(xn.p,{placeholder:"Name",value:e.name,onChange:e=>b(t,"name",e.target.value),className:"flex-[2]"}),(0,X.jsx)(xn.p,{type:"number",placeholder:"Rate",value:e.rate,onChange:e=>b(t,"rate",e.target.value),className:"flex-1"}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>(e=>{h(p.filter(((t,n)=>n!==e)))})(t),className:"h-8 w-8",children:(0,X.jsx)(C.A,{className:"h-4 w-4 text-red-500"})})]},t)))})]}),(0,X.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(BB.d,{id:"recurring",checked:f,onCheckedChange:v}),(0,X.jsx)(wi.J,{htmlFor:"recurring",children:"Recurring Service"})]}),f&&(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-3 pl-6",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"frequency",children:"Frequency"}),(0,X.jsxs)(A.l6,{value:g.frequency,onValueChange:e=>x({...g,frequency:e}),children:[(0,X.jsx)(A.bq,{id:"frequency",className:"mt-1",children:(0,X.jsx)(A.yv,{})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"daily",children:"Daily"}),(0,X.jsx)(A.eb,{value:"hourly",children:"Hourly"})]})]})]}),"daily"===g.frequency&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"dailyPrecision",children:"Precision"}),(0,X.jsxs)(A.l6,{value:g.dailyPrecision,onValueChange:e=>x({...g,dailyPrecision:e}),children:[(0,X.jsx)(A.bq,{id:"dailyPrecision",className:"mt-1",children:(0,X.jsx)(A.yv,{})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"precise",children:"Precise"}),(0,X.jsx)(A.eb,{value:"time_based",children:"Time Based"})]})]})]}),"time_based"===g.dailyPrecision&&(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"resetTime",children:"Reset Time"}),(0,X.jsx)(xn.p,{id:"resetTime",type:"time",value:g.resetTime,onChange:e=>x({...g,resetTime:e.target.value}),className:"mt-1"})]})]})]})]}),(0,X.jsxs)(so.Es,{className:"pt-4",children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:r,disabled:"loading"===s,children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",disabled:"loading"===s,children:"loading"===s?"Saving...":"Save Changes"})]})]})]})})}const $B=e=>{let{isOpen:n,onClose:r,services:a}=e;const[i,s]=(0,t.useState)([]),[o,l]=(0,t.useState)(0),[c,d]=(0,t.useState)(""),u=(0,w.wA)(),{serviceBillCollections:m,status:p}=(0,w.d4)((e=>e.templates));(0,t.useEffect)((()=>{s(m||[])}),[m]),(0,t.useEffect)((()=>{"idle"===p&&u((0,R.QK)())}),[u,p]),(0,t.useEffect)((()=>{const e=a.filter((e=>i.includes(e._id))).reduce(((e,t)=>e+t.rate),0);l(e)}),[i,a]);const h=a.filter((e=>e.name.toLowerCase().includes(c.toLowerCase())||e.category.toLowerCase().includes(c.toLowerCase()))),f=(0,t.useCallback)((e=>{s((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))}),[]),v=(0,t.useCallback)((()=>{u((0,R.Vx)({service_collections:i})),r()}),[u,i,r]);return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"max-w-[95vw] w-full sm:max-w-[200px] md:max-w-[250px] lg:max-w-[500px] xl:max-w-[600px] rounded-lg max-h-[90vh]",children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{className:"text-lg sm:text-xl md:text-2xl",children:"Manage Services"})}),(0,X.jsxs)("div",{className:" relative",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search services...",value:c,onChange:e=>{d(e.target.value)},className:"pl-8 w-full"})]}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(uo.XI,{children:(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[50px]",children:"Select"}),(0,X.jsx)(uo.nd,{children:"Service Name"}),(0,X.jsx)(uo.nd,{className:"hidden md:block",children:"Category"})," ",(0,X.jsx)(uo.nd,{className:"text-right pr-6",children:"Rate"})]})})}),(0,X.jsx)(b.F,{className:"h-[50vh] pr-4 ",children:(0,X.jsx)(uo.XI,{children:(0,X.jsx)(uo.BF,{children:h.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-center",children:(0,X.jsx)(ul,{checked:i.includes(e._id),onCheckedChange:()=>f(e._id),className:"h-5 w-5"})}),(0,X.jsx)(uo.nA,{children:e.name}),(0,X.jsx)(uo.nA,{className:"hidden md:block",children:e.category})," ",(0,X.jsx)(uo.nA,{className:"text-right font-semibold",children:e.rate?`\u20b9${e.rate.toLocaleString("en-IN")}`:""})]},e._id)))})})})]}),(0,X.jsx)(io,{}),(0,X.jsxs)("div",{className:"text-right font-bold md:text-lg text-md",children:["Total: \u20b9",o.toLocaleString("en-IN")]}),(0,X.jsxs)(so.Es,{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:r,className:"w-full sm:w-auto",children:"Close"}),(0,X.jsx)(j.$,{onClick:v,className:"w-full sm:w-auto",children:"Apply"})]})]})})};var zB={version:"0.18.5"},HB=1200,VB=1252,qB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],GB={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},KB=function(e){-1!=qB.indexOf(e)&&(VB=GB[0]=e)};var YB=function(e){HB=e,KB(e)};function XB(){YB(1200),KB(1252)}function ZB(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function JB(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var QB,eW=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return 255==t&&254==n?function(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==n?JB(e.slice(2)):65279==t?e.slice(1):e},tW=function(e){return String.fromCharCode(e)},nW=function(e){return String.fromCharCode(e)};var rW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function aW(e){for(var t="",n=0,r=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)i=(n=e.charCodeAt(c++))>>2,s=(3&n)<<4|(r=e.charCodeAt(c++))>>4,o=(15&r)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(r)?o=l=64:isNaN(a)&&(l=64),t+=rW.charAt(i)+rW.charAt(s)+rW.charAt(o)+rW.charAt(l);return t}function iW(e){var t="",n=0,r=0,a=0,i=0,s=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=rW.indexOf(e.charAt(l++))<<2|(i=rW.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&i)<<4|(s=rW.indexOf(e.charAt(l++)))>>2,64!==s&&(t+=String.fromCharCode(r)),a=(3&s)<<6|(o=rW.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(a));return t}var sW=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),oW=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(H1){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function lW(e){return sW?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function cW(e){return sW?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var dW=function(e){return sW?oW(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function uW(e){if("undefined"===typeof ArrayBuffer)return dW(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function mW(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function pW(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return pW(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var hW=sW?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:oW(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var fW=/\u0000/g,vW=/[\u0001-\u0006]/g;function gW(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function xW(e,t){var n=""+e;return n.length>=t?n:PU("0",t-n.length)+n}function yW(e,t){var n=""+e;return n.length>=t?n:PU(" ",t-n.length)+n}function bW(e,t){var n=""+e;return n.length>=t?n:n+PU(" ",t-n.length)}var wW=Math.pow(2,32);function jW(e,t){return e>wW||e<-wW?function(e,t){var n=""+Math.round(e);return n.length>=t?n:PU("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:PU("0",t-n.length)+n}(Math.round(e),t)}function NW(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var _W=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],SW=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var EW={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},CW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},DW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function TW(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,s=1,o=0,l=1,c=0,d=0,u=Math.floor(a);c<t&&(o=(u=Math.floor(a))*s+i,d=u*c+l,!(a-u<5e-8));)a=1/(a-u),i=s,s=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=i):(d=c,o=s)),!n)return[0,r*o,d];var m=Math.floor(r*o/d);return[m,r*o-m*d,d]}function kW(e,t,n){if(e>2958465||e<0)return null;var r=0|e,a=Math.floor(86400*(e-r)),i=0,s=[],o={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++a&&(o.T=a=0,++r,++o.D)),60===r)s=n?[1317,10,29]:[1900,2,29],i=3;else if(0===r)s=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var AW=new Date(1899,11,31,0,0,0),PW=AW.getTime(),OW=new Date(1900,2,1,0,0,0);function RW(e,t){var n=e.getTime();return t?n-=1262304e5:e>=OW&&(n+=864e5),(n-(PW+6e4*(e.getTimezoneOffset()-AW.getTimezoneOffset())))/864e5}function MW(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function IW(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=MW(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=MW(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),MW(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function LW(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):IW(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return aU(14,RW(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function FW(e,t,n,r){var a,i="",s=0,o=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=n.m,c=t.length;break;case 3:return SW[n.m-1][1];case 5:return SW[n.m-1][0];default:return SW[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=n.d,c=t.length;break;case 3:return _W[n.q][0];default:return _W[n.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(o*(n.S+n.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(i=xW(s,2+r),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):xW(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*n.D+n.H;break;case"[m]":case"[mm]":a=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":a=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?xW(a,c):""}function BW(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var WW=/%/g;function UW(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+UW(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),-1===(n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a)).indexOf("e")){var s=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+i):n+="E+"+(s-i);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+i)%a)+"."+r.substr(i)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var $W=/# (\?+)( ?)\/( ?)(\d+)/;var zW=/^#*0*\.([0#]+)/,HW=/\).*[0#]/,VW=/\(###\) ###\\?-####/;function qW(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function GW(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function KW(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function YW(e,t,n){if(40===e.charCodeAt(0)&&!t.match(HW)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?YW("n",r,n):"("+YW("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return JW(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(WW,""),a=t.length-r.length;return JW(e,r,n*Math.pow(10,2*a))+PU("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return UW(t,n);if(36===t.charCodeAt(0))return"$"+YW(e,t.substr(" "==t.charAt(1)?2:1),n);var a,i,s,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+jW(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=jW(n,0))&&(a=""),a.length>t.length?a:qW(t.substr(0,t.length-a.length))+a;if(i=t.match($W))return function(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),s=a-i*r,o=r;return n+(0===i?"":""+i)+" "+(0===s?PU(" ",e[1].length+1+e[4].length):yW(s,e[1].length)+e[2]+"/"+e[3]+xW(o,e[4].length))}(i,l,c);if(t.match(/^#+0+$/))return c+jW(l,t.length-t.indexOf("0"));if(i=t.match(zW))return a=GW(n,i[1].length).replace(/^([^\.]+)$/,"$1."+qW(i[1])).replace(/\.$/,"."+qW(i[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+PU("0",qW(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+GW(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+BW(jW(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+YW(e,t,-n):BW(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,i[1].length)))+"."+xW(KW(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return YW(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=gW(YW(e,t.replace(/[\\-]/g,""),n)),s=0,gW(gW(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<a.length?a.charAt(s++):"0"===e?"0":""})));if(t.match(VW))return"("+(a=YW(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=TW(l,Math.pow(10,s)-1,!1),a=""+c," "==(d=JW("n",i[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],(d=bW(o[2],s)).length<i[4].length&&(d=qW(i[4].substr(i[4].length-d.length))+d),a+=d;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),c+((o=TW(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?yW(o[1],s)+i[2]+"/"+i[3]+bW(o[2],s):PU(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=jW(n,0),t.length<=a.length?a:qW(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var u=t.indexOf(".")-s,m=t.length-a.length-u;return qW(t.substr(0,u)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=KW(n,i[1].length),n<0?"-"+YW(e,t,-n):BW(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?xW(0,3-e.length):"")+e}))+"."+xW(s,i[1].length);switch(t){case"###,##0.00":return YW(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=BW(jW(l,0));return"0"!==p?c+p:"";case"###,###.00":return YW(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return YW(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function XW(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+XW(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),!(n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a)).match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+i):n+="E+"+(s-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+i)%a)+"."+r.substr(i)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ZW(e,t,n){if(40===e.charCodeAt(0)&&!t.match(HW)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ZW("n",r,n):"("+ZW("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return JW(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(WW,""),a=t.length-r.length;return JW(e,r,n*Math.pow(10,2*a))+PU("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return XW(t,n);if(36===t.charCodeAt(0))return"$"+ZW(e,t.substr(" "==t.charAt(1)?2:1),n);var a,i,s,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+xW(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,0===n&&(a=""),a.length>t.length?a:qW(t.substr(0,t.length-a.length))+a;if(i=t.match($W))return function(e,t,n){return n+(0===t?"":""+t)+PU(" ",e[1].length+2+e[4].length)}(i,l,c);if(t.match(/^#+0+$/))return c+xW(l,t.length-t.indexOf("0"));if(i=t.match(zW))return a=(a=(""+n).replace(/^([^\.]+)$/,"$1."+qW(i[1])).replace(/\.$/,"."+qW(i[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+PU("0",qW(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+BW(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ZW(e,t,-n):BW(""+n)+"."+PU("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ZW(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=gW(ZW(e,t.replace(/[\\-]/g,""),n)),s=0,gW(gW(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<a.length?a.charAt(s++):"0"===e?"0":""})));if(t.match(VW))return"("+(a=ZW(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=TW(l,Math.pow(10,s)-1,!1),a=""+c," "==(d=JW("n",i[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],(d=bW(o[2],s)).length<i[4].length&&(d=qW(i[4].substr(i[4].length-d.length))+d),a+=d;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),c+((o=TW(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?yW(o[1],s)+i[2]+"/"+i[3]+bW(o[2],s):PU(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:qW(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var u=t.indexOf(".")-s,m=t.length-a.length-u;return qW(t.substr(0,u)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ZW(e,t,-n):BW(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?xW(0,3-e.length):"")+e}))+"."+xW(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=BW(""+l);return"0"!==p?c+p:"";default:if(t.match(/\.[0#?]*$/))return ZW(e,t.slice(0,t.lastIndexOf(".")),n)+qW(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function JW(e,t,n){return(0|n)===n?ZW(e,t,n):YW(e,t,n)}var QW=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eU(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":NW(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(QW))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var tU=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function nU(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function rU(e,t){var n=function(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var i=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,i];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var s=n[0].match(tU),o=n[1].match(tU);return nU(t,s)?[r,n[0]]:nU(t,o)?[r,n[1]]:[r,n[null!=s&&null!=o?2:1]]}return[r,i]}function aU(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:EW)[e])&&(r=n.table&&n.table[CW[e]]||EW[CW[e]]),null==r&&(r=DW[e]||"General")}if(NW(r,0))return LW(t,n);t instanceof Date&&(t=RW(t,n.date1904));var a=rU(r,t);if(NW(a[1]))return LW(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var a,i,s,o=[],l="",c=0,d="",u="t",m="H";c<e.length;)switch(d=e.charAt(c)){case"G":if(!NW(e,c))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);o[o.length]={t:"t",v:l},++c;break;case"\\":var p=e.charAt(++c),h="("===p||")"===p?p:"t";o[o.length]={t:h,v:p},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=kW(t,n,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},u=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=kW(t,n)))return"";for(l=d;++c<e.length&&e.charAt(c).toLowerCase()===d;)l+=d;"m"===d&&"h"===u.toLowerCase()&&(d="M"),"h"===d&&(d=m),o[o.length]={t:d,v:l},u=d;break;case"A":case"a":case"\u4e0a":var f={t:d,v:d};if(null==a&&(a=kW(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(f.v=a.H>=12?"P":"A"),f.t="T",m="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(f.v=a.H>=12?"PM":"AM"),f.t="T",c+=5,m="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=a&&(f.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),f.t="T",c+=5,m="h"):(f.t="t",++c),null==a&&"T"===f.t)return"";o[o.length]=f,u=d;break;case"[":for(l=d;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(QW)){if(null==a&&null==(a=kW(t,n)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},u=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",eU(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=d;++c<e.length&&"0"===(d=e.charAt(c));)l+=d;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++c<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(c))>-1;)l+=d;o[o.length]={t:"n",v:l};break;case"?":for(l=d;e.charAt(++c)===d;)l+=d;o[o.length]={t:d,v:l},u=d;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===r?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:d,v:d},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(d))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"t",v:d},++c}var v,g=0,x=0;for(c=o.length-1,u="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=m,u="h",g<1&&(g=1);break;case"s":(v=o[c].v.match(/\.0+$/))&&(x=Math.max(x,v[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":u=o[c].t;break;case"m":"s"===u&&(o[c].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&o[c].v.match(/[Hh]/)&&(g=1),g<2&&o[c].v.match(/[Mm]/)&&(g=2),g<3&&o[c].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var y,b="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=FW(o[c].t.charCodeAt(0),o[c].v,a,x),o[c].t="t";break;case"n":case"?":for(y=c+1;null!=o[y]&&("?"===(d=o[y].t)||"D"===d||(" "===d||"t"===d)&&null!=o[y+1]&&("?"===o[y+1].t||"t"===o[y+1].t&&"/"===o[y+1].v)||"("===o[c].t&&(" "===d||"n"===d||")"===d)||"t"===d&&("/"===o[y].v||" "===o[y].v&&null!=o[y+1]&&"?"==o[y+1].t));)o[c].v+=o[y].v,o[y]={v:"",t:";"},++y;b+=o[c].v,c=y-1;break;case"G":o[c].t="t",o[c].v=LW(t,n)}var w,j,N="";if(b.length>0){40==b.charCodeAt(0)?(w=t<0&&45===b.charCodeAt(0)?-t:t,j=JW("n",b,w)):(j=JW("n",b,w=t<0&&r>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(j=j.substr(1),o[0].v="-"+o[0].v)),y=j.length-1;var _=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){_=c;break}var S=o.length;if(_===o.length&&-1===j.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(y>=o[c].v.length-1?(y-=o[c].v.length,o[c].v=j.substr(y+1,o[c].v.length)):y<0?o[c].v="":(o[c].v=j.substr(0,y+1),y=-1),o[c].t="t",S=c);y>=0&&S<o.length&&(o[S].v=j.substr(0,y+1)+o[S].v)}else if(_!==o.length&&-1===j.indexOf("E")){for(y=j.indexOf(".")-1,c=_;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(i=o[c].v.indexOf(".")>-1&&c===_?o[c].v.indexOf(".")-1:o[c].v.length-1,N=o[c].v.substr(i+1);i>=0;--i)y>=0&&("0"===o[c].v.charAt(i)||"#"===o[c].v.charAt(i))&&(N=j.charAt(y--)+N);o[c].v=N,o[c].t="t",S=c}for(y>=0&&S<o.length&&(o[S].v=j.substr(0,y+1)+o[S].v),y=j.indexOf(".")+1,c=_;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===_)){for(i=o[c].v.indexOf(".")>-1&&c===_?o[c].v.indexOf(".")+1:0,N=o[c].v.substr(0,i);i<o[c].v.length;++i)y<j.length&&(N+=j.charAt(y++));o[c].v=N,o[c].t="t",S=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=r>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=JW(o[c].t,o[c].v,w),o[c].t="t");var E="";for(c=0;c!==o.length;++c)null!=o[c]&&(E+=o[c].v);return E}(a[1],t,n,a[0])}function iU(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=EW[n]){if(EW[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return EW[t]=e,t}function sU(e){for(var t=0;392!=t;++t)void 0!==e[t]&&iU(e[t],t)}function oU(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',EW=e}var lU={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},cU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var dU=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)a[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=a[t]=n>>>8^e[255&n];var i=[];for(r=1;16!=r;++r)i[r-1]="undefined"!==typeof Int32Array?a.subarray(256*r,256*r+256):a.slice(256*r,256*r+256);return i}(t),r=n[0],a=n[1],i=n[2],s=n[3],o=n[4],l=n[5],c=n[6],d=n[7],u=n[8],m=n[9],p=n[10],h=n[11],f=n[12],v=n[13],g=n[14];return e.table=t,e.bstr=function(e,n){for(var r=~n,a=0,i=e.length;a<i;)r=r>>>8^t[255&(r^e.charCodeAt(a++))];return~r},e.buf=function(e,n){for(var x=~n,y=e.length-15,b=0;b<y;)x=g[e[b++]^255&x]^v[e[b++]^x>>8&255]^f[e[b++]^x>>16&255]^h[e[b++]^x>>>24]^p[e[b++]]^m[e[b++]]^u[e[b++]]^d[e[b++]]^c[e[b++]]^l[e[b++]]^o[e[b++]]^s[e[b++]]^i[e[b++]]^a[e[b++]]^r[e[b++]]^t[e[b++]];for(y+=15;b<y;)x=x>>>8^t[255&(x^e[b++])];return~x},e.str=function(e,n){for(var r=~n,a=0,i=e.length,s=0,o=0;a<i;)(s=e.charCodeAt(a++))<128?r=r>>>8^t[255&(r^s)]:s<2048?r=(r=r>>>8^t[255&(r^(192|s>>6&31))])>>>8^t[255&(r^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),o=1023&e.charCodeAt(a++),r=(r=(r=(r=r>>>8^t[255&(r^(240|s>>8&7))])>>>8^t[255&(r^(128|s>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&s)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|s>>12&15))])>>>8^t[255&(r^(128|s>>6&63))])>>>8^t[255&(r^(128|63&s))];return~r},e}(),uU=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function i(e){Rz(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),a=e.read_shift(2),i=e.l+a,s={};if(21589===r)1&(n=e.read_shift(1))&&(s.mtime=e.read_shift(4)),a>5&&(2&n&&(s.atime=e.read_shift(4)),4&n&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime));e.l=i,t[r]=s}return t}function s(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=j(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(sW&&Buffer.isBuffer(e)?e.toString("binary"):j(e)).split("\r\n"),a=0,i="";for(a=0;a<r.length;++a)if(i=r[a],/^Content-Location:/i.test(i)&&(i=i.slice(i.indexOf("file")),n||(n=i.slice(0,i.lastIndexOf("/")+1)),i.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),i.slice(0,n.length)!=n););var s=(r[1]||"").match(/boundary="(.*?)"/);if(!s)throw new Error("MAD cannot find boundary");var o="--"+(s[1]||""),l=[],c=[],d={FileIndex:l,FullPaths:c};m(d);var u,p=0;for(a=0;a<r.length;++a){var h=r[a];h!==o&&h!==o+"--"||(p++&&ce(d,r.slice(u,a),n),u=a)}return d}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,a,i,s,o,p=512,h=[],f=e.slice(0,512);Rz(f,0);var v=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(x,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(f);switch(n=v[0]){case 3:p=512;break;case 4:p=4096;break;case 0:if(0==v[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==p&&Rz(f=e.slice(0,p),28);var y=e.slice(0,p);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(f,n);var b=f.read_shift(4,"i");if(3===n&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);f.l+=4,i=f.read_shift(4,"i"),f.l+=4,f.chk("00100000","Mini Stream Cutoff Size: "),s=f.read_shift(4,"i"),r=f.read_shift(4,"i"),o=f.read_shift(4,"i"),a=f.read_shift(4,"i");for(var w=-1,N=0;N<109&&!((w=f.read_shift(4,"i"))<0);++N)h[N]=w;var _=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],a=1;a<n;++a)r[a-1]=e.slice(a*t,(a+1)*t);return r[n-1]=e.slice(n*t),r}(e,p);c(o,a,_,p,h);var S=function(e,t,n,r){var a=e.length,i=[],s=[],o=[],l=[],c=r-1,d=0,u=0,m=0,p=0;for(d=0;d<a;++d)if(o=[],(m=d+t)>=a&&(m-=a),!s[m]){l=[];var h=[];for(u=m;u>=0;){h[u]=!0,s[u]=!0,o[o.length]=u,l.push(e[u]);var f=n[Math.floor(4*u/r)];if(r<4+(p=4*u&c))throw new Error("FAT boundary crossed: "+u+" 4 "+r);if(!e[f])break;if(h[u=Ez(e[f],p)])break}i[m]={nodes:o,data:tz([l])}}return i}(_,i,h,p);S[i].name="!Directory",r>0&&s!==g&&(S[s].name="!MiniFAT"),S[h[0]].name="!FAT",S.fat_addrs=h,S.ssz=p;var E=[],C=[],D=[];!function(e,t,n,r,a,i,s,o){for(var c,m=0,p=r.length?2:0,h=t[e].data,f=0,v=0;f<h.length;f+=128){var x=h.slice(f,f+128);Rz(x,64),v=x.read_shift(2),c=rz(x,0,v-p),r.push(c);var y={name:c,type:x.read_shift(1),color:x.read_shift(1),L:x.read_shift(4,"i"),R:x.read_shift(4,"i"),C:x.read_shift(4,"i"),clsid:x.read_shift(16),state:x.read_shift(4,"i"),start:0,size:0};0!==x.read_shift(2)+x.read_shift(2)+x.read_shift(2)+x.read_shift(2)&&(y.ct=u(x,x.l-8)),0!==x.read_shift(2)+x.read_shift(2)+x.read_shift(2)+x.read_shift(2)&&(y.mt=u(x,x.l-8)),y.start=x.read_shift(4,"i"),y.size=x.read_shift(4,"i"),y.size<0&&y.start<0&&(y.size=y.type=0,y.start=g,y.name=""),5===y.type?(m=y.start,a>0&&m!==g&&(t[m].name="!StreamData")):y.size>=4096?(y.storage="fat",void 0===t[y.start]&&(t[y.start]=d(n,y.start,t.fat_addrs,t.ssz)),t[y.start].name=y.name,y.content=t[y.start].data.slice(0,y.size)):(y.storage="minifat",y.size<0?y.size=0:m!==g&&y.start!==g&&t[m]&&(y.content=l(y,t[m].data,(t[o]||{}).data))),y.content&&Rz(y.content,0),i[c]=y,s.push(y)}}(i,S,_,E,r,{},C,s),function(e,t,n){for(var r=0,a=0,i=0,s=0,o=0,l=n.length,c=[],d=[];r<l;++r)c[r]=d[r]=r,t[r]=n[r];for(;o<d.length;++o)a=e[r=d[o]].L,i=e[r].R,s=e[r].C,c[r]===r&&(-1!==a&&c[a]!==a&&(c[r]=c[a]),-1!==i&&c[i]!==i&&(c[r]=c[i])),-1!==s&&(c[s]=r),-1!==a&&r!=c[r]&&(c[a]=c[r],d.lastIndexOf(a)<o&&d.push(a)),-1!==i&&r!=c[r]&&(c[i]=c[r],d.lastIndexOf(i)<o&&d.push(i));for(r=1;r<l;++r)c[r]===r&&(-1!==i&&c[i]!==i?c[r]=c[i]:-1!==a&&c[a]!==a&&(c[r]=c[a]));for(r=1;r<l;++r)if(0!==e[r].type){if((o=r)!=c[o])do{o=c[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(C,D,E),E.shift();var T={FileIndex:C,FullPaths:D};return t&&t.raw&&(T.raw={header:y,sectors:_}),T}function l(e,t,n){for(var r=e.start,a=e.size,i=[],s=r;n&&a>0&&s>=0;)i.push(t.slice(s*v,s*v+v)),a-=v,s=Ez(n,4*s);return 0===i.length?Iz(0):hW(i).slice(0,e.size)}function c(e,t,n,r,a){var i=g;if(e===g){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var s=n[e],o=(r>>>2)-1;if(!s)return;for(var l=0;l<o&&(i=Ez(s,4*l))!==g;++l)a.push(i);c(Ez(s,r-4),t-1,n,r,a)}}function d(e,t,n,r,a){var i=[],s=[];a||(a=[]);var o=r-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,i[i.length]=l,s.push(e[l]);var d=n[Math.floor(4*l/r)];if(r<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[d])break;l=Ez(e[d],c)}return{nodes:i,data:tz([s])}}function u(e,t){return new Date(1e3*(Sz(e,t+4)/1e7*Math.pow(2,32)+Sz(e,t)/1e7-11644473600))}function m(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(uU.find(e,"/"+t))return;var n=Iz(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),p(e)}(e)}function p(e,t){m(e);for(var a=!1,i=!1,s=e.FullPaths.length-1;s>=0;--s){var o=e.FileIndex[s];switch(o.type){case 0:i?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(o.R*o.L*o.C)&&(a=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,d=Object.create?Object.create(null):{},u=[];for(s=0;s<e.FullPaths.length;++s)d[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&u.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<u.length;++s){var p=n(u[s][0]);(i=d[p])||(u.push([p,{name:r(p).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),d[p]=!0)}for(u.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0,i=0,s=Math.min(n.length,r.length);a<s;++a){if(i=n[a].length-r[a].length)return i;if(n[a]!=r[a])return n[a]<r[a]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],s=0;s<u.length;++s)e.FullPaths[s]=u[s][0],e.FileIndex[s]=u[s][1];for(s=0;s<u.length;++s){var h=e.FileIndex[s],f=e.FullPaths[s];if(h.name=r(f).replace("/",""),h.L=h.R=h.C=-(h.color=1),h.size=h.content?h.content.length:0,h.start=0,h.clsid=h.clsid||b,0===s)h.C=u.length>1?1:-1,h.size=0,h.type=5;else if("/"==f.slice(-1)){for(c=s+1;c<u.length&&n(e.FullPaths[c])!=f;++c);for(h.C=c>=u.length?-1:c,c=s+1;c<u.length&&n(e.FullPaths[c])!=n(f);++c);h.R=c>=u.length?-1:c,h.type=1}else n(e.FullPaths[s+1]||"")==n(f)&&(h.R=s+1),h.type=2}}}function h(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],i=e.FullPaths[0],s=i,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(s=e.FullPaths[l].slice(i.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=s){s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=o.content,d=sW&&Buffer.isBuffer(c)?c.toString("binary"):j(c),u=0,m=Math.min(1024,d.length),p=0,h=0;h<=m;++h)(p=d.charCodeAt(h))>=32&&p<128&&++u;var f=u>=4*m/5;a.push(r),a.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+s),a.push("Content-Transfer-Encoding: "+(f?"quoted-printable":"base64")),a.push("Content-Type: "+se(o,s)),a.push(""),a.push(f?le(d):oe(d))}return a.push(r+"--\r\n"),a.join("\r\n")}(e,n);if(p(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],i=[],s=Iz(1),o=n.compression?8:0,l=0;0;var c=0,d=0,u=0,m=0,p=e.FullPaths[0],h=p,f=e.FileIndex[0],v=[],g=0;for(c=1;c<e.FullPaths.length;++c)if(h=e.FullPaths[c].slice(p.length),(f=e.FileIndex[c]).size&&f.content&&"\x01Sh33tJ5"!=h){var x=u,y=Iz(h.length);for(d=0;d<h.length;++d)y.write_shift(1,127&h.charCodeAt(d));y=y.slice(0,y.l),v[m]=dU.buf(f.content,0);var b=f.content;8==o&&(b=N(b)),(s=Iz(30)).write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),f.mt?a(s,f.mt):s.write_shift(4,0),s.write_shift(-4,8&l?0:v[m]),s.write_shift(4,8&l?0:b.length),s.write_shift(4,8&l?0:f.content.length),s.write_shift(2,y.length),s.write_shift(2,0),u+=s.length,r.push(s),u+=y.length,r.push(y),u+=b.length,r.push(b),8&l&&((s=Iz(12)).write_shift(-4,v[m]),s.write_shift(4,b.length),s.write_shift(4,f.content.length),u+=s.l,r.push(s)),(s=Iz(46)).write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),s.write_shift(4,0),s.write_shift(-4,v[m]),s.write_shift(4,b.length),s.write_shift(4,f.content.length),s.write_shift(2,y.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,x),g+=s.l,i.push(s),g+=y.length,i.push(y),++m}return s=Iz(22),s.write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,m),s.write_shift(2,m),s.write_shift(4,g),s.write_shift(4,u),s.write_shift(2,0),hW([hW(r),hW(i),s])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var a=e.FileIndex[r];if(a.content){var i=a.content.length;i>0&&(i<4096?t+=i+63>>6:n+=i+511>>9)}}for(var s=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+n+s+o,c=l+127>>7,d=c<=109?0:Math.ceil((c-109)/127);l+c+d+127>>7>c;)d=++c<=109?0:Math.ceil((c-109)/127);var u=[1,d,c,o,s,n,t,0];return e.FileIndex[0].size=t<<6,u[7]=(e.FileIndex[0].start=u[0]+u[1]+u[2]+u[3]+u[4]+u[5])+(u[6]+7>>3),u}(e),i=Iz(r[7]<<9),s=0,o=0;for(s=0;s<8;++s)i.write_shift(1,y[s]);for(s=0;s<8;++s)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),s=0;s<3;++s)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,r[2]),i.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:g),i.write_shift(4,r[3]),i.write_shift(-4,r[1]?r[0]-1:g),i.write_shift(4,r[1]),s=0;s<109;++s)i.write_shift(-4,s<r[2]?r[1]+s:-1);if(r[1])for(o=0;o<r[1];++o){for(;s<236+127*o;++s)i.write_shift(-4,s<r[2]?r[1]+s:-1);i.write_shift(-4,o===r[1]-1?g:o+1)}var l=function(e){for(o+=e;s<o-1;++s)i.write_shift(-4,s+1);e&&(++s,i.write_shift(-4,g))};for(o=s=0,o+=r[1];s<o;++s)i.write_shift(-4,w.DIFSECT);for(o+=r[2];s<o;++s)i.write_shift(-4,w.FATSECT);l(r[3]),l(r[4]);for(var c=0,d=0,u=e.FileIndex[0];c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&((d=u.content.length)<4096||(u.start=o,l(d+511>>9)));for(l(r[6]+7>>3);511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(o=s=0,c=0;c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&(!(d=u.content.length)||d>=4096||(u.start=o,l(d+63>>6)));for(;511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(s=0;s<r[4]<<2;++s){var m=e.FullPaths[s];if(m&&0!==m.length){u=e.FileIndex[s],0===s&&(u.start=u.size?u.start-1:g);var h=0===s&&n.root||u.name;if(d=2*(h.length+1),i.write_shift(64,h,"utf16le"),i.write_shift(2,d),i.write_shift(1,u.type),i.write_shift(1,u.color),i.write_shift(-4,u.L),i.write_shift(-4,u.R),i.write_shift(-4,u.C),u.clsid)i.write_shift(16,u.clsid,"hex");else for(c=0;c<4;++c)i.write_shift(4,0);i.write_shift(4,u.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,u.start),i.write_shift(4,u.size),i.write_shift(4,0)}else{for(c=0;c<17;++c)i.write_shift(4,0);for(c=0;c<3;++c)i.write_shift(4,-1);for(c=0;c<12;++c)i.write_shift(4,0)}}for(s=1;s<e.FileIndex.length;++s)if((u=e.FileIndex[s]).size>=4096)if(i.l=u.start+1<<9,sW&&Buffer.isBuffer(u.content))u.content.copy(i,i.l,0,u.size),i.l+=u.size+511&-512;else{for(c=0;c<u.size;++c)i.write_shift(1,u.content[c]);for(;511&c;++c)i.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if((u=e.FileIndex[s]).size>0&&u.size<4096)if(sW&&Buffer.isBuffer(u.content))u.content.copy(i,i.l,0,u.size),i.l+=u.size+63&-64;else{for(c=0;c<u.size;++c)i.write_shift(1,u.content[c]);for(;63&c;++c)i.write_shift(1,0)}if(sW)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}t.version="1.2.1";var f,v=64,g=-2,x="d0cf11e0a1b11ae1",y=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:g,FREESECT:-1,HEADER_SIGNATURE:x,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function j(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function N(e){return f?f.deflateRawSync(e):K(e)}var _=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function C(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var D="undefined"!==typeof Uint8Array,T=D?new Uint8Array(256):[],k=0;k<256;++k)T[k]=C(k);function A(e,t){var n=T[255&e];return t<=8?n>>>8-t:(n=n<<8|T[e>>8&255],t<=16?n>>>16-t:(n=n<<8|T[e>>16&255])>>>24-t)}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function O(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function R(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function M(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function I(e,t,n){var r=7&t,a=t>>>3,i=(1<<n)-1,s=e[a]>>>r;return n<8-r?s&i:(s|=e[a+1]<<8-r,n<16-r?s&i:(s|=e[a+2]<<16-r,n<24-r?s&i:(s|=e[a+3]<<24-r)&i))}function L(e,t,n){var r=7&t,a=t>>>3;return r<=5?e[a]|=(7&n)<<r:(e[a]|=n<<r&255,e[a+1]=(7&n)>>8-r),t+3}function F(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function W(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function U(e,t){var n=e.length,r=2*n>t?2*n:t+5,a=0;if(n>=t)return e;if(sW){var i=cW(r);if(e.copy)e.copy(i);else for(;a<e.length;++a)i[a]=e[a];return i}if(D){var s=new Uint8Array(r);if(s.set)s.set(e);else for(;a<n;++a)s[a]=e[a];return s}return e.length=r,e}function $(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function z(e,t,n){var r=1,a=0,i=0,s=0,o=0,l=e.length,c=D?new Uint16Array(32):$(32);for(i=0;i<32;++i)c[i]=0;for(i=l;i<n;++i)e[i]=0;l=e.length;var d=D?new Uint16Array(l):$(l);for(i=0;i<l;++i)c[a=e[i]]++,r<a&&(r=a),d[i]=0;for(c[0]=0,i=1;i<=r;++i)c[i+16]=o=o+c[i-1]<<1;for(i=0;i<l;++i)0!=(o=e[i])&&(d[i]=c[o+16]++);var u=0;for(i=0;i<l;++i)if(0!=(u=e[i]))for(o=A(d[i],r)>>r-u,s=(1<<r+4-u)-1;s>=0;--s)t[o|s<<u]=15&u|i<<4;return r}var H=D?new Uint16Array(512):$(512),V=D?new Uint16Array(32):$(32);if(!D){for(var q=0;q<512;++q)H[q]=0;for(q=0;q<32;++q)V[q]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);z(e,V,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);z(n,H,288)}();var G=function(){for(var e=D?new Uint8Array(32768):[],t=0,n=0;t<E.length-1;++t)for(;n<E[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=D?new Uint8Array(259):[];for(t=0,n=0;t<S.length-1;++t)for(;n<S[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),a=n+r==e.length;for(t.write_shift(1,+a),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var a=0,i=0,s=D?new Uint16Array(32768):[];i<t.length;){var o=Math.min(65535,t.length-i);if(o<10){for(7&(a=L(n,a,+!(i+o!=t.length)))&&(a+=8-(7&a)),n.l=a/8|0,n.write_shift(2,o),n.write_shift(2,65535&~o);o-- >0;)n[n.l++]=t[i++];a=8*n.l}else{a=L(n,a,+!(i+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[i],d=-1,u=0;if((d=s[l=32767&(l<<5^c)])&&((d|=-32768&i)>i&&(d-=32768),d<i))for(;t[d+u]==t[i+u]&&u<250;)++u;if(u>2){(c=r[u])<=22?a=B(n,a,T[c+1]>>1)-1:(B(n,a,3),B(n,a+=5,T[c-23]>>5),a+=3);var m=c<8?0:c-4>>2;m>0&&(W(n,a,u-S[c]),a+=m),c=e[i-d],a=B(n,a,T[c]>>3),a-=3;var p=c<4?0:c-2>>1;p>0&&(W(n,a,i-d-E[c]),a+=p);for(var h=0;h<u;++h)s[l]=32767&i,l=32767&(l<<5^t[i]),++i;o-=u-1}else c<=143?c+=48:a=F(n,a,1),a=B(n,a,T[c]),s[l]=32767&i,++i}a=B(n,a,0)-1}}return n.l=(a+7)/8|0,n.l}(t,n)}}();function K(e){var t=Iz(50+Math.floor(1.1*e.length)),n=G(e,t);return t.slice(0,n)}var Y=D?new Uint16Array(32768):$(32768),X=D?new Uint16Array(32768):$(32768),Z=D?new Uint16Array(128):$(128),J=1,Q=1;function ee(e,t){var n=R(e,t)+257,r=R(e,t+=5)+1,a=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var i=0,s=D?new Uint8Array(19):$(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=D?new Uint8Array(8):$(8),d=D?new Uint8Array(8):$(8),u=s.length,m=0;m<a;++m)s[_[m]]=i=O(e,t),l<i&&(l=i),c[i]++,t+=3;var p=0;for(c[0]=0,m=1;m<=l;++m)d[m]=p=p+c[m-1]<<1;for(m=0;m<u;++m)0!=(p=s[m])&&(o[m]=d[p]++);var h=0;for(m=0;m<u;++m)if(0!=(h=s[m])){p=T[o[m]]>>8-h;for(var f=(1<<7-h)-1;f>=0;--f)Z[p|f<<h]=7&h|m<<3}var v=[];for(l=1;v.length<n+r;)switch(t+=7&(p=Z[M(e,t)]),p>>>=3){case 16:for(i=3+P(e,t),t+=2,p=v[v.length-1];i-- >0;)v.push(p);break;case 17:for(i=3+O(e,t),t+=3;i-- >0;)v.push(0);break;case 18:for(i=11+M(e,t),t+=7;i-- >0;)v.push(0);break;default:v.push(p),l<p&&(l=p)}var g=v.slice(0,n),x=v.slice(n);for(m=n;m<286;++m)g[m]=0;for(m=r;m<30;++m)x[m]=0;return J=z(g,Y,286),Q=z(x,X,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[lW(t),2];for(var n=0,r=0,a=cW(t||1<<18),i=0,s=a.length>>>0,o=0,l=0;0==(1&r);)if(r=O(e,n),n+=3,r>>>1!=0)for(r>>1==1?(o=9,l=5):(n=ee(e,n),o=J,l=Q);;){!t&&s<i+32767&&(s=(a=U(a,i+32767)).length);var c=I(e,n,o),d=r>>>1==1?H[c]:Y[c];if(n+=15&d,0===((d>>>=4)>>>8&255))a[i++]=d;else{if(256==d)break;var u=(d-=257)<8?0:d-4>>2;u>5&&(u=0);var m=i+S[d];u>0&&(m+=I(e,n,u),n+=u),c=I(e,n,l),n+=15&(d=r>>>1==1?V[c]:X[c]);var p=(d>>>=4)<4?0:d-2>>1,h=E[d];for(p>0&&(h+=I(e,n,p),n+=p),!t&&s<m&&(s=(a=U(a,m+100)).length);i<m;)a[i]=a[i-h],++i}}else{7&n&&(n+=8-(7&n));var f=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,f>0)for(!t&&s<i+f&&(s=(a=U(a,i+f)).length);f-- >0;)a[i++]=e[n>>>3],n+=8}return t?[a,n+7>>>3]:[a.slice(0,i),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;Rz(n,0);var r={FileIndex:[],FullPaths:[]};m(r,{root:t.root});for(var a=n.length-4;(80!=n[a]||75!=n[a+1]||5!=n[a+2]||6!=n[a+3])&&a>=0;)--a;n.l=a+4,n.l+=4;var s=n.read_shift(2);n.l+=6;var o=n.read_shift(4);for(n.l=o,a=0;a<s;++a){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),d=n.read_shift(2),u=n.read_shift(2),p=n.read_shift(2);n.l+=8;var h=n.read_shift(4),f=i(n.slice(n.l+d,n.l+d+u));n.l+=d+u+p;var v=n.l;n.l=h+4,ae(n,l,c,r,f),n.l=v}return r}function ae(e,t,n,r,a){e.l+=2;var s=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,a=31&n,i=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(i-1),r.setDate(a);var s=31&t,o=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(s<<1),r}(e);if(8257&s)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),d=e.read_shift(4),u=e.read_shift(2),m=e.read_shift(2),p="",h=0;h<u;++h)p+=String.fromCharCode(e[e.l++]);if(m){var v=i(e.slice(e.l,e.l+m));(v[21589]||{}).mt&&(l=v[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=m;var g=e.slice(e.l,e.l+c);switch(o){case 8:g=function(e,t){if(!f)return te(e,t);var n=new(0,f.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,d);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var x=!1;8&s&&(134695760==e.read_shift(4)&&(e.read_shift(4),x=!0),c=e.read_shift(4),d=e.read_shift(4)),c!=t&&ne(x,"Bad compressed size: "+t+" != "+c),d!=n&&ne(x,"Bad uncompressed size: "+n+" != "+d),de(r,p,g,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function se(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&ie[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&ie[r[1]]?ie[r[1]]:"application/octet-stream"}function oe(e){for(var t=aW(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<r.length;++a){var i=r[a];if(0!=i.length)for(var s=0;s<i.length;){var o=76,l=i.slice(s,s+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=i.slice(s,s+o),(s+=o)<i.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,a="",i="",s="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":s=c[2].trim();break;case"content-transfer-encoding":i=c[2].trim()}}switch(++o,i.toLowerCase()){case"base64":r=dW(iW(t.slice(o).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return dW(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+i)}var d=de(e,a.slice(n.length),r,{unsafe:!0});s&&(d.ctype=s)}function de(e,t,n,a){var i=a&&a.unsafe;i||m(e);var s=!i&&uU.find(e,t);if(!s){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),s={name:r(t),type:2},e.FileIndex.push(s),e.FullPaths.push(o),i||uU.utils.cfb_gc(e)}return s.content=n,s.size=n?n.length:0,a&&(a.CLSID&&(s.clsid=a.CLSID),a.mt&&(s.mt=a.mt),a.ct&&(s.ct=a.ct)),s}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),a=!1;47===t.charCodeAt(0)?(a=!0,t=n[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var i=t.toUpperCase(),s=!0===a?n.indexOf(i):r.indexOf(i);if(-1!==s)return e.FileIndex[s];var o=!i.match(vW);for(i=i.replace(fW,""),o&&(i=i.replace(vW,"!")),s=0;s<n.length;++s){if((o?n[s].replace(vW,"!"):n[s]).replace(fW,"")==i)return e.FileIndex[s];if((o?r[s].replace(vW,"!"):r[s]).replace(fW,"")==i)return e.FileIndex[s]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||sW&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return s(),o(e.readFileSync(t),n)}(t,n);case"base64":return o(dW(iW(t)),n);case"binary":return o(dW(t),n)}return o(t,n)},t.parse=o,t.write=function(t,n){var r=h(t,n);switch(n&&n.type||"buffer"){case"file":return s(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:j(r);case"base64":return aW("string"==typeof r?r:j(r));case"buffer":if(sW)return Buffer.isBuffer(r)?r:oW(r);case"array":return"string"==typeof r?dW(r):r}return r},t.writeFile=function(t,n,r){s();var a=h(t,r);e.writeFileSync(n,a)},t.utils={cfb_new:function(e){var t={};return m(t,e),t},cfb_add:de,cfb_del:function(e,t){m(e);var n=uU.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){m(e);var a=uU.find(e,t);if(a)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==a)return e.FileIndex[i].name=r(n),e.FullPaths[i]=n,!0;return!1},cfb_gc:function(e){p(e,!0)},ReadShift:Dz,CheckField:Oz,prep_blob:Rz,bconcat:hW,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");f=e}catch(H1){console.error("cannot use native zlib: "+(H1.message||H1))}},_deflateRaw:K,_inflateRaw:te,consts:w},t}();let mU;function pU(e){return"string"===typeof e?uW(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function hU(e,t,n){if("undefined"!==typeof mU&&mU.writeFileSync)return n?mU.writeFileSync(e,t,n):mU.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=uW(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?y$(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var a=new Blob([pU(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(null!=s.download)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),i}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=mW(t)),o.write(t),o.close(),t}catch(H1){if(!H1.message||!H1.message.match(/onstruct/))throw H1}throw new Error("cannot save file "+e)}function fU(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function vU(e,t){for(var n=[],r=fU(e),a=0;a!==r.length;++a)null==n[e[r[a]][t]]&&(n[e[r[a]][t]]=r[a]);return n}function gU(e){for(var t=[],n=fU(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function xU(e){for(var t=[],n=fU(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var yU=new Date(1899,11,30,0,0,0);function bU(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(yU.getTime()+6e4*(e.getTimezoneOffset()-yU.getTimezoneOffset())))/864e5}var wU=new Date,jU=yU.getTime()+6e4*(wU.getTimezoneOffset()-yU.getTimezoneOffset()),NU=wU.getTimezoneOffset();function _U(e){var t=new Date;return t.setTime(24*e*60*60*1e3+jU),t.getTimezoneOffset()!==NU&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-NU)),t}function SU(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(n=1,i>3&&(r=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60}t+=n*parseInt(a[i],10)}return t}var EU=new Date("2017-02-19T19:06:09.000Z"),CU=isNaN(EU.getFullYear())?new Date("2/19/17"):EU,DU=2017==CU.getFullYear();function TU(e,t){var n=new Date(e);if(DU)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==CU.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)),i}function kU(e,t){if(sW&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return y$(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return y$(JB(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return y$(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return y$(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return n[e]||e}))}catch(H1){}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function AU(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=AU(e[n]));return t}function PU(e,t){for(var n="";n.length<t;)n+=e;return n}function OU(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var RU=["january","february","march","april","may","june","july","august","september","october","november","december"];function MU(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==RU.indexOf(s))return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}var IU=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,n,r){if(e||"string"==typeof n)return t.split(n);for(var a=t.split(n),i=[a[0]],s=1;s<a.length;++s)i.push(r),i.push(a[s]);return i}}();function LU(e){return e?e.content&&e.type?kU(e.content,!0):e.data?eW(e.data):e.asNodeBuffer&&sW?eW(e.asNodeBuffer().toString("binary")):e.asBinary?eW(e.asBinary()):e._data&&e._data.getContent?eW(kU(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function FU(e){if(!e)return null;if(e.data)return ZB(e.data);if(e.asNodeBuffer&&sW)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?ZB(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function BU(e,t){for(var n=e.FullPaths||fU(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var s=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||a==s)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function WU(e,t){var n=BU(e,t);if(null==n)throw new Error("Cannot find file "+t+" in zip");return n}function UU(e,t,n){if(!n)return(r=WU(e,t))&&".bin"===r.name.slice(-4)?FU(r):LU(r);var r;if(!t)return null;try{return UU(e,t)}catch(H1){return null}}function $U(e,t,n){if(!n)return LU(WU(e,t));if(!t)return null;try{return $U(e,t)}catch(H1){return null}}function zU(e,t,n){if(!n)return FU(WU(e,t));if(!t)return null;try{return zU(e,t)}catch(H1){return null}}function HU(e){for(var t=e.FullPaths||fU(e.files),n=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function VU(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=sW?oW(n):function(e){for(var t=[],n=0,r=e.length+250,a=lW(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[n++]=s;else if(s<2048)a[n++]=192|s>>6&31,a[n++]=128|63&s;else if(s>=55296&&s<57344){s=64+(1023&s);var o=1023&e.charCodeAt(++i);a[n++]=240|s>>8&7,a[n++]=128|s>>2&63,a[n++]=128|o>>6&15|(3&s)<<4,a[n++]=128|63&o}else a[n++]=224|s>>12&15,a[n++]=128|s>>6&63,a[n++]=128|63&s;n>r&&(t.push(a.slice(0,n)),n=0,a=lW(65535),r=65530)}return t.push(a.slice(0,n)),hW(t)}(n),uU.utils.cfb_add(e,t,r);uU.utils.cfb_add(e,t,n)}else e.file(t,n)}function qU(){return uU.utils.cfb_new()}function GU(e,t){switch(t.type){case"base64":return uU.read(e,{type:"base64"});case"binary":return uU.read(e,{type:"binary"});case"buffer":case"array":return uU.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function KU(e,t){if("/"==e.charAt(0))return e.slice(1);var n=t.split("/");"/"!=t.slice(-1)&&n.pop();for(var r=e.split("/");0!==r.length;){var a=r.shift();".."===a?n.pop():"."!==a&&n.push(a)}return n.join("/")}var YU='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',XU=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ZU=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,JU=YU.match(ZU)?ZU:/<[^>]*>/g,QU=/<\w*:/,e$=/<(\/?)\w+:/;function t$(e,t,n){for(var r={},a=0,i=0;a!==e.length&&(32!==(i=e.charCodeAt(a))&&10!==i&&13!==i);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var s=e.match(XU),o=0,l="",c=0,d="",u="",m=1;if(s)for(c=0;c!=s.length;++c){for(u=s[c],i=0;i!=u.length&&61!==u.charCodeAt(i);++i);for(d=u.slice(0,i).trim();32==u.charCodeAt(i+1);)++i;for(m=34==(a=u.charCodeAt(i+1))||39==a?1:0,l=u.slice(i+1+m,u.length-m),o=0;o!=d.length&&58!==d.charCodeAt(o);++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,n||(r[d.toLowerCase()]=l);else{var p=(5===o&&"xmlns"===d.slice(0,5)?"xmlns":"")+d.slice(o+1);if(r[p]&&"ext"==d.slice(o-3,o))continue;r[p]=l,n||(r[p.toLowerCase()]=l)}}return r}function n$(e){return e.replace(e$,"<$1")}var r$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},a$=gU(r$),i$=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function n(r){var a=r+"",i=a.indexOf("<![CDATA[");if(-1==i)return a.replace(e,(function(e,t){return r$[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var s=a.indexOf("]]>");return n(a.slice(0,i))+a.slice(i+9,s)+n(a.slice(s+3))}}(),s$=/[&<>'"]/g,o$=/[\u0000-\u0008\u000b-\u001f]/g;function l$(e){return(e+"").replace(s$,(function(e){return a$[e]})).replace(o$,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function c$(e){return l$(e).replace(/ /g,"_x0020_")}var d$=/[\u0000-\u001f]/g;function u$(e){return(e+"").replace(s$,(function(e){return a$[e]})).replace(/\n/g,"<br/>").replace(d$,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}var m$=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(n){return n.replace(e,t)}}();function p$(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function h$(e){for(var t="",n=0,r=0,a=0,i=0,s=0,o=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(a=e.charCodeAt(n++),r>191&&r<224?(s=(31&r)<<6,s|=63&a,t+=String.fromCharCode(s)):(i=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i):(o=((7&r)<<18|(63&a)<<12|(63&i)<<6|63&(s=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function f$(e){var t,n,r,a=lW(2*e.length),i=1,s=0,o=0;for(n=0;n<e.length;n+=i)i=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),i=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),i=3):(i=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(a[s++]=255&o,a[s++]=o>>>8,o=0),a[s++]=t%256,a[s++]=t>>>8;return a.slice(0,s).toString("ucs2")}function v$(e){return oW(e,"binary").toString("utf8")}var g$="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",x$=sW&&(v$(g$)==h$(g$)&&v$||f$(g$)==h$(g$)&&f$)||h$,y$=sW?function(e){return oW(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},b$=function(){var e={};return function(t,n){var r=t+"|"+(n||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),w$=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),j$=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),N$=/<\/?(?:vt:)?variant>/g,_$=/<(?:vt:)([^>]*)>([\s\S]*)</;function S$(e,t){var n=t$(e),r=e.match(j$(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach((function(e){var t=e.replace(N$,"").match(_$);t&&a.push({v:x$(t[2]),t:t[1]})})),a}var E$=/(^\s|\s$|\n)/;function C$(e,t){return"<"+e+(t.match(E$)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function D$(e){return fU(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function T$(e,t,n){return"<"+e+(null!=n?D$(n):"")+(null!=t?(t.match(E$)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function k$(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(H1){if(t)throw H1}return""}function A$(e){if(sW&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return x$(mW(pW(e)));throw new Error("Bad input format: expected Buffer or string")}var P$=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,O$="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",R$="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",M$="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",I$="http://schemas.openxmlformats.org/package/2006/content-types",L$="http://schemas.openxmlformats.org/package/2006/relationships",F$="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",B$="http://purl.org/dc/elements/1.1/",W$="http://purl.org/dc/terms/",U$="http://purl.org/dc/dcmitype/",$$="http://schemas.openxmlformats.org/officeDocument/2006/relationships",z$="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",H$="http://www.w3.org/2001/XMLSchema-instance",V$="http://www.w3.org/2001/XMLSchema",q$=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],G$="urn:schemas-microsoft-com:office:office",K$="urn:schemas-microsoft-com:office:excel",Y$="urn:schemas-microsoft-com:office:spreadsheet",X$="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",Z$="http://macVmlSchemaUri",J$="urn:schemas-microsoft-com:vml",Q$="http://www.w3.org/TR/REC-html40";var ez=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,a=e[0][n].length;r<a;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},tz=sW?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:oW(e)}))):ez(e)}:ez,nz=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Nz(e,a)));return r.join("").replace(fW,"")},rz=sW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(fW,""):nz(e,t,n)}:nz,az=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},iz=sW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):az(e,t,n)}:az,sz=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(jz(e,a)));return r.join("")},oz=sW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):sz(e,t,n)}:sz,lz=function(e,t){var n=Sz(e,t);return n>0?oz(e,t+4,t+4+n-1):""},cz=lz,dz=function(e,t){var n=Sz(e,t);return n>0?oz(e,t+4,t+4+n-1):""},uz=dz,mz=function(e,t){var n=2*Sz(e,t);return n>0?oz(e,t+4,t+4+n-1):""},pz=mz,hz=function(e,t){var n=Sz(e,t);return n>0?rz(e,t+4,t+4+n):""},fz=hz,vz=function(e,t){var n=Sz(e,t);return n>0?oz(e,t+4,t+4+n):""},gz=vz,xz=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],i=5;i>=0;--i)a=256*a+e[t+i];return 2047==r?0==a?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}(e,t)},yz=xz,bz=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function wz(){rz=function(e,t,n){return QB.utils.decode(1200,e.slice(t,n)).replace(fW,"")},oz=function(e,t,n){return QB.utils.decode(65001,e.slice(t,n))},cz=function(e,t){var n=Sz(e,t);return n>0?QB.utils.decode(VB,e.slice(t+4,t+4+n-1)):""},uz=function(e,t){var n=Sz(e,t);return n>0?QB.utils.decode(HB,e.slice(t+4,t+4+n-1)):""},pz=function(e,t){var n=2*Sz(e,t);return n>0?QB.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},fz=function(e,t){var n=Sz(e,t);return n>0?QB.utils.decode(1200,e.slice(t+4,t+4+n)):""},gz=function(e,t){var n=Sz(e,t);return n>0?QB.utils.decode(65001,e.slice(t+4,t+4+n)):""}}sW&&(cz=function(e,t){if(!Buffer.isBuffer(e))return lz(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},uz=function(e,t){if(!Buffer.isBuffer(e))return dz(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},pz=function(e,t){if(!Buffer.isBuffer(e))return mz(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},fz=function(e,t){if(!Buffer.isBuffer(e))return hz(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},gz=function(e,t){if(!Buffer.isBuffer(e))return vz(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},yz=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):xz(e,t)},bz=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof QB&&wz();var jz=function(e,t){return e[t]},Nz=function(e,t){return 256*e[t+1]+e[t]},_z=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},Sz=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ez=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Cz=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Dz(e,t){var n,r,a,i,s,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,sW&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)l+=String.fromCharCode(Nz(this,o)),o+=2;e*=2;break;case"utf8":l=oz(this,this.l,this.l+e);break;case"utf16le":e*=2,l=rz(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof QB)return Dz.call(this,e,"dbcs");l=QB.utils.decode(HB,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=cz(this,this.l),e=4+Sz(this,this.l);break;case"lpstr-cp":l=uz(this,this.l),e=4+Sz(this,this.l);break;case"lpwstr":l=pz(this,this.l),e=4+2*Sz(this,this.l);break;case"lpp4":e=4+Sz(this,this.l),l=fz(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Sz(this,this.l),l=gz(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=jz(this,this.l+e++));)c.push(tW(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=Nz(this,this.l+e));)c.push(tW(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,s=0;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return a=jz(this,o),this.l=o+1,i=Dz.call(this,e-s,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(tW(Nz(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof QB){l=QB.utils.decode(HB,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,s=0;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return a=jz(this,o),this.l=o+1,i=Dz.call(this,e-s,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(tW(jz(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return n=jz(this,this.l),this.l++,n;case 2:return n=("i"===t?_z:Nz)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?Ez:Cz)(this,this.l),this.l+=4,n):(r=Sz(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?yz(this,this.l):yz([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=iz(this,this.l,e)}}return this.l+=e,l}var Tz=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},kz=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Az=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function Pz(e,t,n){var r=0,a=0;if("dbcs"===n){for(a=0;a!=t.length;++a)Az(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof QB&&874==VB)for(a=0;a!=t.length;++a){var i=QB.utils.encode(VB,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);r=t.length}else{if("hex"===n){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===n){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,Tz(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=r?-t:t;isFinite(s)?0==s?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[n+o]=255&i;e[n+6]=(15&a)<<4|15&i,e[n+7]=a>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,kz(this,t,this.l)}}return this.l+=r,this}function Oz(e,t){var n=iz(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Rz(e,t){e.l=t,e.read_shift=Dz,e.chk=Oz,e.write_shift=Pz}function Mz(e,t){e.l+=t}function Iz(e){var t=lW(e);return Rz(t,0),t}function Lz(e,t,n){if(e){var r,a,i;Rz(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=WX[o]||WX[65535];for(i=127&(r=e.read_shift(1)),a=1;a<4&&128&r;++a)i+=(127&(r=e.read_shift(1)))<<7*a;l=e.l+i;var d=c.f&&c.f(e,i,n);if(e.l=l,t(d,c,o))return}}}function Fz(){var e=[],t=sW?256:2048,n=function(e){var t=Iz(e);return Rz(t,0),t},r=n(t),a=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},i=function(e){return r&&e<r.length-r.l?r:(a(),r=n(Math.max(e+1,t)))};return{next:i,push:function(e){a(),null==(r=e).l&&(r.l=r.length),i(t)},end:function(){return a(),hW(e)},_bufs:e}}function Bz(e,t,n,r){var a,i=+t;if(!isNaN(i)){r||(r=WX[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,128+(127&i)),s.write_shift(1,i>>7));for(var o=0;4!=o;++o){if(!(r>=128)){s.write_shift(1,r);break}s.write_shift(1,128+(127&r)),r>>=7}r>0&&bz(n)&&e.push(n)}}function Wz(e,t,n){var r=AU(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Uz(e,t,n){var r=AU(e);return r.s=Wz(r.s,t.s,n),r.e=Wz(r.e,t.s,n),r}function $z(e,t){if(e.cRel&&e.c<0)for(e=AU(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=AU(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Yz(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function zz(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?$z(e.s,t.biff)+":"+$z(e.e,t.biff):(e.s.rRel?"":"$")+Vz(e.s.r)+":"+(e.e.rRel?"":"$")+Vz(e.e.r):(e.s.cRel?"":"$")+Gz(e.s.c)+":"+(e.e.cRel?"":"$")+Gz(e.e.c)}function Hz(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Vz(e){return""+(e+1)}function qz(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Gz(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Kz(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function Yz(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Xz(e){var t=e.indexOf(":");return-1==t?{s:Kz(e),e:Kz(e)}:{s:Kz(e.slice(0,t)),e:Kz(e.slice(t+1))}}function Zz(e,t){return"undefined"===typeof t||"number"===typeof t?Zz(e.s,e.e):("string"!==typeof e&&(e=Yz(e)),"string"!==typeof t&&(t=Yz(t)),e==t?e:e+":"+t)}function Jz(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function Qz(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=aU(e.z,n?bU(t):t)}catch(H1){}try{return e.w=aU((e.XF||{}).numFmtId||(n?14:0),n?bU(t):t)}catch(H1){return""+t}}function eH(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?BH[e.v]||e.v:Qz(e,void 0==t?e.v:t))}function tH(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function nH(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense;var i=e||(a?[]:{}),s=0,o=0;if(i&&null!=r.origin){if("number"==typeof r.origin)s=r.origin;else{var l="string"==typeof r.origin?Kz(r.origin):r.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Jz(i["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==s&&(c.e.r=s=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[u].length;++m)if("undefined"!==typeof t[u][m]){var p={v:t[u][m]},h=s+u,f=o+m;if(c.s.r>h&&(c.s.r=h),c.s.c>f&&(c.s.c=f),c.e.r<h&&(c.e.r=h),c.e.c<f&&(c.e.c=f),!t[u][m]||"object"!==typeof t[u][m]||Array.isArray(t[u][m])||t[u][m]instanceof Date)if(Array.isArray(p.v)&&(p.f=t[u][m][1],p.v=p.v[0]),null===p.v)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else{if(!r.sheetStubs)continue;p.t="z"}else"number"===typeof p.v?p.t="n":"boolean"===typeof p.v?p.t="b":p.v instanceof Date?(p.z=r.dateNF||EW[14],r.cellDates?(p.t="d",p.w=aU(p.z,bU(p.v))):(p.t="n",p.v=bU(p.v),p.w=aU(p.z,p.v))):p.t="s";else p=t[u][m];if(a)i[h]||(i[h]=[]),i[h][f]&&i[h][f].z&&(p.z=i[h][f].z),i[h][f]=p;else{var v=Yz({c:f,r:h});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=Zz(c)),i}function rH(e,t){return nH(null,e,t)}function aH(e,t){return t||(t=Iz(4)),t.write_shift(4,e),t}function iH(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function sH(e,t){var n=!1;return null==t&&(n=!0,t=Iz(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function oH(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function lH(e,t){var n=e.l,r=e.read_shift(1),a=iH(e),i=[],s={t:a,h:a};if(0!==(1&r)){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(oH(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=n+t,s}var cH=lH;function dH(e,t){var n=!1;return null==t&&(n=!0,t=Iz(23+4*e.t.length)),t.write_shift(1,1),sH(e.t,t),t.write_shift(4,1),function(e,t){t||(t=Iz(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function uH(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function mH(e,t){return null==t&&(t=Iz(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function pH(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function hH(e,t){return null==t&&(t=Iz(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var fH=iH,vH=sH;function gH(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function xH(e,t){var n=!1;return null==t&&(n=!0,t=Iz(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var yH=iH,bH=gH,wH=xH;function jH(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var a=0===r?yz([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Ez(t,0)>>2;return n?a/100:a}function NH(e,t){null==t&&(t=Iz(4));var n=0,r=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?a:e)<<2)+(n+2))}function _H(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var SH=_H,EH=function(e,t){return t||(t=Iz(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function CH(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function DH(e,t){return(t||Iz(8)).write_shift(8,e,"f")}function TH(e,t){if(t||(t=Iz(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function kH(e,t){var n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var AH=80,PH=[AH,81],OH={1:{n:"CodePage",t:2},2:{n:"Category",t:AH},3:{n:"PresentationFormat",t:AH},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:AH},15:{n:"Company",t:AH},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:AH},27:{n:"ContentStatus",t:AH},28:{n:"Language",t:AH},29:{n:"Version",t:AH},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},RH={1:{n:"CodePage",t:2},2:{n:"Title",t:AH},3:{n:"Subject",t:AH},4:{n:"Author",t:AH},5:{n:"Keywords",t:AH},6:{n:"Comments",t:AH},7:{n:"Template",t:AH},8:{n:"LastAuthor",t:AH},9:{n:"RevNumber",t:AH},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:AH},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},MH={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},IH=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function LH(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var FH=AU(LH([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),BH={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},WH={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},UH={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},$H={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function zH(e,t){var n,r=function(e){for(var t=[],n=fU(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(UH),a=[];a[a.length]=YU,a[a.length]=T$("Types",null,{xmlns:I$,"xmlns:xsd":V$,"xmlns:xsi":H$}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return T$("Default",null,{Extension:e[0],ContentType:e[1]})})));var i=function(r){e[r]&&e[r].length>0&&(n=e[r][0],a[a.length]=T$("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:$H[r][t.bookType]||$H[r].xlsx}))},s=function(n){(e[n]||[]).forEach((function(e){a[a.length]=T$("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:$H[n][t.bookType]||$H[n].xlsx})}))},o=function(t){(e[t]||[]).forEach((function(e){a[a.length]=T$("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})}))};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var HH={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function VH(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function qH(e,t){var n={"!id":{}};if(!e)return n;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(e.match(JU)||[]).forEach((function(e){var a=t$(e);if("<Relationship"===a[0]){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var s="External"===a.TargetMode?a.Target:KU(a.Target,t);n[s]=i,r[a.Id]=i}})),n["!id"]=r,n}function GH(e){var t=[YU,T$("Relationships",null,{xmlns:L$})];return fU(e["!id"]).forEach((function(n){t[t.length]=T$("Relationship",null,e["!id"][n])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function KH(e,t,n,r,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,i?a.TargetMode=i:[HH.HLINK,HH.XPATH,HH.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function YH(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function XH(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zB.version+"</meta:generator></office:meta></office:document-meta>"}var ZH=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],JH=function(){for(var e=new Array(ZH.length),t=0;t<ZH.length;++t){var n=ZH[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function QH(e){var t={};e=x$(e);for(var n=0;n<ZH.length;++n){var r=ZH[n],a=e.match(JH[n]);null!=a&&a.length>0&&(t[r[1]]=i$(a[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=TU(t[r[1]]))}return t}function eV(e,t,n,r,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=l$(t),r[r.length]=n?T$(e,t,n):C$(e,t))}function tV(e,t){var n=t||{},r=[YU,T$("cp:coreProperties",null,{"xmlns:cp":O$,"xmlns:dc":B$,"xmlns:dcterms":W$,"xmlns:dcmitype":U$,"xmlns:xsi":H$})],a={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&eV("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:k$(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),null!=e.ModifiedDate&&eV("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:k$(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var i=0;i!=ZH.length;++i){var s=ZH[i],o=n.Props&&null!=n.Props[s[1]]?n.Props[s[1]]:e?e[s[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&eV(s[0],o,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var nV=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],rV=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function aV(e,t,n,r){var a=[];if("string"==typeof e)a=S$(e,r);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map((function(e){return{v:e}})));var s="string"==typeof t?S$(t,r).map((function(e){return e.v})):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":n.NamedRanges=l,n.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=s.slice(o,o+l)}o+=l}}function iV(e){var t=[],n=T$;return e||(e={}),e.Application="SheetJS",t[t.length]=YU,t[t.length]=T$("Properties",null,{xmlns:M$,"xmlns:vt":z$}),nV.forEach((function(r){if(void 0!==e[r[1]]){var a;switch(r[2]){case"string":a=l$(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false"}void 0!==a&&(t[t.length]=n(r[0],a))}})),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+l$(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var sV=/<[^>]+>[^<]*/g;function oV(e){var t=[YU,T$("Properties",null,{xmlns:R$,"xmlns:vt":z$})];if(!e)return t.join("");var n=1;return fU(e).forEach((function(r){++n,t[t.length]=T$("property",function(e,t){switch(typeof e){case"string":var n=T$("vt:lpwstr",l$(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return T$((0|e)==e?"vt:i4":"vt:r8",l$(String(e)));case"boolean":return T$("vt:bool",e?"true":"false")}if(e instanceof Date)return T$("vt:filetime",k$(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:l$(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lV,cV={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function dV(e,t,n){lV||(lV=gU(cV)),e[t=lV[t]||t]=n}function uV(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function mV(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function pV(e,t,n){var r=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(r.length+1&3)&3),r}function hV(e,t,n){return 31===t?pV(e):mV(e,0,n)}function fV(e,t,n){return hV(e,t,!1===n?0:4)}function vV(e){var t=e.l,n=yV(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[n,yV(e,3)]}function gV(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var i=e.read_shift(4),s=e.read_shift(4);r[i]=e.read_shift(s,1200===t?"utf16le":"utf8").replace(fW,"").replace(vW,"!"),1200===t&&s%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),r}function xV(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),n}function yV(e,t,n){var r,a=e.read_shift(2),i=n||{};if(e.l+=2,12!==t&&a!==t&&-1===PH.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&a)))throw new Error("Expected type "+t+" saw "+a);switch(12===t?a:t){case 2:return r=e.read_shift(2,"i"),i.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return r=e.read_shift(4);case 30:return mV(e,0,4).replace(fW,"");case 31:return pV(e);case 64:return uV(e);case 65:return xV(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return fV(e,a,!i.raw).replace(fW,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return hV(e,t,0)}(e,a).replace(fW,"");case 4108:return function(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(vV(e));return n}(e);case 4126:case 4127:return 4127==a?function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(fW,""),e.l-a&2&&(e.l+=2)}return n}(e):function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(fW,"");return n}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function bV(e,t){var n=Iz(4),r=Iz(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=Iz(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var a=(n*=1e7)/Math.pow(2,32)|0;a>0&&(n%=Math.pow(2,32),r+=a);var i=Iz(8);return i.write_shift(4,n),i.write_shift(4,r),i}(t);break;case 31:case 80:for((r=Iz(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return hW([n,r])}function wV(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var d=e.read_shift(4),u=e.read_shift(4);i[s]=[d,u+n]}i.sort((function(e,t){return e[1]-t[1]}));var m={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1)}if((!t||0==s)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var h=t[i[s][0]];if(m[h.n]=yV(e,h.t,{raw:!0}),"version"===h.p&&(m[h.n]=String(m[h.n]>>16)+"."+("0000"+String(65535&m[h.n])).slice(-4)),"CodePage"==h.n)switch(m[h.n]){case 0:m[h.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:YB(o=m[h.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[h.n])}}else if(1===i[s][0]){if(o=m.CodePage=yV(e,2),YB(o),-1!==l){var f=e.l;e.l=i[l][1],c=gV(e,o),e.l=f}}else if(0===i[s][0]){if(0===o){l=s,e.l=i[s+1][1];continue}c=gV(e,o)}else{var v,g=c[i[s][0]];switch(e[e.l]){case 65:e.l+=4,v=xV(e);break;case 30:case 31:e.l+=4,v=fV(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=DV(e,4);break;case 64:e.l+=4,v=TU(uV(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[g]=v}}return e.l=n+r,m}var jV=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function NV(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function _V(e,t,n){var r=Iz(8),a=[],i=[],s=8,o=0,l=Iz(8),c=Iz(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){(c=Iz(8)).write_shift(4,0),a.unshift(c);var d=[Iz(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];for((l=Iz(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=hW(d),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(jV.indexOf(e[o][0])>-1||rV.indexOf(e[o][0])>-1)&&null!=e[o][1]){var m=e[o][1],p=0;if(t){var h=n[p=+t[e[o][0]]];if("version"==h.p&&"string"==typeof m){var f=m.split(".");m=(+f[0]<<16)+(+f[1]||0)}l=bV(h.t,m)}else{var v=NV(m);-1==v&&(v=31,m=String(m)),l=bV(v,m)}i.push(l),(c=Iz(8)).write_shift(4,t?p:2+o),a.push(c),s+=8+l.length}var g=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,g),g+=i[o].length;return r.write_shift(4,s),r.write_shift(4,i.length),hW([r].concat(a).concat(i))}function SV(e,t,n){var r=e.content;if(!r)return{};Rz(r,0);var a,i,s,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==uU.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(1!==(a=r.read_shift(4))&&2!==a)throw new Error("Unrecognized #Sets: "+a);if(i=r.read_shift(16),o=r.read_shift(4),1===a&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);2===a&&(s=r.read_shift(16),l=r.read_shift(4));var u,m=wV(r,t),p={SystemIdentifier:c};for(var h in m)p[h]=m[h];if(p.FMTID=i,1===a)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);try{u=wV(r,null)}catch(H1){}for(h in u)p[h]=u[h];return p.FMTID=[i,s],p}function EV(e,t,n,r,a,i){var s=Iz(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,uU.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=_V(e,n,r);if(o.push(l),a){var c=_V(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return hW(o)}function CV(e,t){return e.read_shift(t),null}function DV(e,t){return 1===e.read_shift(t)}function TV(e,t){return t||(t=Iz(2)),t.write_shift(2,+!!e),t}function kV(e){return e.read_shift(2,"u")}function AV(e,t){return t||(t=Iz(2)),t.write_shift(2,e),t}function PV(e,t){return function(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}(e,t,kV)}function OV(e,t,n){return n||(n=Iz(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function RV(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont",i=HB;(n&&n.biff>=8&&(HB=1200),n&&8!=n.biff)?12==n.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");n.biff>=2&&n.biff<=5&&(a="cpstr");var s=r?e.read_shift(r,a):"";return HB=i,s}function MV(e){var t=HB;HB=1200;var n,r=e.read_shift(2),a=e.read_shift(1),i=4&a,s=8&a,o=1+(1&a),l=0,c={};s&&(l=e.read_shift(2)),i&&(n=e.read_shift(4));var d=2==o?"dbcs-cont":"sbcs-cont",u=0===r?"":e.read_shift(r,d);return s&&(e.l+=4*l),i&&(e.l+=n),c.t=u,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),HB=t,c}function IV(e){var t=e.t||"",n=Iz(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Iz(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),hW([n,r])}function LV(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function FV(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):LV(e,r,n)}function BV(e,t,n){if(n.biff>5)return FV(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function WV(e,t,n){return n||(n=Iz(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function UV(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(fW,"");return r&&(e.l+=24),a}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return n+r.replace(/\\/g,"/");var a=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return n+e.read_shift(a>>1,"utf16le").replace(fW,"")}(e);default:throw new Error("Unsupported Moniker "+n)}}function $V(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(fW,""):""}function zV(e,t){t||(t=Iz(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function HV(e){var t=Iz(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var a=r.indexOf("#"),i=a>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)t.write_shift(4,s[n]);if(28==i)zV(r=r.slice(1),t);else if(2&i){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));var o=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)t.write_shift(2,o.charCodeAt(n));t.write_shift(2,0),8&i&&zV(a>-1?r.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function VV(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function qV(e,t){var n=VV(e);return n[3]=0,n}function GV(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function KV(e,t,n,r){return r||(r=Iz(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function YV(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function XV(e){return[e.read_shift(2),jH(e)]}function ZV(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function JV(e,t){return t||(t=Iz(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function QV(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:n}}}var eq=QV;function tq(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function nq(e){e.l+=2,e.l+=e.read_shift(2)}var rq={0:nq,4:nq,5:nq,6:nq,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:nq,9:nq,10:nq,11:nq,12:nq,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:nq,15:nq,16:nq,17:nq,18:nq,19:nq,20:nq,21:tq};function aq(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),(t-=2)>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function iq(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;default:throw new Error("unsupported BIFF version")}var i=Iz(a);return i.write_shift(2,r),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function sq(e,t){var n=!t||t.biff>=8?2:1,r=Iz(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function oq(e,t,n){var r=0;n&&2==n.biff||(r=e.read_shift(2));var a=e.read_shift(2);return n&&2==n.biff&&(r=1-(a>>15),a&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},a]}function lq(e,t,n,r){var a=n&&5==n.biff;r||(r=Iz(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return null==i.l&&(i.l=i.length),i}var cq=BV;function dq(e,t,n){var r=e.l+t,a=8!=n.biff&&n.biff?2:4,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:i,c:o},e:{r:s,c:l}}}function uq(e,t,n,r){var a=n&&5==n.biff;r||(r=Iz(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function mq(e,t,n){var r=GV(e);2!=n.biff&&9!=t||++e.l;var a=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return r.val=a,r.t=!0===a||!1===a?"b":"e",r}var pq=function(e,t,n){return 0===t?"":BV(e,0,n)};function hq(e,t,n){var r,a=e.read_shift(2),i={fBuiltIn:1&a,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return 14849===n.sbcch&&(r=function(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=RV(e,0,n),i=e.read_shift(2);if(i!==(r-=e.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,a}(e,t-2,n)),i.body=r||e.read_shift(t-2),"string"===typeof r&&(i.Name=r),i}var fq=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vq(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(n&&2==n.biff?1:2),l=0;(!n||n.biff>=5)&&(5!=n.biff&&(e.l+=2),l=e.read_shift(2),5==n.biff&&(e.l+=2),e.l+=4);var c=LV(e,s,n);32&a&&(c=fq[c.charCodeAt(0)]);var d=r-e.l;n&&2==n.biff&&--d;var u=r!=e.l&&0!==o&&d>0?function(e,t,n,r){var a,i=e.l+t,s=kK(e,r,n);i!==e.l&&(a=TK(e,i-e.l,s,n));return[s,a]}(e,d,n,o):[];return{chKey:i,Name:c,itab:l,rgce:u}}function gq(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=RV(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);0!==i--;)r.push(YV(e,n.biff,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function xq(e,t,n){var r=eq(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,IK(e,t,n)]}var yq={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function bq(e){var t=Iz(24),n=Kz(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return hW([t,HV(e[1])])}function wq(e){var t=e[1].Tooltip,n=Iz(10+2*(t.length+1));n.write_shift(2,2048);var r=Kz(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function jq(e,t,n){if(!n.cellStyles)return Mz(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var Nq=GV,_q=PV,Sq=FV;var Eq=[2,3,48,49,131,139,140,245],Cq=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=gU({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var a=rH(function(t,n){var r=[],a=lW(1);switch(n.type){case"base64":a=dW(iW(t));break;case"binary":a=dW(t);break;case"buffer":case"array":a=t}Rz(a,0);var i=a.read_shift(1),s=!!(136&i),o=!1,l=!1;switch(i){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,s=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+i.toString(16))}var c=0,d=521;2==i&&(c=a.read_shift(2)),a.l+=3,2!=i&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=i&&(d=a.read_shift(2));var u=a.read_shift(2),m=n.codepage||1252;2!=i&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(m=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var p=[],h={},f=Math.min(a.length,2==i?521:d-10-(o?264:0)),v=l?32:11;a.l<f&&13!=a[a.l];)switch((h={}).name=QB.utils.decode(m,a.slice(a.l,a.l+v)).replace(/[\u0000\r\n].*$/g,""),a.l+=v,h.type=String.fromCharCode(a.read_shift(1)),2==i||l||(h.offset=a.read_shift(4)),h.len=a.read_shift(1),2==i&&(h.offset=a.read_shift(2)),h.dec=a.read_shift(1),h.name.length&&p.push(h),2!=i&&(a.l+=l?13:14),h.type){case"B":o&&8==h.len||!n.WTF||console.log("Skipping "+h.name+":"+h.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+h.name+":"+h.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+h.type)}if(13!==a[a.l]&&(a.l=d-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=d;var g=0,x=0;for(r[0]=[],x=0;x!=p.length;++x)r[0][x]=p[x].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,r[++g]=[],x=0,x=0;x!=p.length;++x){var y=a.slice(a.l,a.l+p[x].len);a.l+=p[x].len,Rz(y,0);var b=QB.utils.decode(m,y);switch(p[x].type){case"C":b.trim().length&&(r[g][x]=b.replace(/\s+$/,""));break;case"D":8===b.length?r[g][x]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):r[g][x]=b;break;case"F":r[g][x]=parseFloat(b.trim());break;case"+":case"I":r[g][x]=l?2147483648^y.read_shift(-4,"i"):y.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":r[g][x]=!0;break;case"N":case"F":r[g][x]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!s)throw new Error("DBF Unexpected MEMO for type "+i.toString(16));r[g][x]="##MEMO##"+(l?parseInt(b.trim(),10):y.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(r[g][x]=+b||0);break;case"@":r[g][x]=new Date(y.read_shift(-8,"f")-621356832e5);break;case"T":r[g][x]=new Date(864e5*(y.read_shift(4)-2440588)+y.read_shift(4));break;case"Y":r[g][x]=y.read_shift(4,"i")/1e4+y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[g][x]=-y.read_shift(-8,"f");break;case"B":if(o&&8==p[x].len){r[g][x]=y.read_shift(8,"f");break}case"G":case"P":y.l+=p[x].len;break;case"0":if("_NullFlags"===p[x].name)break;default:throw new Error("DBF Unsupported data type "+p[x].type)}}else a.l+=u;if(2!=i&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=p,r}(t,r),r);return a["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,a}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return tH(n(e,t),t)}catch(H1){if(t&&t.WTF)throw H1}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var a=n||{};if(+a.codepage>=0&&YB(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var i=Fz(),s=cJ(e,{header:1,raw:!0,cellDates:!0}),o=s[0],l=s.slice(1),c=e["!cols"]||[],d=0,u=0,m=0,p=1;for(d=0;d<o.length;++d)if(((c[d]||{}).DBF||{}).name)o[d]=c[d].DBF.name,++m;else if(null!=o[d]){if(++m,"number"===typeof o[d]&&(o[d]=o[d].toString(10)),"string"!==typeof o[d])throw new Error("DBF Invalid column name "+o[d]+" |"+typeof o[d]+"|");if(o.indexOf(o[d])!==d)for(u=0;u<1024;++u)if(-1==o.indexOf(o[d]+"_"+u)){o[d]+="_"+u;break}}var h=Jz(e["!ref"]),f=[],v=[],g=[];for(d=0;d<=h.e.c-h.s.c;++d){var x="",y="",b=0,w=[];for(u=0;u<l.length;++u)null!=l[u][d]&&w.push(l[u][d]);if(0!=w.length&&null!=o[d]){for(u=0;u<w.length;++u){switch(typeof w[u]){case"number":y="B";break;case"string":default:y="C";break;case"boolean":y="L";break;case"object":y=w[u]instanceof Date?"D":"C"}b=Math.max(b,String(w[u]).length),x=x&&x!=y?"C":y}b>250&&(b=250),"C"==(y=((c[d]||{}).DBF||{}).type)&&c[d].DBF.len>b&&(b=c[d].DBF.len),"B"==x&&"N"==y&&(x="N",g[d]=c[d].DBF.dec,b=c[d].DBF.len),v[d]="C"==x||"N"==y?b:r[x]||0,p+=v[d],f[d]=x}else f[d]="?"}var j=i.next(32);for(j.write_shift(4,318902576),j.write_shift(4,l.length),j.write_shift(2,296+32*m),j.write_shift(2,p),d=0;d<4;++d)j.write_shift(4,0);for(j.write_shift(4,(+t[VB]||3)<<8),d=0,u=0;d<o.length;++d)if(null!=o[d]){var N=i.next(32),_=(o[d].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,_,"sbcs"),N.write_shift(1,"?"==f[d]?"C":f[d],"sbcs"),N.write_shift(4,u),N.write_shift(1,v[d]||r[f[d]]||0),N.write_shift(1,g[d]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),u+=v[d]||r[f[d]]||0}var S=i.next(264);for(S.write_shift(4,13),d=0;d<65;++d)S.write_shift(4,0);for(d=0;d<l.length;++d){var E=i.next(p);for(E.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(f[u]){case"L":E.write_shift(1,null==l[d][u]?63:l[d][u]?84:70);break;case"B":E.write_shift(8,l[d][u]||0,"f");break;case"N":var C="0";for("number"==typeof l[d][u]&&(C=l[d][u].toFixed(g[u]||0)),m=0;m<v[u]-C.length;++m)E.write_shift(1,32);E.write_shift(1,C,"sbcs");break;case"D":l[d][u]?(E.write_shift(4,("0000"+l[d][u].getFullYear()).slice(-4),"sbcs"),E.write_shift(2,("00"+(l[d][u].getMonth()+1)).slice(-2),"sbcs"),E.write_shift(2,("00"+l[d][u].getDate()).slice(-2),"sbcs")):E.write_shift(8,"00000000","sbcs");break;case"C":var D=String(null!=l[d][u]?l[d][u]:"").slice(0,v[u]);for(E.write_shift(1,D,"sbcs"),m=0;m<v[u]-D.length;++m)E.write_shift(1,32)}}return i.next(1).write_shift(1,26),i.end()}}}(),Dq=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+fU(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?nW(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:nW(r)};function a(e,a){var i,s=e.split(/[\n\r]+/),o=-1,l=-1,c=0,d=0,u=[],m=[],p=null,h={},f=[],v=[],g=[],x=0;for(+a.codepage>=0&&YB(+a.codepage);c!==s.length;++c){x=0;var y,b=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=b.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),j=w[0];if(b.length>0)switch(j){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&m.push(b.slice(3).replace(/;;/g,";"));break;case"C":var N=!1,_=!1,S=!1,E=!1,C=-1,D=-1;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[d].slice(1))-1,_=!0;break;case"Y":for(o=parseInt(w[d].slice(1))-1,_||(l=0),i=u.length;i<=o;++i)u[i]=[];break;case"K":'"'===(y=w[d].slice(1)).charAt(0)?y=y.slice(1,y.length-1):"TRUE"===y?y=!0:"FALSE"===y?y=!1:isNaN(OU(y))?isNaN(MU(y).getDate())||(y=TU(y)):(y=OU(y),null!==p&&eU(p)&&(y=_U(y))),"undefined"!==typeof QB&&"string"==typeof y&&"string"!=(a||{}).type&&(a||{}).codepage&&(y=QB.utils.decode(a.codepage,y)),N=!0;break;case"E":E=!0;var T=aK(w[d].slice(1),{r:o,c:l});u[o][l]=[u[o][l],T];break;case"S":S=!0,u[o][l]=[u[o][l],"S5S"];break;case"R":C=parseInt(w[d].slice(1))-1;break;case"C":D=parseInt(w[d].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}if(N&&(u[o][l]&&2==u[o][l].length?u[o][l][0]=y:u[o][l]=y,p=null),S){if(E)throw new Error("SYLK shared formula cannot have own formula");var k=C>-1&&u[C][D];if(!k||!k[1])throw new Error("SYLK shared formula cannot find base");u[o][l][1]=oK(k[1],{r:o-C,c:l-D})}break;case"F":var A=0;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"X":l=parseInt(w[d].slice(1))-1,++A;break;case"Y":for(o=parseInt(w[d].slice(1))-1,i=u.length;i<=o;++i)u[i]=[];break;case"M":x=parseInt(w[d].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":p=m[parseInt(w[d].slice(1))];break;case"W":for(g=w[d].slice(1).split(" "),i=parseInt(g[0],10);i<=parseInt(g[1],10);++i)x=parseInt(g[2],10),v[i-1]=0===x?{hidden:!0}:{wch:x},hG(v[i-1]);break;case"C":v[l=parseInt(w[d].slice(1))-1]||(v[l]={});break;case"R":f[o=parseInt(w[d].slice(1))-1]||(f[o]={}),x>0?(f[o].hpt=x,f[o].hpx=gG(x)):0===x&&(f[o].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}A<1&&(p=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}}return f.length>0&&(h["!rows"]=f),v.length>0&&(h["!cols"]=v),a&&a.sheetRows&&(u=u.slice(0,a.sheetRows)),[u,h]}function i(e,t){var n=function(e,t){switch(t.type){case"base64":return a(iW(e),t);case"binary":return a(e,t);case"buffer":return a(sW&&Buffer.isBuffer(e)?e.toString("binary"):mW(e),t);case"array":return a(kU(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],i=n[1],s=rH(r,t);return fU(i).forEach((function(e){s[e]=i[e]})),s}function s(e,t,n,r){var a="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+sK(e.f,{r:n,c:r}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return tH(i(e,t),t)},to_sheet:i,from_sheet:function(e,t){var n,r,a=["ID;PWXL;N;E"],i=[],o=Jz(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=a,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=cG(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=dG(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*vG(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(a,e["!rows"]),a.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var d=o.s.r;d<=o.e.r;++d)for(var u=o.s.c;u<=o.e.c;++u){var m=Yz({r:d,c:u});(n=l?(e[d]||[])[u]:e[m])&&(null!=n.v||n.f&&!n.F)&&i.push(s(n,0,d,u))}return a.join(c)+c+i.join(c)+c+"E"+c}}}(),Tq=function(){function e(e,t){for(var n=e.split("\n"),r=-1,a=-1,i=0,s=[];i!==n.length;++i)if("BOT"!==n[i].trim()){if(!(r<0)){for(var o=n[i].trim().split(","),l=o[0],c=o[1],d=n[++i]||"";1&(d.match(/["]/g)||[]).length&&i<n.length-1;)d+="\n"+n[++i];switch(d=d.trim(),+l){case-1:if("BOT"===d){s[++r]=[],a=0;continue}if("EOD"!==d)throw new Error("Unrecognized DIF special command "+d);break;case 0:"TRUE"===d?s[r][a]=!0:"FALSE"===d?s[r][a]=!1:isNaN(OU(c))?isNaN(MU(c).getDate())?s[r][a]=c:s[r][a]=TU(c):s[r][a]=OU(c),++a;break;case 1:(d=(d=d.slice(1,d.length-1)).replace(/""/g,'"'))&&d.match(/^=".*"$/)&&(d=d.slice(2,-1)),s[r][a++]=""!==d?d:null}if("EOD"===d)break}}else s[++r]=[],a=0;return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function t(t,n){return rH(function(t,n){switch(n.type){case"base64":return e(iW(t),n);case"binary":return e(t,n);case"buffer":return e(sW&&Buffer.isBuffer(t)?t.toString("binary"):mW(t),n);case"array":return e(kU(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}return{to_workbook:function(e,n){return tH(t(e,n),n)},to_sheet:t,from_sheet:function(){var e=function(e,t,n,r,a){e.push(t),e.push(n+","+r),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,a=[],i=Jz(n["!ref"]),s=Array.isArray(n);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,i.e.r-i.s.r+1,""),e(a,"TUPLES",0,i.e.c-i.s.c+1,""),e(a,"DATA",0,0,"");for(var o=i.s.r;o<=i.e.r;++o){t(a,-1,0,"BOT");for(var l=i.s.c;l<=i.e.c;++l){var c=Yz({r:o,c:l});if(r=s?(n[o]||[])[l]:n[c])switch(r.t){case"n":var d=r.w;d||null==r.v||(d=r.v),null==d?r.f&&!r.F?t(a,1,0,"="+r.f):t(a,1,0,""):t(a,0,d,"V");break;case"b":t(a,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=aU(r.z||EW[14],bU(TU(r.v)))),t(a,0,r.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}()}}(),kq=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return rH(function(e,t){for(var n=e.split("\n"),r=-1,a=-1,i=0,s=[];i!==n.length;++i){var o=n[i].trim().split(":");if("cell"===o[0]){var l=Kz(o[1]);if(s.length<=l.r)for(r=s.length;r<=l.r;++r)s[r]||(s[r]=[]);switch(r=l.r,a=l.c,o[2]){case"t":s[r][a]=o[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":s[r][a]=+o[3];break;case"vtf":var c=o[o.length-1];case"vtc":"nl"===o[3]?s[r][a]=!!+o[4]:s[r][a]=+o[4],"vtf"==o[2]&&(s[r][a]=[s[r][a],c])}}}return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}(e,t),t)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),r=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function s(t){if(!t||!t["!ref"])return"";for(var n,r=[],a=[],i="",s=Xz(t["!ref"]),o=Array.isArray(t),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(i=Yz({r:l,c:c}),(n=o?(t[l]||[])[c]:t[i])&&null!=n.v&&"z"!==n.t){switch(a=["cell",i,"t"],n.t){case"s":case"str":a.push(e(n.v));break;case"n":n.f?(a[2]="vtf",a[3]="n",a[4]=n.v,a[5]=e(n.f)):(a[2]="v",a[3]=n.v);break;case"b":a[2]="vt"+(n.f?"f":"c"),a[3]="nl",a[4]=n.v?"1":"0",a[5]=e(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var d=bU(TU(n.v));a[2]="vtc",a[3]="nd",a[4]=""+d,a[5]=n.w||aU(n.z||EW[14],d);break;case"e":continue}r.push(a.join(":"))}return r.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,n){return tH(t(e,n),n)},to_sheet:t,from_sheet:function(e){return[n,r,a,r,s(e),i].join("\n")}}}(),Aq=function(){function e(e,t,n,r,a){a.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(OU(e))?isNaN(MU(e).getDate())?t[n][r]=e:t[n][r]=TU(e):t[n][r]=OU(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},a=!1,i=0,s=0;i<e.length;++i)34==(s=e.charCodeAt(i))?a=!a:!a&&s in t&&(r[s]=(r[s]||0)+1);for(i in s=[],r)Object.prototype.hasOwnProperty.call(r,i)&&s.push([r[i],i]);if(!s.length)for(i in r=n)Object.prototype.hasOwnProperty.call(r,i)&&s.push([r[i],i]);return s.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[s.pop()[1]]||44}function a(e,t){var n=t||{},a="";var i=n.dense?[]:{},s={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=r(e.slice(0,1024)):a=n&&n.FS?n.FS:r(e.slice(0,1024));var o=0,l=0,c=0,d=0,u=0,m=a.charCodeAt(0),p=!1,h=0,f=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var v=null!=n.dateNF?function(e){var t="number"==typeof e?EW[e]:e;return t=t.replace(cU,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function g(){var t=e.slice(d,u),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=OU(t)))if(!isNaN(MU(t).getDate())||v&&t.match(v)){r.z=n.dateNF||EW[14];var a=0;v&&t.match(v)&&(t=function(e,t,n){var r=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(cU)||[]).forEach((function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":i=c;break;case"h":s=c;break;case"s":l=c;break;case"m":s>=0?o=c:a=c}})),l>=0&&-1==o&&a>=0&&(o=a,a=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==s&&-1==o&&-1==l?c:-1==r&&-1==a&&-1==i?d:c+"T"+d}(0,n.dateNF,t.match(v)||[]),a=1),n.cellDates?(r.t="d",r.v=TU(t,a)):(r.t="n",r.v=bU(TU(t,a))),!1!==n.cellText&&(r.w=aU(r.z,r.v instanceof Date?bU(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(i[o]||(i[o]=[]),i[o][l]=r):i[Yz({c:l,r:o})]=r),d=u+1,f=e.charCodeAt(d),s.e.c<l&&(s.e.c=l),s.e.r<o&&(s.e.r=o),h==m)++l;else if(l=0,++o,n.sheetRows&&n.sheetRows<=o)return!0}e:for(;u<e.length;++u)switch(h=e.charCodeAt(u)){case 34:34===f&&(p=!p);break;case m:case 10:case 13:if(!p&&g())break e}return u-d>0&&g(),i["!ref"]=Zz(s),i}function i(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,n):rH(function(t,n){var r=n||{},a=[];if(!t||0===t.length)return a;for(var i=t.split(/[\r\n]/),s=i.length-1;s>=0&&0===i[s].length;)--s;for(var o=10,l=0,c=0;c<=s;++c)-1==(l=i[c].indexOf(" "))?l=i[c].length:l++,o=Math.max(o,l);for(c=0;c<=s;++c){a[c]=[];var d=0;for(e(i[c].slice(0,o).trim(),a,c,d,r),d=1;d<=(i[c].length-o)/10+1;++d)e(i[c].slice(o+10*(d-1),o+10*d).trim(),a,c,d,r)}return r.sheetRows&&(a=a.slice(0,r.sheetRows)),a}(t,n),n):a(t,n)}function s(e,t){var n="",r="string"==t.type?[0,0,0,0]:ZZ(e,t);switch(t.type){case"base64":n=iW(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof QB?QB.utils.decode(t.codepage,e):sW&&Buffer.isBuffer(e)?e.toString("binary"):mW(e);break;case"array":n=kU(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=x$(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=x$(n):"binary"==t.type&&"undefined"!==typeof QB&&t.codepage&&(n=QB.utils.decode(t.codepage,QB.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?kq.to_sheet("string"==t.type?n:x$(n),t):i(n,t)}return{to_workbook:function(e,t){return tH(s(e,t),t)},to_sheet:s,from_sheet:function(e){for(var t,n=[],r=Jz(e["!ref"]),a=Array.isArray(e),i=r.s.r;i<=r.e.r;++i){for(var s=[],o=r.s.c;o<=r.e.c;++o){var l=Yz({r:i,c:o});if((t=a?(e[i]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(eH(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";s.push(c+(0===o?" ":""))}else s.push("          ")}n.push(s.join(""))}return n.join("\n")}}}();var Pq=function(){function e(e,t,n){if(e){Rz(e,e.l||0);for(var r=n.Enum||g;e.l<e.length;){var a=e.read_shift(2),i=r[a]||r[65535],s=e.read_shift(2),o=e.l+s,l=i.f&&i.f(e,s,n);if(e.l=o,t(l,i,a))return}}}function t(t,n){if(!t)return t;var r=n||{};var a=r.dense?[]:{},i="Sheet1",s="",o=0,l={},c=[],d=[],u={s:{r:0,c:0},e:{r:0,c:0}},m=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=g,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:u=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||EW[14],r.cellDates&&(e[1].t="d",e[1].v=_U(e[1].v))),r.qpro&&e[3]>o&&(a["!ref"]=Zz(u),l[i]=a,c.push(i),a=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],i=s||"Sheet"+(o+1),s="");var d=r.dense?(a[e[0].r]||[])[e[0].c]:a[Yz(e[0])];if(d){d.t=e[1].t,d.v=e[1].v,null!=e[1].z&&(d.z=e[1].z),null!=e[1].f&&(d.f=e[1].f);break}r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[Yz(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=x,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(a["!ref"]=Zz(u),l[i]=a,c.push(i),a=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],i="Sheet"+(o+1)),m>0&&e[0].r>=m)break;r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[Yz(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;case 27:e[14e3]&&(d[e[14e3][0]]=e[14e3][1]);break;case 1537:d[e[0]]=e[1],e[0]==o&&(i=e[1])}}),r)}if(a["!ref"]=Zz(u),l[s||i]=a,c.push(s||i),!d.length)return{SheetNames:c,Sheets:l};for(var p={},h=[],f=0;f<d.length;++f)l[c[f]]?(h.push(d[f]||c[f]),p[d[f]]=l[d[f]]||l[c[f]]):(h.push(d[f]),p[d[f]]={"!ref":"A1"});return{SheetNames:h,Sheets:p}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var a=e.l+t,i=n(e,0,r);if(i[1].t="s",20768==r.vers){e.l++;var s=e.read_shift(1);return i[1].v=e.read_shift(s,"utf8"),i}return r.qpro&&e.l++,i[1].v=e.read_shift(a-e.l,"cstr"),i}function a(e,t,n){var r=Iz(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var a=0;a<r.length;++a){var i=n.charCodeAt(a);r.write_shift(1,i>=128?95:i)}return r.write_shift(1,0),r}function i(e,t,n){var r=Iz(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function s(e,t,n){var r=Iz(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function o(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?Gz(t):Vz(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function d(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function u(e,t,n,r){var a=Iz(6+r.length);a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),a.write_shift(1,39);for(var i=0;i<r.length;++i){var s=r.charCodeAt(i);a.write_shift(1,s>=128?95:s)}return a.write_shift(1,0),a}function m(e,t){var n=d(e),r=e.read_shift(4),a=e.read_shift(4),i=e.read_shift(2);if(65535==i)return 0===r&&3221225472===a?(n[1].t="e",n[1].v=15):0===r&&3489660928===a?(n[1].t="e",n[1].v=42):n[1].v=0,n;var s=32768&i;return i=(32767&i)-16446,n[1].v=(1-2*s)*(a*Math.pow(2,i+32)+r*Math.pow(2,i)),n}function p(e,t,n,r){var a=Iz(14);if(a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),0==r)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var i,s=0,o=0,l=0;return r<0&&(s=1,r=-r),o=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,o-31))>>>0))&&(++o,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,i=(r*=Math.pow(2,32))>>>0,a.write_shift(4,i),a.write_shift(4,l),o+=16383+(s?32768:0),a.write_shift(2,o),a}function h(e,t){var n=d(e),r=e.read_shift(8,"f");return n[1].v=r,n}function f(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function v(e,t){var n=Iz(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var a=e.charCodeAt(r);n[n.l++]=a>127?95:a}return n[n.l++]=0,n}var g={0:{n:"BOF",f:kV},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var a=e.l+t,i=n(e,0,r);if(i[1].v=e.read_shift(8,"f"),r.qpro)e.l=a;else{var s=e.read_shift(2);!function(e,t){Rz(e,0);var n=[],r=0,a="",i="",s="",d="";for(;e.l<e.length;){var u=e[e.l++];switch(u){case 0:n.push(e.read_shift(8,"f"));break;case 1:i=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),n.push(i+a);break;case 2:var m=o(t[0].c,e.read_shift(2),!0),p=o(t[0].r,e.read_shift(2),!1);i=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),n.push(m+p+":"+i+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var h="";u=e[e.l++];)h+=String.fromCharCode(u);n.push('"'+h.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:d=n.pop(),s=n.pop(),n.push(["AND","OR"][u-20]+"("+s+","+d+")");break;default:if(u<32&&c[u])d=n.pop(),s=n.pop(),n.push(s+c[u]+d);else{if(!l[u])return u<=7?console.error("WK1 invalid opcode "+u.toString(16)):u<=24?console.error("WK1 unsupported op "+u.toString(16)):u<=30?console.error("WK1 invalid opcode "+u.toString(16)):u<=115?console.error("WK1 unsupported function opcode "+u.toString(16)):console.error("WK1 unrecognized opcode "+u.toString(16));if(69==(r=l[u][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+u.toString(16)+":|"+n.join("|")+"|");var f=n.slice(-r);n.length-=r,n.push(l[u][0]+"("+f.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+s),i),e.l+=s}return i}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:f},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},x={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=d(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:m},24:{n:"NUMBER18",f:function(e,t){var n=d(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=m(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var a=e.read_shift(2);if(14e3==a){for(n[a]=[0,""],n[a][0]=e.read_shift(2);e[e.l];)n[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=d(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:h},40:{n:"FORMULA28",f:function(e,t){var n=h(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:f},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&YB(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=Fz(),o=Jz(e["!ref"]),l=Array.isArray(e),c=[];$X(r,0,function(e){var t=Iz(2);return t.write_shift(2,e),t}(1030)),$X(r,6,function(e){var t=Iz(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var d=Math.min(o.e.r,8191),u=o.s.r;u<=d;++u)for(var m=Vz(u),p=o.s.c;p<=o.e.c;++p){u===o.s.r&&(c[p]=Gz(p));var h=c[p]+m,f=l?(e[u]||[])[p]:e[h];if(f&&"z"!=f.t)if("n"==f.t)(0|f.v)==f.v&&f.v>=-32768&&f.v<=32767?$X(r,13,i(u,p,f.v)):$X(r,14,s(u,p,f.v));else $X(r,15,a(u,p,eH(f).slice(0,239)))}return $X(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&YB(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=Fz();$X(r,0,function(e){var t=Iz(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,a=0,i=0;i<e.SheetNames.length;++i){var s=e.SheetNames[i],o=e.Sheets[s];if(o&&o["!ref"]){++a;var l=Xz(o["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,a),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,i=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&$X(r,27,v(e.SheetNames[a],i++));var s=0;for(a=0;a<e.SheetNames.length;++a){var o=e.Sheets[e.SheetNames[a]];if(o&&o["!ref"]){for(var l=Jz(o["!ref"]),c=Array.isArray(o),d=[],m=Math.min(l.e.r,8191),h=l.s.r;h<=m;++h)for(var f=Vz(h),g=l.s.c;g<=l.e.c;++g){h===l.s.r&&(d[g]=Gz(g));var x=d[g]+f,y=c?(o[h]||[])[g]:o[x];if(y&&"z"!=y.t)if("n"==y.t)$X(r,23,p(h,g,s,y.v));else $X(r,22,u(h,g,s,eH(y).slice(0,239)))}++s}}return $X(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(dW(iW(e)),n);case"binary":return t(dW(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var Oq=function(){var e=b$("t"),t=b$("rPr");function n(n){var r=n.match(e);if(!r)return{t:"s",v:""};var a={t:"s",v:i$(r[1])},i=n.match(t);return i&&(a.s=function(e){var t={},n=e.match(JU),r=0,a=!1;if(n)for(;r!=n.length;++r){var i=t$(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==i.val)break;t.cp=GB[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==i.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==i.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(47!==i[0].charCodeAt(1)&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}(i[1])),a}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,"").split(a).map(n).filter((function(e){return e.v}))}}(),Rq=function(){var e=/(\r\n|\n)/g;function t(t){var n=[[],t.v,[]];return t.v?(t.s&&function(e,t,n){var r=[];e.u&&r.push("text-decoration: underline;"),e.uval&&r.push("text-underline-style:"+e.uval+";"),e.sz&&r.push("font-size:"+e.sz+"pt;"),e.outline&&r.push("text-effect: outline;"),e.shadow&&r.push("text-shadow: auto;"),t.push('<span style="'+r.join("")+'">'),e.b&&(t.push("<b>"),n.push("</b>")),e.i&&(t.push("<i>"),n.push("</i>")),e.strike&&(t.push("<s>"),n.push("</s>"));var a=e.valign||"";"superscript"==a||"super"==a?a="sup":"subscript"==a&&(a="sub"),""!=a&&(t.push("<"+a+">"),n.push("</"+a+">")),n.push("</span>")}(t.s,n[0],n[2]),n[0].join("")+n[1].replace(e,"<br/>")+n[2].join("")):""}return function(e){return e.map(t).join("")}}(),Mq=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Iq=/<(?:\w+:)?r>/,Lq=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Fq(e,t){var n=!t||t.cellHTML,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=i$(x$(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=x$(e),n&&(r.h=u$(r.t))):e.match(Iq)&&(r.r=x$(e),r.t=i$(x$((e.replace(Lq,"").match(Mq)||[]).join("").replace(JU,""))),n&&(r.h=Rq(Oq(r.r)))),r):{t:""}}var Bq=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Wq=/<(?:\w+:)?(?:si|sstItem)>/g,Uq=/<\/(?:\w+:)?(?:si|sstItem)>/;var $q=/^\s|\s$|[\t\n\r]/;function zq(e,t){if(!t.bookSST)return"";var n=[YU];n[n.length]=T$("sst",null,{xmlns:q$[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var a=e[r],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match($q)&&(i+=' xml:space="preserve"'),i+=">"+l$(a.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var Hq=function(e,t){var n=!1;return null==t&&(n=!0,t=Iz(15+4*e.t.length)),t.write_shift(1,0),sH(e.t,t),n?t.slice(0,t.l):t};function Vq(e){var t=Fz();Bz(t,159,function(e,t){return t||(t=Iz(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)Bz(t,19,Hq(e[n]));return Bz(t,160),t.end()}function qq(e){if("undefined"!==typeof QB)return QB.utils.encode(VB,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Gq(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function Kq(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function Yq(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Gq(e,4),t.U=Gq(e,4),t.W=Gq(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function Xq(e,t){var n=e.l+t,r={};r.Flags=63&e.read_shift(4),e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=36==r.Flags;break;case 26625:a=4==r.Flags;break;case 0:a=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function Zq(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function Jq(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:Xq(e,t),v:Zq(e,e.length-e.l)}}function Qq(){throw new Error("File is password-protected: ECMA-376 Extensible")}function eG(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(JU,(function(e){var n=t$(e);switch(n$(n[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach((function(e){r[e]=n[e]}));break;case"<dataIntegrity":r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=n.uri;break;case"<encryptedKey":r.encs.push(n);break;default:throw n[0]}})),r}function tG(e){var t,n,r=0,a=qq(e),i=a.length+1;for((t=lW(i))[0]=a.length,n=1;n!=i;++n)t[n]=a[n-1];for(n=i-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var nG=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e,t){return 255&((n=e^t)/2|128*n);var n};return function(a){for(var i,s,o,l=qq(a),c=function(e){for(var r=t[e.length-1],a=104,i=e.length-1;i>=0;--i)for(var s=e[i],o=0;7!=o;++o)64&s&&(r^=n[a]),s*=2,--a;return r}(l),d=l.length,u=lW(16),m=0;16!=m;++m)u[m]=0;for(1===(1&d)&&(i=c>>8,u[d]=r(e[0],i),--d,i=255&c,s=l[l.length-1],u[d]=r(s,i));d>0;)i=c>>8,u[--d]=r(l[d],i),i=255&c,u[--d]=r(l[d],i);for(d=15,o=15-l.length;o>0;)i=c>>8,u[d]=r(e[o],i),--o,i=255&c,u[--d]=r(l[d],i),--d,--o;return u}}(),rG=function(e){var t=0,n=nG(e);return function(e){var r=function(e,t,n,r,a){var i,s;for(a||(a=t),r||(r=nG(e)),i=0;i!=t.length;++i)s=t[i],s=255&((s^=r[n])>>5|s<<3),a[i]=s,++n;return[a,n,r]}("",e,t,n);return t=r[1],r[0]}};function aG(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,1===r.Info?r.Data=function(e){var t={},n=t.EncryptionVersionInfo=Gq(e,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):r.Data=function(e,t){var n={},r=n.EncryptionVersionInfo=Gq(e,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=Xq(e,a),t-=a,n.EncryptionVerifier=Zq(e,t),n}(e,t),r}var iG=function(){function e(e,n){switch(n.type){case"base64":return t(iW(e),n);case"binary":return t(e,n);case"buffer":return t(sW&&Buffer.isBuffer(e)?e.toString("binary"):mW(e),n);case"array":return t(kU(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,i=/\\\w+\b/g,s=0,o=-1;r=i.exec(e);){if("\\cell"===r[0]){var l=e.slice(s,i.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][o]=c:n[Yz({r:t,c:o})]=c}}s=i.lastIndex}o>a.e.c&&(a.e.c=o)})),n["!ref"]=Zz(a),n}return{to_workbook:function(t,n){return tH(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=Jz(e["!ref"]),a=Array.isArray(e),i=r.s.r;i<=r.e.r;++i){n.push("\\trowd\\trautofit1");for(var s=r.s.c;s<=r.e.c;++s)n.push("\\cellx"+(s+1));for(n.push("\\pard\\intbl"),s=r.s.c;s<=r.e.c;++s){var o=Yz({r:i,c:s});(t=a?(e[i]||[])[s]:e[o])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(eH(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function sG(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function oG(e,t){if(0===t)return e;var n=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),i=Math.min(t,n,r),s=a-i;if(0===s)return[0,0,t];var o,l=0,c=a+i;switch(o=s/(c>1?2-c:c),a){case t:l=((n-r)/s+6)%6;break;case n:l=(r-t)/s+2;break;case r:l=(t-n)/s+4}return[l/6,o,c/2]}(function(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(e));return n[2]=t<0?n[2]*(1+t):1-(1-n[2])*(1-t),sG(function(e){var t,n=e[0],r=e[1],a=e[2],i=2*r*(a<.5?a:1-a),s=a-i/2,o=[s,s,s],l=6*n;if(0!==r)switch(0|l){case 0:case 6:t=i*l,o[0]+=i,o[1]+=t;break;case 1:t=i*(2-l),o[0]+=t,o[1]+=i;break;case 2:t=i*(l-2),o[1]+=i,o[2]+=t;break;case 3:t=i*(4-l),o[1]+=t,o[2]+=i;break;case 4:t=i*(l-4),o[2]+=i,o[0]+=t;break;case 5:t=i*(6-l),o[2]+=t,o[0]+=i}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(n))}var lG=6;function cG(e){return Math.floor((e+Math.round(128/lG)/256)*lG)}function dG(e){return Math.floor((e-5)/lG*100+.5)/100}function uG(e){return Math.round((e*lG+5)/lG*256)/256}function mG(e){return uG(dG(cG(e)))}function pG(e){var t=Math.abs(e-mG(e)),n=lG;if(t>.005)for(lG=1;lG<15;++lG)Math.abs(e-mG(e))<=t&&(t=Math.abs(e-mG(e)),n=lG);lG=n}function hG(e){e.width?(e.wpx=cG(e.width),e.wch=dG(e.wpx),e.MDW=lG):e.wpx?(e.wch=dG(e.wpx),e.width=uG(e.wch),e.MDW=lG):"number"==typeof e.wch&&(e.width=uG(e.wch),e.wpx=cG(e.width),e.MDW=lG),e.customWidth&&delete e.customWidth}var fG=96;function vG(e){return 96*e/fG}function gG(e){return e*fG/96}var xG={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var yG=["numFmtId","fillId","fontId","borderId","xfId"],bG=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var wG=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(i,s,o){var l,c={};return i?((l=(i=i.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,n){t.NumberFmt=[];for(var r=fU(EW),a=0;a<r.length;++a)t.NumberFmt[r[a]]=EW[r[a]];var i=e[0].match(JU);if(i)for(a=0;a<i.length;++a){var s=t$(i[a]);switch(n$(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=i$(x$(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}iU(o,l)}break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}(l,c,o),(l=i.match(r))&&function(e,t,n,r){t.Fonts=[];var a={},i=!1;(e[0].match(JU)||[]).forEach((function(e){var s=t$(e);switch(n$(s[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=x$(s.val));break;case"<b":a.bold=s.val?p$(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?p$(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?p$(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?p$(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?p$(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?p$(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?p$(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<charset":if("1"==s.val)break;s.codepage=GB[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=p$(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var o=FH[a.color.index];81==a.color.index&&(o=FH[1]),o||(o=FH[1]),a.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=oG(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}}))}(l,c,s,o),(l=i.match(n))&&function(e,t,n,r){t.Fills=[];var a={},i=!1;(e[0].match(JU)||[]).forEach((function(e){var n=t$(e);switch(n$(n[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":n.patternType&&(a.patternType=n.patternType);break;case"<bgColor":a.bgColor||(a.bgColor={}),n.indexed&&(a.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(a.bgColor.theme=parseInt(n.theme,10)),n.tint&&(a.bgColor.tint=parseFloat(n.tint)),n.rgb&&(a.bgColor.rgb=n.rgb.slice(-6));break;case"<fgColor":a.fgColor||(a.fgColor={}),n.theme&&(a.fgColor.theme=parseInt(n.theme,10)),n.tint&&(a.fgColor.tint=parseFloat(n.tint)),null!=n.rgb&&(a.fgColor.rgb=n.rgb.slice(-6));break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+n[0]+" in fills")}}))}(l,c,0,o),(l=i.match(a))&&function(e,t,n,r){t.Borders=[];var a={},i=!1;(e[0].match(JU)||[]).forEach((function(e){var n=t$(e);switch(n$(n[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":a={},n.diagonalUp&&(a.diagonalUp=p$(n.diagonalUp)),n.diagonalDown&&(a.diagonalDown=p$(n.diagonalDown)),t.Borders.push(a);break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+n[0]+" in borders")}}))}(l,c,0,o),(l=i.match(t))&&function(e,t,n){var r;t.CellXf=[];var a=!1;(e[0].match(JU)||[]).forEach((function(e){var i=t$(e),s=0;switch(n$(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=i)[0],s=0;s<yG.length;++s)r[yG[s]]&&(r[yG[s]]=parseInt(r[yG[s]],10));for(s=0;s<bG.length;++s)r[bG[s]]&&(r[bG[s]]=p$(r[bG[s]]));if(t.NumberFmt&&r.numFmtId>392)for(s=392;s>60;--s)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[s]){r.numFmtId=s;break}t.CellXf.push(r);break;case"<alignment":case"<alignment/>":var o={};i.vertical&&(o.vertical=i.vertical),i.horizontal&&(o.horizontal=i.horizontal),null!=i.textRotation&&(o.textRotation=i.textRotation),i.indent&&(o.indent=i.indent),i.wrapText&&(o.wrapText=p$(i.wrapText)),r.alignment=o;break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}}))}(l,c,o),c):c}}();function jG(e,t){var n,r=[YU,T$("styleSheet",null,{xmlns:q$[0],"xmlns:vt":z$})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=T$("numFmt",null,{numFmtId:r,formatCode:l$(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=T$("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=T$("cellXfs",null),e.forEach((function(e){t[t.length]=T$("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=T$("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function NG(e,t,n){n||(n=Iz(6+4*t.length)),n.write_shift(2,e),sH(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function _G(e,t){t||(t=Iz(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=Iz(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),TH(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),sH(e.name,t),t.length>t.l?t.slice(0,t.l):t}var SG,EG=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],CG=Mz;function DG(e,t){t||(t=Iz(84)),SG||(SG=gU(EG));var n=SG[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(TH({auto:1},t),TH({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function TG(e,t,n){n||(n=Iz(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function kG(e,t){return t||(t=Iz(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var AG=Mz;function PG(e){var t;Bz(e,613,aH(1)),Bz(e,46,(t||(t=Iz(51)),t.write_shift(1,0),kG(0,t),kG(0,t),kG(0,t),kG(0,t),kG(0,t),t.length>t.l?t.slice(0,t.l):t)),Bz(e,614)}function OG(e){var t,n;Bz(e,619,aH(1)),Bz(e,48,(t={xfId:0,builtinId:0,name:"Normal"},n||(n=Iz(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,+t.builtinId),n.write_shift(1,0),xH(t.name||"",n),n.length>n.l?n.slice(0,n.l):n)),Bz(e,620)}function RG(e){Bz(e,508,function(e,t,n){var r=Iz(2052);return r.write_shift(4,e),xH(t,r),xH(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Bz(e,509)}function MG(e,t){var n=Fz();return Bz(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n})),0!=n&&(Bz(e,615,aH(n)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&Bz(e,44,NG(r,t[r]))})),Bz(e,616))}}(n,e.SSF),function(e){Bz(e,611,aH(1)),Bz(e,43,_G({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Bz(e,612)}(n),function(e){Bz(e,603,aH(2)),Bz(e,45,DG({patternType:"none"})),Bz(e,45,DG({patternType:"gray125"})),Bz(e,604)}(n),PG(n),function(e){Bz(e,626,aH(1)),Bz(e,47,TG({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Bz(e,627)}(n),function(e,t){Bz(e,617,aH(t.length)),t.forEach((function(t){Bz(e,47,TG(t,0))})),Bz(e,618)}(n,t.cellXfs),OG(n),function(e){Bz(e,505,aH(0)),Bz(e,506)}(n),RG(n),Bz(n,279),n.end()}var IG=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function LG(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(JU)||[]).forEach((function(e){var a=t$(e);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===a[0].charAt(1)?(t.themeElements.clrScheme[IG.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}}))}function FG(){}function BG(){}var WG=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,UG=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,$G=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var zG=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function HG(e,t){var n;e&&0!==e.length||(e=VG());var r={};if(!(n=e.match(zG)))throw new Error("themeElements not found in theme");return function(e,t,n){var r;t.themeElements={},[["clrScheme",WG,LG],["fontScheme",UG,FG],["fmtScheme",$G,BG]].forEach((function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)}))}(n[0],r,t),r.raw=e,r}function VG(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[YU];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function qG(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return Mz(e,t)}(e,4);break;case 2:t.xclrValue=VV(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function GG(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=qG(e);break;case 6:r[1]=function(e,t){return Mz(e,t)}(e,n);break;case 14:case 15:r[1]=e.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function KG(){var e=Fz();return Bz(e,332),Bz(e,334,aH(1)),Bz(e,335,function(e){var t=Iz(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),sH(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Bz(e,336),Bz(e,339,function(e,t){var n=Iz(8+2*t.length);return n.write_shift(4,e),sH(t,n),n.slice(0,n.l)}(1,"XLDAPR")),Bz(e,52),Bz(e,35,aH(514)),Bz(e,4096,aH(0)),Bz(e,4097,AV(1)),Bz(e,36),Bz(e,53),Bz(e,340),Bz(e,337,function(e,t){var n=Iz(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),Bz(e,51,function(e){var t=Iz(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),Bz(e,338),Bz(e,333),e.end()}function YG(){var e=[YU];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var XG=1024;function ZG(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[T$("xml",null,{"xmlns:v":J$,"xmlns:o":G$,"xmlns:x":K$,"xmlns:mv":Z$}).replace(/\/>/,">"),T$("o:shapelayout",T$("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),T$("v:shapetype",[T$("v:stroke",null,{joinstyle:"miter"}),T$("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];XG<1e3*e;)XG+=1e3;return t.forEach((function(e){var t=Kz(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?T$("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=T$("v:fill",r,n);++XG,a=a.concat(["<v:shape"+D$({id:"_x0000_s"+XG,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,T$("v:shadow",null,{on:"t",obscured:"t"}),T$("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",C$("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),C$("x:AutoFill","False"),C$("x:Row",String(t.r)),C$("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),a.push("</xml>"),a.join("")}function JG(e,t,n,r){var a,i=Array.isArray(e);t.forEach((function(t){var s=Kz(t.ref);if(i?(e[s.r]||(e[s.r]=[]),a=e[s.r][s.c]):a=e[t.ref],!a){a={t:"z"},i?e[s.r][s.c]=a:e[t.ref]=a;var o=Jz(e["!ref"]||"BDWGO1000001:A1");o.s.r>s.r&&(o.s.r=s.r),o.e.r<s.r&&(o.e.r=s.r),o.s.c>s.c&&(o.s.c=s.c),o.e.c<s.c&&(o.e.c=s.c);var l=Zz(o);l!==e["!ref"]&&(e["!ref"]=l)}a.c||(a.c=[]);var c={a:t.author,t:t.t,r:t.r,T:n};t.h&&(c.h=t.h);for(var d=a.c.length-1;d>=0;--d){if(!n&&a.c[d].T)return;n&&!a.c[d].T&&a.c.splice(d,1)}if(n&&r)for(d=0;d<r.length;++d)if(c.a==r[d].id){c.a=r[d].name||c.a;break}a.c.push(c)}))}function QG(e){var t=[YU,T$("comments",null,{xmlns:q$[0]})],n=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=l$(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var r=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(r=n.indexOf(l$(e.a))),a.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push(C$("t",l$(a[0]||"")));else{for(var i="Comment:\n    "+a[0]+"\n",s=1;s<a.length;++s)i+="Reply:\n    "+a[s]+"\n";t.push(C$("t",l$(i)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function eK(e,t,n){var r=[YU,T$("ThreadedComments",null,{xmlns:F$}).replace(/[\/]>/,">")];return e.forEach((function(e){var a="";(e[1]||[]).forEach((function(i,s){if(i.T){i.a&&-1==t.indexOf(i.a)&&t.push(i.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==s?a=o.id:o.parentId=a,i.ID=o.id,i.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),r.push(T$("threadedComment",C$("text",i.t||""),o))}else delete i.ID}))})),r.push("</ThreadedComments>"),r.join("")}var tK=iH;function nK(e){var t=Fz(),n=[];return Bz(t,628),Bz(t,630),e.forEach((function(e){e[1].forEach((function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),Bz(t,632,function(e){return sH(e.slice(0,54))}(e.a)))}))})),Bz(t,631),Bz(t,633),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=n.indexOf(r.a);var a={s:Kz(e[0]),e:Kz(e[0])};Bz(t,635,function(e,t){return null==t&&(t=Iz(36)),t.write_shift(4,e[1].iauthor),EH(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,r])),r.t&&r.t.length>0&&Bz(t,637,dH(r)),Bz(t,636),delete r.iauthor}))})),Bz(t,634),Bz(t,629),t.end()}var rK=["xlsb","xlsm","xlam","biff8","xla"];var aK=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,a){var i=!1,s=!1;0==r.length?s=!0:"["==r.charAt(0)&&(s=!0,r=r.slice(1,-1)),0==a.length?i=!0:"["==a.charAt(0)&&(i=!0,a=a.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,l=a.length>0?0|parseInt(a,10):0;return i?l+=t.c:--l,s?o+=t.r:--o,n+(i?"":"$")+Gz(l)+(s?"":"$")+Vz(o)}return function(r,a){return t=a,r.replace(e,n)}}(),iK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,sK=function(){return function(e,t){return e.replace(iK,(function(e,n,r,a,i,s){var o=qz(a)-(r?0:t.c),l=Hz(s)-(i?0:t.r);return n+"R"+(0==l?"":i?l+1:"["+l+"]")+"C"+(0==o?"":r?o+1:"["+o+"]")}))}}();function oK(e,t){return e.replace(iK,(function(e,n,r,a,i,s){return n+("$"==r?r+a:Gz(qz(a)+t.c))+("$"==i?i+s:Vz(Hz(s)+t.r))}))}function lK(e,t,n){var r=Xz(t).s,a=Kz(n);return oK(e,{r:a.r-r.r,c:a.c-r.c})}function cK(e){return e.replace(/_xlfn\./g,"")}function dK(e){e.l+=1}function uK(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function mK(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return pK(e);12==n.biff&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),s=uK(e,2),o=uK(e,2);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function pK(e){var t=uK(e,2),n=uK(e,2),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function hK(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=uK(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),a=uK(e,2);return{r:r,c:a[0],cRel:a[1],rRel:a[2]}}function fK(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function vK(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function gK(e){return[e.read_shift(1),e.read_shift(1)]}function xK(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=DV(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=BH[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=CH(e);break;case 2:n[1]=BV(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function yK(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),a=[],i=0;i!=r;++i)a.push((12==n.biff?SH:ZV)(e,8));return a}function bK(e,t,n){var r=0,a=0;12==n.biff?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--a&&(a=256));for(var i=0,s=[];i!=r&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=xK(e,n.biff);return s}function wK(e,t,n){return e.l+=2,[fK(e)]}function jK(e){return e.l+=6,[]}function NK(e){return e.l+=2,[kV(e),1&e.read_shift(2)]}var _K=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var SK={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Mz},3:{n:"PtgAdd",f:dK},4:{n:"PtgSub",f:dK},5:{n:"PtgMul",f:dK},6:{n:"PtgDiv",f:dK},7:{n:"PtgPower",f:dK},8:{n:"PtgConcat",f:dK},9:{n:"PtgLt",f:dK},10:{n:"PtgLe",f:dK},11:{n:"PtgEq",f:dK},12:{n:"PtgGe",f:dK},13:{n:"PtgGt",f:dK},14:{n:"PtgNe",f:dK},15:{n:"PtgIsect",f:dK},16:{n:"PtgUnion",f:dK},17:{n:"PtgRange",f:dK},18:{n:"PtgUplus",f:dK},19:{n:"PtgUminus",f:dK},20:{n:"PtgPercent",f:dK},21:{n:"PtgParen",f:dK},22:{n:"PtgMissArg",f:dK},23:{n:"PtgStr",f:function(e,t,n){return e.l++,RV(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,BH[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,CH(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[GK[a],qK[a],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===i[0]?qK:VK)[i[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,i]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,hK(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,mK(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Mz},40:{n:"PtgMemNoMem",f:Mz},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==a&&n>=128&&(n-=256),{r:t,c:n,cRel:a,rRel:r}}(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),s=(16384&i)>>14,o=(32768&i)>>15;if(i&=16383,1==o)for(;a>524287;)a-=1048576;if(1==s)for(;i>8191;)i-=16384;return{r:a,c:i,cRel:s,rRel:o}}(e,0,n);return[r,a]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=function(e,t,n){if(n.biff<8)return pK(e);var r=e.read_shift(12==n.biff?4:2),a=e.read_shift(12==n.biff?4:2),i=uK(e,2),s=uK(e,2);return{s:{r:r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}(e,0,n);return[r,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,a,hK(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,a,mK(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6}return e.l+=i,[r,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return e.l+=i,[r,a]}},255:{}},EK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},CK={1:{n:"PtgElfLel",f:NK},2:{n:"PtgElfRw",f:wK},3:{n:"PtgElfCol",f:wK},6:{n:"PtgElfRwV",f:wK},7:{n:"PtgElfColV",f:wK},10:{n:"PtgElfRadical",f:wK},11:{n:"PtgElfRadicalS",f:jK},13:{n:"PtgElfColS",f:jK},15:{n:"PtgElfColSV",f:jK},16:{n:"PtgElfRadicalLel",f:NK},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2);return{ixti:t,coltype:3&n,rt:_K[n>>2&31],idx:r,c:a,C:i}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},DK={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&2==n.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:vK},33:{n:"PtgAttrBaxcel",f:vK},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),gK(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),gK(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function TK(e,t,n,r){if(r.biff<8)return Mz(e,t);for(var a=e.l+t,i=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=bK(e,0,r),i.push(n[s][1]);break;case"PtgMemArea":n[s][2]=yK(e,n[s][1],r),i.push(n[s][2]);break;case"PtgExp":r&&12==r.biff&&(n[s][1][1]=e.read_shift(4),i.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return 0!==(t=a-e.l)&&i.push(Mz(e,t)),i}function kK(e,t,n){for(var r,a,i=e.l+t,s=[];i!=e.l;)t=i-e.l,a=e[e.l],r=SK[a]||SK[EK[a]],24!==a&&25!==a||(r=(24===a?CK:DK)[e[e.l+1]]),r&&r.f?s.push([r.n,r.f(e,t,n)]):Mz(e,t);return s}function AK(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var s=r[i];if(s)if(2===s[0])a.push('"'+s[1].replace(/"/g,'""')+'"');else a.push(s[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var PK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function OK(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(a=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function RK(e,t,n){var r=OK(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function MK(e,t,n,r,a){var i,s,o,l,c=a&&a.biff||8,d={s:{c:0,r:0},e:{c:0,r:0}},u=[],m=0,p=0,h="";if(!e[0]||!e[0][0])return"";for(var f=-1,v="",g=0,x=e[0].length;g<x;++g){var y=e[0][g];switch(y[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(i=u.pop(),s=u.pop(),f>=0){switch(e[0][f][1][0]){case 0:v=PU(" ",e[0][f][1][1]);break;case 1:v=PU("\r",e[0][f][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}s+=v,f=-1}u.push(s+PK[y[0]]+i);break;case"PtgIsect":i=u.pop(),s=u.pop(),u.push(s+" "+i);break;case"PtgUnion":i=u.pop(),s=u.pop(),u.push(s+","+i);break;case"PtgRange":i=u.pop(),s=u.pop(),u.push(s+":"+i);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=Wz(y[1][1],d,a),u.push($z(o,c));break;case"PtgRefN":o=n?Wz(y[1][1],n,a):y[1][1],u.push($z(o,c));break;case"PtgRef3d":m=y[1][1],o=Wz(y[1][2],d,a);h=RK(r,m,a);u.push(h+"!"+$z(o,c));break;case"PtgFunc":case"PtgFuncVar":var b=y[1][0],w=y[1][1];b||(b=0);var j=0==(b&=127)?[]:u.slice(-b);u.length-=b,"User"===w&&(w=j.shift()),u.push(w+"("+j.join(",")+")");break;case"PtgBool":u.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(y[1]);break;case"PtgNum":u.push(String(y[1]));break;case"PtgStr":u.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=Uz(y[1][1],n?{s:n}:d,a),u.push(zz(l,a));break;case"PtgArea":l=Uz(y[1][1],d,a),u.push(zz(l,a));break;case"PtgArea3d":m=y[1][1],l=y[1][2],h=RK(r,m,a),u.push(h+"!"+zz(l,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":p=y[1][2];var N=(r.names||[])[p-1]||(r[0]||[])[p],_=N?N.Name:"SH33TJSNAME"+String(p);_&&"_xlfn."==_.slice(0,6)&&!a.xlfn&&(_=_.slice(6)),u.push(_);break;case"PtgNameX":var S,E=y[1][1];if(p=y[1][2],!(a.biff<=5)){var C="";if(14849==((r[E]||[])[0]||[])[0]||(1025==((r[E]||[])[0]||[])[0]?r[E][p]&&r[E][p].itab>0&&(C=r.SheetNames[r[E][p].itab-1]+"!"):C=r.SheetNames[p-1]+"!"),r[E]&&r[E][p])C+=r[E][p].Name;else if(r[0]&&r[0][p])C+=r[0][p].Name;else{var D=(OK(r,E,a)||"").split(";;");D[p-1]?C=D[p-1]:C+="SH33TJSERRX"}u.push(C);break}E<0&&(E=-E),r[E]&&(S=r[E][p]),S||(S={Name:"SH33TJSERRY"}),u.push(S.Name);break;case"PtgParen":var T="(",k=")";if(f>=0){switch(v="",e[0][f][1][0]){case 2:T=PU(" ",e[0][f][1][1])+T;break;case 3:T=PU("\r",e[0][f][1][1])+T;break;case 4:k=PU(" ",e[0][f][1][1])+k;break;case 5:k=PU("\r",e[0][f][1][1])+k;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}f=-1}u.push(T+u.pop()+k);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":o={c:y[1][1],r:y[1][0]};var A={c:n.c,r:n.r};if(r.sharedf[Yz(o)]){var P=r.sharedf[Yz(o)];u.push(MK(P,d,A,r,a))}else{var O=!1;for(i=0;i!=r.arrayf.length;++i)if(s=r.arrayf[i],!(o.c<s[0].s.c||o.c>s[0].e.c)&&!(o.r<s[0].s.r||o.r>s[0].e.r)){u.push(MK(s[1],d,A,r,a)),O=!0;break}O||u.push(y[1])}break;case"PtgArray":u.push("{"+AK(y[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":f=g;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(y))}if(3!=a.biff&&f>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][g][0])){var R=!0;switch((y=e[0][f])[1][0]){case 4:R=!1;case 0:v=PU(" ",y[1][1]);break;case 5:R=!1;case 1:v=PU("\r",y[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}u.push((R?v:"")+u.pop()+(R?"":v)),f=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function IK(e,t,n){var r,a=e.l+t,i=2==n.biff?1:2,s=e.read_shift(i);if(65535==s)return[[],Mz(e,t-2)];var o=kK(e,s,n);return t!==s+i&&(r=TK(e,t-s-i,o,n)),e.l=a,[o,r]}function LK(e,t,n){var r,a=e.l+t,i=e.read_shift(2),s=kK(e,i,n);return 65535==i?[[],Mz(e,t-2)]:(t!==i+2&&(r=TK(e,a-i-2,s,n)),[s,r])}function FK(e,t,n){var r=e.l+t,a=GV(e);2==n.biff&&++e.l;var i=function(e){var t;if(65535!==Nz(e,e.l+6))return[CH(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),s=e.read_shift(1);2!=n.biff&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=function(e,t,n){var r,a=e.l+t,i=2==n.biff?1:2,s=e.read_shift(i);if(65535==s)return[[],Mz(e,t-2)];var o=kK(e,s,n);return t!==s+i&&(r=TK(e,t-s-i,o,n)),e.l=a,[o,r]}(e,r-e.l,n);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function BK(e,t,n,r,a){var i=KV(t,n,a),s=function(e){if(null==e){var t=Iz(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return DH("number"==typeof e?e:0)}(e.v),o=Iz(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=Iz(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return hW([i,s,o,l])}function WK(e,t,n){var r=e.read_shift(4),a=kK(e,r,n),i=e.read_shift(4);return[a,i>0?TK(e,i,a,n):null]}var UK=WK,$K=WK,zK=WK,HK=WK,VK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},qK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},GK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function KK(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")}))).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function YK(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var XK={},ZK={},JK="undefined"!==typeof Map;function QK(e,t,n){var r=0,a=e.length;if(n){if(JK?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var i=JK?n.get(t):n[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t:t},e.Count++,e.Unique++,n&&(JK?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function eY(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(lG=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=dG(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=uG(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function tY(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function nY(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],a=60,i=e.length;if(null==r&&n.ssf)for(;a<392;++a)if(null==n.ssf[a]){iU(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}for(a=0;a!=i;++a)if(e[a].numFmtId===r)return a;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function rY(e,t,n,r,a,i){try{r.cellNF&&(e.z=EW[t])}catch(H1){if(r.WTF)throw H1}if("z"!==e.t||r.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=TU(e.v)),(!r||!1!==r.cellText)&&"z"!==e.t)try{if(null==EW[t]&&iU(lU[t]||"General",t),"e"===e.t)e.w=e.w||BH[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=IW(e.v);else if("d"===e.t){var s=bU(e.v);e.w=(0|s)===s?s.toString(10):IW(s)}else{if(void 0===e.v)return"";e.w=LW(e.v,ZK)}else"d"===e.t?e.w=aU(t,bU(e.v),ZK):e.w=aU(t,e.v,ZK)}catch(H1){if(r.WTF)throw H1}if(r.cellStyles&&null!=n)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=oG(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=oG(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(H1){if(r.WTF&&i.Fills)throw H1}}}function aY(e,t,n){if(e&&e["!ref"]){var r=Jz(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var iY=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sY=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,oY=/<(?:\w:)?hyperlink [^>]*>/gm,lY=/"(\w*:\w*)"/,cY=/<(?:\w:)?col\b[^>]*[\/]?>/g,dY=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,uY=/<(?:\w:)?pageMargins[^>]*\/>/g,mY=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,pY=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,hY=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function fY(e,t,n,r,a,i,s){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",u=e.match(sY);u?(c=e.slice(0,u.index),d=e.slice(u.index+u[0].length)):c=d=e;var m=c.match(mY);m?vY(m[0],o,a,n):(m=c.match(pY))&&function(e,t,n,r,a){vY(e.slice(0,e.indexOf(">")),n,r,a)}(m[0],m[1],o,a,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var h=c.slice(p,p+50).match(lY);h&&function(e,t){var n=Jz(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=Zz(n))}(o,h[1])}var f=c.match(hY);f&&f[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(yY)||[]).forEach((function(e,n){var r=t$(e);t.Views[n]||(t.Views[n]={}),+r.zoomScale&&(t.Views[n].zoom=+r.zoomScale),p$(r.rightToLeft)&&(t.Views[n].RTL=!0)}))}(f[1],a);var v=[];if(t.cellStyles){var g=c.match(cY);g&&function(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=t$(t[r],!0);a.hidden&&(a.hidden=p$(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,pG(a.width)),hG(a);i<=s;)e[i++]=AU(a)}}(v,g)}u&&wY(u[1],o,t,l,i,s);var x=d.match(dY);x&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(x[0]));var y=[],b=d.match(iY);if(b)for(p=0;p!=b.length;++p)y[p]=Jz(b[p].slice(b[p].indexOf('"')+1));var w=d.match(oY);w&&function(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var i=t$(x$(t[a]),!0);if(!i.ref)return;var s=((n||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+i$(i.location))):(i.Target="#"+i$(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Jz(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=Yz({c:c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}(o,w,r);var j=d.match(uY);if(j&&(o["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(n){e[n]&&(t[n]=parseFloat(e[n]))})),t}(t$(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Zz(l)),t.sheetRows>0&&o["!ref"]){var N=Jz(o["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>l.e.r&&(N.e.r=l.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>l.e.c&&(N.e.c=l.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Zz(N))}return v.length>0&&(o["!cols"]=v),y.length>0&&(o["!merges"]=y),o}function vY(e,t,n,r){var a=t$(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=i$(x$(a.codeName)))}var gY=["objects","scenarios","selectLockedCells","selectUnlockedCells"],xY=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var yY=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function bY(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",i=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=BH[e.v];break;case"d":r&&r.cellDates?a=TU(e.v,-1).toISOString():((e=AU(e)).t="n",a=""+(e.v=bU(TU(e.v)))),"undefined"===typeof e.z&&(e.z=EW[14]);break;default:a=e.v}var o=C$("v",l$(a)),l={r:t},c=nY(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=C$("v",""+QK(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=i&&(e.t=i,e.v=s),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=T$("f",l$(e.f),d)+(null!=e.v?o:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),T$("c",o,l)}var wY=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=b$("v"),s=b$("f");return function(o,l,c,d,u,m){for(var p,h,f,v,g,x=0,y="",b=[],w=[],j=0,N=0,_=0,S="",E=0,C=0,D=0,T=0,k=Array.isArray(m.CellXf),A=[],P=[],O=Array.isArray(l),R=[],M={},I=!1,L=!!c.sheetStubs,F=o.split(t),B=0,W=F.length;B!=W;++B){var U=(y=F[B].trim()).length;if(0!==U){var $=0;e:for(x=0;x<U;++x)switch(y[x]){case">":if("/"!=y[x-1]){++x;break e}if(c&&c.cellStyles){if(E=null!=(h=t$(y.slice($,x),!0)).r?parseInt(h.r,10):E+1,C=-1,c.sheetRows&&c.sheetRows<E)continue;M={},I=!1,h.ht&&(I=!0,M.hpt=parseFloat(h.ht),M.hpx=gG(M.hpt)),"1"==h.hidden&&(I=!0,M.hidden=!0),null!=h.outlineLevel&&(I=!0,M.level=+h.outlineLevel),I&&(R[E-1]=M)}break;case"<":$=x}if($>=x)break;if(E=null!=(h=t$(y.slice($,x),!0)).r?parseInt(h.r,10):E+1,C=-1,!(c.sheetRows&&c.sheetRows<E)){d.s.r>E-1&&(d.s.r=E-1),d.e.r<E-1&&(d.e.r=E-1),c&&c.cellStyles&&(M={},I=!1,h.ht&&(I=!0,M.hpt=parseFloat(h.ht),M.hpx=gG(M.hpt)),"1"==h.hidden&&(I=!0,M.hidden=!0),null!=h.outlineLevel&&(I=!0,M.level=+h.outlineLevel),I&&(R[E-1]=M)),b=y.slice(x).split(e);for(var z=0;z!=b.length&&"<"==b[z].trim().charAt(0);++z);for(b=b.slice(z),x=0;x!=b.length;++x)if(0!==(y=b[x].trim()).length){if(w=y.match(n),j=x,N=0,_=0,y="<c "+("<"==y.slice(0,1)?">":"")+y,null!=w&&2===w.length){for(j=0,S=w[1],N=0;N!=S.length&&!((_=S.charCodeAt(N)-64)<1||_>26);++N)j=26*j+_;C=--j}else++C;for(N=0;N!=y.length&&62!==y.charCodeAt(N);++N);if(++N,(h=t$(y.slice(0,N),!0)).r||(h.r=Yz({r:E-1,c:C})),p={t:""},null!=(w=(S=y.slice(N)).match(i))&&""!==w[1]&&(p.v=i$(w[1])),c.cellFormula){if(null!=(w=S.match(s))&&""!==w[1]){if(p.f=i$(x$(w[1])).replace(/\r\n/g,"\n"),c.xlfn||(p.f=cK(p.f)),w[0].indexOf('t="array"')>-1)p.F=(S.match(a)||[])[1],p.F.indexOf(":")>-1&&A.push([Jz(p.F),p.F]);else if(w[0].indexOf('t="shared"')>-1){v=t$(w[0]);var H=i$(x$(w[1]));c.xlfn||(H=cK(H)),P[parseInt(v.si,10)]=[v,H,h.r]}}else(w=S.match(/<f[^>]*\/>/))&&P[(v=t$(w[0])).si]&&(p.f=lK(P[v.si][1],P[v.si][2],h.r));var V=Kz(h.r);for(N=0;N<A.length;++N)V.r>=A[N][0].s.r&&V.r<=A[N][0].e.r&&V.c>=A[N][0].s.c&&V.c<=A[N][0].e.c&&(p.F=A[N][1])}if(null==h.t&&void 0===p.v)if(p.f||p.F)p.v=0,p.t="n";else{if(!L)continue;p.t="z"}else p.t=h.t||"n";switch(d.s.c>C&&(d.s.c=C),d.e.c<C&&(d.e.c=C),p.t){case"n":if(""==p.v||null==p.v){if(!L)continue;p.t="z"}else p.v=parseFloat(p.v);break;case"s":if("undefined"==typeof p.v){if(!L)continue;p.t="z"}else f=XK[parseInt(p.v,10)],p.v=f.t,p.r=f.r,c.cellHTML&&(p.h=f.h);break;case"str":p.t="s",p.v=null!=p.v?x$(p.v):"",c.cellHTML&&(p.h=u$(p.v));break;case"inlineStr":w=S.match(r),p.t="s",null!=w&&(f=Fq(w[1]))?(p.v=f.t,c.cellHTML&&(p.h=f.h)):p.v="";break;case"b":p.v=p$(p.v);break;case"d":c.cellDates?p.v=TU(p.v,1):(p.v=bU(TU(p.v,1)),p.t="n");break;case"e":c&&!1===c.cellText||(p.w=p.v),p.v=WH[p.v]}if(D=T=0,g=null,k&&void 0!==h.s&&null!=(g=m.CellXf[h.s])&&(null!=g.numFmtId&&(D=g.numFmtId),c.cellStyles&&null!=g.fillId&&(T=g.fillId)),rY(p,D,T,c,u,m),c.cellDates&&k&&"n"==p.t&&eU(EW[D])&&(p.t="d",p.v=_U(p.v)),h.cm&&c.xlmeta){var q=(c.xlmeta.Cell||[])[+h.cm-1];q&&"XLDAPR"==q.type&&(p.D=!0)}if(O){var G=Kz(h.r);l[G.r]||(l[G.r]=[]),l[G.r][G.c]=p}else l[h.r]=p}}}}R.length>0&&(l["!rows"]=R)}}();function jY(e,t,n,r){var a,i=[YU,T$("worksheet",null,{xmlns:q$[0],"xmlns:r":$$})],s=n.SheetNames[e],o="",l=n.Sheets[s];null==l&&(l={});var c=l["!ref"]||"A1",d=Jz(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=Zz(d)}r||(r={}),l["!comments"]=[];var u=[];!function(e,t,n,r,a){var i=!1,s={},o=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(H1){}i=!0,s.codeName=y$(l$(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+T$("outlinePr",null,c)}(i||o)&&(a[a.length]=T$("sheetPr",o,s))}(l,n,e,t,i),i[i.length]=T$("dimension",null,{ref:c}),i[i.length]=function(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),T$("sheetViews",T$("sheetView",null,a),{})}(0,0,0,n),t.sheetFormat&&(i[i.length]=T$("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=function(e,t){for(var n,r=["<cols>"],a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=T$("col",null,eY(a,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var n,r,a=[],i=[],s=Jz(e["!ref"]),o="",l="",c=[],d=0,u=0,m=e["!rows"],p=Array.isArray(e),h={r:l},f=-1;for(u=s.s.c;u<=s.e.c;++u)c[u]=Gz(u);for(d=s.s.r;d<=s.e.r;++d){for(i=[],l=Vz(d),u=s.s.c;u<=s.e.c;++u){n=c[u]+l;var v=p?(e[d]||[])[u]:e[n];void 0!==v&&null!=(o=bY(v,n,e,t))&&i.push(o)}(i.length>0||m&&m[d])&&(h={r:l},m&&m[d]&&((r=m[d]).hidden&&(h.hidden=1),f=-1,r.hpx?f=vG(r.hpx):r.hpt&&(f=r.hpt),f>-1&&(h.ht=f,h.customHeight=1),r.level&&(h.outlineLevel=r.level)),a[a.length]=T$("row",i.join(""),h))}if(m)for(;d<m.length;++d)m&&m[d]&&(h={r:d+1},(r=m[d]).hidden&&(h.hidden=1),f=-1,r.hpx?f=vG(r.hpx):r.hpt&&(f=r.hpt),f>-1&&(h.ht=f,h.customHeight=1),r.level&&(h.outlineLevel=r.level),a[a.length]=T$("row","",h));return a.join("")}(l,t,0,0),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=function(e){var t={sheet:1};return gY.forEach((function(n){null!=e[n]&&e[n]&&(t[n]="1")})),xY.forEach((function(n){null==e[n]||e[n]||(t[n]="0")})),e.password&&(t.password=tG(e.password).toString(16).toUpperCase()),T$("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=function(e,t,n,r){var a="string"==typeof e.ref?e.ref:Zz(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,s=Xz(a);s.s.r==s.e.r&&(s.e.r=Xz(t["!ref"]).e.r,a=Zz(s));for(var o=0;o<i.length;++o){var l=i[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),T$("autoFilter",null,{ref:a})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Zz(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var m,p,h=-1,f=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(m={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(f=KH(r,-1,l$(e[1].Target).replace(/#.*$/,""),HH.HLINK),m["r:id"]="rId"+f),(h=e[1].Target.indexOf("#"))>-1&&(m.location=l$(e[1].Target.slice(h+1))),e[1].Tooltip&&(m.tooltip=l$(e[1].Tooltip)),i[i.length]=T$("hyperlink",null,m))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=(tY(p=l["!margins"]),T$("pageMargins",null,p))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=C$("ignoredErrors",T$("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(f=KH(r,-1,"../drawings/drawing"+(e+1)+".xml",HH.DRAW),i[i.length]=T$("drawing",null,{"r:id":"rId"+f}),l["!drawing"]=u),l["!comments"].length>0&&(f=KH(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",HH.VML),i[i.length]=T$("legacyDrawing",null,{"r:id":"rId"+f}),l["!legacy"]=f),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function NY(e,t,n,r){var a=function(e,t,n){var r=Iz(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;a.hpx?i=20*vG(a.hpx):a.hpt&&(i=20*a.hpt),r.write_shift(2,i),r.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,m=-1,p=d<<10;p<d+1<<10;++p)c.c=p,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[Yz(c)])&&(u<0&&(u=p),m=p);u<0||(++o,r.write_shift(4,u),r.write_shift(4,m))}var h=r.l;return r.l=l,r.write_shift(4,o),r.l=h,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&Bz(e,0,a)}var _Y=SH,SY=EH;function EY(e){return[pH(e),CH(e),"n"]}var CY=SH,DY=EH;var TY=["left","right","top","bottom","header","footer"];function kY(e,t,n,r,a,i,s){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=AU(t)).z=t.z||EW[14],t.v=bU(TU(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:n,c:r};switch(l.s=nY(a.cellXfs,t,a),t.l&&i["!links"].push([Yz(l),t.l]),t.c&&i["!comments"].push([Yz(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=QK(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?Bz(e,18,function(e,t,n){return null==n&&(n=Iz(8)),hH(t,n),n.write_shift(4,t.v),n}(0,l)):Bz(e,7,function(e,t,n){return null==n&&(n=Iz(12)),mH(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",s?Bz(e,17,function(e,t,n){return null==n&&(n=Iz(8+4*e.v.length)),hH(t,n),sH(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):Bz(e,6,function(e,t,n){return null==n&&(n=Iz(12+4*e.v.length)),mH(t,n),sH(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?Bz(e,13,function(e,t,n){return null==n&&(n=Iz(8)),hH(t,n),NH(e.v,n),n}(t,l)):Bz(e,2,function(e,t,n){return null==n&&(n=Iz(12)),mH(t,n),NH(e.v,n),n}(t,l)):s?Bz(e,16,function(e,t,n){return null==n&&(n=Iz(12)),hH(t,n),DH(e.v,n),n}(t,l)):Bz(e,5,function(e,t,n){return null==n&&(n=Iz(16)),mH(t,n),DH(e.v,n),n}(t,l)),!0;case"b":return l.t="b",s?Bz(e,15,function(e,t,n){return null==n&&(n=Iz(5)),hH(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):Bz(e,4,function(e,t,n){return null==n&&(n=Iz(9)),mH(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",s?Bz(e,14,function(e,t,n){return null==n&&(n=Iz(8)),hH(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):Bz(e,3,function(e,t,n){return null==n&&(n=Iz(9)),mH(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return s?Bz(e,12,function(e,t,n){return null==n&&(n=Iz(4)),hH(t,n)}(0,l)):Bz(e,1,function(e,t,n){return null==n&&(n=Iz(8)),mH(t,n)}(0,l)),!0}function AY(e,t){var n,r;t&&t["!merges"]&&(Bz(e,177,(n=t["!merges"].length,null==r&&(r=Iz(4)),r.write_shift(4,n),r)),t["!merges"].forEach((function(t){Bz(e,176,DY(t))})),Bz(e,178))}function PY(e,t){t&&t["!cols"]&&(Bz(e,390),t["!cols"].forEach((function(t,n){t&&Bz(e,60,function(e,t,n){null==n&&(n=Iz(18));var r=eY(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof r.width&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}(n,t))})),Bz(e,391))}function OY(e,t){t&&t["!ref"]&&(Bz(e,648),Bz(e,649,function(e){var t=Iz(24);return t.write_shift(4,4),t.write_shift(4,1),EH(e,t),t}(Jz(t["!ref"]))),Bz(e,650))}function RY(e,t,n){t["!links"].forEach((function(t){if(t[1].Target){var r=KH(n,-1,t[1].Target.replace(/#.*$/,""),HH.HLINK);Bz(e,494,function(e,t){var n=Iz(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));EH({s:Kz(e[0]),e:Kz(e[0])},n),wH("rId"+t,n);var r=e[1].Target.indexOf("#");return sH((-1==r?"":e[1].Target.slice(r+1))||"",n),sH(e[1].Tooltip||"",n),sH("",n),n.slice(0,n.l)}(t,r))}})),delete t["!links"]}function MY(e,t,n){Bz(e,133),Bz(e,137,function(e,t,n){null==n&&(n=Iz(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Bz(e,138),Bz(e,134)}function IY(e,t){var n,r;t["!protect"]&&Bz(e,535,(n=t["!protect"],null==r&&(r=Iz(66)),r.write_shift(2,n.password?tG(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)})),r))}function LY(e,t,n,r){var a=Fz(),i=n.SheetNames[e],s=n.Sheets[i]||{},o=i;try{n&&n.Workbook&&(o=n.Workbook.Sheets[e].CodeName||o)}catch(H1){}var l,c,d=Jz(s["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Bz(a,129),(n.vbaraw||s["!outline"])&&Bz(a,147,function(e,t,n){null==n&&(n=Iz(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return TH({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),vH(e,n),n.slice(0,n.l)}(o,s["!outline"])),Bz(a,148,SY(d)),MY(a,0,n.Workbook),PY(a,s),function(e,t,n,r){var a,i=Jz(t["!ref"]||"A1"),s="",o=[];Bz(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=c;++d){s=Vz(d),NY(e,t,i,d);var u=!1;if(d<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){d===i.s.r&&(o[m]=Gz(m)),a=o[m]+s;var p=l?(t[d]||[])[m]:t[a];u=!!p&&kY(e,p,d,m,r,t,u)}}Bz(e,146)}(a,s,0,t),IY(a,s),function(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],i="string"===typeof a.ref?a.ref:Zz(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Xz(i);o.s.r==o.e.r&&(o.e.r=Xz(t["!ref"]).e.r,i=Zz(o));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Bz(e,161,EH(Jz(i))),Bz(e,162)}}(a,s,n,e),AY(a,s),RY(a,s,r),s["!margins"]&&Bz(a,476,(l=s["!margins"],null==c&&(c=Iz(48)),tY(l),TY.forEach((function(e){DH(l[e],c)})),c)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||OY(a,s),function(e,t,n,r){if(t["!comments"].length>0){var a=KH(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",HH.VML);Bz(e,551,wH("rId"+a)),t["!legacy"]=a}}(a,s,e,r),Bz(a,130),a.end()}function FY(e,t,n,r,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=function(e){var t,n=[],r=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(n[+t[1]]=r?+t[2]:t[2])}));var a=i$((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[n,a,t]}(e);d.s.r=d.s.c=0,d.e.c=o,c=Gz(o),t[0].forEach((function(e,n){s[c+Vz(n)]={t:"n",v:e,z:t[1]},l=n})),d.e.r<l&&(d.e.r=l),++o})),o>0&&(s["!ref"]=Zz(d)),s}var BY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],WY=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],UY=[],$Y=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function zY(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var i=t[a];if(null==r[i[0]])r[i[0]]=i[1];else switch(i[2]){case"bool":"string"==typeof r[i[0]]&&(r[i[0]]=p$(r[i[0]]));break;case"int":"string"==typeof r[i[0]]&&(r[i[0]]=parseInt(r[i[0]],10))}}}function HY(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(null==e[r[0]])e[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof e[r[0]]&&(e[r[0]]=p$(e[r[0]]));break;case"int":"string"==typeof e[r[0]]&&(e[r[0]]=parseInt(e[r[0]],10))}}}function VY(e){HY(e.WBProps,BY),HY(e.CalcPr,$Y),zY(e.WBView,WY),zY(e.Sheets,UY),ZK.date1904=p$(e.WBProps.date1904)}var qY="][*?/\\".split("");function GY(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return qY.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}function KY(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,n,r,a=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,n=a,r=!!e.vbaraw,t.forEach((function(e,a){GY(e);for(var i=0;i<a;++i)if(e==t[i])throw new Error("Duplicate Sheet Name: "+e);if(r){var s=n&&n[a]&&n[a].CodeName||e;if(95==s.charCodeAt(0)&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}}));for(var i=0;i<e.SheetNames.length;++i)aY(e.Sheets[e.SheetNames[i]],e.SheetNames[i],i)}var YY=/<\w+:workbook/;function XY(e){var t=[YU];t[t.length]=T$("workbook",null,{xmlns:q$[0],"xmlns:r":$$});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(BY.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=T$("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&a[i]&&a[i].Hidden;++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:l$(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden"}t[t.length]=T$("sheet",null,s)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=T$("definedName",l$(e.Ref),n))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function ZY(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function JY(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,a=t.Workbook.Sheets,i=0,s=-1,o=-1;i<a.length;++i)!a[i]||!a[i].Hidden&&-1==s?s=i:1==a[i].Hidden&&-1==o&&(o=i);if(!(o>s))Bz(e,135),Bz(e,158,(n=s,r||(r=Iz(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),Bz(e,136)}}function QY(e,t){var n=Fz();return Bz(n,131),Bz(n,128,function(e,t){t||(t=Iz(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return sH("SheetJS",t),sH(zB.version,t),sH(zB.version,t),sH("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Bz(n,153,function(e,t){t||(t=Iz(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),vH(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),JY(n,e),function(e,t){Bz(e,143);for(var n=0;n!=t.SheetNames.length;++n){Bz(e,156,(r={Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]},(a=void 0)||(a=Iz(127)),a.write_shift(4,r.Hidden),a.write_shift(4,r.iTabID),wH(r.strRelID,a),sH(r.name.slice(0,31),a),a.length>a.l?a.slice(0,a.l):a))}var r,a;Bz(e,144)}(n,e),Bz(n,132),n.end()}function eX(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],WX[16]={n:"BrtFRTArchID$",f:ZY},Lz(e,(function(e,o,l){switch(l){case 156:s.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=MK(e.Ptg,0,null,s,t),delete t.SID,delete e.Ptg,i.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:s[0].length?s.push([l,e]):s[0]=[l,e],s[s.length-1].XTI=[];break;case 362:0===s.length&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(e),s.XTI=s.XTI.concat(e);break;case 35:case 37:r.push(l),a=!0;break;case 36:case 38:r.pop(),a=!1;break;default:if(o.T);else if(!a||t.WTF&&37!=r[r.length-1]&&35!=r[r.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}}),t),VY(n),n.Names=i,n.supbooks=s,n}(e,n):function(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",i={},s=0;if(e.replace(JU,(function(o,l){var c=t$(o);switch(n$(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(YY)&&(a="xmlns"+o.match(/<(\w+):/)[1]),n.xmlns=c[a];break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":BY.forEach((function(e){if(null!=c[e[0]])switch(e[2]){case"bool":n.WBProps[e[0]]=p$(c[e[0]]);break;case"int":n.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:n.WBProps[e[0]]=c[e[0]]}})),c.codeName&&(n.WBProps.CodeName=x$(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=i$(x$(c.name)),delete c[0],n.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(i={}).Name=x$(c.name),c.comment&&(i.Comment=c.comment),c.localSheetId&&(i.Sheet=+c.localSheetId),p$(c.hidden||"0")&&(i.Hidden=!0),s=l+o.length;break;case"</definedName>":i.Ref=i$(x$(e.slice(s,l))),n.Names.push(i);break;case"<calcPr":case"<calcPr/>":delete c[0],n.CalcPr=c;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o})),-1===q$.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return VY(n),n}(e,n)}function tX(e,t,n,r,a,i,s,o){return".bin"===t.slice(-4)?function(e,t,n,r,a,i,s){if(!e)return e;var o=t||{};r||(r={"!id":{}});var l,c,d,u,m,p,h,f,v,g,x=o.dense?[]:{},y={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=[],w=!1,j=!1,N=[];o.biff=12,o["!row"]=0;var _=0,S=!1,E=[],C={},D=o.supbooks||a.supbooks||[[]];if(D.sharedf=C,D.arrayf=E,D.SheetNames=a.SheetNames||a.Sheets.map((function(e){return e.name})),!o.supbooks&&(o.supbooks=D,a.Names))for(var T=0;T<a.Names.length;++T)D[0][T+1]=a.Names[T];var k,A,P=[],O=[],R=!1;if(WX[16]={n:"BrtShortReal",f:EY},Lz(e,(function(e,t,T){if(!j)switch(T){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(j=!0),v=Vz(m=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=gG(e.hpt)),O[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(d={t:e[2]},e[2]){case"n":d.v=e[1];break;case"s":f=XK[e[1]],d.v=f.t,d.r=f.r;break;case"b":d.v=!!e[1];break;case"e":d.v=e[1],!1!==o.cellText&&(d.w=BH[d.v]);break;case"str":d.t="s",d.v=e[1];break;case"is":d.t="s",d.v=e[1].t}if((u=s.CellXf[e[0].iStyleRef])&&rY(d,u.numFmtId,null,o,i,s),p=-1==e[0].c?p+1:e[0].c,o.dense?(x[m]||(x[m]=[]),x[m][p]=d):x[Gz(p)+v]=d,o.cellFormula){for(S=!1,_=0;_<E.length;++_){var M=E[_];c.r>=M[0].s.r&&c.r<=M[0].e.r&&p>=M[0].s.c&&p<=M[0].e.c&&(d.F=Zz(M[0]),S=!0)}!S&&e.length>3&&(d.f=e[3])}if(y.s.r>c.r&&(y.s.r=c.r),y.s.c>p&&(y.s.c=p),y.e.r<c.r&&(y.e.r=c.r),y.e.c<p&&(y.e.c=p),o.cellDates&&u&&"n"==d.t&&eU(EW[u.numFmtId])){var I=kW(d.v);I&&(d.t="d",d.v=new Date(I.y,I.m-1,I.d,I.H,I.M,I.S,I.u))}k&&("XLDAPR"==k.type&&(d.D=!0),k=void 0),A&&(A=void 0);break;case 1:case 12:if(!o.sheetStubs||w)break;d={t:"z",v:void 0},p=-1==e[0].c?p+1:e[0].c,o.dense?(x[m]||(x[m]=[]),x[m][p]=d):x[Gz(p)+v]=d,y.s.r>c.r&&(y.s.r=c.r),y.s.c>p&&(y.s.c=p),y.e.r<c.r&&(y.e.r=c.r),y.e.c<p&&(y.e.c=p),k&&("XLDAPR"==k.type&&(d.D=!0),k=void 0),A&&(A=void 0);break;case 176:N.push(e);break;case 49:k=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var L=r["!id"][e.relId];for(L?(e.Target=L.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=L):""==e.relId&&(e.Target="#"+e.loc),m=e.rfx.s.r;m<=e.rfx.e.r;++m)for(p=e.rfx.s.c;p<=e.rfx.e.c;++p)o.dense?(x[m]||(x[m]=[]),x[m][p]||(x[m][p]={t:"z",v:void 0}),x[m][p].l=e):(h=Yz({c:p,r:m}),x[h]||(x[h]={t:"z",v:void 0}),x[h].l=e);break;case 426:if(!o.cellFormula)break;E.push(e),(g=o.dense?x[m][p]:x[Gz(p)+v]).f=MK(e[1],0,{r:c.r,c:p},D,o),g.F=Zz(e[0]);break;case 427:if(!o.cellFormula)break;C[Yz(e[0].s)]=e[1],(g=o.dense?x[m][p]:x[Gz(p)+v]).f=MK(e[1],0,{r:c.r,c:p},D,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)P[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},R||(R=!0,pG(e.w/256)),hG(P[e.e+1]);break;case 161:x["!autofilter"]={ref:Zz(e)};break;case 476:x["!margins"]=e;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),e.name&&(a.Sheets[n].CodeName=e.name),(e.above||e.left)&&(x["!outline"]={above:e.above,left:e.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),e.RTL&&(a.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:w=!0;break;case 36:w=!1;break;case 37:b.push(T),w=!0;break;case 38:b.pop(),w=!1;break;default:if(t.T);else if(!w||o.WTF)throw new Error("Unexpected record 0x"+T.toString(16))}}),o),delete o.supbooks,delete o["!row"],!x["!ref"]&&(y.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(x["!ref"]=Zz(l||y)),o.sheetRows&&x["!ref"]){var M=Jz(x["!ref"]);o.sheetRows<=+M.e.r&&(M.e.r=o.sheetRows-1,M.e.r>y.e.r&&(M.e.r=y.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>y.e.c&&(M.e.c=y.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),x["!fullref"]=x["!ref"],x["!ref"]=Zz(M))}return N.length>0&&(x["!merges"]=N),P.length>0&&(x["!cols"]=P),O.length>0&&(x["!rows"]=O),x}(e,r,n,a,i,s,o):fY(e,r,n,a,i,s,o)}function nX(e,t,n,r,a,i,s,o){return".bin"===t.slice(-4)?function(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=[],o=!1;return Lz(e,(function(e,r,l){switch(l){case 550:i["!rel"]=e;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),e.name&&(a.Sheets[n].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(l);break;case 38:s.pop();break;default:if(r.T>0)s.push(l);else if(r.T<0)s.pop();else if(!o||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}(e,r,n,a,i):function(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i,s={"!type":"chart","!drawel":null,"!rel":""},o=e.match(mY);return o&&vY(o[0],0,a,n),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(e,0,n,a,i)}function rX(e,t,n,r){return".bin"===t.slice(-4)?function(e,t,n){var r={NumberFmt:[]};for(var a in EW)r.NumberFmt[a]=EW[a];r.CellXf=[],r.Fonts=[];var i=[],s=!1;return Lz(e,(function(e,a,o){switch(o){case 44:r.NumberFmt[e[0]]=e[1],iU(e[1],e[0]);break;case 43:r.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=oG(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==i[i.length-1]&&r.CellXf.push(e);break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(o),s=!0;break;case 38:i.pop(),s=!1;break;default:if(a.T>0)i.push(o);else if(a.T<0)i.pop();else if(!s||n.WTF&&37!=i[i.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}})),r}(e,n,r):wG(e,n,r)}function aX(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=!1;return Lz(e,(function(e,a,i){switch(i){case 159:n.Count=e[0],n.Unique=e[1];break;case 19:n.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||t.WTF)throw new Error("Unexpected record 0x"+i.toString(16))}})),n}(e,n):function(e,t){var n=[],r="";if(!e)return n;var a=e.match(Bq);if(a){r=a[2].replace(Wq,"").split(Uq);for(var i=0;i!=r.length;++i){var s=Fq(r[i].trim(),t);null!=s&&(n[n.length]=s)}a=t$(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}(e,n)}function iX(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=[],a={},i=!1;return Lz(e,(function(e,s,o){switch(o){case 632:r.push(e);break;case 635:a=e;break;case 637:a.t=e.t,a.h=e.h,a.r=e.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:case 37:case 38:break;case 35:i=!0;break;case 36:i=!1;break;default:if(s.T);else if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}})),n}(e,n):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&n.push(t[1])}}));var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var a=e.match(/<(?:\w+:)?comment[^>]*>/);if(a){var i=t$(a[0]),s={author:i.authorId&&n[i.authorId]||"sheetjsghost",ref:i.ref,guid:i.guid},o=Kz(i.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&Fq(l[1])||{r:"",t:"",h:""};s.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),s.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(s.h=c.h),r.push(s)}}}})),r}(e,n)}function sX(e,t,n){return".bin"===t.slice(-4)?function(e){var t=[];return Lz(e,(function(e,n,r){if(63===r)t.push(e);else if(!n.T)throw new Error("Unexpected record 0x"+r.toString(16))})),t}(e):function(e){var t=[];if(!e)return t;var n=1;return(e.match(JU)||[]).forEach((function(e){var r=t$(e);switch(r[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r)}})),t}(e)}function oX(e,t,n,r){if(".bin"===n.slice(-4))return function(e,t,n,r){if(!e)return e;var a=r||{},i=!1;Lz(e,(function(e,t,n){switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(t.T);else if(!i||a.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}}),a)}(e,0,0,r)}function lX(e,t,n){return".bin"===t.slice(-4)?function(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},i=[],s=!1,o=2;return Lz(e,(function(e,t,n){switch(n){case 335:r.Types.push({name:e.name});break;case 51:e.forEach((function(e){1==o?r.Cell.push({type:r.Types[e[0]-1].name,index:e[1]}):0==o&&r.Value.push({type:r.Types[e[0]-1].name,index:e[1]})}));break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:i.push(n),s=!0;break;case 36:i.pop(),s=!1;break;default:if(t.T);else if(!s||a.WTF&&35!=i[i.length-1])throw new Error("Unexpected record 0x"+n.toString(16))}})),r}(e,0,n):function(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a,i=!1,s=2;return e.replace(JU,(function(e){var t=t$(e);switch(n$(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<r.Types.length;++o)r.Types[o].name==t.name&&(a=r.Types[o]);break;case"<rc":1==s?r.Cell.push({type:r.Types[t.t-1].name,index:+t.v}):0==s&&r.Value.push({type:r.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":s=1;break;case"</cellMetadata>":case"</valueMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+t.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e})),r}(e,0,n)}function cX(e,t,n,r,a){return(".bin"===t.slice(-4)?LY:jY)(e,n,r,a)}function dX(e,t,n){return(".bin"===t.slice(-4)?nK:QG)(e,n)}var uX,mX=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,pX=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function hX(e,t){var n=e.split(/\s+/),r=[];if(t||(r[0]=n[0]),1===n.length)return r;var a,i,s,o=e.match(mX);if(o)for(s=0;s!=o.length;++s)-1===(i=(a=o[s].match(pX))[1].indexOf(":"))?r[a[1]]=a[2].slice(1,a[2].length-1):r["xmlns:"===a[1].slice(0,6)?"xmlns"+a[1].slice(6):a[1].slice(i+1)]=a[2].slice(1,a[2].length-1);return r}function fX(e){var t={};if(1===e.split(/\s+/).length)return t;var n,r,a,i=e.match(mX);if(i)for(a=0;a!=i.length;++a)-1===(r=(n=i[a].match(pX))[1].indexOf(":"))?t[n[1]]=n[2].slice(1,n[2].length-1):t["xmlns:"===n[1].slice(0,6)?"xmlns"+n[1].slice(6):n[1].slice(r+1)]=n[2].slice(1,n[2].length-1);return t}function vX(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=p$(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=TU(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[i$(t)]=a}function gX(e,t,n){if("z"!==e.t){if(!n||!1!==n.cellText)try{"e"===e.t?e.w=e.w||BH[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=IW(e.v):e.w=LW(e.v):e.w=function(e,t){var n=uX[e]||i$(e);return"General"===n?LW(t):aU(n,t)}(t||"General",e.v)}catch(H1){if(n.WTF)throw H1}try{var r=uX[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&"n"==e.t&&eU(r)){var a=kW(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(H1){if(n.WTF)throw H1}}}function xX(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=xG[r.Pattern]||r.Pattern)}e[t.ID]=t}function yX(e,t,n,r,a,i,s,o,l,c){var d="General",u=r.StyleID,m={};c=c||{};var p=[],h=0;for(void 0===u&&o&&(u=o.StyleID),void 0===u&&s&&(u=s.StyleID);void 0!==i[u]&&(i[u].nf&&(d=i[u].nf),i[u].Interior&&p.push(i[u].Interior),i[u].Parent);)u=i[u].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=p$(e);break;case"String":r.t="s",r.r=m$(i$(e)),r.v=e.indexOf("<")>-1?i$(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),r.v=(TU(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=i$(e):r.v<60&&(r.v=r.v-1),d&&"General"!=d||(d="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=WH[e],!1!==c.cellText&&(r.w=e);break;default:""==e&&""==t?r.t="z":(r.t="s",r.v=m$(t||e))}if(gX(r,d,c),!1!==c.cellFormula)if(r.Formula){var f=i$(r.Formula);61==f.charCodeAt(0)&&(f=f.slice(1)),r.f=aK(f,a),delete r.Formula,"RC"==r.ArrayRange?r.F=aK("RC:RC",a):r.ArrayRange&&(r.F=aK(r.ArrayRange,a),l.push([Jz(r.F),r.F]))}else for(h=0;h<l.length;++h)a.r>=l[h][0].s.r&&a.r<=l[h][0].e.r&&a.c>=l[h][0].s.c&&a.c<=l[h][0].e.c&&(r.F=l[h][1]);c.cellStyles&&(p.forEach((function(e){!m.patternType&&e.patternType&&(m.patternType=e.patternType)})),r.s=m),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function bX(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function wX(e,t){var n=t||{};oU();var r=eW(A$(e));"binary"!=n.type&&"array"!=n.type&&"base64"!=n.type||(r="undefined"!==typeof QB?QB.utils.decode(65001,ZB(r)):x$(r));var a,i=r.slice(0,1024).toLowerCase(),s=!1;if((1023&(i=i.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&i.indexOf(","),1023&i.indexOf(";"))){var o=AU(n);return o.type="string",Aq.to_workbook(r,o)}if(-1==i.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){i.indexOf("<"+e)>=0&&(s=!0)})),s)return function(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||0==n.length)throw new Error("Invalid HTML: could not find <table>");if(1==n.length)return tH(JX(n[0],t),t);var r={SheetNames:[],Sheets:{}};return n.forEach((function(e,n){gJ(r,JX(e,t),"Sheet"+(n+1))})),r}(r,n);uX={"General Number":"General","General Date":EW[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":EW[15],"Short Date":EW[14],"Long Time":EW[19],"Medium Time":EW[18],"Short Time":EW[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:EW[2],Standard:EW[4],Percent:EW[10],Scientific:EW[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[];var d,u={},m=[],p=n.dense?[]:{},h="",f={},v={},g=hX('<Data ss:Type="String">'),x=0,y=0,b=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},_="",S=0,E=[],C={},D={},T=0,k=[],A=[],P={},O=[],R=!1,M=[],I=[],L={},F=0,B=0,W={Sheets:[],WBProps:{date1904:!1}},U={};P$.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var $="";a=P$.exec(r);)switch(a[3]=($=a[3]).toLowerCase()){case"data":if("data"==$){if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break}if(c[c.length-1][1])break;"/"===a[1]?yX(r.slice(x,a.index),_,g,"comment"==c[c.length-1][0]?P:f,{c:y,r:b},j,O[y],v,M,n):(_="",g=hX(a[0]),x=a.index+a[0].length);break;case"cell":if("/"===a[1])if(A.length>0&&(f.c=A),(!n.sheetRows||n.sheetRows>b)&&void 0!==f.v&&(n.dense?(p[b]||(p[b]=[]),p[b][y]=f):p[Gz(y)+Vz(b)]=f),f.HRef&&(f.l={Target:i$(f.HRef)},f.HRefScreenTip&&(f.l.Tooltip=f.HRefScreenTip),delete f.HRef,delete f.HRefScreenTip),(f.MergeAcross||f.MergeDown)&&(F=y+(0|parseInt(f.MergeAcross,10)),B=b+(0|parseInt(f.MergeDown,10)),E.push({s:{c:y,r:b},e:{c:F,r:B}})),n.sheetStubs)if(f.MergeAcross||f.MergeDown){for(var z=y;z<=F;++z)for(var H=b;H<=B;++H)(z>y||H>b)&&(n.dense?(p[H]||(p[H]=[]),p[H][z]={t:"z"}):p[Gz(z)+Vz(H)]={t:"z"});y=F+1}else++y;else f.MergeAcross?y=F+1:++y;else(f=fX(a[0])).Index&&(y=+f.Index-1),y<w.s.c&&(w.s.c=y),y>w.e.c&&(w.e.c=y),"/>"===a[0].slice(-2)&&++y,A=[];break;case"row":"/"===a[1]||"/>"===a[0].slice(-2)?(b<w.s.r&&(w.s.r=b),b>w.e.r&&(w.e.r=b),"/>"===a[0].slice(-2)&&(v=hX(a[0])).Index&&(b=+v.Index-1),y=0,++b):((v=hX(a[0])).Index&&(b=+v.Index-1),L={},("0"==v.AutoFitHeight||v.Height)&&(L.hpx=parseInt(v.Height,10),L.hpt=vG(L.hpx),I[b]=L),"1"==v.Hidden&&(L.hidden=!0,I[b]=L));break;case"worksheet":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));m.push(h),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(p["!ref"]=Zz(w),n.sheetRows&&n.sheetRows<=w.e.r&&(p["!fullref"]=p["!ref"],w.e.r=n.sheetRows-1,p["!ref"]=Zz(w))),E.length&&(p["!merges"]=E),O.length>0&&(p["!cols"]=O),I.length>0&&(p["!rows"]=I),u[h]=p}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([a[3],!1]),l=hX(a[0]),h=i$(l.Name),p=n.dense?[]:{},E=[],M=[],I=[],U={name:h,Hidden:0},W.Sheets.push(U);break;case"table":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==a[0].slice(-2))break;c.push([a[3],!1]),O=[],R=!1}break;case"style":"/"===a[1]?xX(j,N,n):N=hX(a[0]);break;case"numberformat":N.nf=i$(hX(a[0]).Format||"General"),uX[N.nf]&&(N.nf=uX[N.nf]);for(var V=0;392!=V&&EW[V]!=N.nf;++V);if(392==V)for(V=57;392!=V;++V)if(null==EW[V]){iU(N.nf,V);break}break;case"column":if("table"!==c[c.length-1][0])break;if((d=hX(a[0])).Hidden&&(d.hidden=!0,delete d.Hidden),d.Width&&(d.wpx=parseInt(d.Width,10)),!R&&d.wpx>10){R=!0,lG=6;for(var q=0;q<O.length;++q)O[q]&&hG(O[q])}R&&hG(d),O[d.Index-1||O.length]=d;for(var G=0;G<+d.Span;++G)O[O.length]=AU(d);break;case"namedrange":if("/"===a[1])break;W.Names||(W.Names=[]);var K=t$(a[0]),Y={Name:K.Name,Ref:aK(K.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(Y.Sheet=W.Sheets.length-1),W.Names.push(Y);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===a[0].slice(-2))break;"/"===a[1]?_+=r.slice(S,a.index):S=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;N.Interior=hX(a[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===a[0].slice(-2))break;"/"===a[1]?dV(C,$,r.slice(T,a.index)):T=a.index+a[0].length;break;case"styles":case"workbook":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else c.push([a[3],!1]);break;case"comment":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));bX(P),A.push(P)}else c.push([a[3],!1]),P={a:(l=hX(a[0])).Author};break;case"autofilter":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==a[0].charAt(a[0].length-2)){var X=hX(a[0]);p["!autofilter"]={ref:aK(X.Range).replace(/\$/g,"")},c.push([a[3],!0])}break;case"datavalidation":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;default:if(0==c.length&&"document"==a[3])return uZ(r,n);if(0==c.length&&"uof"==a[3])return uZ(r,n);var Z=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:Z=!1}break;case"componentoptions":switch(a[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:Z=!1}break;case"excelworkbook":switch(a[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:Z=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":case"height":case"width":break;default:Z=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if("/>"===a[0].slice(-2));else if("/"===a[1])switch(r.slice(T,a.index)){case"SheetHidden":U.Hidden=1;break;case"SheetVeryHidden":U.Hidden=2}else T=a.index+a[0].length;break;case"header":p["!margins"]||tY(p["!margins"]={},"xlml"),isNaN(+t$(a[0]).Margin)||(p["!margins"].header=+t$(a[0]).Margin);break;case"footer":p["!margins"]||tY(p["!margins"]={},"xlml"),isNaN(+t$(a[0]).Margin)||(p["!margins"].footer=+t$(a[0]).Margin);break;case"pagemargins":var J=t$(a[0]);p["!margins"]||tY(p["!margins"]={},"xlml"),isNaN(+J.Top)||(p["!margins"].top=+J.Top),isNaN(+J.Left)||(p["!margins"].left=+J.Left),isNaN(+J.Right)||(p["!margins"].right=+J.Right),isNaN(+J.Bottom)||(p["!margins"].bottom=+J.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;default:Z=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:Z=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:Z=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:Z=!1}break;case"querytable":switch(a[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:Z=!1}break;case"datavalidation":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:Z=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:Z=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:Z=!1}break;case"smarttags":break;default:Z=!1}if(Z)break;if(a[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===a[0].slice(-2))break;"/"===a[1]?vX(D,$,k,r.slice(T,a.index)):(k=a,T=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+c.join("|")}var Q={};return n.bookSheets||n.bookProps||(Q.Sheets=u),Q.SheetNames=m,Q.Workbook=W,Q.SSF=AU(EW),Q.Props=C,Q.Custprops=D,Q}function jX(e,t){switch(zZ(t=t||{}),t.type||"base64"){case"base64":return wX(iW(e),t);case"binary":case"buffer":case"file":return wX(e,t);case"array":return wX(mW(e),t)}}function NX(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return fU(cV).map((function(e){for(var t=0;t<ZH.length;++t)if(ZH[t][1]==e)return ZH[t];for(t=0;t<nV.length;++t)if(nV[t][1]==e)return nV[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var a=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(C$(cV[r[1]]||r[1],a))}})),T$("DocumentProperties",n.join(""),{xmlns:G$})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&fU(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<ZH.length;++r)if(t==ZH[r][1])return;for(r=0;r<nV.length;++r)if(t==nV[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var i=e[t],s="string";"number"==typeof i?(s="float",i=String(i)):!0===i||!1===i?(s="boolean",i=i?"1":"0"):i=String(i),a.push(T$(c$(t),i,{"dt:dt":s}))}})),t&&fU(t).forEach((function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],i="string";"number"==typeof r?(i="float",r=String(r)):!0===r||!1===r?(i="boolean",r=r?"1":"0"):r instanceof Date?(i="dateTime.tz",r=r.toISOString()):r=String(r),a.push(T$(c$(n),r,{"dt:dt":i}))}})),"<"+r+' xmlns="'+G$+'">'+a.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function _X(e){return T$("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+sK(e.Ref,{r:0,c:0})})}function SX(e,t,n,r,a,i,s){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+l$(sK(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=Kz(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=l$(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=l$(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],d=0;d!=c.length;++d)c[d].s.c==s.c&&c[d].s.r==s.r&&(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",m="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":u="Number",m=String(e.v);break;case"b":u="Boolean",m=e.v?"1":"0";break;case"e":u="Error",m=BH[e.v];break;case"d":u="DateTime",m=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||EW[14]);break;case"s":u="String",m=((e.v||"")+"").replace(s$,(function(e){return a$[e]})).replace(d$,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var p=nY(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var h=null!=e.v?m:"",f="z"==e.t?"":'<Data ss:Type="'+u+'">'+h+"</Data>";return(e.c||[]).length>0&&(f+=e.c.map((function(e){var t=T$("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return T$("Comment",t,{"ss:Author":e.a})})).join("")),T$("Cell",f,o)}function EX(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=gG(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function CX(e,t,n){var r=[],a=n.SheetNames[e],i=n.Sheets[a],s=i?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||i.push(_X(o)))}return i.join("")}(i,0,e,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=i?function(e,t){if(!e["!ref"])return"";var n=Jz(e["!ref"]),r=e["!merges"]||[],a=0,i=[];e["!cols"]&&e["!cols"].forEach((function(e,t){hG(e);var n=!!e.width,r=eY(t,e),a={"ss:Index":t+1};n&&(a["ss:Width"]=cG(r.width)),e.hidden&&(a["ss:Hidden"]="1"),i.push(T$("Column",null,a))}));for(var s=Array.isArray(e),o=n.s.r;o<=n.e.r;++o){for(var l=[EX(o,(e["!rows"]||[])[o])],c=n.s.c;c<=n.e.c;++c){var d=!1;for(a=0;a!=r.length;++a)if(!(r[a].s.c>c)&&!(r[a].s.r>o)&&!(r[a].e.c<c)&&!(r[a].e.r<o)){r[a].s.c==c&&r[a].s.r==o||(d=!0);break}if(!d){var u={r:o,c:c},m=Yz(u),p=s?(e[o]||[])[c]:e[m];l.push(SX(p,m,e,t,0,0,u))}}l.push("</Row>"),l.length>2&&i.push(l.join(""))}return i.join("")}(i,t):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(T$("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(T$("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(T$("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(T$("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&(!r.Workbook.Sheets[i]||r.Workbook.Sheets[i].Hidden);++i);i==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(C$("ProtectContents","True")),e["!protect"].objects&&a.push(C$("ProtectObjects","True")),e["!protect"].scenarios&&a.push(C$("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push(C$("EnableSelection","UnlockedCells")):a.push(C$("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")}))),0==a.length?"":T$("WorksheetOptions",a.join(""),{xmlns:K$})}(i,0,e,n)),r.join("")}function DX(e,t){t||(t={}),e.SSF||(e.SSF=AU(EW)),e.SSF&&(oU(),sU(e.SSF),t.revssf=xU(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],nY(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(NX(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(T$("Worksheet",CX(r,t,e),{"ss:Name":l$(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(T$("NumberFormat",null,{"ss:Format":l$(EW[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};n.push(T$("Style",r.join(""),a))})),T$("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||n.push(_X(a)))}return T$("Names",n.join(""))}(e),YU+T$("Workbook",n.join(""),{xmlns:Y$,"xmlns:o":G$,"xmlns:x":K$,"xmlns:ss":Y$,"xmlns:dt":X$,"xmlns:html":Q$})}function TX(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return kH(e,1)}(n),n.length-n.l<=4)return t;var r=n.read_shift(4);return 0==r||r>40?t:(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4||1907505652!==(r=n.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return kH(e,2)}(n),0==(r=n.read_shift(4))||r>40?t:(n.l-=4,void(t.Reserved2=n.read_shift(0,"lpwstr")))))}var kX=[60,1084,2066,2165,2175];function AX(e,t,n,r,a){var i=r,s=[],o=n.slice(n.l,n.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:a.enc.insitu(o)}s.push(o),n.l+=i;for(var l=Nz(n,n.l),c=UX[l],d=0;null!=c&&kX.indexOf(l)>-1;)i=Nz(n,n.l+2),d=n.l+4,2066==l?d+=4:2165!=l&&2175!=l||(d+=12),o=n.slice(d,n.l+4+i),s.push(o),n.l+=4+i,c=UX[l=Nz(n,n.l)];var u=hW(s);Rz(u,0);var m=0;u.lens=[];for(var p=0;p<s.length;++p)u.lens.push(m),m+=s[p].length;if(u.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+u.length+" < "+r;return t.f(u,u.length,a)}function PX(e,t,n){if("z"!==e.t&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=EW[r])}catch(H1){if(t.WTF)throw H1}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||BH[e.v]:0===r||"General"==r?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=IW(e.v):e.w=LW(e.v):e.w=aU(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(H1){if(t.WTF)throw H1}if(t.cellDates&&r&&"n"==e.t&&eU(EW[r]||String(r))){var a=kW(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function OX(e,t,n){return{v:e,ixfe:t,t:n}}function RX(e,t){var n={opts:{}},r={};var a,i,s,o,l,c,d,u,m=t.dense?[]:{},p={},h={},f=null,v=[],g="",x={},y="",b={},w=[],j=[],N=[],_={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},E=function(e){return e<8?FH[e]:e<64&&N[e-8]||FH[e]},C=function(e,t,n){if(!(L>1)&&!(n.sheetRows&&e.r>=n.sheetRows)){if(n.cellStyles&&t.XF&&t.XF.data&&function(e,t,n){var r,a=t.XF.data;a&&a.patternType&&n&&n.cellStyles&&(t.s={},t.s.patternType=a.patternType,(r=sG(E(a.icvFore)))&&(t.s.fgColor={rgb:r}),(r=sG(E(a.icvBack)))&&(t.s.bgColor={rgb:r}))}(0,t,n),delete t.ixfe,delete t.XF,a=e,y=Yz(e),h&&h.s&&h.e||(h={s:{r:0,c:0},e:{r:0,c:0}}),e.r<h.s.r&&(h.s.r=e.r),e.c<h.s.c&&(h.s.c=e.c),e.r+1>h.e.r&&(h.e.r=e.r+1),e.c+1>h.e.c&&(h.e.c=e.c+1),n.cellFormula&&t.f)for(var r=0;r<w.length;++r)if(!(w[r][0].s.c>e.c||w[r][0].s.r>e.r)&&!(w[r][0].e.c<e.c||w[r][0].e.r<e.r)){t.F=Zz(w[r][0]),w[r][0].s.c==e.c&&w[r][0].s.r==e.r||delete t.f,t.f&&(t.f=""+MK(w[r][1],0,e,R,D));break}n.dense?(m[e.r]||(m[e.r]=[]),m[e.r][e.c]=t):m[y]=t}},D={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(D.password=t.password);var T=[],k=[],A=[],P=[],O=!1,R=[];R.SheetNames=D.snames,R.sharedf=D.sharedf,R.arrayf=D.arrayf,R.names=[],R.XTI=[];var M,I=0,L=0,F=0,B=[],W=[];D.codepage=1200,YB(1200);for(var U=!1;e.l<e.length-1;){var $=e.l,z=e.read_shift(2);if(0===z&&10===I)break;var H=e.l===e.length?0:e.read_shift(2),V=UX[z];if(V&&V.f){if(t.bookSheets&&133===I&&133!==z)break;if(I=z,2===V.r||12==V.r){var q=e.read_shift(2);if(H-=2,!D.enc&&q!==z&&((255&q)<<8|q>>8)!==z)throw new Error("rt mismatch: "+q+"!="+z);12==V.r&&(e.l+=10,H-=10)}var G={};if(G=10===z?V.f(e,H,D):AX(z,V,e,H,D),0==L&&-1===[9,521,1033,2057].indexOf(I))continue;switch(z){case 34:n.opts.Date1904=_.WBProps.date1904=G;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(D.enc||(e.l=0),D.enc=G,!t.password)throw new Error("File is password-protected");if(null==G.valid)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=G;break;case 66:var K=Number(G);switch(K){case 21010:K=1200;break;case 32768:K=1e4;break;case 32769:K=1252}YB(D.codepage=K),U=!0;break;case 317:D.rrtabid=G;break;case 25:D.winlocked=G;break;case 439:n.opts.RefreshAll=G;break;case 12:n.opts.CalcCount=G;break;case 16:n.opts.CalcDelta=G;break;case 17:n.opts.CalcIter=G;break;case 13:n.opts.CalcMode=G;break;case 14:n.opts.CalcPrecision=G;break;case 95:n.opts.CalcSaveRecalc=G;break;case 15:D.CalcRefMode=G;break;case 2211:n.opts.FullCalc=G;break;case 129:G.fDialog&&(m["!type"]="dialog"),G.fBelow||((m["!outline"]||(m["!outline"]={})).above=!0),G.fRight||((m["!outline"]||(m["!outline"]={})).left=!0);break;case 224:j.push(G);break;case 430:R.push([G]),R[R.length-1].XTI=[];break;case 35:case 547:R[R.length-1].push(G);break;case 24:case 536:M={Name:G.Name,Ref:MK(G.rgce,0,null,R,D)},G.itab>0&&(M.Sheet=G.itab-1),R.names.push(M),R[0]||(R[0]=[],R[0].XTI=[]),R[R.length-1].push(G),"_xlnm._FilterDatabase"==G.Name&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&"PtgArea3d"==G.rgce[0][0][0]&&(W[G.itab-1]={ref:Zz(G.rgce[0][0][1][2])});break;case 22:D.ExternCount=G;break;case 23:0==R.length&&(R[0]=[],R[0].XTI=[]),R[R.length-1].XTI=R[R.length-1].XTI.concat(G),R.XTI=R.XTI.concat(G);break;case 2196:if(D.biff<8)break;null!=M&&(M.Comment=G[1]);break;case 18:m["!protect"]=G;break;case 19:0!==G&&D.WTF&&console.error("Password verifier: "+G);break;case 133:p[G.pos]=G,D.snames.push(G.name);break;case 10:if(--L)break;if(h.e){if(h.e.r>0&&h.e.c>0){if(h.e.r--,h.e.c--,m["!ref"]=Zz(h),t.sheetRows&&t.sheetRows<=h.e.r){var Y=h.e.r;h.e.r=t.sheetRows-1,m["!fullref"]=m["!ref"],m["!ref"]=Zz(h),h.e.r=Y}h.e.r++,h.e.c++}T.length>0&&(m["!merges"]=T),k.length>0&&(m["!objects"]=k),A.length>0&&(m["!cols"]=A),P.length>0&&(m["!rows"]=P),_.Sheets.push(S)}""===g?x=m:r[g]=m,m=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===D.biff&&(D.biff={9:2,521:3,1033:4}[z]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),D.biffguess=0==G.BIFFVer,0==G.BIFFVer&&4096==G.dt&&(D.biff=5,U=!0,YB(D.codepage=28591)),8==D.biff&&0==G.BIFFVer&&16==G.dt&&(D.biff=2),L++)break;if(m=t.dense?[]:{},D.biff<8&&!U&&(U=!0,YB(D.codepage=t.codepage||1252)),D.biff<5||0==G.BIFFVer&&4096==G.dt){""===g&&(g="Sheet1"),h={s:{r:0,c:0},e:{r:0,c:0}};var X={pos:e.l-H,name:g};p[X.pos]=X,D.snames.push(g)}else g=(p[$]||{name:""}).name;32==G.dt&&(m["!type"]="chart"),64==G.dt&&(m["!type"]="macro"),T=[],k=[],D.arrayf=w=[],A=[],P=[],O=!1,S={Hidden:(p[$]||{hs:0}).hs,name:g};break;case 515:case 3:case 2:"chart"==m["!type"]&&(t.dense?(m[G.r]||[])[G.c]:m[Yz({c:G.c,r:G.r})])&&++G.c,c={ixfe:G.ixfe,XF:j[G.ixfe]||{},v:G.val,t:"n"},F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 5:case 517:c={ixfe:G.ixfe,XF:j[G.ixfe],v:G.val,t:G.t},F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 638:c={ixfe:G.ixfe,XF:j[G.ixfe],v:G.rknum,t:"n"},F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 189:for(var Z=G.c;Z<=G.C;++Z){var J=G.rkrec[Z-G.c][0];c={ixfe:J,XF:j[J],v:G.rkrec[Z-G.c][1],t:"n"},F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:Z,r:G.r},c,t)}break;case 6:case 518:case 1030:if("String"==G.val){f=G;break}if((c=OX(G.val,G.cell.ixfe,G.tt)).XF=j[c.ixfe],t.cellFormula){var Q=G.formula;if(Q&&Q[0]&&Q[0][0]&&"PtgExp"==Q[0][0][0]){var ee=Q[0][0][1][0],te=Q[0][0][1][1],ne=Yz({r:ee,c:te});b[ne]?c.f=""+MK(G.formula,0,G.cell,R,D):c.F=((t.dense?(m[ee]||[])[te]:m[ne])||{}).F}else c.f=""+MK(G.formula,0,G.cell,R,D)}F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C(G.cell,c,t),f=G;break;case 7:case 519:if(!f)throw new Error("String record expects Formula");f.val=G,(c=OX(G,f.cell.ixfe,"s")).XF=j[c.ixfe],t.cellFormula&&(c.f=""+MK(f.formula,0,f.cell,R,D)),F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C(f.cell,c,t),f=null;break;case 33:case 545:w.push(G);var re=Yz(G[0].s);if(i=t.dense?(m[G[0].s.r]||[])[G[0].s.c]:m[re],t.cellFormula&&i){if(!f)break;if(!re||!i)break;i.f=""+MK(G[1],0,G[0],R,D),i.F=Zz(G[0])}break;case 1212:if(!t.cellFormula)break;if(y){if(!f)break;b[Yz(f.cell)]=G[0],((i=t.dense?(m[f.cell.r]||[])[f.cell.c]:m[Yz(f.cell)])||{}).f=""+MK(G[0],0,a,R,D)}break;case 253:c=OX(v[G.isst].t,G.ixfe,"s"),v[G.isst].h&&(c.h=v[G.isst].h),c.XF=j[c.ixfe],F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 513:t.sheetStubs&&(c={ixfe:G.ixfe,XF:j[G.ixfe],t:"z"},F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t));break;case 190:if(t.sheetStubs)for(var ae=G.c;ae<=G.C;++ae){var ie=G.ixfe[ae-G.c];c={ixfe:ie,XF:j[ie],t:"z"},F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:ae,r:G.r},c,t)}break;case 214:case 516:case 4:(c=OX(G.val,G.ixfe,"s")).XF=j[c.ixfe],F>0&&(c.z=B[c.ixfe>>8&63]),PX(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 0:case 512:1===L&&(h=G);break;case 252:v=G;break;case 1054:if(4==D.biff){B[F++]=G[1];for(var se=0;se<F+163&&EW[se]!=G[1];++se);se>=163&&iU(G[1],F+163)}else iU(G[1],G[0]);break;case 30:B[F++]=G;for(var oe=0;oe<F+163&&EW[oe]!=G;++oe);oe>=163&&iU(G,F+163);break;case 229:T=T.concat(G);break;case 93:k[G.cmo[0]]=D.lastobj=G;break;case 438:D.lastobj.TxO=G;break;case 127:D.lastobj.ImData=G;break;case 440:for(l=G[0].s.r;l<=G[0].e.r;++l)for(o=G[0].s.c;o<=G[0].e.c;++o)(i=t.dense?(m[l]||[])[o]:m[Yz({c:o,r:l})])&&(i.l=G[1]);break;case 2048:for(l=G[0].s.r;l<=G[0].e.r;++l)for(o=G[0].s.c;o<=G[0].e.c;++o)(i=t.dense?(m[l]||[])[o]:m[Yz({c:o,r:l})])&&i.l&&(i.l.Tooltip=G[1]);break;case 28:if(D.biff<=5&&D.biff>=2)break;i=t.dense?(m[G[0].r]||[])[G[0].c]:m[Yz(G[0])];var le=k[G[2]];i||(t.dense?(m[G[0].r]||(m[G[0].r]=[]),i=m[G[0].r][G[0].c]={t:"z"}):i=m[Yz(G[0])]={t:"z"},h.e.r=Math.max(h.e.r,G[0].r),h.s.r=Math.min(h.s.r,G[0].r),h.e.c=Math.max(h.e.c,G[0].c),h.s.c=Math.min(h.s.c,G[0].c)),i.c||(i.c=[]),s={a:G[1],t:le.TxO.t},i.c.push(s);break;case 2173:j[G.ixfe],G.ext.forEach((function(e){e[0]}));break;case 125:if(!D.cellStyles)break;for(;G.e>=G.s;)A[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(1&G.flags)},O||(O=!0,pG(G.w/256)),hG(A[G.e+1]);break;case 520:var ce={};null!=G.level&&(P[G.r]=ce,ce.level=G.level),G.hidden&&(P[G.r]=ce,ce.hidden=!0),G.hpt&&(P[G.r]=ce,ce.hpt=G.hpt,ce.hpx=gG(G.hpt));break;case 38:case 39:case 40:case 41:m["!margins"]||tY(m["!margins"]={}),m["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[z]]=G;break;case 161:m["!margins"]||tY(m["!margins"]={}),m["!margins"].header=G.header,m["!margins"].footer=G.footer;break;case 574:G.RTL&&(_.Views[0].RTL=!0);break;case 146:N=G;break;case 2198:u=G;break;case 140:d=G;break;case 442:g?S.CodeName=G||S.name:_.WBProps.CodeName=G||"ThisWorkbook"}}else V||console.error("Missing Info for XLS Record 0x"+z.toString(16)),e.l+=H}return n.SheetNames=fU(p).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return p[e].name})),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&x["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=x)):n.Preamble=x,n.Sheets&&W.forEach((function(e,t){n.Sheets[n.SheetNames[t]]["!autofilter"]=e})),n.Strings=v,n.SSF=AU(EW),D.enc&&(n.Encryption=D.enc),u&&(n.Themes=u),n.Metadata={},void 0!==d&&(n.Metadata.Country=d),R.names.length>0&&(_.Names=R.names),n.Workbook=_,n}var MX="e0859ff2f94f6810ab9108002b27b3d9",IX="02d5cdd59c2e1b10939708002b2cf9ae",LX="05d5cdd59c2e1b10939708002b2cf9ae";function FX(e,t){var n,r,a,i;if(t||(t={}),zZ(t),XB(),t.codepage&&KB(t.codepage),e.FullPaths){if(uU.find(e,"/encryption"))throw new Error("File is password-protected");n=uU.find(e,"!CompObj"),r=uU.find(e,"/Workbook")||uU.find(e,"/Book")}else{switch(t.type){case"base64":e=dW(iW(e));break;case"binary":e=dW(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}Rz(e,0),r={content:e}}if(n&&TX(n),t.bookProps&&!t.bookSheets)a={};else{var s=sW?"buffer":"array";if(r&&r.content)a=RX(r.content,t);else if((i=uU.find(e,"PerfectOffice_MAIN"))&&i.content)a=Pq.to_workbook(i.content,(t.type=s,t));else{if(!(i=uU.find(e,"NativeContent_MAIN"))||!i.content)throw(i=uU.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");a=Pq.to_workbook(i.content,(t.type=s,t))}t.bookVBA&&e.FullPaths&&uU.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=function(e){var t=uU.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");uU.utils.cfb_add(t,a,e.FileIndex[r].content)}})),uU.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,n){var r=uU.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=SV(r,OH,IX);for(var i in a)t[i]=a[i]}catch(H1){if(n.WTF)throw H1}var s=uU.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=SV(s,RH,MX);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(H1){if(n.WTF)throw H1}t.HeadingPairs&&t.TitlesOfParts&&(aV(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function BX(e,t){var n=t||{},r=uU.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return uU.utils.cfb_add(r,a,ZX(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],a=[],i=[],s=0,o=vU(OH,"n"),l=vU(RH,"n");if(e.Props)for(n=fU(e.Props),s=0;s<n.length;++s)(Object.prototype.hasOwnProperty.call(o,n[s])?r:Object.prototype.hasOwnProperty.call(l,n[s])?a:i).push([n[s],e.Props[n[s]]]);if(e.Custprops)for(n=fU(e.Custprops),s=0;s<n.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},n[s])||(Object.prototype.hasOwnProperty.call(o,n[s])?r:Object.prototype.hasOwnProperty.call(l,n[s])?a:i).push([n[s],e.Custprops[n[s]]]);var c=[];for(s=0;s<i.length;++s)jV.indexOf(i[s][0])>-1||rV.indexOf(i[s][0])>-1||null!=i[s][1]&&c.push(i[s]);a.length&&uU.utils.cfb_add(t,"/\x05SummaryInformation",EV(a,MX,l,RH)),(r.length||c.length)&&uU.utils.cfb_add(t,"/\x05DocumentSummaryInformation",EV(r,IX,o,OH,c.length?c:null,LX))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(n,r){if(0!=r){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&uU.utils.cfb_add(e,a,t.FileIndex[r].content)}}))}(r,uU.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var WX={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,7&i&&(n.level=7&i),16&i&&(n.hidden=!0),32&i&&(n.hpt=a/20),n}},1:{f:function(e){return[uH(e)]}},2:{f:function(e){return[uH(e),jH(e),"n"]}},3:{f:function(e){return[uH(e),e.read_shift(1),"e"]}},4:{f:function(e){return[uH(e),e.read_shift(1),"b"]}},5:{f:function(e){return[uH(e),CH(e),"n"]}},6:{f:function(e){return[uH(e),iH(e),"str"]}},7:{f:function(e){return[uH(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,a=uH(e);a.r=n["!row"];var i=[a,iH(e),"str"];if(n.cellFormula){e.l+=2;var s=$K(e,r-e.l,n);i[3]=MK(s,0,a,n.supbooks,n)}else e.l=r;return i}},9:{f:function(e,t,n){var r=e.l+t,a=uH(e);a.r=n["!row"];var i=[a,CH(e),"n"];if(n.cellFormula){e.l+=2;var s=$K(e,r-e.l,n);i[3]=MK(s,0,a,n.supbooks,n)}else e.l=r;return i}},10:{f:function(e,t,n){var r=e.l+t,a=uH(e);a.r=n["!row"];var i=[a,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var s=$K(e,r-e.l,n);i[3]=MK(s,0,a,n.supbooks,n)}else e.l=r;return i}},11:{f:function(e,t,n){var r=e.l+t,a=uH(e);a.r=n["!row"];var i=[a,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var s=$K(e,r-e.l,n);i[3]=MK(s,0,a,n.supbooks,n)}else e.l=r;return i}},12:{f:function(e){return[pH(e)]}},13:{f:function(e){return[pH(e),jH(e),"n"]}},14:{f:function(e){return[pH(e),e.read_shift(1),"e"]}},15:{f:function(e){return[pH(e),e.read_shift(1),"b"]}},16:{f:EY},17:{f:function(e){return[pH(e),iH(e),"str"]}},18:{f:function(e){return[pH(e),e.read_shift(4),"s"]}},19:{f:lH},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=yH(e),s=zK(e,0,n),o=gH(e);e.l=r;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var i=e.read_shift(1);0!=i&&(r.underline=i);var s=e.read_shift(1);s>0&&(r.family=s);var o=e.read_shift(1);switch(o>0&&(r.charset=o),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=FH[r];l&&(t.rgb=sG(l));break;case 2:t.rgb=sG([i,s,o]);break;case 3:t.theme=r}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=iH(e),r}},44:{f:function(e,t){return[e.read_shift(2),iH(e)]}},45:{f:CG},46:{f:AG},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:jq},62:{f:function(e){return[uH(e),lH(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Yz(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Mz,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=fH(e,t-19),n}},148:{f:_Y,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?iH(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=bH(e,t-8),n.name=iH(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:SH},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:CY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:iH(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bH},357:{},358:{},359:{},360:{T:1},361:{},362:{f:gq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,a=_H(e),i=e.read_shift(1),s=[a];if(s[2]=i,n.cellFormula){var o=UK(e,r-e.l,n);s[1]=o}else e.l=r;return s}},427:{f:function(e,t,n){var r=e.l+t,a=[SH(e,16)];if(n.cellFormula){var i=HK(e,r-e.l,n);a[1]=i,e.l=r}else e.l=r;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return TY.forEach((function(n){t[n]=CH(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=SH(e,16),a=gH(e),i=iH(e),s=iH(e),o=iH(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bH},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tK},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=SH(e,16);return t.rfx=n.s,t.ref=Yz(n.s),e.l+=16,t}},636:{T:-1},637:{f:cH},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:iH(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},UX={6:{f:FK},10:{f:CV},12:{f:kV},13:{f:kV},14:{f:DV},15:{f:DV},16:{f:CH},17:{f:DV},18:{f:DV},19:{f:kV},20:{f:pq},21:{f:pq},23:{f:gq},24:{f:vq},25:{f:DV},26:{},27:{},28:{f:function(e,t,n){return function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=BV(e,0,n);return n.biff<8&&e.read_shift(1),[{r:r,c:a},o,s,i]}}(e,0,n)}},29:{},34:{f:DV},35:{f:hq},38:{f:CH},39:{f:CH},40:{f:CH},41:{f:CH},42:{f:DV},43:{f:DV},47:{f:function(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?aG(e,t-2,r):function(e,t,n,r){var a={key:kV(e),verificationBytes:kV(e)};n.password&&(a.verifier=tG(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=rG(n.password))}(e,n.biff,n,r),r}},49:{f:function(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return r.name=RV(e,0,n),r}},51:{f:kV},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:DV},65:{f:function(){}},66:{f:kV},77:{},80:{},81:{},82:{},85:{f:kV},89:{},90:{},91:{},92:{f:function(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=BV(e,0,n);return e.read_shift(t+r-e.l),a}},93:{f:function(e,t,n){if(n&&n.biff<8)return function(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((yq[r]||Mz)(e,t,n)),{cmo:[a,r,i],ft:s}}(e,t,n);var r=tq(e),a=function(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(rq[a](e,n-e.l))}catch(H1){return e.l=n,r}}return e.l!=n&&(e.l=n),r}(e,t-22,r[1]);return{cmo:r,ft:a}}},94:{},95:{f:DV},96:{},97:{},99:{f:DV},125:{f:jq},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,n){var r=n&&8==n.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:kV},131:{f:DV},132:{f:DV},133:{f:function(e,t,n){var r=e.read_shift(4),a=3&e.read_shift(1),i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule"}var s=RV(e,0,n);return 0===s.length&&(s="Sheet1"),{pos:r,hs:a,dt:i,name:s}}},134:{},140:{f:function(e){var t,n=[0,0];return t=e.read_shift(2),n[0]=MH[t]||t,t=e.read_shift(2),n[1]=MH[t]||t,n}},141:{f:kV},144:{},146:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(qV(e));return n}},151:{},152:{},153:{},154:{},155:{},156:{f:kV},157:{},158:{},160:{f:_q},161:{f:function(e,t){var n={};return t<32||(e.l+=16,n.header=CH(e),n.footer=CH(e),e.l+=2),n}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(XV(e));if(e.l!==n)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:r,c:a,C:s,rkrec:i}}},190:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:r,c:a,C:s,ixfe:i}}},193:{f:CV},197:{},198:{},199:{},200:{},201:{},202:{f:DV},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:kV},220:{},221:{f:DV},222:{},224:{f:function(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,r.data=function(e,t,n,r){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=IH[o>>26],r.cellStyles?(a.alc=7&i,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=15&s,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=127&o,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=127&l,a.icvBack=l>>7&127,a.fsxButton=l>>14&1,a):a}(e,0,r.fStyle,n),r}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:CV},227:{},229:{f:function(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(ZV(e));return n}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<n;++s)i.push(MV(e));return i.Count=r,i.Unique=a,i}},253:{f:function(e){var t=GV(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:PV},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:DV},353:{f:CV},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,1025==i||14849==i)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=LV(e,i),o=[];r>e.l;)o.push(FV(e));return[i,a,s,o]}},431:{f:DV},432:{},433:{},434:{},437:{},438:{f:function(e,t,n){var r=e.l,a="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(i)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}(e);var s=e.read_shift(2);e.read_shift(2),kV(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-r!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((a+=LV(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?s:2*s))break}if(a.length!==s&&a.length!==2*s)throw new Error("cchText: "+s+" != "+a.length);return e.l=r+t,{t:a}}catch(H1){return e.l=r+t,{t:a}}}},439:{f:DV},440:{f:function(e,t){var n=ZV(e);e.l+=16;var r=function(e,t){var n=e.l+t,r=e.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c,d,u="";16&a&&(i=$V(e,e.l)),128&a&&(s=$V(e,e.l)),257===(257&a)&&(o=$V(e,e.l)),1===(257&a)&&(l=UV(e,e.l)),8&a&&(u=$V(e,e.l)),32&a&&(c=e.read_shift(16)),64&a&&(d=uV(e)),e.l=n;var m=s||o||l||"";m&&u&&(m+="#"+u),m||(m="#"+u),2&a&&"/"==m.charAt(0)&&"/"!=m.charAt(1)&&(m="file://"+m);var p={Target:m};return c&&(p.guid=c),d&&(p.time=d),i&&(p.Tooltip=i),p}(e,t-24);return[n,r]}},441:{},442:{f:FV},443:{},444:{f:kV},445:{},446:{},448:{f:CV},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:CV},512:{f:dq},513:{f:Nq},515:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5);var r=GV(e),a=CH(e);return r.val=a,r}},516:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5),e.l;var r=GV(e);2==n.biff&&e.l++;var a=FV(e,e.l,n);return r.val=a,r}},517:{f:mq},519:{f:Sq},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=n/20),t}},523:{},545:{f:xq},549:{f:oq},566:{},574:{f:function(e,t,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=XV(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function(e,t,n){return[e.read_shift(2),BV(e,0,n)]}},1084:{},1212:{f:function(e,t,n){var r=QV(e);e.l++;var a=e.read_shift(1);return[LK(e,t-=8,n),a,r]}},2048:{f:function(e,t){e.read_shift(2);var n=ZV(e),r=e.read_shift((t-10)/2,"dbcs-cont");return[n,r=r.replace(fW,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:aq},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:CV},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var n=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),a=[];r-- >0;)a.push(GG(e,e.l));return{ixfe:n,ext:a}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:DV,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2);return[LV(e,r,n),LV(e,a,n)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,n){var r=e.l+t;if(124226!==e.read_shift(4))if(n.cellStyles){var a,i=e.slice(e.l);e.l=r;try{a=GU(i,{type:"array"})}catch(H1){return}var s=$U(a,"theme/theme/theme1.xml",!0);if(s)return HG(s,n)}else e.l=r},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:CV},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:kV},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,n){var r={area:!1};if(5!=n.biff)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,16&a&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(qV(e));return n}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:dq},1:{},2:{f:function(e){var t=GV(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}},3:{f:function(e){var t=GV(e);++e.l;var n=CH(e);return t.t="n",t.val=n,t}},4:{f:function(e,t,n){n.biffguess&&5==n.biff&&(n.biff=2);var r=GV(e);++e.l;var a=BV(e,0,n);return r.t="str",r.val=a,r}},5:{f:mq},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:aq},11:{},22:{f:kV},30:{f:cq},31:{},32:{},33:{f:xq},36:{},37:{f:oq},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:kV},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,n){var r=e.l+t,a=GV(e),i=e.read_shift(2),s=LV(e,i,n);return e.l=r,a.t="str",a.val=s,a}},223:{},234:{},354:{},421:{},518:{f:FK},521:{f:aq},536:{f:vq},547:{f:hq},561:{},579:{},1030:{f:FK},1033:{f:aq},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $X(e,t,n,r){var a=t;if(!isNaN(a)){var i=r||(n||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&bz(n)&&e.push(n)}}function zX(e,t,n){return e||(e=Iz(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function HX(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?bU(TU(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?$X(e,2,function(e,t,n){var r=Iz(9);return zX(r,e,t),r.write_shift(2,n),r}(n,r,a)):$X(e,3,function(e,t,n){var r=Iz(15);return zX(r,e,t),r.write_shift(8,n,"f"),r}(n,r,a)));case"b":case"e":return void $X(e,5,function(e,t,n,r){var a=Iz(9);return zX(a,e,t),OV(n,r||"b",a),a}(n,r,t.v,t.t));case"s":case"str":return void $X(e,4,function(e,t,n){var r=Iz(8+2*n.length);return zX(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}$X(e,1,zX(null,n,r))}function VX(e,t){var n=t||{};for(var r=Fz(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(a=i);if(0==a&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return $X(r,4==n.biff?1033:3==n.biff?521:9,iq(0,16,n)),function(e,t,n,r){var a,i=Array.isArray(t),s=Jz(t["!ref"]||"A1"),o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Zz(s)}for(var c=s.s.r;c<=s.e.r;++c){o=Vz(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=Gz(d)),a=l[d]+o;var u=i?(t[c]||[])[d]:t[a];u&&HX(e,u,c,d)}}}(r,e.Sheets[e.SheetNames[a]],0,n),$X(r,10),r.end()}function qX(e,t,n){$X(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,a=Iz(r?15+n.length:16+2*n.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function GX(e,t){if(t){var n=0;t.forEach((function(t,r){++n<=256&&t&&$X(e,125,function(e,t){var n=Iz(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(eY(r,t),r))}))}}function KX(e,t,n,r,a){var i=16+nY(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)$X(e,6,BK(t,n,r,0,i));else switch(t.t){case"d":case"n":$X(e,515,function(e,t,n,r){var a=Iz(14);return KV(e,t,r,a),DH(n,a),a}(n,r,"d"==t.t?bU(TU(t.v)):t.v,i));break;case"b":case"e":$X(e,517,function(e,t,n,r,a,i){var s=Iz(8);return KV(e,t,r,s),OV(n,i,s),s}(n,r,t.v,i,0,t.t));break;case"s":case"str":if(a.bookSST)$X(e,253,function(e,t,n,r){var a=Iz(10);return KV(e,t,r,a),a.write_shift(4,n),a}(n,r,QK(a.Strings,t.v,a.revStrings),i));else $X(e,516,function(e,t,n,r,a){var i=!a||8==a.biff,s=Iz(+i+8+(1+i)*n.length);return KV(e,t,r,s),s.write_shift(2,n.length),i&&s.write_shift(1,1),s.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),s}(n,r,(t.v||"").slice(0,255),i,a));break;default:$X(e,513,KV(n,r,i))}else $X(e,513,KV(n,r,i))}function YX(e,t,n){var r,a=Fz(),i=n.SheetNames[e],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),d=8==t.biff,u="",m=[],p=Jz(s["!ref"]||"A1"),h=d?65536:16384;if(p.e.c>255||p.e.r>=h){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,h-1)}$X(a,2057,iq(0,16,t)),$X(a,13,AV(1)),$X(a,12,AV(100)),$X(a,15,TV(!0)),$X(a,17,TV(!1)),$X(a,16,DH(.001)),$X(a,95,TV(!0)),$X(a,42,TV(!1)),$X(a,43,TV(!1)),$X(a,130,AV(1)),$X(a,128,function(e){var t=Iz(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),$X(a,131,TV(!1)),$X(a,132,TV(!1)),d&&GX(a,s["!cols"]),$X(a,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=Iz(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(p,t)),d&&(s["!links"]=[]);for(var f=p.s.r;f<=p.e.r;++f){u=Vz(f);for(var v=p.s.c;v<=p.e.c;++v){f===p.s.r&&(m[v]=Gz(v)),r=m[v]+u;var g=c?(s[f]||[])[v]:s[r];g&&(KX(a,g,f,v,t),d&&g.l&&s["!links"].push([r,g.l]))}}var x=l.CodeName||l.name||i;return d&&$X(a,574,function(e){var t=Iz(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&$X(a,229,function(e){var t=Iz(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)JV(e[n],t);return t}(s["!merges"])),d&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];$X(e,440,bq(r)),r[1].Tooltip&&$X(e,2048,wq(r))}delete t["!links"]}(a,s),$X(a,442,WV(x)),d&&function(e,t){var n=Iz(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),$X(e,2151,n),(n=Iz(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),JV(Jz(t["!ref"]||"A1"),n),n.write_shift(4,4),$X(e,2152,n)}(a,s),$X(a,10),a.end()}function XX(e,t,n){var r=Fz(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=8==n.biff,l=5==n.biff;($X(r,2057,iq(0,5,n)),"xla"==n.bookType&&$X(r,135),$X(r,225,o?AV(1200):null),$X(r,193,function(e,t){t||(t=Iz(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),l&&$X(r,191),l&&$X(r,192),$X(r,226),$X(r,92,function(e,t){var n=!t||8==t.biff,r=Iz(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),$X(r,66,AV(o?1200:1252)),o&&$X(r,353,AV(0)),o&&$X(r,448),$X(r,317,function(e){for(var t=Iz(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),o&&e.vbaraw&&$X(r,211),o&&e.vbaraw)&&$X(r,442,WV(s.CodeName||"ThisWorkbook"));$X(r,156,AV(17)),$X(r,25,TV(!1)),$X(r,18,TV(!1)),$X(r,19,AV(0)),o&&$X(r,431,TV(!1)),o&&$X(r,444,AV(0)),$X(r,61,function(){var e=Iz(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),$X(r,64,TV(!1)),$X(r,141,AV(0)),$X(r,34,TV("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&p$(e.Workbook.WBProps.date1904)?"true":"false"}(e))),$X(r,14,TV(!0)),o&&$X(r,439,TV(!1)),$X(r,218,AV(0)),qX(r,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var a=r[0];a<=r[1];++a)null!=t[a]&&$X(e,1054,lq(a,t[a],n))}))}(r,e.SSF,n),function(e,t){for(var n=0;n<16;++n)$X(e,224,uq({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(n){$X(e,224,uq(n,0,t))}))}(r,n),o&&$X(r,352,TV(!1));var c,d=r.end(),u=Fz();o&&$X(u,140,(c||(c=Iz(4)),c.write_shift(2,1),c.write_shift(2,1),c)),o&&n.Strings&&function(e,t,n,r){var a=r||(n||[]).length||0;if(a<=8224)return $X(e,t,n,a);var i=t;if(!isNaN(i)){for(var s=n.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<a;){for((d=e.next(4)).write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}(u,252,function(e){var t=Iz(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=IV(e[r]);var a=hW([t].concat(n));return a.parts=[t.length].concat(n.map((function(e){return e.length}))),a}(n.Strings)),$X(u,10);var m=u.end(),p=Fz(),h=0,f=0;for(f=0;f<e.SheetNames.length;++f)h+=(o?12:11)+(o?2:1)*e.SheetNames[f].length;var v=d.length+h+m.length;for(f=0;f<e.SheetNames.length;++f){$X(p,133,sq({pos:v,hs:(i[f]||{}).Hidden||0,dt:0,name:e.SheetNames[f]},n)),v+=t[f].length}var g=p.end();if(h!=g.length)throw new Error("BS8 "+h+" != "+g.length);var x=[];return d.length&&x.push(d),g.length&&x.push(g),m.length&&x.push(m),hW(x)}function ZX(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])Xz(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=AU(EW)),e&&e.SSF&&(oU(),sU(e.SSF),n.revssf=xU(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,HZ(n),n.cellXfs=[],nY(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=YX(a,n,e);return r.unshift(XX(e,r,n)),hW(r)}(e,t);case 4:case 3:case 2:return VX(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function JX(e,t){var n=t||{};var r=n.dense?[]:{},a=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=IU(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,u=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},h=[];for(s=0;s<l.length;++s){var f=l[s].trim(),v=f.slice(0,3).toLowerCase();if("<tr"!=v){if("<td"==v||"<th"==v){var g=f.split(/<\/t[dh]>/i);for(o=0;o<g.length;++o){var x=g[o].trim();if(x.match(/<t[dh]/i)){for(var y=x,b=0;"<"==y.charAt(0)&&(b=y.indexOf(">"))>-1;)y=y.slice(b+1);for(var w=0;w<h.length;++w){var j=h[w];j.s.c==d&&j.s.r<c&&c<=j.e.r&&(d=j.e.c+1,w=-1)}var N=t$(x.slice(0,x.indexOf(">")));m=N.colspan?+N.colspan:1,((u=+N.rowspan)>1||m>1)&&h.push({s:{r:c,c:d},e:{r:c+(u||1)-1,c:d+m-1}});var _=N.t||N["data-t"]||"";if(y.length)if(y=w$(y),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),y.length){var S={t:"s",v:y};n.raw||!y.trim().length||"s"==_||("TRUE"===y?S={t:"b",v:!0}:"FALSE"===y?S={t:"b",v:!1}:isNaN(OU(y))?isNaN(MU(y).getDate())||(S={t:"d",v:TU(y)},n.cellDates||(S={t:"n",v:bU(S.v)}),S.z=n.dateNF||EW[14]):S={t:"n",v:OU(y)}),n.dense?(r[c]||(r[c]=[]),r[c][d]=S):r[Yz({r:c,c:d})]=S,d+=m}else d+=m;else d+=m}}}}else{if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0}}return r["!ref"]=Zz(p),h.length&&(r["!merges"]=h),r}function QX(e,t,n,r){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>n||a[c].s.c>s)&&!(a[c].e.r<n||a[c].e.c<s)){if(a[c].s.r<n||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var d=Yz({r:n,c:s}),u=r.dense?(e[n]||[])[s]:e[d],m=u&&null!=u.v&&(u.h||u$(u.w||(eH(u),u.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?m='<span contenteditable="true">'+m+"</span>":u&&(p["data-t"]=u&&u.t||"z",null!=u.v&&(p["data-v"]=u.v),null!=u.z&&(p["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(m='<a href="'+u.l.Target+'">'+m+"</a>")),p.id=(r.id||"sjs")+"-"+d,i.push(T$("td",m,p))}}return"<tr>"+i.join("")+"</tr>"}var eZ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',tZ="</body></html>";function nZ(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function rZ(e,t){var n=t||{},r=null!=n.header?n.header:eZ,a=null!=n.footer?n.footer:tZ,i=[r],s=Xz(e["!ref"]);n.dense=Array.isArray(e),i.push(nZ(0,0,n));for(var o=s.s.r;o<=s.e.r;++o)i.push(QX(e,s,o,n));return i.push("</table>"+a),i.join("")}function aZ(e,t,n){var r=n||{};var a=0,i=0;if(null!=r.origin)if("number"==typeof r.origin)a=r.origin;else{var s="string"==typeof r.origin?Kz(r.origin):r.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Xz(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),-1==a&&(c.e.r=a=d.e.r+1)}var u=[],m=0,p=e["!rows"]||(e["!rows"]=[]),h=0,f=0,v=0,g=0,x=0,y=0;for(e["!cols"]||(e["!cols"]=[]);h<o.length&&f<l;++h){var b=o[h];if(sZ(b)){if(r.display)continue;p[f]={hidden:!0}}var w=b.children;for(v=g=0;v<w.length;++v){var j=w[v];if(!r.display||!sZ(j)){var N=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):w$(j.innerHTML),_=j.getAttribute("data-z")||j.getAttribute("z");for(m=0;m<u.length;++m){var S=u[m];S.s.c==g+i&&S.s.r<f+a&&f+a<=S.e.r&&(g=S.e.c+1-i,m=-1)}y=+j.getAttribute("colspan")||1,((x=+j.getAttribute("rowspan")||1)>1||y>1)&&u.push({s:{r:f+a,c:g+i},e:{r:f+a+(x||1)-1,c:g+i+(y||1)-1}});var E={t:"s",v:N},C=j.getAttribute("data-t")||j.getAttribute("t")||"";null!=N&&(0==N.length?E.t=C||"z":r.raw||0==N.trim().length||"s"==C||("TRUE"===N?E={t:"b",v:!0}:"FALSE"===N?E={t:"b",v:!1}:isNaN(OU(N))?isNaN(MU(N).getDate())||(E={t:"d",v:TU(N)},r.cellDates||(E={t:"n",v:bU(E.v)}),E.z=r.dateNF||EW[14]):E={t:"n",v:OU(N)})),void 0===E.z&&null!=_&&(E.z=_);var D="",T=j.getElementsByTagName("A");if(T&&T.length)for(var k=0;k<T.length&&(!T[k].hasAttribute("href")||"#"==(D=T[k].getAttribute("href")).charAt(0));++k);D&&"#"!=D.charAt(0)&&(E.l={Target:D}),r.dense?(e[f+a]||(e[f+a]=[]),e[f+a][g+i]=E):e[Yz({c:g+i,r:f+a})]=E,c.e.c<g+i&&(c.e.c=g+i),g+=y}}++f}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,f-1+a),e["!ref"]=Zz(c),f>=l&&(e["!fullref"]=Zz((c.e.r=o.length-h+f-1+a,c))),e}function iZ(e,t){return aZ((t||{}).dense?[]:{},e,t)}function sZ(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function oZ(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[i$(t.replace(/<[^>]*>/g,""))]}var lZ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function cZ(e,t){var n=t||{};var r,a,i,s,o,l,c=A$(e),d=[],u={name:""},m="",p=0,h={},f=[],v=n.dense?[]:{},g={value:""},x="",y=0,b=[],w=-1,j=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,S={},E=[],C={},D=[],T=1,k=1,A=[],P={Names:[]},O={},R=["",""],M=[],I={},L="",F=0,B=!1,W=!1,U=0;for(P$.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");o=P$.exec(c);)switch(o[3]=o[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===o[1]?(N.e.c>=N.s.c&&N.e.r>=N.s.r?v["!ref"]=Zz(N):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=N.e.r&&(v["!fullref"]=v["!ref"],N.e.r=n.sheetRows-1,v["!ref"]=Zz(N)),E.length&&(v["!merges"]=E),D.length&&(v["!rows"]=D),i.name=i["\u540d\u79f0"]||i.name,"undefined"!==typeof JSON&&JSON.stringify(i),f.push(i.name),h[i.name]=v,W=!1):"/"!==o[0].charAt(o[0].length-2)&&(i=t$(o[0],!1),w=j=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,v=n.dense?[]:{},E=[],D=[],W=!0);break;case"table-row-group":"/"===o[1]?--_:++_;break;case"table-row":case"\u884c":if("/"===o[1]){w+=T,T=1;break}if((s=t$(o[0],!1))["\u884c\u53f7"]?w=s["\u884c\u53f7"]-1:-1==w&&(w=0),(T=+s["number-rows-repeated"]||1)<10)for(U=0;U<T;++U)_>0&&(D[w+U]={level:_});j=-1;break;case"covered-table-cell":"/"!==o[1]&&++j,n.sheetStubs&&(n.dense?(v[w]||(v[w]=[]),v[w][j]={t:"z"}):v[Yz({r:w,c:j})]={t:"z"}),x="",b=[];break;case"table-cell":case"\u6570\u636e":if("/"===o[0].charAt(o[0].length-2))++j,g=t$(o[0],!1),k=parseInt(g["number-columns-repeated"]||"1",10),l={t:"z",v:null},g.formula&&0!=n.cellFormula&&(l.f=KK(i$(g.formula))),"string"==(g["\u6570\u636e\u7c7b\u578b"]||g["value-type"])&&(l.t="s",l.v=i$(g["string-value"]||""),n.dense?(v[w]||(v[w]=[]),v[w][j]=l):v[Yz({r:w,c:j})]=l),j+=k-1;else if("/"!==o[1]){x="",y=0,b=[],k=1;var $=T?w+T-1:w;if(++j>N.e.c&&(N.e.c=j),j<N.s.c&&(N.s.c=j),w<N.s.r&&(N.s.r=w),$>N.e.r&&(N.e.r=$),M=[],I={},l={t:(g=t$(o[0],!1))["\u6570\u636e\u7c7b\u578b"]||g["value-type"],v:null},n.cellFormula)if(g.formula&&(g.formula=i$(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(C={s:{r:w,c:j},e:{r:w+(parseInt(g["number-matrix-rows-spanned"],10)||0)-1,c:j+(parseInt(g["number-matrix-columns-spanned"],10)||0)-1}},l.F=Zz(C),A.push([C,l.F])),g.formula)l.f=KK(g.formula);else for(U=0;U<A.length;++U)w>=A[U][0].s.r&&w<=A[U][0].e.r&&j>=A[U][0].s.c&&j<=A[U][0].e.c&&(l.F=A[U][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(C={s:{r:w,c:j},e:{r:w+(parseInt(g["number-rows-spanned"],10)||0)-1,c:j+(parseInt(g["number-columns-spanned"],10)||0)-1}},E.push(C)),g["number-columns-repeated"]&&(k=parseInt(g["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=p$(g["boolean-value"]);break;case"float":case"percentage":case"currency":l.t="n",l.v=parseFloat(g.value);break;case"date":l.t="d",l.v=TU(g["date-value"]),n.cellDates||(l.t="n",l.v=bU(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=SU(g["time-value"])/86400,n.cellDates&&(l.t="d",l.v=_U(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(g["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw new Error("Unsupported value type "+l.t);l.t="s",null!=g["string-value"]&&(x=i$(g["string-value"]),b=[])}}else{if(B=!1,"s"===l.t&&(l.v=x||"",b.length&&(l.R=b),B=0==y),O.Target&&(l.l=O),M.length>0&&(l.c=M,M=[]),x&&!1!==n.cellText&&(l.w=x),B&&(l.t="z",delete l.v),(!B||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=w))for(var z=0;z<T;++z){if(k=parseInt(g["number-columns-repeated"]||"1",10),n.dense)for(v[w+z]||(v[w+z]=[]),v[w+z][j]=0==z?l:AU(l);--k>0;)v[w+z][j+k]=AU(l);else for(v[Yz({r:w+z,c:j})]=l;--k>0;)v[Yz({r:w+z,c:j+k})]=AU(l);N.e.c<=j&&(N.e.c=j)}j+=(k=parseInt(g["number-columns-repeated"]||"1",10))-1,k=0,l={},x="",b=[]}O={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===o[1]){if((r=d.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&d.push([o[3],!0]);break;case"annotation":if("/"===o[1]){if((r=d.pop())[0]!==o[3])throw"Bad state: "+r;I.t=x,b.length&&(I.R=b),I.a=L,M.push(I)}else"/"!==o[0].charAt(o[0].length-2)&&d.push([o[3],!1]);L="",F=0,x="",y=0,b=[];break;case"creator":"/"===o[1]?L=c.slice(F,o.index):F=o.index+o[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===o[1]){if((r=d.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&d.push([o[3],!1]);x="",y=0,b=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===o[1]){if(S[u.name]=m,(r=d.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&(m="",u=t$(o[0],!1),d.push([o[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(d[d.length-1][0]){case"time-style":case"date-style":a=t$(o[0],!1),m+=lZ[o[3]]["long"===a.style?1:0]}break;case"text":if("/>"===o[0].slice(-2))break;if("/"===o[1])switch(d[d.length-1][0]){case"number-style":case"date-style":case"time-style":m+=c.slice(p,o.index)}else p=o.index+o[0].length;break;case"named-range":R=YK((a=t$(o[0],!1))["cell-range-address"]);var H={Name:a.name,Ref:R[0]+"!"+R[1]};W&&(H.Sheet=f.length),P.Names.push(H);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(d[d.length-1][0])>-1)break;if("/"!==o[1]||g&&g["string-value"])t$(o[0],!1),y=o.index+o[0].length;else{var V=oZ(c.slice(y,o.index));x=(x.length>0?x+"\n":"")+V[0]}break;case"database-range":if("/"===o[1])break;try{h[(R=YK(t$(o[0])["target-range-address"]))[0]]["!autofilter"]={ref:R[1]}}catch(H1){}break;case"a":if("/"!==o[1]){if(!(O=t$(o[0],!1)).href)break;O.Target=i$(O.href),delete O.href,"#"==O.Target.charAt(0)&&O.Target.indexOf(".")>-1?(R=YK(O.Target.slice(1)),O.Target="#"+R[0]+"!"+R[1]):O.Target.match(/^\.\.[\\\/]/)&&(O.Target=O.Target.slice(3))}break;default:switch(o[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(n.WTF)throw new Error(o)}}var q={Sheets:h,SheetNames:f,Workbook:P};return n.bookSheets&&delete q.Sheets,q}function dZ(e,t){t=t||{},BU(e,"META-INF/manifest.xml")&&function(e,t){for(var n,r,a=A$(e);n=P$.exec(a);)switch(n[3]){case"manifest":break;case"file-entry":if("/"==(r=t$(n[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==r.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}(UU(e,"META-INF/manifest.xml"),t);var n=$U(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=cZ(x$(n),t);return BU(e,"meta.xml")&&(r.Props=QH(UU(e,"meta.xml"))),r}function uZ(e,t){return cZ(e,t)}var mZ=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+D$({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return YU+t}}(),pZ=function(){var e="          <table:table-cell />\n",t=function(t,n,r){var a=[];a.push('      <table:table table:name="'+l$(n.SheetNames[r])+'" table:style-name="ta1">\n');var i=0,s=0,o=Xz(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,d=Array.isArray(t);if(t["!cols"])for(s=0;s<=o.e.c;++s)a.push("        <table:table-column"+(t["!cols"][s]?' table:style-name="co'+t["!cols"][s].ods+'"':"")+"></table:table-column>\n");var u="",m=t["!rows"]||[];for(i=0;i<o.s.r;++i)u=m[i]?' table:style-name="ro'+m[i].ods+'"':"",a.push("        <table:table-row"+u+"></table:table-row>\n");for(;i<=o.e.r;++i){for(u=m[i]?' table:style-name="ro'+m[i].ods+'"':"",a.push("        <table:table-row"+u+">\n"),s=0;s<o.s.c;++s)a.push(e);for(;s<=o.e.c;++s){var p=!1,h={},f="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>s)&&!(l[c].s.r>i)&&!(l[c].e.c<s)&&!(l[c].e.r<i)){l[c].s.c==s&&l[c].s.r==i||(p=!0),h["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,h["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(p)a.push("          <table:covered-table-cell/>\n");else{var v=Yz({r:i,c:s}),g=d?(t[i]||[])[s]:t[v];if(g&&g.f&&(h["table:formula"]=l$(("of:="+g.f.replace(iK,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),g.F&&g.F.slice(0,v.length)==v)){var x=Xz(g.F);h["table:number-matrix-columns-spanned"]=x.e.c-x.s.c+1,h["table:number-matrix-rows-spanned"]=x.e.r-x.s.r+1}if(g){switch(g.t){case"b":f=g.v?"TRUE":"FALSE",h["office:value-type"]="boolean",h["office:boolean-value"]=g.v?"true":"false";break;case"n":f=g.w||String(g.v||0),h["office:value-type"]="float",h["office:value"]=g.v||0;break;case"s":case"str":f=null==g.v?"":g.v,h["office:value-type"]="string";break;case"d":f=g.w||TU(g.v).toISOString(),h["office:value-type"]="date",h["office:date-value"]=TU(g.v).toISOString(),h["table:style-name"]="ce1";break;default:a.push(e);continue}var y=l$(f).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(g.l&&g.l.Target){var b=g.l.Target;"#"==(b="#"==b.charAt(0)?"#"+b.slice(1).replace(/\./,"!"):b).charAt(0)||b.match(/^\w+:/)||(b="../"+b),y=T$("text:a",y,{"xlink:href":b.replace(/&/g,"&amp;")})}a.push("          "+T$("table:table-cell",T$("text:p",y,{}),h)+"\n")}else a.push(e)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,n){var r=[YU],a=D$({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),i=D$({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==n.bookType?(r.push("<office:document"+a+i+">\n"),r.push(XH().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var a=t["!cols"][r];if(null==a.width&&null==a.wpx&&null==a.wch)continue;hG(a),a.ods=n;var i=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n'),e.push("  </style:style>\n"),++n}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var a=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)r.push(t(e.Sheets[e.SheetNames[s]],e,s));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==n.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function hZ(e,t){if("fods"==t.bookType)return pZ(e,t);var n=qU(),r="",a=[],i=[];return VU(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),VU(n,r="content.xml",pZ(e,t)),a.push([r,"text/xml"]),i.push([r,"ContentFile"]),VU(n,r="styles.xml",mZ(e,t)),a.push([r,"text/xml"]),i.push([r,"StylesFile"]),VU(n,r="meta.xml",YU+XH()),a.push([r,"text/xml"]),i.push([r,"MetadataFile"]),VU(n,r="manifest.rdf",function(e){var t,n,r=[YU];r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var a=0;a!=e.length;++a)r.push(YH(e[a][0],e[a][1])),r.push((t="",n=e[a][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")));return r.push(YH("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}(i)),a.push([r,"application/rdf+xml"]),VU(n,r="META-INF/manifest.xml",function(e){var t=[YU];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),n}function fZ(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function vZ(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):x$(mW(e))}function gZ(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):dW(y$(e))}function xZ(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function yZ(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function bZ(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function wZ(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function jZ(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function NZ(e){for(var t=[],n=[0];n[0]<e.length;){var r,a=n[0],i=bZ(e,n),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:o=4,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=bZ(e,n),r=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(a))}var c={data:r,type:s};null==t[i]?t[i]=[c]:t[i].push(c)}return t}function _Z(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){e.data&&(t.push(wZ(8*n+e.type)),2==e.type&&t.push(wZ(e.data.length)),t.push(e.data))}))})),xZ(t)}function SZ(e,t){return(null==e?void 0:e.map((function(e){return t(e.data)})))||[]}function EZ(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=bZ(e,r),i=NZ(e.slice(r[0],r[0]+a));r[0]+=a;var s={id:jZ(i[1][0].data),messages:[]};i[2].forEach((function(t){var n=NZ(t.data),a=jZ(n[3][0].data);s.messages.push({meta:n,data:e.slice(r[0],r[0]+a)}),r[0]+=a})),(null==(t=i[3])?void 0:t[0])&&(s.merge=jZ(i[3][0].data)>>>0>0),n.push(s)}return n}function CZ(e){var t=[];return e.forEach((function(e){var n=[];n[1]=[{data:wZ(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:wZ(+!!e.merge),type:0}]);var r=[];e.messages.forEach((function(e){r.push(e.data),e.meta[3]=[{type:0,data:wZ(e.data.length)}],n[2].push({data:_Z(e.meta),type:2})}));var a=_Z(n);t.push(wZ(a.length)),t.push(a),r.forEach((function(e){return t.push(e)}))})),xZ(t)}function DZ(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=bZ(t,n),a=[];n[0]<t.length;){var i=3&t[n[0]];if(0!=i){var s=0,o=0;if(1==i?(o=4+(t[n[0]]>>2&7),s=(224&t[n[0]++])<<3,s|=t[n[0]++]):(o=1+(t[n[0]++]>>2),2==i?(s=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(s=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[xZ(a)],0==s)throw new Error("Invalid offset 0");if(s>a[0].length)throw new Error("Invalid offset beyond length");if(o>=s)for(a.push(a[0].slice(-s)),o-=s;o>=a[a.length-1].length;)a.push(a[a.length-1]),o-=a[a.length-1].length;a.push(a[0].slice(-s,-s+o))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}a.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var d=xZ(a);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function TZ(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(DZ(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return xZ(t)}function kZ(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var i=wZ(r),s=i.length;t.push(i),r<=60?(s++,t.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),s+=r,a[0]=0,a[1]=255&s,a[2]=s>>8&255,a[3]=s>>16&255,n+=r}return xZ(t)}function AZ(e,t,n){var r,a=fZ(e),i=a.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);switch(1&i&&(c=function(e,t){for(var n=(127&e[t+15])<<7|e[t+14]>>1,r=1&e[t+14],a=t+13;a>=t;--a)r=256*r+e[a];return(128&e[t+15]?-r:r)*Math.pow(10,n-6176)}(e,s),s+=16),2&i&&(d=a.getFloat64(s,!0),s+=8),4&i&&(u.setTime(u.getTime()+1e3*a.getFloat64(s,!0)),s+=8),8&i&&(l=a.getUint32(s,!0),s+=4),16&i&&(o=a.getUint32(s,!0),s+=4),e[1]){case 0:break;case 2:case 10:r={t:"n",v:c};break;case 3:r={t:"s",v:t[l]};break;case 5:r={t:"d",v:u};break;case 6:r={t:"b",v:d>0};break;case 7:r={t:"n",v:d/86400};break;case 8:r={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)));r={t:"s",v:n[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)))}return r}function PZ(e,t){var n=new Uint8Array(32),r=fZ(n),a=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=255&a;e[t+15]|=n>=0?0:128}(n,a,e.v),i|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),n.slice(0,a)}function OZ(e,t){var n=new Uint8Array(32),r=fZ(n),a=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),n.slice(0,a)}function RZ(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,n,r){var a,i=fZ(e),s=i.getUint32(4,!0),o=(r>1?12:8)+4*yZ(s&(r>1?3470:398)),l=-1,c=-1,d=NaN,u=new Date(2001,0,1);switch(512&s&&(l=i.getUint32(o,!0),o+=4),o+=4*yZ(s&(r>1?12288:4096)),16&s&&(c=i.getUint32(o,!0),o+=4),32&s&&(d=i.getFloat64(o,!0),o+=8),64&s&&(u.setTime(u.getTime()+1e3*i.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:a={t:"n",v:d};break;case 3:a={t:"s",v:t[c]};break;case 5:a={t:"d",v:u};break;case 6:a={t:"b",v:d>0};break;case 7:a={t:"n",v:d/86400};break;case 8:a={t:"e",v:0};break;case 9:if(l>-1)a={t:"s",v:n[l]};else if(c>-1)a={t:"s",v:t[c]};else{if(isNaN(d))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));a={t:"n",v:d}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return a}(e,t,n,e[0]);case 5:return AZ(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function MZ(e){return bZ(NZ(e)[1][0].data)}function IZ(e,t){var n=NZ(t.data),r=jZ(n[1][0].data),a=n[3],i=[];return(a||[]).forEach((function(t){var n=NZ(t.data),a=jZ(n[1][0].data)>>>0;switch(r){case 1:i[a]=vZ(n[3][0].data);break;case 8:var s=NZ(e[MZ(n[9][0].data)][0].data),o=e[MZ(s[1][0].data)][0],l=jZ(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=NZ(o.data);i[a]=c[3].map((function(e){return vZ(e.data)})).join("")}})),i}function LZ(e,t){var n,r=NZ(t.data),a=(null==(n=null==r?void 0:r[7])?void 0:n[0])?jZ(r[7][0].data)>>>0>0?1:0:-1,i=SZ(r[5],(function(e){return function(e,t){var n,r,a,i,s,o,l,c,d,u,m,p,h,f,v,g,x=NZ(e),y=jZ(x[1][0].data)>>>0,b=jZ(x[2][0].data)>>>0,w=(null==(r=null==(n=x[8])?void 0:n[0])?void 0:r.data)&&jZ(x[8][0].data)>0||!1;if((null==(i=null==(a=x[7])?void 0:a[0])?void 0:i.data)&&0!=t)v=null==(o=null==(s=x[7])?void 0:s[0])?void 0:o.data,g=null==(c=null==(l=x[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(u=null==(d=x[4])?void 0:d[0])?void 0:u.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");v=null==(p=null==(m=x[4])?void 0:m[0])?void 0:p.data,g=null==(f=null==(h=x[3])?void 0:h[0])?void 0:f.data}for(var j=w?4:1,N=fZ(v),_=[],S=0;S<v.length/2;++S){var E=N.getUint16(2*S,!0);E<65535&&_.push([S,E])}if(_.length!=b)throw"Expected ".concat(b," cells, found ").concat(_.length);var C=[];for(S=0;S<_.length-1;++S)C[_[S][0]]=g.subarray(_[S][1]*j,_[S+1][1]*j);return _.length>=1&&(C[_[_.length-1][0]]=g.subarray(_[_.length-1][1]*j)),{R:y,cells:C}}(e,a)}));return{nrows:jZ(r[4][0].data)>>>0,data:i.reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(n,r){if(e[t.R][r])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(r));e[t.R][r]=n})),e}),[])}}function FZ(e,t){var n={"!ref":"A1"},r=e[MZ(NZ(t.data)[2][0].data)],a=jZ(r[0].meta[1][0].data);if(6001!=a)throw new Error("6000 unexpected reference to ".concat(a));return function(e,t,n){var r,a=NZ(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(jZ(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(jZ(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=Zz(i);var s=NZ(a[4][0].data),o=IZ(e,e[MZ(s[4][0].data)][0]),l=(null==(r=s[17])?void 0:r[0])?IZ(e,e[MZ(s[17][0].data)][0]):[],c=NZ(s[3][0].data),d=0;c[1].forEach((function(t){var r=NZ(t.data),a=e[MZ(r[2][0].data)][0],i=jZ(a.meta[1][0].data);if(6002!=i)throw new Error("6001 unexpected reference to ".concat(i));var s=LZ(0,a);s.data.forEach((function(e,t){e.forEach((function(e,r){var a=Yz({r:d+t,c:r}),i=RZ(e,o,l);i&&(n[a]=i)}))})),d+=s.nrows}))}(e,r[0],n),n}function BZ(e,t){var n={SheetNames:[],Sheets:{}};if(SZ(NZ(t.data)[1],MZ).forEach((function(t){e[t].forEach((function(t){if(2==jZ(t.meta[1][0].data)){var r=function(e,t){var n,r=NZ(t.data),a={name:(null==(n=r[1])?void 0:n[0])?vZ(r[1][0].data):"",sheets:[]};return SZ(r[2],MZ).forEach((function(t){e[t].forEach((function(t){6e3==jZ(t.meta[1][0].data)&&a.sheets.push(FZ(e,t))}))})),a}(e,t);r.sheets.forEach((function(e,t){gJ(n,e,0==t?r.name:r.name+"_"+t,!0)}))}}))})),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}function WZ(e){var t,n,r,a,i={},s=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,n;try{t=TZ(e.content)}catch(H1){return console.log("?? "+e.content.length+" "+(H1.message||H1))}try{n=EZ(t)}catch(H1){return console.log("## "+(H1.message||H1))}n.forEach((function(e){i[e.id]=e.messages,s.push(e.id)}))}})),!s.length)throw new Error("File has no messages");var o=(null==(a=null==(r=null==(n=null==(t=null==i?void 0:i[1])?void 0:t[0])?void 0:n.meta)?void 0:r[1])?void 0:a[0].data)&&1==jZ(i[1][0].meta[1][0].data)&&i[1][0];if(o||s.forEach((function(e){i[e].forEach((function(e){if(1==jZ(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}}))})),!o)throw new Error("Cannot find Document root");return BZ(i,o)}function UZ(e,t,n){var r,a,i,s;if(!(null==(r=e[6])?void 0:r[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(s=null==(i=e[8])?void 0:i[0])?void 0:s.data)&&jZ(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=fZ(e[7][0].data),c=0,d=[],u=fZ(e[4][0].data),m=0,p=[],h=0;h<t.length;++h)if(null!=t[h]){var f,v;switch(l.setUint16(2*h,c,!0),u.setUint16(2*h,m,!0),typeof t[h]){case"string":f=PZ({t:"s",v:t[h]},n),v=OZ({t:"s",v:t[h]},n);break;case"number":f=PZ({t:"n",v:t[h]},n),v=OZ({t:"n",v:t[h]},n);break;case"boolean":f=PZ({t:"b",v:t[h]},n),v=OZ({t:"b",v:t[h]},n);break;default:throw new Error("Unsupported value "+t[h])}d.push(f),c+=f.length,p.push(v),m+=v.length,++o}else l.setUint16(2*h,65535,!0),u.setUint16(2*h,65535);for(e[2][0].data=wZ(o);h<e[7][0].data.length/2;++h)l.setUint16(2*h,65535,!0),u.setUint16(2*h,65535,!0);return e[6][0].data=xZ(d),e[3][0].data=xZ(p),o}function $Z(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function zZ(e){$Z([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function HZ(e){$Z([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function VZ(e,t,n,r,a,i,s,o,l,c,d,u){try{i[r]=qH($U(e,n,!0),t);var m,p=UU(e,t);switch(o){case"sheet":m=tX(p,t,a,l,i[r],c,d,u);break;case"chart":if(!(m=nX(p,t,a,l,i[r],c))||!m["!drawel"])break;var h=KU(m["!drawel"].Target,t),f=VH(h),v=function(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}($U(e,h,!0),qH($U(e,f,!0),h)),g=KU(v,h),x=VH(g);m=FY($U(e,g,!0),0,0,qH($U(e,x,!0),g),0,m);break;case"macro":b=t,i[r],b.slice(-4),m={"!type":"macro"};break;case"dialog":m=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,i[r]);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=m;var y=[];i&&i[r]&&fU(i[r]).forEach((function(n){var a="";if(i[r][n].Type==HH.CMNT){a=KU(i[r][n].Target,t);var s=iX(UU(e,a,!0),a,l);if(!s||!s.length)return;JG(m,s,!1)}i[r][n].Type==HH.TCMNT&&(a=KU(i[r][n].Target,t),y=y.concat(function(e,t){var n=[],r=!1,a={},i=0;return e.replace(JU,(function(s,o){var l=t$(s);switch(n$(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":a={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=a.t&&n.push(a);break;case"<text>":case"<text":i=o+s.length;break;case"</text>":a.t=e.slice(i,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s})),n}(UU(e,a,!0),l)))})),y&&y.length&&JG(m,y,!0,l.people||[])}catch(H1){if(l.WTF)throw H1}var b}function qZ(e){return"/"==e.charAt(0)?e.slice(1):e}function GZ(e,t){if(oU(),zZ(t=t||{}),BU(e,"META-INF/manifest.xml"))return dZ(e,t);if(BU(e,"objectdata.xml"))return dZ(e,t);if(BU(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return WZ(e);var n=uU.utils.cfb_new();return HU(e).forEach((function(t){VU(n,t,zU(e,t))})),WZ(n)}if(!BU(e,"[Content_Types].xml")){if(BU(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(BU(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var r,a,i=HU(e),s=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var n={};if((e.match(JU)||[]).forEach((function(e){var r=t$(e);switch(r[0].replace(QU,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":void 0!==t[UH[r.ContentType]]&&t[UH[r.ContentType]].push(r.PartName)}})),t.xmlns!==I$)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}($U(e,"[Content_Types].xml")),o=!1;if(0===s.workbooks.length&&UU(e,a="xl/workbook.xml",!0)&&s.workbooks.push(a),0===s.workbooks.length){if(!UU(e,a="xl/workbook.bin",!0))throw new Error("Could not find workbook");s.workbooks.push(a),o=!0}"bin"==s.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(XK=[],s.sst)try{XK=aX(UU(e,qZ(s.sst)),s.sst,t)}catch(H1){if(t.WTF)throw H1}t.cellStyles&&s.themes.length&&(l=function(e,t,n){return HG(e,n)}($U(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(c=rX(UU(e,qZ(s.style)),s.style,l,t))}s.links.map((function(n){try{qH($U(e,VH(qZ(n))),n);return oX(UU(e,qZ(n)),0,n,t)}catch(H1){}}));var d=eX(UU(e,qZ(s.workbooks[0])),s.workbooks[0],t),u={},m="";s.coreprops.length&&((m=UU(e,qZ(s.coreprops[0]),!0))&&(u=QH(m)),0!==s.extprops.length&&(m=UU(e,qZ(s.extprops[0]),!0))&&function(e,t,n){var r={};t||(t={}),e=x$(e),nV.forEach((function(n){var a=(e.match(b$(n[0]))||[])[1];switch(n[2]){case"string":a&&(t[n[1]]=i$(a));break;case"bool":t[n[1]]="true"===a;break;case"raw":var i=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));i&&i.length>0&&(r[n[1]]=i[1])}})),r.HeadingPairs&&r.TitlesOfParts&&aV(r.HeadingPairs,r.TitlesOfParts,t,n)}(m,u,t));var p={};t.bookSheets&&!t.bookProps||0!==s.custprops.length&&(m=$U(e,qZ(s.custprops[0]),!0))&&(p=function(e,t){var n={},r="",a=e.match(sV);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=t$(s);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":r=i$(o.name);break;case"</property>":r=null;break;default:if(0===s.indexOf("<vt:")){var l=s.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":n[r]=i$(d);break;case"bool":n[r]=p$(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=TU(d);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",s,c,l)}}else if("</"===s.slice(0,2));else if(t.WTF)throw new Error(s)}}return n}(m,t));var h={};if((t.bookSheets||t.bookProps)&&(d.Sheets?r=d.Sheets.map((function(e){return e.name})):u.Worksheets&&u.SheetNames.length>0&&(r=u.SheetNames),t.bookProps&&(h.Props=u,h.Custprops=p),t.bookSheets&&"undefined"!==typeof r&&(h.SheetNames=r),t.bookSheets?h.SheetNames:t.bookProps))return h;r={};var f={};t.bookDeps&&s.calcchain&&(f=sX(UU(e,qZ(s.calcchain)),s.calcchain));var v,g,x=0,y={},b=d.Sheets;u.Worksheets=b.length,u.SheetNames=[];for(var w=0;w!=b.length;++w)u.SheetNames[w]=b[w].name;var j=o?"bin":"xml",N=s.workbooks[0].lastIndexOf("/"),_=(s.workbooks[0].slice(0,N+1)+"_rels/"+s.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");BU(e,_)||(_="xl/_rels/workbook."+j+".rels");var S=qH($U(e,_,!0),_.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=lX(UU(e,qZ(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=function(e,t){var n=[],r=!1;return e.replace(JU,(function(e){var a=t$(e);switch(n$(a[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return e})),n}(UU(e,qZ(s.people[0])),t)),S&&(S=function(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(n=e["!id"][t.id].Type,HH.WS.indexOf(n)>-1?"sheet":HH.CS&&n==HH.CS?"chart":HH.DS&&n==HH.DS?"dialog":HH.MS&&n==HH.MS?"macro":n&&n.length?n:"sheet")];var n}))}catch(H1){return null}return e&&0!==e.length?e:null}(S,d.Sheets));var E=UU(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=u.Worksheets;++x){var C="sheet";if(S&&S[x]?(v="xl/"+S[x][1].replace(/[\/]?xl\//,""),BU(e,v)||(v=S[x][1]),BU(e,v)||(v=_.replace(/_rels\/.*$/,"")+S[x][1]),C=S[x][2]):v=(v="xl/worksheets/sheet"+(x+1-E)+"."+j).replace(/sheet0\./,"sheet."),g=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(u.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var D=!1,T=0;T!=t.sheets.length;++T)"number"==typeof t.sheets[T]&&t.sheets[T]==x&&(D=1),"string"==typeof t.sheets[T]&&t.sheets[T].toLowerCase()==u.SheetNames[x].toLowerCase()&&(D=1);if(!D)continue e}}VZ(e,v,g,u.SheetNames[x],x,y,r,C,t,d,l,c)}return h={Directory:s,Workbook:d,Props:u,Custprops:p,Deps:f,Sheets:r,SheetNames:u.SheetNames,Strings:XK,Styles:c,Themes:l,SSF:AU(EW)},t&&t.bookFiles&&(e.files?(h.keys=i,h.files=e.files):(h.keys=[],h.files={},e.FullPaths.forEach((function(t,n){t=t.replace(/^Root Entry[\/]/,""),h.keys.push(t),h.files[t]=e.FileIndex[n]})))),t&&t.bookVBA&&(s.vba.length>0?h.vbaraw=UU(e,qZ(s.vba[0]),!0):s.defaults&&"application/vnd.ms-office.vbaProject"===s.defaults.bin&&(h.vbaraw=UU(e,"xl/vbaProject.bin",!0))),h}function KZ(e,t){var n=t||{},r="Workbook",a=uU.find(e,r);try{if(r="/!DataSpaces/Version",!(a=uU.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(function(e){var t={};t.id=e.read_shift(0,"lpp4"),t.R=Gq(e,4),t.U=Gq(e,4),t.W=Gq(e,4)}(a.content),r="/!DataSpaces/DataSpaceMap",!(a=uU.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(Kq(e));return t}(a.content);if(1!==i.length||1!==i[0].comps.length||0!==i[0].comps[0].t||"StrongEncryptionDataSpace"!==i[0].name||"EncryptedPackage"!==i[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(a=uU.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(a.content);if(1!=s.length||"StrongEncryptionTransform"!=s[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(a=uU.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);Yq(a.content)}catch(H1){}if(r="/EncryptionInfo",!(a=uU.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=function(e){var t=Gq(e);switch(t.Minor){case 2:return[t.Minor,Jq(e)];case 3:return[t.Minor,Qq()];case 4:return[t.Minor,eG(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(a.content);if(r="/EncryptedPackage",!(a=uU.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==o[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(o[1],a.content,n.password||"",n);if(2==o[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(o[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function YZ(e,t){return"ods"==t.bookType?hZ(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Xz(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Zz(r)));var i=cJ(n,{range:r,header:1}),s=["~Sh33tJ5~"];i.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&s.push(e)}))}));var o={},l=[],c=uU.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&EZ(TZ(t.content)).forEach((function(e){l.push(e.id),o[e.id]={deps:[],location:n,type:jZ(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var d=l.filter((function(e){return e>1})).map((function(e){return[e,wZ(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&EZ(TZ(t.content)).forEach((function(e){e.messages.forEach((function(t){d.forEach((function(t){e.messages.some((function(e){return 11006!=jZ(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])}))&&o[t[0]].deps.push(e.id)}))}))}))}));for(var u,m=uU.find(c,o[1].location),p=EZ(TZ(m.content)),h=0;h<p.length;++h){var f=p[h];1==f.id&&(u=f)}var v=MZ(NZ(u.messages[0].data)[1][0].data);for(p=EZ(TZ((m=uU.find(c,o[v].location)).content)),h=0;h<p.length;++h)(f=p[h]).id==v&&(u=f);for(v=MZ(NZ(u.messages[0].data)[2][0].data),p=EZ(TZ((m=uU.find(c,o[v].location)).content)),h=0;h<p.length;++h)(f=p[h]).id==v&&(u=f);for(v=MZ(NZ(u.messages[0].data)[2][0].data),p=EZ(TZ((m=uU.find(c,o[v].location)).content)),h=0;h<p.length;++h)(f=p[h]).id==v&&(u=f);var g=NZ(u.messages[0].data);g[6][0].data=wZ(r.e.r+1),g[7][0].data=wZ(r.e.c+1);for(var x=MZ(g[46][0].data),y=uU.find(c,o[x].location),b=EZ(TZ(y.content)),w=0;w<b.length&&b[w].id!=x;++w);if(b[w].id!=x)throw"Bad ColumnRowUIDMapArchive";var j=NZ(b[w].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var N=0;N<=r.e.c;++N){var _=[];_[1]=_[2]=[{type:0,data:wZ(N+420690)}],j[1].push({type:2,data:_Z(_)}),j[2].push({type:0,data:wZ(N)}),j[3].push({type:0,data:wZ(N)})}j[4]=[],j[5]=[],j[6]=[];for(var S=0;S<=r.e.r;++S)(_=[])[1]=_[2]=[{type:0,data:wZ(S+726270)}],j[4].push({type:2,data:_Z(_)}),j[5].push({type:0,data:wZ(S)}),j[6].push({type:0,data:wZ(S)});b[w].messages[0].data=_Z(j),y.content=kZ(CZ(b)),y.size=y.content.length,delete g[46];var E=NZ(g[4][0].data);E[7][0].data=wZ(r.e.r+1);var C=MZ(NZ(E[1][0].data)[2][0].data);if((b=EZ(TZ((y=uU.find(c,o[C].location)).content)))[0].id!=C)throw"Bad HeaderStorageBucket";var D=NZ(b[0].messages[0].data);for(S=0;S<i.length;++S){var T=NZ(D[2][0].data);T[1][0].data=wZ(S),T[4][0].data=wZ(i[S].length),D[2][S]={type:D[2][0].type,data:_Z(T)}}b[0].messages[0].data=_Z(D),y.content=kZ(CZ(b)),y.size=y.content.length;var k=MZ(E[2][0].data);if((b=EZ(TZ((y=uU.find(c,o[k].location)).content)))[0].id!=k)throw"Bad HeaderStorageBucket";for(D=NZ(b[0].messages[0].data),N=0;N<=r.e.c;++N)(T=NZ(D[2][0].data))[1][0].data=wZ(N),T[4][0].data=wZ(r.e.r+1),D[2][N]={type:D[2][0].type,data:_Z(T)};b[0].messages[0].data=_Z(D),y.content=kZ(CZ(b)),y.size=y.content.length;var A=MZ(E[4][0].data);!function(){for(var e,t=uU.find(c,o[A].location),n=EZ(TZ(t.content)),r=0;r<n.length;++r){var a=n[r];a.id==A&&(e=a)}var i=NZ(e.messages[0].data);i[3]=[];var l=[];s.forEach((function(e,t){l[1]=[{type:0,data:wZ(t)}],l[2]=[{type:0,data:wZ(1)}],l[3]=[{type:2,data:gZ(e)}],i[3].push({type:2,data:_Z(l)})})),e.messages[0].data=_Z(i);var d=kZ(CZ(n));t.content=d,t.size=t.content.length}();var P=NZ(E[3][0].data),O=P[1][0];delete P[2];var R=NZ(O.data),M=MZ(R[2][0].data);!function(){for(var e,t=uU.find(c,o[M].location),n=EZ(TZ(t.content)),a=0;a<n.length;++a){var l=n[a];l.id==M&&(e=l)}var d=NZ(e.messages[0].data);delete d[6],delete P[7];var u=new Uint8Array(d[5][0].data);d[5]=[];for(var m=0,p=0;p<=r.e.r;++p){var h=NZ(u);m+=UZ(h,i[p],s),h[1][0].data=wZ(p),d[5].push({data:_Z(h),type:2})}d[1]=[{type:0,data:wZ(r.e.c+1)}],d[2]=[{type:0,data:wZ(r.e.r+1)}],d[3]=[{type:0,data:wZ(m)}],d[4]=[{type:0,data:wZ(r.e.r+1)}],e.messages[0].data=_Z(d);var f=kZ(CZ(n));t.content=f,t.size=t.content.length}(),O.data=_Z(R),E[3][0].data=_Z(P),g[4][0].data=_Z(E),u.messages[0].data=_Z(g);var I=kZ(CZ(p));return m.content=I,m.size=m.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){XG=1024,e&&!e.SSF&&(e.SSF=AU(EW));e&&e.SSF&&(oU(),sU(e.SSF),t.revssf=xU(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,JK?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=rK.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};HZ(t=t||{});var i=qU(),s="",o=0;t.cellXfs=[],nY(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(VU(i,s="docProps/core.xml",tV(e.Props,t)),a.coreprops.push(s),KH(t.rels,2,s,HH.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,VU(i,s,iV(e.Props)),a.extprops.push(s),KH(t.rels,3,s,HH.EXT_PROPS),e.Custprops!==e.Props&&fU(e.Custprops||{}).length>0&&(VU(i,s="docProps/custom.xml",oV(e.Custprops)),a.custprops.push(s),KH(t.rels,4,s,HH.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},u=e.Sheets[e.SheetNames[o-1]];(u||{})["!type"];if(VU(i,s="xl/worksheets/sheet"+o+"."+n,cX(o-1,s,t,e,d)),a.sheets.push(s),KH(t.wbrels,-1,"worksheets/sheet"+o+"."+n,HH.WS[0]),u){var m=u["!comments"],p=!1,h="";m&&m.length>0&&(VU(i,h="xl/comments"+o+"."+n,dX(m,h,t)),a.comments.push(h),KH(d,-1,"../comments"+o+"."+n,HH.CMNT),p=!0),u["!legacy"]&&p&&VU(i,"xl/drawings/vmlDrawing"+o+".vml",ZG(o,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&VU(i,VH(s),GH(d))}null!=t.Strings&&t.Strings.length>0&&(VU(i,s="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?Vq:zq)(e,n)}(t.Strings,s,t)),a.strs.push(s),KH(t.wbrels,-1,"sharedStrings."+n,HH.SST));VU(i,s="xl/workbook."+n,function(e,t,n){return(".bin"===t.slice(-4)?QY:XY)(e,n)}(e,s,t)),a.workbooks.push(s),KH(t.rels,1,s,HH.WB),VU(i,s="xl/theme/theme1.xml",VG(e.Themes,t)),a.themes.push(s),KH(t.wbrels,-1,"theme/theme1.xml",HH.THEME),VU(i,s="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?MG:jG)(e,n)}(e,s,t)),a.styles.push(s),KH(t.wbrels,-1,"styles."+n,HH.STY),e.vbaraw&&r&&(VU(i,s="xl/vbaProject.bin",e.vbaraw),a.vba.push(s),KH(t.wbrels,-1,"vbaProject.bin",HH.VBA));return VU(i,s="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?KG:YG)()}(s)),a.metadata.push(s),KH(t.wbrels,-1,"metadata."+n,HH.XLMETA),VU(i,"[Content_Types].xml",zH(a,t)),VU(i,"_rels/.rels",GH(t.rels)),VU(i,"xl/_rels/workbook."+n+".rels",GH(t.wbrels)),delete t.revssf,delete t.ssf,i}(e,t):XZ(e,t)}function XZ(e,t){XG=1024,e&&!e.SSF&&(e.SSF=AU(EW)),e&&e.SSF&&(oU(),sU(e.SSF),t.revssf=xU(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,JK?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=rK.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};HZ(t=t||{});var i=qU(),s="",o=0;if(t.cellXfs=[],nY(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),VU(i,s="docProps/core.xml",tV(e.Props,t)),a.coreprops.push(s),KH(t.rels,2,s,HH.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,VU(i,s,iV(e.Props)),a.extprops.push(s),KH(t.rels,3,s,HH.EXT_PROPS),e.Custprops!==e.Props&&fU(e.Custprops||{}).length>0&&(VU(i,s="docProps/custom.xml",oV(e.Custprops)),a.custprops.push(s),KH(t.rels,4,s,HH.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},m=e.Sheets[e.SheetNames[o-1]];(m||{})["!type"];if(VU(i,s="xl/worksheets/sheet"+o+"."+n,jY(o-1,t,e,u)),a.sheets.push(s),KH(t.wbrels,-1,"worksheets/sheet"+o+"."+n,HH.WS[0]),m){var p=m["!comments"],h=!1,f="";if(p&&p.length>0){var v=!1;p.forEach((function(e){e[1].forEach((function(e){1==e.T&&(v=!0)}))})),v&&(VU(i,f="xl/threadedComments/threadedComment"+o+"."+n,eK(p,d,t)),a.threadedcomments.push(f),KH(u,-1,"../threadedComments/threadedComment"+o+"."+n,HH.TCMNT)),VU(i,f="xl/comments"+o+"."+n,QG(p)),a.comments.push(f),KH(u,-1,"../comments"+o+"."+n,HH.CMNT),h=!0}m["!legacy"]&&h&&VU(i,"xl/drawings/vmlDrawing"+o+".vml",ZG(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&VU(i,VH(s),GH(u))}return null!=t.Strings&&t.Strings.length>0&&(VU(i,s="xl/sharedStrings."+n,zq(t.Strings,t)),a.strs.push(s),KH(t.wbrels,-1,"sharedStrings."+n,HH.SST)),VU(i,s="xl/workbook."+n,XY(e)),a.workbooks.push(s),KH(t.rels,1,s,HH.WB),VU(i,s="xl/theme/theme1.xml",VG(e.Themes,t)),a.themes.push(s),KH(t.wbrels,-1,"theme/theme1.xml",HH.THEME),VU(i,s="xl/styles."+n,jG(e,t)),a.styles.push(s),KH(t.wbrels,-1,"styles."+n,HH.STY),e.vbaraw&&r&&(VU(i,s="xl/vbaProject.bin",e.vbaraw),a.vba.push(s),KH(t.wbrels,-1,"vbaProject.bin",HH.VBA)),VU(i,s="xl/metadata."+n,YG()),a.metadata.push(s),KH(t.wbrels,-1,"metadata."+n,HH.XLMETA),d.length>1&&(VU(i,s="xl/persons/person.xml",function(e){var t=[YU,T$("personList",null,{xmlns:F$,"xmlns:x":q$[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,n){t.push(T$("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(d)),a.people.push(s),KH(t.wbrels,-1,"persons/person.xml",HH.PEOPLE)),VU(i,"[Content_Types].xml",zH(a,t)),VU(i,"_rels/.rels",GH(t.rels)),VU(i,"xl/_rels/workbook.xml.rels",GH(t.wbrels)),delete t.revssf,delete t.ssf,i}function ZZ(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=iW(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function JZ(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return jX(e.slice(n),t);default:break e}return Aq.to_workbook(e,t)}function QZ(e,t,n,r){return r?(n.type="string",Aq.to_workbook(e,n)):Aq.to_workbook(t,n)}function eJ(e,t){XB();var n=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return eJ(new Uint8Array(e),((n=AU(n)).type="array",n));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!n.type&&(n.type="undefined"!==typeof Deno?"buffer":"array");var r,a=e,i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),ZK={},n.dateNF&&(ZK.dateNF=n.dateNF),n.type||(n.type=sW&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==n.type&&(n.type=sW?"buffer":"binary",a=function(e){if("undefined"!==typeof mU)return mU.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(H1){if(!H1.message||!H1.message.match(/onstruct/))throw H1}throw new Error("Cannot access file "+e)}(e),"undefined"===typeof Uint8Array||sW||(n.type="array")),"string"==n.type&&(i=!0,n.type="binary",n.codepage=65001,a=function(e){return e.match(/[^\x00-\x7F]/)?y$(e):e}(e)),"array"==n.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return(n=AU(n)).type="array",eJ(pW(a),n)}switch((r=ZZ(a,n))[0]){case 208:if(207===r[1]&&17===r[2]&&224===r[3]&&161===r[4]&&177===r[5]&&26===r[6]&&225===r[7])return function(e,t){return uU.find(e,"EncryptedPackage")?KZ(e,t):FX(e,t)}(uU.read(a,n),n);break;case 9:if(r[1]<=8)return FX(a,n);break;case 60:return jX(a,n);case 73:if(73===r[1]&&42===r[2]&&0===r[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===r[1])return function(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=Dq.to_workbook(e,n);return n.WTF=r,a}catch(H1){if(n.WTF=r,!H1.message.match(/SYLK bad record ID/)&&r)throw H1;return Aq.to_workbook(e,t)}}(a,n);break;case 84:if(65===r[1]&&66===r[2]&&76===r[3])return Tq.to_workbook(a,n);break;case 80:return 75===r[1]&&r[2]<9&&r[3]<9?function(e,t){var n=e,r=t||{};return r.type||(r.type=sW&&Buffer.isBuffer(e)?"buffer":"base64"),GZ(GU(n,r),r)}(a,n):QZ(e,a,n,i);case 239:return 60===r[3]?jX(a,n):QZ(e,a,n,i);case 255:if(254===r[1])return function(e,t){var n=e;return"base64"==t.type&&(n=iW(n)),n=QB.utils.decode(1200,n.slice(2),"str"),t.type="binary",JZ(n,t)}(a,n);if(0===r[1]&&2===r[2]&&0===r[3])return Pq.to_workbook(a,n);break;case 0:if(0===r[1]){if(r[2]>=2&&0===r[3])return Pq.to_workbook(a,n);if(0===r[2]&&(8===r[3]||9===r[3]))return Pq.to_workbook(a,n)}break;case 3:case 131:case 139:case 140:return Cq.to_workbook(a,n);case 123:if(92===r[1]&&114===r[2]&&116===r[3])return iG.to_workbook(a,n);break;case 10:case 13:case 32:return function(e,t){var n="",r=ZZ(e,t);switch(t.type){case"base64":n=iW(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=kU(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=x$(n)),t.type="binary",JZ(n,t)}(a,n);case 137:if(80===r[1]&&78===r[2]&&71===r[3])throw new Error("PNG Image File is not a spreadsheet")}return Eq.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?Cq.to_workbook(a,n):QZ(e,a,n,i)}function tJ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return hU(t.file,uU.write(e,{type:sW?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return uU.write(e,t)}function nJ(e,t){var n={},r=sW?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?uU.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(uW(a))}return t.password&&"undefined"!==typeof encrypt_agile?tJ(encrypt_agile(a,t.password),t):"file"===t.type?hU(t.file,a):"string"==t.type?x$(a):a}function rJ(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return aW(y$(r));case"binary":return y$(r);case"string":return e;case"file":return hU(t.file,r,"utf8");case"buffer":return sW?oW(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):rJ(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function aJ(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?aW(n):"string"==t.type?x$(n):n;case"file":return hU(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function iJ(e,t){XB(),KY(e);var n=AU(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=iJ(e,n);return n.type="array",uW(r)}var a=0;if(n.sheet&&(a="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return rJ(DX(e,n),n);case"slk":case"sylk":return rJ(Dq.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return rJ(rZ(e.Sheets[e.SheetNames[a]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return aW(e);case"binary":case"string":return e;case"file":return hU(t.file,e,"binary");case"buffer":return sW?oW(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(pJ(e.Sheets[e.SheetNames[a]],n),n);case"csv":return rJ(mJ(e.Sheets[e.SheetNames[a]],n),n,"\ufeff");case"dif":return rJ(Tq.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return aJ(Cq.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return rJ(Aq.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return rJ(iG.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return rJ(kq.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return rJ(hZ(e,n),n);case"wk1":return aJ(Pq.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return aJ(Pq.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),aJ(ZX(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return tJ(BX(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=AU(t||{});return nJ(YZ(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function sJ(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function oJ(e,t,n){var r=n||{};return r.type="file",r.file=t,sJ(r),iJ(e,r)}function lJ(e,t,n,r,a,i,s,o){var l=Vz(n),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,m=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:n,enumerable:!1})}catch(H1){m.__rowNum__=n}else m.__rowNum__=n;if(!s||e[n])for(var p=t.s.c;p<=t.e.c;++p){var h=s?e[n][p]:e[r[p]+l];if(void 0!==h&&void 0!==h.t){var f=h.v;switch(h.t){case"z":if(null==f)break;continue;case"e":f=0==f?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+h.t)}if(null!=i[p]){if(null==f)if("e"==h.t&&null===f)m[i[p]]=null;else if(void 0!==c)m[i[p]]=c;else{if(!d||null!==f)continue;m[i[p]]=null}else m[i[p]]=d&&("n"!==h.t||"n"===h.t&&!1!==o.rawNumbers)?f:eH(h,f,o);null!=f&&(u=!1)}}else{if(void 0===c)continue;null!=i[p]&&(m[i[p]]=c)}}return{row:m,isempty:u}}function cJ(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof d){case"string":l=Jz(d);break;case"number":(l=Jz(e["!ref"])).s.r=d;break;default:l=d}r>0&&(a=0);var u=Vz(l.s.r),m=[],p=[],h=0,f=0,v=Array.isArray(e),g=l.s.r,x=0,y={};v&&!e[g]&&(e[g]=[]);var b=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(b[x]||{}).hidden)switch(m[x]=Gz(x),n=v?e[g][x]:e[m[x]+u],r){case 1:i[x]=x-l.s.c;break;case 2:i[x]=m[x];break;case 3:i[x]=c.header[x-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),o=s=eH(n,null,c),f=y[s]||0){do{o=s+"_"+f++}while(y[o]);y[s]=f,y[o]=1}else y[s]=1;i[x]=o}for(g=l.s.r+a;g<=l.e.r;++g)if(!(w[g]||{}).hidden){var j=lJ(e,l,g,m,r,i,v,c);(!1===j.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(p[h++]=j.row)}return p.length=h,p}var dJ=/"/g;function uJ(e,t,n,r,a,i,s,o){for(var l=!0,c=[],d="",u=Vz(n),m=t.s.c;m<=t.e.c;++m)if(r[m]){var p=o.dense?(e[n]||[])[m]:e[r[m]+u];if(null==p)d="";else if(null!=p.v){l=!1,d=""+(o.rawNumbers&&"n"==p.t?p.v:eH(p,null,o));for(var h=0,f=0;h!==d.length;++h)if((f=d.charCodeAt(h))===a||f===i||34===f||o.forceQuotes){d='"'+d.replace(dJ,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==p.f||p.F?d="":(l=!1,(d="="+p.f).indexOf(",")>=0&&(d='"'+d.replace(dJ,'""')+'"'));c.push(d)}return!1===o.blankrows&&l?null:c.join(s)}function mJ(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=Jz(e["!ref"]),i=void 0!==r.FS?r.FS:",",s=i.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==i?"\\|":i)+"+$"),d="",u=[];r.dense=Array.isArray(e);for(var m=r.skipHidden&&e["!cols"]||[],p=r.skipHidden&&e["!rows"]||[],h=a.s.c;h<=a.e.c;++h)(m[h]||{}).hidden||(u[h]=Gz(h));for(var f=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||null!=(d=uJ(e,a,v,u,s,l,i,r))&&(r.strip&&(d=d.replace(c,"")),(d||!1!==r.blankrows)&&n.push((f++?o:"")+d));return delete r.dense,n.join("")}function pJ(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=mJ(e,t);if("undefined"==typeof QB||"string"==t.type)return n;var r=QB.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function hJ(e,t,n){var r,a=n||{},i=+!a.skipHeader,s=e||{},o=0,l=0;if(s&&null!=a.origin)if("number"==typeof a.origin)o=a.origin;else{var c="string"==typeof a.origin?Kz(a.origin):a.origin;o=c.r,l=c.c}var d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+i}};if(s["!ref"]){var u=Jz(s["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),-1==o&&(o=u.e.r+1,d.e.r=o+t.length-1+i)}else-1==o&&(o=0,d.e.r=t.length-1+i);var m=a.header||[],p=0;t.forEach((function(e,t){fU(e).forEach((function(n){-1==(p=m.indexOf(n))&&(m[p=m.length]=n);var c=e[n],d="z",u="",h=Yz({c:l+p,r:o+t+i});r=fJ(s,h),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?d="n":"boolean"==typeof c?d="b":"string"==typeof c?d="s":c instanceof Date?(d="d",a.cellDates||(d="n",c=bU(c)),u=a.dateNF||EW[14]):null===c&&a.nullError&&(d="e",c=0),r?(r.t=d,r.v=c,delete r.w,delete r.R,u&&(r.z=u)):s[h]=r={t:d,v:c},u&&(r.z=u)):s[h]=c}))})),d.e.c=Math.max(d.e.c,l+m.length-1);var h=Vz(o);if(i)for(p=0;p<m.length;++p)s[Gz(p+l)+h]={t:"s",v:m[p]};return s["!ref"]=Zz(d),s}function fJ(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=Kz(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return fJ(e,Yz("number"!=typeof t?t:{r:t,c:n||0}))}function vJ(){return{SheetNames:[],Sheets:{}}}function gJ(e,t,n,r){var a=1;if(!n)for(;a<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+a);++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||n;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(n=s+a);++a);}if(GY(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function xJ(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var yJ={encode_col:Gz,encode_row:Vz,encode_cell:Yz,encode_range:Zz,decode_col:qz,decode_row:Hz,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Kz,decode_range:Xz,format_cell:eH,sheet_add_aoa:nH,sheet_add_json:hJ,sheet_add_dom:aZ,aoa_to_sheet:rH,json_to_sheet:function(e,t){return hJ(null,e,t)},table_to_sheet:iZ,table_to_book:function(e,t){return tH(iZ(e,t),t)},sheet_to_csv:mJ,sheet_to_txt:pJ,sheet_to_json:cJ,sheet_to_html:rZ,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var a,i=Jz(e["!ref"]),s="",o=[],l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=Gz(a);for(var d=i.s.r;d<=i.e.r;++d)for(s=Vz(d),a=i.s.c;a<=i.e.c;++a)if(n=o[a]+s,r="",void 0!==(t=c?(e[d]||[])[a]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:cJ,sheet_get_cell:fJ,book_new:vJ,book_append_sheet:gJ,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:xJ,cell_set_internal_link:function(e,t,n){return xJ(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var a="string"!=typeof t?t:Jz(t),i="string"==typeof t?t:Zz(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=fJ(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};zB.version;const bJ=()=>{const e=(0,w.wA)(),{services:n,servicesStatus:r,deleteServiceStatus:i}=(0,w.d4)((e=>e.services)),{toast:s}=(0,H.dj)(),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)("All"),[u,m]=(0,t.useState)(!1),[p,h]=(0,t.useState)(!1),[f,v]=(0,t.useState)(null),[g,x]=(0,t.useState)(!1),[y,b]=(0,t.useState)(null),N=wc("(max-width: 640px)"),[E,C]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),P=(0,a.Zp)(),[O,R]=(0,t.useState)(!1),M=t.useRef();(0,t.useEffect)((()=>{"idle"===r&&e(lt())}),[r,e]);const I=e=>{d(e)},L=["All",...new Set(n.map((e=>e.category)))],F=n.filter((e=>e.name.toLowerCase().includes(o.toLowerCase()))).filter((e=>"All"===c||e.category===c)),B=()=>{const e=F.map((e=>({Name:e.name,Category:e.category,Rate:e.rate}))),t=yJ.json_to_sheet(e),n=yJ.book_new();yJ.book_append_sheet(n,t,"Services"),oJ(n,"services_list.xlsx")},W=()=>{M.current.click()},U=async t=>{const n=t.target.files[0];if(n){R(!0);try{const t=eJ(await n.arrayBuffer(),{type:"array"}),r=t.SheetNames[0],a=t.Sheets[r],i=yJ.sheet_to_json(a).map((e=>({name:e.Name,category:e.Category,rate:e.Rate})));await e(ut(i)).unwrap(),s({title:"Import successful",description:`${i.length} services imported.`,variant:"success"}),e(lt())}catch(r){s({title:"Import failed",description:r.message||"Could not import services.",variant:"destructive"})}finally{R(!1),t.target.value=""}}};return(0,X.jsxs)(k.Zp,{className:"w-full mx-auto border-0 shadow-none",children:[(0,X.jsx)(k.aR,{children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>{P(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{className:"font-semibold",children:"Services"}),(0,X.jsx)(k.BT,{children:"Manage and view service information"})]})]}),N&&(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(j.$,{size:"icon",onClick:()=>m(!0),children:(0,X.jsx)(S.A,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{size:"icon",variant:"outline",onClick:()=>T(!0),children:(0,X.jsx)(Ui.A,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{size:"icon",variant:"outline",onClick:B,children:(0,X.jsx)(IB,{className:"h-4 w-4"})}),(0,X.jsxs)(j.$,{size:"icon",variant:"outline",onClick:W,disabled:O,children:[(0,X.jsx)("span",{className:"sr-only",children:"Import"}),(0,X.jsx)("input",{type:"file",accept:".xlsx, .xls",ref:M,onChange:U,style:{display:"none"}}),(0,X.jsx)(IB,{className:"h-4 w-4 rotate-180"})]})]})]})}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:justify-between md:items-center md:space-y-0 md:space-x-2 mb-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search services...",value:o,onChange:e=>{l(e.target.value)},className:"pl-8 w-full"})]}),N&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>C(!E),children:(0,X.jsx)(yc,{className:"h-4 w-4"})})]}),N?(0,X.jsx)(Lc,{children:E&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsx)("div",{className:"pt-2 space-y-2",children:(0,X.jsxs)(A.l6,{onValueChange:e=>I(e),defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Select category"})}),(0,X.jsx)(A.gC,{children:L.map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})})})}):(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full md:w-auto",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===c?"Select category":c]})}),(0,X.jsx)(pi,{children:L.map((e=>(0,X.jsx)(hi,{onClick:()=>I(e),children:e},e)))})]})]}),!N&&(0,X.jsxs)("div",{className:"flex-row-reverse space-x-2",children:[(0,X.jsxs)(j.$,{variant:"outline",onClick:B,className:"w-full md:w-auto",children:[(0,X.jsx)(IB,{className:"mr-2 h-4 w-4"})," Export"]}),(0,X.jsx)(j.$,{variant:"outline",onClick:W,className:"w-full md:w-auto",disabled:O,children:"Import"}),(0,X.jsx)("input",{type:"file",accept:".xlsx, .xls",ref:M,onChange:U,style:{display:"none"}}),(0,X.jsxs)(j.$,{variant:"outline",onClick:()=>m(!0),className:"w-full md:w-auto",children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Add Service"]}),(0,X.jsxs)(j.$,{variant:"outline",onClick:()=>T(!0),className:"w-full md:w-auto",children:[(0,X.jsx)(Ui.A,{className:"mr-2 h-4 w-4"})," Manage"]})]})]}),0===F.length?(0,X.jsxs)("div",{className:"text-center py-12",children:[(0,X.jsx)("p",{className:"mt-4 text-lg font-medium text-muted-foreground",children:"No services found"}),(0,X.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Try adjusting your search or filter to find what you're looking for."})]}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Name"}),(0,X.jsx)(uo.nd,{className:"hidden md:table-cell",children:"Category"}),(0,X.jsx)(uo.nd,{children:"Rate (\u20b9)"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:F.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"capitalize font-bold",children:e.name}),(0,X.jsx)(uo.nA,{className:"hidden md:table-cell",children:e.category}),(0,X.jsx)(uo.nA,{children:e.rate?`${e.rate.toLocaleString("en-IN")}`:""}),(0,X.jsxs)(uo.nA,{className:"flex",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{v(e),h(!0)})(e),children:(0,X.jsx)(Kx,{className:"h-3 w-3"})}),(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{b(e),x(!0)})(e),children:(0,X.jsx)(qx,{className:"h-3 w-3"})})]})]},e._id)))})]})})]}),(0,X.jsx)(FB,{isOpen:u,onClose:()=>m(!1)}),(0,X.jsx)(UB,{isOpen:p,onClose:()=>h(!1),service:f}),(0,X.jsx)($B,{isOpen:D,onClose:()=>T(!1),services:n}),(0,X.jsx)(Ce,{open:g,onOpenChange:x,children:(0,X.jsxs)(Ae,{className:"max-w-[90vw] w-full sm:max-w-[425px] rounded-lg",children:[(0,X.jsxs)(Pe,{children:[(0,X.jsxs)(Re,{className:"text-lg sm:text-xl",children:["Delete ",null===y||void 0===y?void 0:y.name,"?"]}),(0,X.jsx)(Me,{className:"text-sm sm:text-base",children:"This action cannot be undone. This will permanently delete the service."})]}),(0,X.jsxs)(Oe,{className:"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,X.jsx)(Le,{className:"w-full sm:w-auto",onClick:()=>x(!1),children:"Cancel"}),(0,X.jsx)(Ie,{className:"w-full sm:w-auto",onClick:()=>{e(dt(y._id)).unwrap().then((()=>{s({title:"Service deleted successfully",description:"The service has been removed.",variant:"success"})})).catch((e=>{s({title:"Failed to delete service",description:e.message||"There was an error deleting the service. Please try again.",variant:"destructive"})})).finally((()=>{x(!1),b(null)}))},disabled:"loading"===i,children:"loading"===i?"Deleting...":"Delete"})]})]})})]})},wJ=(0,N.A)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),jJ=(0,N.A)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),NJ=e=>{var n,r,i;let{initialBillId:s,initialBillDatas:o,patientData:l,isEmbedded:c=!1}=e;const d=(0,w.wA)(),u=(0,a.Zp)(),{billId:m}=(0,a.g)(),p=(0,a.zy)(),{toast:h}=(0,H.dj)(),f=(0,w.d4)((e=>e.hospitalSettings.settings)),{settings:v}=(0,w.d4)((e=>e.hospitalSettings)),[g,x]=(0,t.useState)(null),[y,N]=(0,t.useState)([]),[_,E]=(0,t.useState)(!1),[D,T]=(0,t.useState)(null),A=D,{services:P,servicesStatus:O}=(0,w.d4)((e=>e.services)),R=(0,w.d4)((e=>e.bills.createBillStatus)),M=(0,w.d4)((e=>e.bills.updateBillStatus)),[I,L]=(0,t.useState)([]),[F,B]=(0,t.useState)({serviceName:"",quantity:"",rate:"",total:"",category:""}),[W,U]=(0,t.useState)(""),[$,z]=(0,t.useState)(""),[V,q]=(0,t.useState)("amount"),[G,K]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)(!1),[J,Q]=(0,t.useState)(!1),[ee,te]=(0,t.useState)([]),[ne,re]=(0,t.useState)((()=>!1!==(null===f||void 0===f?void 0:f.defaultBreakBillMode))),[ae,ie]=(0,t.useState)(""),[se,oe]=(0,t.useState)(!1),[le,ce]=(0,t.useState)(!1),[de,ue]=(0,t.useState)(!1),[me,pe]=(0,t.useState)(null),[he,fe]=(0,t.useState)(o),[ve,ge]=(0,t.useState)(he||{}),[xe,ye]=(0,t.useState)(null),be=s||m;(0,t.useEffect)((()=>{re(!1!==(null===f||void 0===f?void 0:f.defaultBreakBillMode))}),[f]),(0,t.useEffect)((()=>{if(he&&l){var e,t;K(!0);const n=he.services.flatMap(((e,t)=>e.services.map(((n,r)=>({id:`${t}-${r}`,service:n.name,category:n.category,type:n.type,quantity:n.quantity,date:n.date,rate:n.rate,_id:n._id,total:n.rate*n.quantity,isExisting:!0,billId:e._id})))));L(n),te(n.map((e=>e.id)));const r=null===he||void 0===he||null===(e=he.services)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.additionalDiscount;z(r.toString()),T({_id:l._id,name:l.name,contactNumber:l.contactNumber,registrationNumber:l.registrationNumber,age:l.age,gender:l.gender,address:l.address,bloodGroup:l.bloodGroup,type:l.type,admissionDate:l.admissionDate||null,dischargeDate:l.dischargeDate||null,bookingDate:l.bookingDate||null,ipdNumber:l.ipdNumber||null})}else be&&d(yt(be)).unwrap().then((e=>{var t,n,r,a,i,s,o,l,c,d,u,m,h,f,v,g,x,y,b,w,j;K(!0),N([]);const _=null===(t=p.state)||void 0===t?void 0:t.lastServiceId;let S=e.services;if(_){const e=S.findIndex((e=>e._id===_));-1!==e&&(S=S.slice(0,e+1))}const E={services:[{_id:e._id,services:S.map((e=>({name:e.name,category:e.category,quantity:e.quantity,_id:e._id,type:e.type,date:e.date,rate:e.rate}))),createdAt:e.createdAt,totalAmount:e.totalAmount,additionalDiscount:e.additionalDiscount,subtotal:e.subtotal,amountPaid:e.amountPaid,payments:e.payments,invoiceNumber:e.invoiceNumber}],visit:null===e||void 0===e?void 0:e.visit,admission:null===e||void 0===e?void 0:e.admission,operationName:e.operationName,procedureName:e.procedureName,createdBy:e.createdBy},C=S.map(((e,t)=>({id:t+1,service:e.name,_id:e._id,date:e.date,type:e.type,category:e.category,quantity:e.quantity,rate:e.rate,total:e.rate*e.quantity,isExisting:!0})));L(C),te(C.map((e=>e.id))),z(e.additionalDiscount||""),T({_id:(null===(n=e.patient)||void 0===n?void 0:n._id)||(null===(r=e.patientInfo)||void 0===r?void 0:r._id),name:(null===(a=e.patientInfo)||void 0===a?void 0:a.name)||(null===(i=e.patient)||void 0===i?void 0:i.name),contactNumber:(null===(s=e.patientInfo)||void 0===s?void 0:s.phone)||(null===(o=e.patient)||void 0===o?void 0:o.phone),registrationNumber:(null===(l=e.patient)||void 0===l?void 0:l.registrationNumber)||(null===(c=e.patientInfo)||void 0===c?void 0:c.registrationNumber),age:(null===(d=e.patient)||void 0===d?void 0:d.age)||(null===(u=e.patientInfo)||void 0===u?void 0:u.age),gender:(null===(m=e.patient)||void 0===m?void 0:m.gender)||(null===(h=e.patientInfo)||void 0===h?void 0:h.gender),address:(null===(f=e.patient)||void 0===f?void 0:f.address)||(null===(v=e.patientInfo)||void 0===v?void 0:v.address),bloodGroup:(null===(g=e.patient)||void 0===g?void 0:g.bloodGroup)||(null===(x=e.patientInfo)||void 0===x?void 0:x.bloodGroup),ipdNumber:(null===(y=e.patientInfo)||void 0===y?void 0:y.ipdNumber)||(null===(b=e.patient)||void 0===b?void 0:b.ipdNumber),type:e.patientType||(null===(w=e.patientInfo)||void 0===w?void 0:w.type),bookingDate:(null===(j=e.patient)||void 0===j?void 0:j.bookingDate)||e.createdAt||null}),ge(E)})).catch((e=>{h({title:"Error fetching bill",description:"Could not load the bill details. Please try again.",variant:"destructive"}),c||u("/billings")}))}),[]);const we=(0,t.useMemo)((()=>{var e,t,n,r,a,i;const s=(null===ve||void 0===ve?void 0:ve.subtotal)||(null===ve||void 0===ve||null===(e=ve.services)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.subtotal)||0,o=(null===ve||void 0===ve||null===(n=ve.services)||void 0===n||null===(r=n[0])||void 0===r||r.services,(ne?I.filter((e=>"breakup"===e.type)):I.filter((e=>"breakup"!==e.type))).reduce(((e,t)=>e+t.total),0));Math.max(0,s-o);if(ne){var l,c;const e=parseFloat(ae||0);let t=0;return""!==$&&(t="amount"===V?parseFloat($):parseFloat($)/100*e),t=Math.min(t,e),{subtotal:s,additionalDiscount:t.toFixed(2),totalAmount:s-t,currentServicesSubtotal:o,totalAmountPaid:(null===ve||void 0===ve?void 0:ve.amountPaid)||(null===ve||void 0===ve||null===(l=ve.services)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.amountPaid)||0}}const d=o;let u=0;return""!==$&&(u="amount"===V?parseFloat($):parseFloat($)/100*d),u=Math.min(u,d),{subtotal:d,additionalDiscount:u.toFixed(2),totalAmount:d-u,currentServicesSubtotal:o,totalAmountPaid:(null===ve||void 0===ve?void 0:ve.amountPaid)||(null===ve||void 0===ve||null===(a=ve.services)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.amountPaid)||0}}),[I,$,V,ve,ne,ae,xe]);(0,t.useEffect)((()=>{we.totalAmount&&ie(we.totalAmount)}),[we]),(0,t.useEffect)((()=>{"idle"===O&&d(lt())}),[d,O]),(0,t.useEffect)((()=>{"succeeded"===R?(h({variant:"success",title:"Bill created successfully",description:"The bill has been successfully created."}),"OPD"===(null===A||void 0===A?void 0:A.type)&&(ge({patient:A,bill:{_id:Date.now().toString(),services:I.map((e=>({name:e.service,quantity:e.quantity,rate:e.rate}))),createdAt:new Date,subtotal:we.subtotal,additionalDiscount:we.additionalDiscount,totalAmount:we.totalAmount,amountPaid:we.totalAmount},payment:{paymentMethod:"Cash"}}),Z(!0)),d(Nt()),u("/billings")):"failed"===R&&(h({title:"Error creating bill",description:"There was an error creating the bill. Please try again.",variant:"destructive"}),d(Nt()))}),[R,d,h,u,A,I,we]),(0,t.useEffect)((()=>{"succeeded"===M?(h({variant:"success",title:"Bill updated succesuhusfully",description:"The bill has been successfully updated."}),d(Nt()),E(!0),Ce()):"failed"===M&&(h({title:"Error updating bill",description:"There was an error updating the bill. Please try again.",variant:"destructive"}),d(Nt()))}),[M,d,h]);const je=e=>{const{name:t,value:n}=e.target;B((e=>{const r={...e,[t]:n};if(r.quantity&&r.rate){const e=parseInt(r.quantity),t=parseFloat(r.rate);r.total=e*t}return r}))};(0,t.useEffect)((()=>{W&&B((e=>({...e,serviceName:W})))}),[W]);const Ne=e=>{const t=e.target.checked;if(y.length>0)return pe(t),void ue(!0);_e(t)},_e=e=>{re(e);const t=I.filter((t=>t.isExisting&&(e?"breakup"===t.type:"breakup"!==t.type)||"Room Rent"===t.category));N([]),te(t.map((e=>e.id)))},Se=e=>{const t=I.find((t=>t.id===e));L((t=>t.filter((t=>t.id!==e)))),t.isExisting||N((t=>t.filter((t=>t.id!==e)))),te((t=>t.filter((t=>t!==e))))},Ee=e=>{const t=I.find((t=>t.id===e));t&&(t.isExisting&&re(!1),B({serviceName:t.service,quantity:t.quantity.toString(),rate:t.rate.toString(),total:t.total.toString(),category:t.category}),U(t.service),L((t=>t.filter((t=>t.id!==e)))),t.isExisting||N((t=>t.filter((t=>t.id!==e)))),te((t=>t.filter((t=>t!==e)))))},Ce=()=>{var e;const t=I.filter((e=>ee.includes(e.id)&&(!ne||"additional"!==e.type&&(e.type||"Room Rent"===e.category)))),n=t.reduce(((e,t)=>e+t.total),0);let r=parseFloat($)||0;"percentage"===V&&(r=r/100*n);const a=(null===ve||void 0===ve||null===(e=ve.services)||void 0===e?void 0:e[0])||{};if("OPD"===(null===A||void 0===A?void 0:A.type)){const e={patient:{name:null===A||void 0===A?void 0:A.name,age:null===A||void 0===A?void 0:A.age,gender:null===A||void 0===A?void 0:A.gender,contactNumber:null===A||void 0===A?void 0:A.contactNumber,registrationNumber:null===A||void 0===A?void 0:A.registrationNumber,address:null===A||void 0===A?void 0:A.address},bill:{_id:a._id||Date.now().toString(),services:t.map((e=>({name:e.service,quantity:e.quantity,rate:e.rate,total:e.total}))),createdAt:a.createdAt||new Date,subtotal:we.subtotal,additionalDiscount:r,totalAmount:we.totalAmount,amountPaid:we.totalAmountPaid,payments:a.payments||[],invoiceNumber:a.invoiceNumber||null},admissionRecord:null===ve||void 0===ve?void 0:ve.visit,payment:a.payments||[]};x(e),null!==A&&void 0!==A&&A.name?Z(!0):Z(!1)}else{const e={_id:a._id||Date.now().toString(),createdAt:a.createdAt||new Date,admissionDate:null===A||void 0===A?void 0:A.admissionDate,dischargeDate:null===A||void 0===A?void 0:A.dischargeDate,patientInfo:{name:null===A||void 0===A?void 0:A.name,age:null===A||void 0===A?void 0:A.age,gender:null===A||void 0===A?void 0:A.gender,address:null===A||void 0===A?void 0:A.address,contactNumber:null===A||void 0===A?void 0:A.contactNumber,registrationNumber:null===A||void 0===A?void 0:A.registrationNumber,ipdNumber:null===A||void 0===A?void 0:A.ipdNumber},services:t.map((e=>({name:e.service,quantity:e.quantity,rate:e.rate,date:e.date}))),totalAmount:we.totalAmount,invoiceNumber:a.invoiceNumber||null,subtotal:we.subtotal,additionalDiscount:r,amountPaid:we.totalAmountPaid,payments:a.payments||ve.payments||[],operationName:null===ve||void 0===ve?void 0:ve.operationName,createdBy:null===ve||void 0===ve?void 0:ve.createdBy};x(e),null!==A&&void 0!==A&&A.name?Q(!0):Q(!1)}},De="loading"===R||"loading"===M,Te=e=>{e.target.checked?te(I.map((e=>e.id))):te([])},ke=e=>{te((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},Ae=(0,t.useMemo)((()=>{if(!ne||!ae)return 0;const e=I.filter((e=>"breakup"===e.type||"Room Rent"===e.category)).reduce(((e,t)=>e+t.total),0);return parseFloat(ae)-e}),[ne,ae,I]),Pe=()=>(0,X.jsxs)("div",{className:"flex items-center justify-between mb-4 p-2 bg-gray-50 rounded-lg  h-5",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)("input",{type:"checkbox",id:"breakTotalMode",checked:ne,onChange:Ne,className:"h-4 w-4 rounded border-gray-300"}),(0,X.jsxs)("label",{htmlFor:"breakTotalMode",className:"text-sm font-medium",children:["Break Total Mode"," ",(0,X.jsxs)("span",{className:"text-xs text-gray-500",children:["(To be only used when"," ",(0,X.jsx)("span",{className:"font-bold text-black",children:"net total"})," has to be divided)"]})]})]}),ne&&(0,X.jsxs)("div",{className:"flex items-center space-x-2 ",children:[(0,X.jsx)("label",{htmlFor:"targetTotal",className:"text-sm font-medium",children:"Target Total:"}),(0,X.jsx)(xn.p,{id:"targetTotal",value:ae,onChange:e=>ie(e.target.value),className:"w-32 h-6",placeholder:"Enter total"}),ae&&(0,X.jsxs)("div",{className:"text-sm",children:["Remaining:"," ",(0,X.jsxs)("span",{className:Ae<0?"text-red-500 font-bold":"text-green-500 font-bold",children:["\u20b9",Ae.toFixed(2)]})]})]})]}),[Oe,Re]=(0,t.useState)(v.defaultBillPrintView||"list");(0,t.useEffect)((()=>{v&&Re(v.defaultBillPrintView||"list")}),[v]);const Me=(0,t.useMemo)((()=>I.filter((e=>(ne?"breakup"===e.type:"breakup"!==e.type)||"Room Rent"===e.category))),[I,ne]),Ie=(0,t.useMemo)((()=>{if(ne||"datewise"!==Oe)return null;const e=Me.reduce(((e,t)=>{const n=t.date?(0,fo.GP)(new Date(t.date),"yyyy-MM-dd"):"No Date";return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.entries(e).sort(((e,t)=>{let[n]=e,[r]=t;return new Date(n)-new Date(r)})).map((e=>{let[t,n]=e;return{date:t,services:n.sort(((e,t)=>new Date(e.date)-new Date(t.date)))}}))}),[Me,ne,Oe]),[Le,Fe]=(0,t.useState)(!1),[We,Ue]=(0,t.useState)(""),[$e,ze]=(0,t.useState)(!1),[He,Ve]=(0,t.useState)([]),qe=async e=>{if(!Ye)return;const t=Ye.map((e=>{const t=P.find((t=>t._id===e.id));return{service:null===t||void 0===t?void 0:t.name,category:null===t||void 0===t?void 0:t.category,quantity:1,rate:e.rate,total:e.rate,type:"additional"}}));try{var n,r,a;const i=await d((0,Be.Cn)({admissionId:(null===ve||void 0===ve||null===(n=ve.admission)||void 0===n?void 0:n._id)||(null===ve||void 0===ve||null===(r=ve.services)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.admission),operationName:t.map((e=>e.service)).join(", "),billId:be||he.services[0]._id,includeInBill:e,serviceDetails:e?t:null})).unwrap();if(ge(i),e){const e=t.map((e=>({id:Date.now()+Math.random(),service:e.service,category:e.category,quantity:e.quantity,rate:e.rate,total:e.total,isExisting:!0,date:(new Date).toISOString(),type:e.type})));L((t=>[...t,...e])),N((t=>[...t,...e])),te((t=>[...t,...e.map((e=>e.id))])),Xe(null),Ve([])}h({title:"Success",description:"Operation name updated successfully",variant:"success"})}catch(i){h({title:"Error",description:"Failed to update operation name",variant:"destructive"})}finally{Ke(!1),Xe(null)}},[Ge,Ke]=(0,t.useState)(!1),[Ye,Xe]=(0,t.useState)(null);return(0,X.jsxs)("div",{className:"w-full  max-h-[calc(100vh-2rem)] overflow-hidden flex flex-col",children:[c?null:(0,X.jsx)("div",{className:"flex items-center justify-between",children:(0,X.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>u(-1),children:[(0,X.jsx)(gc.A,{className:"mr-2"}),(0,X.jsx)("h3",{className:" font-bold",children:G?"Edit Bill":"Add Bill"})]})}),(0,X.jsx)(k.Zp,{children:(0,X.jsx)(k.Wu,{className:"p-2",children:(0,X.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center mb-2 md:mb-0",children:[(0,X.jsxs)(Zs,{className:"h-10 w-10 mr-3",children:[(0,X.jsx)(Js,{src:`https://api.dicebear.com/6.x/initials/svg?seed=${null===A||void 0===A?void 0:A.name}`,alt:null===A||void 0===A?void 0:A.name}),(0,X.jsx)(Qs,{children:null===A||void 0===A||null===(n=A.name)||void 0===n?void 0:n.charAt(0)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"font-semibold",children:null===A||void 0===A?void 0:A.name}),(0,X.jsxs)("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[(0,X.jsx)(go.E,{variant:"outline",children:null===A||void 0===A?void 0:A.gender}),(0,X.jsxs)(go.E,{variant:"outline",children:[null===A||void 0===A?void 0:A.age," yrs"]}),(null===A||void 0===A?void 0:A.bloodGroup)&&(0,X.jsx)(go.E,{variant:"outline",children:A.bloodGroup}),(null===A||void 0===A?void 0:A.registrationNumber)&&(0,X.jsxs)(go.E,{variant:"outline",children:["UHID No: ",A.registrationNumber]}),(null===A||void 0===A?void 0:A.ipdNumber)&&(0,X.jsxs)(go.E,{variant:"outline",children:["IPD No: ",A.ipdNumber]}),"IPD"===(null===A||void 0===A?void 0:A.type)&&(0,X.jsx)(go.E,{variant:"bluish",className:"cursor-pointer ",onClick:()=>ze(!0),children:(0,X.jsxs)("span",{className:"flex items-center gap-1 text-xs",children:["Operation:"," ",(null===ve||void 0===ve?void 0:ve.operationName)||"Select Operation",(0,X.jsx)(Kx,{className:"ml-1 h-3 w-3"})]})})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 text-sm",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(_g,{className:"w-4 h-4 text-gray-400"}),(0,X.jsx)("span",{children:null===A||void 0===A?void 0:A.contactNumber})]}),(null===A||void 0===A?void 0:A.admissionDate)&&(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(jJ,{className:"w-4 h-4 text-gray-400"}),(0,X.jsxs)("span",{children:["Admit Date:"," ",(0,fo.GP)(new Date(A.admissionDate),"dd/MM/yyyy")]})]}),(null===A||void 0===A?void 0:A.dischargeDate)&&(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(jJ,{className:"w-4 h-4 text-gray-400"}),(0,X.jsxs)("span",{children:["Discharge:"," ",(0,fo.GP)(new Date(A.dischargeDate),"dd/MM/yyyy")]})]}),(null===A||void 0===A?void 0:A.address)&&(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(Sg,{className:"w-4 h-4 text-gray-400"}),(0,X.jsx)("span",{children:A.address})]})]})]})})}),(0,X.jsx)(k.Zp,{children:(0,X.jsxs)(k.Wu,{className:"p-3",children:[(0,X.jsx)(Pe,{}),(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=parseFloat(F.total),n=parseFloat(F.quantity);if(ne){if(I.filter((e=>"breakup"===e.type||"Room Rent"===e.category)).reduce(((e,t)=>e+t.total),0)+t>parseFloat(ae||0))return void h({title:"Exceeds Target Total",description:"This service would exceed the target total amount.",variant:"destructive"})}const r={id:Date.now(),service:F.serviceName,category:F.category||"Not specified",quantity:n,rate:t/n,total:t,isExisting:!1,date:(new Date).toISOString(),type:ne?"breakup":"additional"};L((e=>[...e,r])),N((e=>[...e,r])),te((e=>[...e,r.id])),B({serviceName:"",quantity:"",rate:"",total:"",category:""}),U("")},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 items-end mb-2",children:[(0,X.jsxs)("div",{className:"col-span-full sm:col-span-1 md:col-span-2",children:[(0,X.jsx)(wi.J,{htmlFor:"serviceName",children:"Service Name"}),(0,X.jsx)(bi.P,{suggestions:ne?P.filter((e=>"Sub Category"===e.category)):P,placeholder:"Enter service name",value:W,setValue:U,onSuggestionSelect:e=>{B((t=>({...t,serviceName:e.name,rate:e.rate,total:e.rate,category:e.category,quantity:1})))}})]}),(0,X.jsx)("div",{className:"col-span-full sm:col-span-1 md:col-span-3 lg:col-span-3",children:(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,X.jsxs)("div",{className:"col-span-1",children:[(0,X.jsx)(wi.J,{htmlFor:"quantity",className:"hidden sm:block",children:"Quantity *"}),(0,X.jsx)(xn.p,{type:"number",id:"quantity",name:"quantity",placeholder:"Qty *",value:F.quantity,onChange:je,required:!0,className:"w-full"})]}),(0,X.jsxs)("div",{className:"col-span-1",children:[(0,X.jsx)(wi.J,{htmlFor:"rate",className:"hidden sm:block",children:"Rate"}),(0,X.jsx)(xn.p,{type:"number",id:"rate",name:"rate",placeholder:"Rate",value:F.rate,onChange:je,className:"w-full"})]}),(0,X.jsxs)("div",{className:"col-span-1",children:[(0,X.jsx)(wi.J,{htmlFor:"total",className:"hidden sm:block",children:"Total *"}),(0,X.jsx)(xn.p,{type:"number",id:"total",name:"total",placeholder:"Total *",value:F.total,onChange:je,required:!0,className:"w-full"})]})]})}),(0,X.jsxs)("div",{className:"col-span-full sm:col-span-1 flex items-center justify-center mt-2 sm:mt-0",children:[(0,X.jsxs)(j.$,{type:"submit",variant:"outline",size:"sm",className:"h-8 w-full sm:w-auto sm:px-3 mr-2 flex items-center justify-center",children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-2"}),(0,X.jsx)("span",{children:"Add"})]}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",size:"sm",className:"h-8 w-full sm:w-8 sm:p-0",onClick:()=>B({serviceName:"",quantity:"",rate:"",total:"",category:""}),children:[(0,X.jsx)(C.A,{className:"h-4 w-4 sm:inline"}),(0,X.jsx)("span",{className:"sm:hidden",children:"Clear"})]})]})]}),(0,X.jsx)(io,{className:"my-2"}),(0,X.jsx)("div",{className:"sm:hidden space-y-1",children:"datewise"!==Oe||ne?Me.map((e=>(0,X.jsx)(k.Zp,{className:"mb-1",children:(0,X.jsxs)(k.Wu,{className:"p-2",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("span",{className:"font-semibold",children:e.service}),(0,X.jsxs)("div",{children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 mr-2",onClick:()=>Ee(e.id),children:(0,X.jsx)(Kx,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>Se(e.id),children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,X.jsxs)("div",{children:["Date:"," ",e.date?(0,fo.GP)(new Date(e.date),"dd/MM/yyyy  hh:mm a"):"-"]}),(0,X.jsxs)("div",{children:["Quantity: ",e.quantity]}),(0,X.jsxs)("div",{children:["Rate: ",e.rate.toLocaleString("en-IN")]}),(0,X.jsxs)("div",{children:["Total: \u20b9",e.total.toLocaleString("en-IN")]})]})]})},e.id))):null===Ie||void 0===Ie?void 0:Ie.map((e=>{let{date:t,services:n}=e;return(0,X.jsxs)("div",{className:"mb-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"No Date"===t?"No Date":(0,fo.GP)(new Date(t),"dd MMMM yyyy")}),n.map((e=>(0,X.jsx)(k.Zp,{className:"mb-1",children:(0,X.jsxs)(k.Wu,{className:"p-2",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)("input",{type:"checkbox",className:"h-4 w-4 mr-2",checked:ee.includes(e.id),onChange:()=>ke(e.id)}),(0,X.jsx)("span",{className:"font-semibold",children:e.service})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 mr-2",onClick:()=>Ee(e.id),children:(0,X.jsx)(Kx,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>Se(e.id),children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,X.jsxs)("div",{children:["Time:"," ",e.date?(0,fo.GP)(new Date(e.date),"hh:mm a"):"-"]}),(0,X.jsxs)("div",{children:["Quantity: ",e.quantity]}),(0,X.jsxs)("div",{children:["Rate: ",e.rate.toLocaleString("en-IN")]}),(0,X.jsxs)("div",{children:["Total: \u20b9",e.total.toLocaleString("en-IN")]})]})]})},e.id)))]},t)}))}),(0,X.jsx)("div",{className:"hidden sm:block",children:(0,X.jsx)(b.F,{className:"h-[250px] w-full",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[50px] h-[35px]",children:(0,X.jsx)("input",{type:"checkbox",className:"h-4 w-4",checked:ee.length===Me.length&&Me.length>0,onChange:Te})}),(0,X.jsx)(uo.nd,{className:"h-[35px]",children:"Service"}),(0,X.jsx)(uo.nd,{className:"h-[35px]",children:"Date"}),(0,X.jsx)(uo.nd,{className:"h-[35px]",children:"Quantity"}),(0,X.jsx)(uo.nd,{className:"text-right h-[35px]",children:"Rate"}),(0,X.jsx)(uo.nd,{className:"text-right h-[35px]",children:"Total"}),(0,X.jsx)(uo.nd,{className:"text-right h-[20px]",children:"Action"})]})}),(0,X.jsx)(uo.BF,{children:"datewise"!==Oe||ne?Me.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:(0,X.jsx)("input",{type:"checkbox",className:"h-4 w-4",checked:ee.includes(e.id),onChange:()=>ke(e.id)})}),(0,X.jsx)(uo.nA,{className:"font-medium",children:e.service}),(0,X.jsx)(uo.nA,{children:e.date?(0,fo.GP)(new Date(e.date),"dd/MM/yyyy hh:mm a"):"-"}),(0,X.jsx)(uo.nA,{children:e.quantity}),(0,X.jsx)(uo.nA,{className:"text-right",children:e.rate.toLocaleString("en-IN")}),(0,X.jsx)(uo.nA,{className:"text-right font-semibold",children:e.total.toLocaleString("en-IN")}),(0,X.jsxs)(uo.nA,{className:"text-right",children:[(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"h-6 w-6 p-0 mr-2",onClick:()=>Ee(e.id),children:[(0,X.jsx)("span",{className:"sr-only",children:"Edit"}),(0,X.jsx)(Kx,{className:"h-3 w-3"})]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>Se(e.id),children:[(0,X.jsx)("span",{className:"sr-only",children:"Remove"}),(0,X.jsx)(C.A,{className:"h-3 w-3 text-red-600"})]})]})]},e.id))):null===Ie||void 0===Ie?void 0:Ie.map((e=>{let{date:t,services:n}=e;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(uo.Hj,{children:(0,X.jsx)(uo.nA,{colSpan:7,className:"bg-gray-50",children:(0,X.jsx)("span",{className:"font-semibold",children:"No Date"===t?"No Date":(0,fo.GP)(new Date(t),"dd MMMM yyyy")})})},`date-${t}`),n.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:(0,X.jsx)("input",{type:"checkbox",className:"h-3 w-3",checked:ee.includes(e.id),onChange:()=>ke(e.id)})}),(0,X.jsx)(uo.nA,{className:"font-medium",children:e.service}),(0,X.jsx)(uo.nA,{children:e.date?(0,fo.GP)(new Date(e.date),"hh:mm a"):"-"}),(0,X.jsx)(uo.nA,{children:e.quantity}),(0,X.jsx)(uo.nA,{className:"text-right",children:e.rate.toLocaleString("en-IN")}),(0,X.jsx)(uo.nA,{className:"text-right font-semibold",children:e.total.toLocaleString("en-IN")}),(0,X.jsxs)(uo.nA,{className:"text-right",children:[(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"h-6 w-6 p-0 mr-2",onClick:()=>Ee(e.id),children:[(0,X.jsx)("span",{className:"sr-only",children:"Edit"}),(0,X.jsx)(Kx,{className:"h-3 w-3"})]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>Se(e.id),children:[(0,X.jsx)("span",{className:"sr-only",children:"Remove"}),(0,X.jsx)(C.A,{className:"h-3 w-3 text-red-600"})]})]})]},e.id)))]})}))})]})})})]})}),(0,X.jsx)(k.Zp,{children:(0,X.jsxs)(k.Wu,{className:"p-1 grid grid-cols-"+(ne?"1":"2"),children:[!ne&&(0,X.jsxs)("div",{className:"flex  mb-2 space-x-2",children:[(0,X.jsx)(j.$,{variant:"list"===Oe?"default":"outline",size:"sm",onClick:()=>Re("list"),className:"h-8",children:"List View"}),(0,X.jsx)(j.$,{variant:"datewise"===Oe?"default":"outline",size:"sm",onClick:()=>Re("datewise"),className:"h-8",children:"Date-wise View"}),(0,X.jsx)(j.$,{variant:"listwithoutdate"===Oe?"default":"outline",size:"sm",onClick:()=>Re("listwithoutdate"),className:"h-8",children:"List without Date"})]}),(0,X.jsxs)("div",{className:"flex flex-col items-end space-y-0.5 text-sm",children:[(0,X.jsxs)("div",{className:"flex justify-end items-center w-full",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-4 min-w-[100px] text-right",children:"Subtotal(\u20b9):"}),(0,X.jsx)("div",{className:"w-32 text-right",children:(0,X.jsx)("span",{className:"font-medium",children:parseFloat(we.subtotal||0).toFixed(2)})})]}),(0,X.jsxs)("div",{className:"flex justify-end items-center w-full ",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-4 min-w-[100px] text-right",children:"Discount(\u20b9):"}),(0,X.jsx)("div",{className:"w-32",children:(0,X.jsx)(xn.p,{value:(parseFloat($)||0).toFixed(2),onChange:e=>{z(e.target.value)},className:"w-full h-7 text-right text-red-600 font-medium border-0 p-0 focus:ring-1 focus-visible:ring-1 focus-visible:ring-offset-1 bg-transparent",placeholder:""})})]}),(0,X.jsxs)("div",{className:"flex justify-end items-center w-full border-t border-gray-200 ",children:[(0,X.jsx)("span",{className:"font-medium mr-4 min-w-[100px] text-right",children:"Net Total(\u20b9):"}),(0,X.jsx)("div",{className:"w-32 text-right",children:(0,X.jsx)("span",{className:"font-medium",children:null===(r=we.totalAmount)||void 0===r?void 0:r.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})})]}),(0,X.jsxs)("div",{className:"flex justify-end items-center w-full",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-4 min-w-[100px] text-right",children:"Paid(\u20b9):"}),(0,X.jsx)("div",{className:"w-32 text-right",children:(0,X.jsx)("span",{className:"text-green-600 font-bold",children:null===(i=we.totalAmountPaid)||void 0===i?void 0:i.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})})]}),(0,X.jsxs)("div",{className:"flex justify-end items-center w-full border-t border-gray-200 ",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-4 min-w-[100px] text-right",children:"Balance Due(\u20b9):"}),(0,X.jsx)("div",{className:"w-32 text-right",children:(0,X.jsx)("span",{className:"text-red-600 font-bold",children:(we.totalAmount-(we.totalAmountPaid||0)).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})})]})]})]})}),(0,X.jsx)("div",{className:"flex flex-col sm:flex-row justify-end space-y-1 sm:space-y-0 sm:space-x-4 mt-2",children:(0,X.jsxs)("div",{className:"flex w-full sm:w-auto gap-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>{L([]),N([]),B({serviceName:"",quantity:"",rate:"",total:"",category:""}),U(""),z(""),q("amount"),te([])},disabled:De,className:"w-1/2 sm:w-auto",children:"Reset"}),(0,X.jsxs)(j.$,{variant:"outline",onClick:Ce,className:"w-1/2 sm:w-auto",children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Bill"]}),(0,X.jsxs)(j.$,{variant:"outline",onClick:()=>{var e,t,n,r,a,i;const s={_id:(null===ve||void 0===ve||null===(e=ve.services)||void 0===e||null===(t=e[0])||void 0===t?void 0:t._id)||be,totalAmount:we.totalAmount,amountPaid:we.totalAmountPaid,payments:(null===ve||void 0===ve||null===(n=ve.services)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.payments)||[],createdAt:(null===ve||void 0===ve||null===(a=ve.services)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.createdAt)||new Date};x(s),oe(!0)},className:"w-1/2 sm:w-auto",disabled:!be&&!he,children:[(0,X.jsx)(wJ,{className:"mr-2 h-4 w-4"}),"Pay"]}),(0,X.jsx)(j.$,{onClick:()=>{if(0===I.length)return void h({title:"No services added",description:"Please add at least one service before creating the bill.",variant:"destructive"});let e=parseFloat($)||0;"percentage"===V&&(e=e/100*we.subtotal);const t={services:I.map((e=>({name:e.service,quantity:e.quantity,rate:e.rate,_id:e._id,discount:e.discAmt,date:e.date,category:e.category,isExisting:e.isExisting||!1,type:e.type}))),patient:A._id,patientType:A.type,patientInfo:{name:A.name,phone:A.contactNumber},totals:{totalAmount:we.totalAmount,subtotal:we.subtotal,additionalDiscount:e,currentServicesSubtotal:we.currentServicesSubtotal}};d(G?ft({billId:be||he.services[0]._id,billData:t}):pt(t))},disabled:De,className:"w-1/2 sm:w-auto",children:De?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),G?"Updating...":"Creating..."]}):G?"Update Bill":"Create Bill"})]})}),(0,X.jsx)(Lg,{isOpen:Y,setIsOpen:()=>{Z(!1),u("/billings")},patientData:g,services:I,selectedServices:ee,onSelectService:ke,onSelectAll:Te}),(0,X.jsx)(jc,{isOpen:J,setIsOpen:()=>{Q(!1),_&&(E(!1),u("/billings"))},billData:g,services:I,selectedServices:ee,onSelectService:ke,onSelectAll:Te,viewMode:Oe}),(0,X.jsx)(Nc,{isOpen:se,setIsOpen:oe,billData:g,onPaymentSuccess:e=>(e=>{ge(e),e._id,e.totalAmount,e.amountPaid,e.payments,x(e),Q(!0)})(e)}),(0,X.jsx)(so.lG,{open:de,onOpenChange:ue,children:(0,X.jsxs)(so.Cf,{children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Warning"}),(0,X.jsx)(so.rr,{children:"Changing the break total mode will delete all newly added services as they were calculated under different rules. Existing services will be preserved.Update the bill to reflect any chnages. Do you want to proceed?"})]}),(0,X.jsxs)(so.Es,{children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>{ue(!1),pe(null)},children:"Cancel"}),(0,X.jsx)(j.$,{onClick:()=>{_e(me),ue(!1),pe(null)},children:"Proceed"})]})]})}),(0,X.jsx)($g,{isOpen:$e,onClose:()=>ze(!1),services:P.filter((e=>"Surgery"===e.category)),selectedServices:He,onServicesChange:e=>{Ve(e),(async e=>{0!==e.length&&(Xe(e),Ke(!0),ze(!1))})(e)}}),(0,X.jsx)(so.lG,{open:Ge,onOpenChange:Ke,children:(0,X.jsxs)(so.Cf,{children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{children:"Operation Options"}),(0,X.jsx)(so.rr,{children:"How would you like to add the selected operation?"})]}),(0,X.jsxs)("div",{className:"flex flex-col gap-4 py-4",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>qe(!1),className:"w-full",children:"Add Operation Name Only"}),(0,X.jsx)(j.$,{onClick:()=>qe(!0),className:"w-full",children:"Add Operation Name with Charges in Bill"})]})]})})]})},_J=(0,N.A)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),SJ=(0,N.A)("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),EJ=(0,N.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),CJ=(0,N.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function DJ(){const e=(0,a.Zp)(),[n,r]=(0,t.useState)(!1),i=()=>{r(!1)};return(0,X.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,X.jsxs)("header",{className:"px-2 lg:px-6 h-16 flex items-center justify-between bg-white shadow-sm",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsxs)(Ss,{open:n,onOpenChange:r,children:[(0,X.jsx)(Es,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"ghost",size:"icon",className:"md:hidden mr-0",children:[(0,X.jsx)(_i,{className:"h-6 w-6"}),(0,X.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,X.jsx)(ks,{side:"left",children:(0,X.jsxs)("nav",{className:"flex flex-col gap-4 mt-4",children:[(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/",onClick:i,children:"Home"}),(0,X.jsx)("a",{href:"#features",className:"text-sm font-medium hover:underline underline-offset-4 cursor-pointer",onClick:t=>((t,n)=>{t.preventDefault(),i(),"scrollToFeatures"===n&&setTimeout((()=>{e("/",{state:{scrollToFeatures:!0}})}),300)})(t,"scrollToFeatures"),children:"Features"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/about",onClick:i,children:"About"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/contact",onClick:i,children:"Contact"})]})})]}),(0,X.jsxs)(f,{className:"flex items-center justify-center",to:"/",children:[(0,X.jsx)(js,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"}),(0,X.jsx)("span",{className:"ml-2 text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"The Hospital"})]})]}),(0,X.jsxs)("nav",{className:"hidden md:flex items-center space-x-4",children:[(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/",children:"Home"}),(0,X.jsx)("a",{href:"#features",className:"text-sm font-medium hover:underline underline-offset-4 cursor-pointer",onClick:t=>{t.preventDefault(),e("/",{state:{scrollToFeatures:!0}})},children:"Features"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/about",children:"About"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/contact",children:"Contact"})]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"md:hidden mr-2",onClick:()=>{e("/",{state:{scrollToLogin:!0}})},children:[(0,X.jsx)(Si,{className:"h-4 w-4 mr-2"}),"Login"]})]}),(0,X.jsxs)("main",{className:"flex-1",children:[(0,X.jsx)("section",{className:"w-full py-12 sm:py-16 md:py-20 lg:py-32 bg-white",children:(0,X.jsx)("div",{className:"container px-4 md:px-6 mx-auto",children:(0,X.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold tracking-tighter",children:"About The Hospital"}),(0,X.jsx)("p",{className:"max-w-[900px] text-sm sm:text-base md:text-lg lg:text-xl text-gray-500",children:"Revolutionizing healthcare management with cutting-edge software solutions."})]})})})}),(0,X.jsx)("section",{className:"w-full py-8 sm:py-12 md:py-16 lg:py-20 bg-gray-100",children:(0,X.jsxs)("div",{className:"container px-4 md:px-6 mx-auto",children:[(0,X.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tighter text-center mb-8 sm:mb-12",children:"Comprehensive Healthcare Management Solution"}),(0,X.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 lg:gap-12",children:[(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(ki,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Secure Patient Records"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"State-of-the-art encryption and access controls ensure patient data privacy and compliance with healthcare regulations."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Ai,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Pharmacy Management"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Streamline inventory, prescriptions, and billing with our integrated pharmacy management system."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Fi,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Laboratory Management"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Efficiently manage lab orders, results, and reporting to enhance diagnostic processes."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(_J,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Staff Management"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Optimize scheduling, performance tracking, and resource allocation for healthcare professionals."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Pi,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Advanced Analytics"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Gain actionable insights with powerful reporting tools and predictive analytics."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Ii,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Telemedicine Integration"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Seamlessly incorporate virtual consultations and remote patient monitoring into your workflow."})]})]})]})}),(0,X.jsx)("section",{className:"w-full py-8 sm:py-12 md:py-16 lg:py-20 bg-blue-50",children:(0,X.jsxs)("div",{className:"container px-4 md:px-6 mx-auto",children:[(0,X.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tighter text-center mb-8",children:"Our Impact on Healthcare"}),(0,X.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 lg:gap-12",children:[(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(SJ,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Improved Patient Care"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Our software enables healthcare providers to focus more on patient care by streamlining administrative tasks."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(Pi,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Enhanced Efficiency"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Hospitals using our solution report up to 30% increase in operational efficiency and resource utilization."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(ki,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Empowered Staff"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Healthcare professionals can make informed decisions quickly with our intuitive and data-driven platform."})]})]})]})}),(0,X.jsx)("section",{className:"w-full py-8 sm:py-12 md:py-16 lg:py-20 bg-gray-100",children:(0,X.jsxs)("div",{className:"container px-4 md:px-6 mx-auto",children:[(0,X.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tighter text-center mb-8 sm:mb-12",children:"Our Core Values"}),(0,X.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 lg:gap-12",children:[(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(ki,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Patient-Centric Approach"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"We prioritize the needs of patients and healthcare providers in every feature we develop."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(EJ,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Innovation"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"We continuously push the boundaries of technology to bring cutting-edge solutions to healthcare management."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,X.jsx)(CJ,{className:"h-10 w-10 sm:h-12 sm:w-12 text-blue-600"}),(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Excellence"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"We strive for excellence in every aspect of our software, from functionality to user experience."})]})]})]})}),(0,X.jsx)("section",{className:"w-full py-8 sm:py-12 md:py-16 lg:py-20",children:(0,X.jsxs)("div",{className:"container px-4 md:px-6 mx-auto",children:[(0,X.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tighter text-center mb-8 sm:mb-12",children:"Why Choose Our Solution"}),(0,X.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:gap-12",children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Interoperability"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Our software seamlessly integrates with existing healthcare systems and devices, ensuring smooth data flow and compatibility."})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Scalability"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Whether you're a small clinic or a large hospital network, our solution grows with your needs."})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Customization"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Tailor the software to your specific workflows and requirements with our flexible configuration options."})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"24/7 Support"}),(0,X.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Our dedicated support team is always available to ensure your operations run smoothly around the clock."})]})]})]})}),(0,X.jsx)("section",{className:"w-full py-8 sm:py-12 md:py-16 lg:py-20",children:(0,X.jsx)("div",{className:"container px-4 md:px-6 mx-auto",children:(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tighter",children:"Our Team"}),(0,X.jsx)("p",{className:"max-w-[900px] text-sm sm:text-base md:text-lg lg:text-xl text-gray-500",children:"Behind The Hospital is a dedicated team of healthcare professionals, software engineers, and industry experts committed to revolutionizing hospital management."})]}),(0,X.jsx)("div",{className:"w-full max-w-sm space-y-2",children:(0,X.jsxs)(j.$,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",onClick:()=>{e("/contact",{state:{scrollToContact:!0}})},children:[(0,X.jsx)(sx,{className:"mr-2 h-4 w-4"})," Contact Us"]})})]})})})]}),(0,X.jsxs)("footer",{className:"flex flex-col gap-2 sm:flex-row py-4 sm:py-6 w-full shrink-0 items-center px-4 md:px-6 border-t bg-white",children:[(0,X.jsx)("p",{className:"text-xs text-gray-500",children:"\xa9 2024 The Hospital. All rights reserved."}),(0,X.jsxs)("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6",children:[(0,X.jsx)(f,{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Terms of Service"}),(0,X.jsx)(f,{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Privacy"})]})]})]})}const TJ=(0,N.A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),kJ=(0,N.A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),AJ=(0,N.A)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);function PJ(){const e=(0,a.Zp)(),n=(0,a.zy)(),r=(0,t.useRef)(null),[i,s]=(0,t.useState)(!1);(0,t.useEffect)((()=>{var e;null!==(e=n.state)&&void 0!==e&&e.scrollToContact&&r.current&&r.current.scrollIntoView({behavior:"smooth"})}),[n]);const o=()=>{s(!1)};return(0,X.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,X.jsxs)("header",{className:"px-2 lg:px-6 h-16 flex items-center justify-between bg-white shadow-sm",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsxs)(Ss,{open:i,onOpenChange:s,children:[(0,X.jsx)(Es,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"ghost",size:"icon",className:"md:hidden mr-0",children:[(0,X.jsx)(_i,{className:"h-6 w-6"}),(0,X.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,X.jsx)(ks,{side:"left",children:(0,X.jsxs)("nav",{className:"flex flex-col gap-4 mt-4",children:[(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/",onClick:o,children:"Home"}),(0,X.jsx)("a",{href:"#features",className:"text-sm font-medium hover:underline underline-offset-4 cursor-pointer",onClick:t=>((t,n)=>{t.preventDefault(),o(),"scrollToFeatures"===n&&setTimeout((()=>{e("/",{state:{scrollToFeatures:!0}})}),300)})(t,"scrollToFeatures"),children:"Features"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/about",onClick:o,children:"About"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/contact",onClick:o,children:"Contact"})]})})]}),(0,X.jsxs)(f,{className:"flex items-center justify-center",to:"/",children:[(0,X.jsx)(js,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"}),(0,X.jsx)("span",{className:"ml-2 text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"The Hospital"})]})]}),(0,X.jsxs)("nav",{className:"hidden md:flex items-center space-x-4",children:[(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/",children:"Home"}),(0,X.jsx)("a",{href:"#features",className:"text-sm font-medium hover:underline underline-offset-4 cursor-pointer",onClick:t=>{t.preventDefault(),e("/",{state:{scrollToFeatures:!0}})},children:"Features"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/about",children:"About"}),(0,X.jsx)(f,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/contact",children:"Contact"})]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",className:"md:hidden mr-2",onClick:()=>{e("/",{state:{scrollToLogin:!0}})},children:[(0,X.jsx)(Si,{className:"h-4 w-4 mr-2"}),"Login"]})]}),(0,X.jsxs)("main",{className:"flex-1",children:[(0,X.jsx)("section",{className:"w-full py-6 sm:py-8 md:py-12 bg-white",children:(0,X.jsx)("div",{className:"container px-4 md:px-6",children:(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2 sm:space-y-4 text-center",children:[(0,X.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold tracking-tighter",children:"Contact Us"}),(0,X.jsx)("p",{className:"max-w-[600px] text-gray-500 text-sm sm:text-base md:text-lg",children:"We're here to help. Get in touch with us for any inquiries or support."})]})})}),(0,X.jsx)("section",{className:"w-full py-6 sm:py-8 md:py-12",children:(0,X.jsx)("div",{className:"container px-4 md:px-6",children:(0,X.jsxs)("div",{className:"grid gap-8 md:gap-12 lg:grid-cols-2",children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold tracking-tighter",children:"Contact Information"}),(0,X.jsx)(k.Zp,{className:"w-full",children:(0,X.jsx)(k.Wu,{className:"p-4 sm:p-6",children:(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,X.jsx)(_g,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 flex-shrink-0"}),(0,X.jsx)("span",{className:"text-sm sm:text-base",children:"+91 9097849090"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,X.jsx)(sx,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 flex-shrink-0"}),(0,X.jsx)("span",{className:"text-sm sm:text-base",children:"support@thehospital.com"})]}),(0,X.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,X.jsx)(Sg,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 flex-shrink-0 mt-1"}),(0,X.jsxs)("span",{className:"text-sm sm:text-base",children:["Thousand Ways Private Limited",(0,X.jsx)("br",{}),"Dariyapur, Bodh Gaya,",(0,X.jsx)("br",{}),"Bihar 824237, India"]})]})]})})}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsx)("h3",{className:"text-lg sm:text-xl font-bold",children:"Follow Us"}),(0,X.jsxs)("div",{className:"flex space-x-4",children:[(0,X.jsxs)(f,{href:"#",className:"text-gray-500 hover:text-blue-600",children:[(0,X.jsx)(TJ,{className:"h-5 w-5 sm:h-6 sm:w-6"}),(0,X.jsx)("span",{className:"sr-only",children:"Facebook"})]}),(0,X.jsxs)(f,{href:"#",className:"text-gray-500 hover:text-blue-600",children:[(0,X.jsx)(kJ,{className:"h-5 w-5 sm:h-6 sm:w-6"}),(0,X.jsx)("span",{className:"sr-only",children:"Twitter"})]}),(0,X.jsxs)(f,{href:"#",className:"text-gray-500 hover:text-blue-600",children:[(0,X.jsx)(AJ,{className:"h-5 w-5 sm:h-6 sm:w-6"}),(0,X.jsx)("span",{className:"sr-only",children:"LinkedIn"})]})]})]})]}),(0,X.jsxs)("div",{className:"space-y-4",ref:r,children:[(0,X.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold tracking-tighter",children:"Contact Us"}),(0,X.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"We appreciate your interest. Please complete the form below, and a member of our team will respond promptly."}),(0,X.jsxs)("form",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("label",{htmlFor:"name",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Full Name"}),(0,X.jsx)(xn.p,{id:"name",placeholder:"Enter your full name",required:!0,className:"w-full"})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("label",{htmlFor:"mobile",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Contact Number"}),(0,X.jsx)(xn.p,{id:"mobile",placeholder:"Enter your contact number",required:!0,type:"tel",className:"w-full"})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)("label",{htmlFor:"message",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Inquiry"}),(0,X.jsx)(xo.T,{id:"message",placeholder:"Please provide details about your inquiry",required:!0,className:"w-full"})]}),(0,X.jsx)(j.$,{type:"submit",className:"w-full bg-blue-600 text-white hover:bg-blue-700",children:"Submit Inquiry"})]})]})]})})})]}),(0,X.jsxs)("footer",{className:"flex flex-col sm:flex-row justify-between items-center py-6 px-4 md:px-6 border-t bg-white",children:[(0,X.jsx)("p",{className:"text-xs text-gray-500 mb-2 sm:mb-0",children:"\xa9 2024 The Hospital. All rights reserved."}),(0,X.jsxs)("nav",{className:"flex gap-4",children:[(0,X.jsx)(f,{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Terms of Service"}),(0,X.jsx)(f,{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Privacy"})]})]})]})}const OJ=[{_id:"1",name:"Supplies"},{_id:"2",name:"Utilities"},{_id:"3",name:"Salaries"},{_id:"4",name:"Equipment"},{_id:"5",name:"Maintenance"},{_id:"6",name:"OPDReturn"}],RJ=e=>{let{isOpen:n,onClose:r,expenseToEdit:a}=e;const i=(0,w.wA)(),{createExpenseStatus:s,updateExpenseStatus:o}=(0,w.d4)((e=>e.expenses)),{toast:l}=(0,H.dj)(),[c,d]=(0,t.useState)({category:"",description:"",amount:"",date:"",amountPaid:"",paymentMethod:""}),[u,m]=(0,t.useState)({category:"",description:"",amount:"",date:"",paymentMethod:""});(0,t.useEffect)((()=>{if(a){const e=new Date(a.date);d({category:a.category,description:a.description,amount:a.amount.toString(),date:(0,fo.GP)(e,"yyyy-MM-dd"),amountPaid:a.amountPaid.toString(),paymentMethod:a.paymentMethod||""})}else d({category:"",description:"",amount:"",date:(0,fo.GP)(new Date,"yyyy-MM-dd"),amountPaid:"",paymentMethod:""})}),[a]);const p=e=>{const{name:t,value:n}=e.target;d((e=>{const r={...e,[t]:n};return"amount"===t&&(r.amountPaid=n),r}))};return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:" sm:max-w-[425px] max-w-[90vw] rounded-lg",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"text-2xl font-semibold",children:a?"Edit Expense":"Add New Expense"}),(0,X.jsx)(so.rr,{className:"text-gray-500",children:a?"Update the expense details below.":"Fill in the details to add a new expense."})]}),(0,X.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{let e=!0;const t={category:"",description:"",amount:"",date:"",paymentMethod:""};return c.category.trim()||(t.category="Category is required",e=!1),c.description.trim()||(t.description="Description is required",e=!1),c.amount?(isNaN(c.amount)||parseFloat(c.amount)<=0)&&(t.amount="Please enter a valid amount",e=!1):(t.amount="Amount is required",e=!1),c.date||(t.date="Date is required",e=!1),c.paymentMethod||(t.paymentMethod="Payment method is required",e=!1),m(t),e})())return void l({title:"Validation Error",description:"Please fill in all required fields correctly.",variant:"destructive"});const t={...c,amount:parseFloat(c.amount),amountPaid:parseFloat(c.amountPaid),date:new Date(c.date).toISOString()},n=a?Lt({...t,_id:a._id}):It(t);i(n).unwrap().then((()=>{l({title:`Expense ${a?"updated":"added"} successfully`,description:`The expense has been ${a?"updated":"added"}.`,variant:"success"}),d({category:"",description:"",amount:"",date:(0,fo.GP)(new Date,"yyyy-MM-dd"),amountPaid:"",paymentMethod:""}),r()})).catch((e=>{l({title:`Failed to ${a?"update":"add"} expense`,description:e.message||`There was an error ${a?"updating":"adding"} the expense. Please try again.`,variant:"destructive"})}))},className:"space-y-6",children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"category",children:"Category *"}),(0,X.jsx)(bi.A,{suggestions:OJ,placeholder:"Select or type category",value:c.category,setValue:e=>d((t=>({...t,category:e}))),onSuggestionSelect:e=>d((t=>({...t,category:e.name})))}),u.category&&(0,X.jsx)("span",{className:"text-sm text-red-500",children:u.category})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"description",children:"Description/PAID To * "}),(0,X.jsx)(xn.p,{id:"description",name:"description",value:c.description,onChange:p,placeholder:(e=>{switch(e){case"OPDReturn":return"Enter Patient Details";case"Salaries":return"Enter Salary Description";case"Supplies":return"Enter Supply Details";case"Utilities":return"Enter Utility Bill Details";case"Equipment":return"Enter Equipment Details";case"Maintenance":return"Enter Maintenance Details";default:return"Enter description of the expense"}})(c.category),className:u.description?"border-red-500 ring-red-500":""}),u.description&&(0,X.jsx)("span",{className:"text-sm text-red-500",children:u.description})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"amount",children:"Amount *"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"\u20b9"}),(0,X.jsx)(xn.p,{id:"amount",name:"amount",type:"number",value:c.amount,onChange:p,placeholder:"0.00",className:"pl-7 "+(u.amount?"border-red-500 ring-red-500":"")}),u.amount&&(0,X.jsx)("span",{className:"text-sm text-red-500",children:u.amount})]})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"date",children:"Date *"}),(0,X.jsx)(xn.p,{id:"date",name:"date",type:"date",value:c.date,onChange:p,className:u.date?"border-red-500 ring-red-500":""}),u.date&&(0,X.jsx)("span",{className:"text-sm text-red-500",children:u.date})]})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"paymentMethod",children:"Payment Method *"}),(0,X.jsxs)(A.l6,{name:"paymentMethod",value:c.paymentMethod,onValueChange:e=>p({target:{name:"paymentMethod",value:e}}),children:[(0,X.jsx)(A.bq,{className:"w-full "+(u.paymentMethod?"border-red-500 ring-red-500":""),children:(0,X.jsx)(A.yv,{placeholder:"Select method"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Cash",children:"Cash"}),(0,X.jsx)(A.eb,{value:"Card",children:"Card"}),(0,X.jsx)(A.eb,{value:"UPI",children:"UPI"}),(0,X.jsx)(A.eb,{value:"Bank Transfer",children:"Bank Transfer"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]}),u.paymentMethod&&(0,X.jsx)("span",{className:"text-sm text-red-500",children:u.paymentMethod})]})]}),(0,X.jsxs)(so.Es,{className:"flex justify-end space-x-2",children:[(0,X.jsx)(j.$,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),(0,X.jsx)(j.$,{type:"submit",disabled:a?"loading"===o:"loading"===s,className:"px-4 py-2",children:a?"loading"===o?"Updating...":"Update Expense":"loading"===s?"Adding...":"Add Expense"})]})]})]})})},MJ=e=>{var n;let{isOpen:r,setIsOpen:a,expenseData:i}=e;const s=(0,w.wA)(),{toast:o}=(0,H.dj)(),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),h=wc("(max-width: 640px)");(0,t.useEffect)((()=>{r&&(c(""),u(""))}),[r]);const f=(null===i||void 0===i?void 0:i.amount)||0,v=f-((null===i||void 0===i?void 0:i.amountPaid)||0),g=v<=0;if(!i)return null;return(0,X.jsx)(so.lG,{open:r,onOpenChange:a,children:(0,X.jsxs)(so.Cf,{className:"w-[90vw] max-w-[425px] max-h-[90vh] overflow-y-auto",children:[(0,X.jsxs)(so.c7,{children:[(0,X.jsx)(so.L3,{className:"text-xl font-semibold",children:"Add Payment"}),(0,X.jsx)(so.rr,{children:"Manage payments for the expense."})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between text-sm font-medium",children:[(0,X.jsxs)("span",{children:["Total Amount: ",(0,X.jsxs)("span",{className:"text-primary",children:["\u20b9",f.toLocaleString("en-IN")]})]}),(0,X.jsxs)("span",{children:["Due Amount: ",(0,X.jsxs)("span",{className:"text-red-600",children:["\u20b9",v.toLocaleString("en-IN")]})]})]}),(0,X.jsx)(io,{}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{htmlFor:"paymentAmount",children:"Payment Amount"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{id:"paymentAmount",type:"number",value:l,onChange:e=>c(e.target.value),placeholder:"Enter amount",className:"pr-10",disabled:g}),(0,X.jsx)(j.$,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:()=>{c(v.toFixed(2))},title:"Set Due Amount",disabled:g,children:(0,X.jsx)(zl,{className:"h-4 w-4"})})]})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,X.jsxs)(A.l6,{onValueChange:u,value:d,disabled:g,children:[(0,X.jsx)(A.bq,{id:"paymentMethod",children:(0,X.jsx)(A.yv,{placeholder:"Select method"})}),(0,X.jsx)(A.gC,{children:["Cash","UPI","Card","Bank Transfer","Other"].map((e=>(0,X.jsx)(A.eb,{value:e,children:e},e)))})]})]})]}),(0,X.jsx)(io,{}),(0,X.jsxs)("div",{className:"space-y-0",children:[(0,X.jsx)("h4",{className:"text-sm font-semibold",children:"Recent Payments"}),null!==i&&void 0!==i&&i.payments&&(null===i||void 0===i||null===(n=i.payments)||void 0===n?void 0:n.length)>0?(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Date"}),!h&&(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Time"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Method"})]})}),(0,X.jsx)(uo.BF,{children:i.payments.map(((e,t)=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleDateString("en-IN")}),!h&&(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleTimeString("en-IN",{hour:"numeric",minute:"numeric",hour12:!0})}),(0,X.jsxs)(uo.nA,{className:"text-xs font-medium",children:["\u20b9",e.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,X.jsx)(uo.nA,{className:"text-xs",children:e.paymentMethod})]},t)))})]})}):(0,X.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-500 py-4",children:[(0,X.jsx)(bo,{size:18}),(0,X.jsx)("span",{children:"No recent payments found"})]})]}),(0,X.jsxs)(so.Es,{className:"mt-6 flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>a(!1),disabled:m,className:"w-full sm:w-auto",children:"Cancel"}),(0,X.jsx)(j.$,{onClick:()=>{if(!l||!d)return void o({title:"Error",description:"Please fill in all fields",variant:"destructive"});p(!0);const e={amount:parseFloat(l),paymentMethod:d};s(Ft({id:i._id,paymentData:e})).unwrap().then((()=>{o({title:"Payment added successfully",description:`Payment of \u20b9${l} has been added successfully.`,variant:"success"}),a(!1)})).catch((e=>{o({title:"Error",description:`Failed to add payment: ${e.message}`,variant:"destructive"})})).finally((()=>{p(!1)}))},disabled:m||g,className:"w-full sm:w-auto",children:m?"Processing...":g?"Fully Paid":"Add Payment"})]})]})})},IJ=()=>{const e=(0,w.wA)(),{expenses:n,expensesStatus:r,deleteExpenseStatus:a}=(0,w.d4)((e=>e.expenses)),i=(0,w.d4)((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.permissions)||[]})),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("All"),[d,u]=(0,t.useState)("Today"),[m,p]=(0,t.useState)({from:null,to:null}),[h,f]=(0,t.useState)({from:null,to:null}),[v,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(null),{toast:b}=(0,H.dj)(),[N,_]=(0,t.useState)(!1),[E,C]=(0,t.useState)(null),[D,T]=(0,t.useState)(!1),[P,O]=(0,t.useState)(null),[R,I]=(0,t.useState)(null),L=wc("(max-width: 640px)"),[F,B]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if("idle"===r){const t=new Date;e(Wt({startDate:(0,fo.GP)(t,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(t,1),"yyyy-MM-dd")}))}}),[e,r]),(0,t.useEffect)((()=>{if("idle"!==r){const t=new Date;let n=null;switch(d){case"Today":n={startDate:(0,fo.GP)(t,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(t,1),"yyyy-MM-dd")};break;case"Yesterday":const e=(0,lc.e)(t,1);n={startDate:(0,fo.GP)(e,"yyyy-MM-dd"),endDate:(0,fo.GP)(t,"yyyy-MM-dd")};break;case"This Week":n={startDate:(0,fo.GP)((0,nc.k)(t),"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(t,1),"yyyy-MM-dd")};break;case"Custom":return void(m.from&&m.to&&(n={startDate:(0,fo.GP)(m.from,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(m.to,1),"yyyy-MM-dd")}))}n&&e(Wt(n))}}),[e,d,m]);const W=n.filter((e=>{const t=e.description.toLowerCase().includes(s.toLowerCase())||e.category.toLowerCase().includes(s.toLowerCase());let n=!0;const r=uB(e.date),a=new Date;switch(d){case"Today":n=tc(r,{start:(0,Jl.o)(a),end:(0,Ql.D)(a)});break;case"Yesterday":const e=(0,lc.e)(a,1);n=tc(r,{start:(0,Jl.o)(e),end:(0,Ql.D)(e)});break;case"This Week":n=tc(r,{start:(0,nc.k)(a),end:(0,Ql.D)(a)});break;case"Custom":m.from&&m.to&&(n=tc(r,{start:(0,Jl.o)(m.from),end:(0,Ql.D)(m.to)}))}let i=!0;if("All"!==l){const t=e.amount===e.amountPaid;i=t&&"Paid"===l||!t&&"Due"===l}return t&&n&&i})),U=e=>{const t=new Date(e);return(0,fo.GP)(t,"MMM dd, yyyy")},$=()=>{if(p(h),u("Custom"),h.from&&h.to){const t={startDate:(0,fo.GP)(h.from,"yyyy-MM-dd"),endDate:(0,fo.GP)((0,uc.f)(h.to,1),"yyyy-MM-dd")};e(Wt(t))}},z=()=>{f({from:null,to:null}),u("Today")},V=()=>{y(null),g(!0),I(null)};return(0,X.jsxs)(k.Zp,{className:"w-full mx-auto border-0 shadow-none",children:[(0,X.jsx)(k.aR,{children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{className:"font-semibold",children:"Expenses List"}),(0,X.jsx)(k.BT,{children:"Manage and view hospital expenses"})]}),L&&(0,X.jsx)(j.$,{size:"icon",onClick:V,children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})]})}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:justify-between md:items-center md:space-y-0 md:space-x-2 mb-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"flex w-full space-x-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search expenses...",value:s,onChange:e=>o(e.target.value),className:"pl-8 w-full"})]}),L&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>B(!F),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),L?(0,X.jsx)(Lc,{children:F&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,X.jsxs)(A.l6,{onValueChange:e=>c(e),defaultValue:"All",children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Filter by Status"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"All",children:"All"}),(0,X.jsx)(A.eb,{value:"Paid",children:"Paid"}),(0,X.jsx)(A.eb,{value:"Due",children:"Due"})]})]}),(0,X.jsxs)(A.l6,{onValueChange:e=>u(e),defaultValue:"Today",children:[(0,X.jsx)(A.bq,{className:"w-full",children:(0,X.jsx)(A.yv,{placeholder:"Time Filter Options"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Today",children:"Today"}),(0,X.jsx)(A.eb,{value:"Yesterday",children:"Yesterday"}),(0,X.jsx)(A.eb,{value:"This Week",children:"This Week"}),(0,X.jsx)(A.eb,{value:"Custom",children:"Custom Range"})]})]}),"Custom"===d&&(0,X.jsx)(M.Ur,{from:h.from,to:h.to,onSelect:e=>f(e),onSearch:$,onCancel:z})]})})}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"ml-auto",children:[(0,X.jsx)(xc,{className:"mr-2 h-4 w-4"}),"All"===l?"Status":l]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Status"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>c("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>c("Paid"),children:"Paid"}),(0,X.jsx)(hi,{onSelect:()=>c("Due"),children:"Due"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),d]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>u("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>u("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>u("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>u("Custom"),children:"Custom Range"})]})]}),"Custom"===d&&(0,X.jsx)(M.Ur,{from:h.from,to:h.to,onSelect:e=>f(e),onSearch:$,onCancel:z})]})]}),!L&&(0,X.jsx)("div",{className:"flex space-x-2",children:(0,X.jsxs)(j.$,{variant:"outline",onClick:V,disabled:!(null!==i&&void 0!==i&&i.includes("record_expense")),children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," ",null!==i&&void 0!==i&&i.includes("record_expense")?"Add Expense":"No permission to add expense"]})})]}),0===W.length?(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-10",children:[(0,X.jsx)(bc,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-600",children:"No expenses found"}),(0,X.jsx)("p",{className:"text-gray-500 mt-2",children:"There are no expenses matching your search criteria."})]}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"font-semibold hidden md:table-cell",children:"Expense ID"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Description"}),(0,X.jsx)(uo.nd,{className:"font-semibold hidden md:table-cell",children:"Category"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Amount"}),(0,X.jsx)(uo.nd,{className:"font-semibold md:hidden",children:"Date"}),(0,X.jsx)(uo.nd,{className:"font-semibold  md:table-cell",children:"Methods"}),(0,X.jsx)(uo.nd,{className:"font-semibold hidden md:table-cell",children:"Date"}),(0,X.jsx)(uo.nd,{className:"font-semibold hidden md:table-cell",children:"Status"}),(0,X.jsx)(uo.nd,{className:"font-semibold hidden md:table-cell",children:"Created By"}),(0,X.jsx)(uo.nd,{className:"font-semibold",children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:W.map((e=>{var t,n,r,a,i,s;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"hidden md:table-cell",children:`E${null===(t=e._id)||void 0===t?void 0:t.slice(-6)}`}),(0,X.jsx)(uo.nA,{children:e.description}),(0,X.jsx)(uo.nA,{className:"hidden md:table-cell",children:e.category}),(0,X.jsxs)(uo.nA,{children:["\u20b9",null===(n=e.amount)||void 0===n?void 0:n.toLocaleString("en-IN")]}),(0,X.jsx)(uo.nA,{className:"md:hidden",children:(0,fo.GP)(new Date(e.date),"dd MMM")}),(0,X.jsx)(uo.nA,{className:"hidden md:table-cell",children:null===(r=e.payments)||void 0===r?void 0:r.map((e=>e.paymentMethod)).join(", ")}),(0,X.jsx)(uo.nA,{className:"hidden md:table-cell",children:U(e.date)}),(0,X.jsx)(uo.nA,{className:"hidden md:table-cell",children:(0,X.jsx)(go.E,{variant:(i=e.amount,s=e.amountPaid,i===s?"success":"destructive"),children:e.amount===e.amountPaid?"Paid":"Due"})}),(0,X.jsx)(uo.nA,{className:"hidden md:table-cell",children:null!==(a=e.createdByName)&&void 0!==a?a:"N/A"}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)(li,{open:R===e._id,onOpenChange:()=>{return t=e._id,void I(R===t?null:t);var t},children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,X.jsx)(Os,{className:"h-4 w-4"})})}),(0,X.jsxs)(pi,{align:"end",children:[(0,X.jsx)(hi,{onClick:()=>(e=>{y(e),g(!0),I(null)})(e),children:"Edit Expense"}),(0,X.jsx)(hi,{onClick:()=>(e=>{O(e),T(!0),I(null)})(e),children:"Payments"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{className:"text-red-600",onClick:()=>(e=>{C(e),_(!0),I(null)})(e),children:"Delete Expense"})]})]})})]},e._id)}))})]})})]}),(0,X.jsx)(RJ,{isOpen:v,onClose:()=>{g(!1),y(null),I(null)},expenseToEdit:x}),(0,X.jsx)(Ce,{open:N,onOpenChange:_,children:(0,X.jsxs)(Ae,{className:"max-w-[90vw] w-full sm:max-w-[425px]",children:[(0,X.jsxs)(Pe,{children:[(0,X.jsx)(Re,{className:"text-lg sm:text-xl",children:"Delete Expense?"}),(0,X.jsx)(Me,{className:"text-sm sm:text-base",children:"Are you sure you want to delete this expense? This action cannot be undone."})]}),(0,X.jsxs)(Oe,{className:"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,X.jsx)(Le,{className:"w-full sm:w-auto",children:"Cancel"}),(0,X.jsx)(Ie,{className:"w-full sm:w-auto",onClick:()=>{e(Bt(E._id)).unwrap().then((()=>{b({title:"Expense deleted successfully",description:"The expense has been removed.",variant:"success"})})).catch((e=>{b({title:"Failed to delete expense",description:e.message||"There was an error deleting the expense. Please try again.",variant:"destructive"})})).finally((()=>{_(!1),C(null)}))},disabled:"loading"===a,children:"loading"===a?"Deleting...":"Delete"})]})]})}),(0,X.jsx)(MJ,{isOpen:D,setIsOpen:T,expenseData:P})]})};function LJ(){const e=(0,w.wA)(),n=(0,a.Zp)(),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),{diagnosisTemplate:v=[],comorbidities:g=[],medicinelist:x=[]}=(0,w.d4)((e=>e.templates));(0,t.useEffect)((()=>{e((0,R.QK)())}),[e]),(0,t.useEffect)((()=>{d!==v&&u(v),m!==g&&p(g),h!==x&&f(x)}),[v]);const y=(e,t,n,r)=>{e.trim()&&(r([...n,...e.trim().split(",")]),t(""))},N=(e,t,n,r,a,i)=>(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsx)("h2",{className:"text-lg sm:text-xl font-semibold mb-2",children:e}),(0,X.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2 mb-4",children:[(0,X.jsx)(xn.p,{placeholder:t,value:n,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&y(n,r,a,i),className:"w-full sm:flex-grow"}),(0,X.jsxs)(j.$,{onClick:()=>y(n,r,a,i),className:"w-full sm:w-auto whitespace-nowrap",children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Add"]})]}),(0,X.jsx)(b.F,{className:"flex-grow border rounded-lg p-2 sm:p-4",children:0===a.length?(0,X.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No items added yet."}):(0,X.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:a.map(((e,t)=>(0,X.jsxs)("div",{className:"flex items-center bg-gray-100 text-gray-800 px-2 py-1 sm:px-3 sm:py-1.5 rounded text-xs sm:text-sm font-medium transition-colors hover:bg-gray-200 whitespace-nowrap",children:[(0,X.jsx)("span",{className:"mr-1 sm:mr-2",children:e}),(0,X.jsx)("button",{onClick:()=>((e,t,n)=>{n(t.filter((t=>t!==e)))})(e,a,i),className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,X.jsx)(T.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]},t)))})})]});return(0,X.jsx)("div",{className:"h-full flex flex-col p-2 sm:p-4",children:(0,X.jsxs)(k.Zp,{className:"flex-grow flex flex-col overflow-hidden",children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center gap-2 p-4",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{n(-1)},className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("div",{children:(0,X.jsx)(k.ZB,{className:"text-xl",children:"Customization"})})]}),(0,X.jsxs)(k.Wu,{className:"flex-grow flex flex-col p-2 sm:p-4 border-2",children:[N("Diagnosis Customization","Add new diagnosis like this (Diagnosis1, Diagnosis2) in comma separated form, then add then save changes",r,i,d,u),N("Comorbidities Customization","Add new comorbidities like this (Comorbidites1, Comorbidites2) in comma separated form, then add then save changes",s,o,m,p),N("Medicine List Customization","Add new medicine like this (Medicine1, Medicine2) in comma separated form, then add then save changes",l,c,h,f),(0,X.jsx)(j.$,{onClick:()=>{e((0,R.ub)({diagnosisTemplate:d,comorbidities:m,medicinelist:h}))},className:"w-full",children:"Save Changes"})]})]})})}const FJ=(0,Ge.A)("opdProcedure/create",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/opd-procedures`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}})),BJ=(0,Ge.A)("opdProcedure/fetchAll",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await fetch(`${M.B8}/api/opd-procedures`,{credentials:"include"});if(!e.ok){return n(await e.json())}return await e.json()}catch(r){return n(r.message)}})),WJ=(0,Ge.A)("opdProcedure/updatePayment",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fetch(`${M.B8}/api/opd-procedures/${e}/payment`,{method:"PATCH",credentials:"include"});if(!t.ok){return n(await t.json())}return await t.json()}catch(r){return n(r.message)}})),UJ=((0,I.Z0)({name:"opdProcedure",initialState:{procedures:[],status:"idle",error:null,createStatus:"idle",updateStatus:"idle"},reducers:{},extraReducers:e=>{e.addCase(FJ.pending,(e=>{e.createStatus="loading"})).addCase(FJ.fulfilled,((e,t)=>{e.createStatus="succeeded",e.procedures.unshift(t.payload)})).addCase(FJ.rejected,((e,t)=>{e.createStatus="failed",e.error=t.payload})).addCase(BJ.pending,(e=>{e.status="loading"})).addCase(BJ.fulfilled,((e,t)=>{e.status="succeeded",e.procedures=t.payload})).addCase(BJ.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(WJ.pending,(e=>{e.updateStatus="loading"})).addCase(WJ.fulfilled,((e,t)=>{e.updateStatus="succeeded";const n=e.procedures.findIndex((e=>e._id===t.payload._id));-1!==n&&(e.procedures[n]=t.payload)})).addCase(WJ.rejected,((e,t)=>{e.updateStatus="failed",e.error=t.payload}))}}).reducer,e=>{let{isOpen:n,setIsOpen:r,procedureData:a}=e;const i=(0,t.useRef)(),[s,o]=(0,t.useState)(!1),l=wc("(max-width: 640px)"),c=(0,w.d4)((e=>e.hospital.hospitalInfo)),d=(0,w.d4)((e=>e.templates.headerTemplateArray)),u=(null===d||void 0===d?void 0:d.length)>0?d[0].value:wn.h,m=(0,bn.G)(u||wn.h),p=(0,yn.useReactToPrint)({content:()=>i.current,onBeforeGetContent:()=>(o(!0),new Promise((e=>{setTimeout((()=>{o(!1),e()}),0)}))),pageStyle:"\n      @media print {\n        @page {\n          size: A4;\n          margin: 20mm;\n        }\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n          position: relative;\n          min-height: 100vh;\n          padding: 20px;\n        }\n      }\n    "});if(!a)return null;const{opdProcedure:h,servicesBill:f,payments:v}=a;return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"max-w-3xl max-h-[90vh] overflow-visible rounded-lg",children:[(0,X.jsxs)(b.F,{className:"max-h-[80vh]",children:[(0,X.jsxs)("div",{ref:i,className:s?"print-content":"",children:[(0,X.jsx)("div",{className:"hidden print:block mb-2",children:(0,X.jsx)(m,{hospitalInfo:c})}),(0,X.jsxs)("div",{className:"print:pb-6",children:[(0,X.jsx)("div",{className:"no-print",children:(0,X.jsx)(so.c7,{className:"pb-2",children:(0,X.jsx)(so.L3,{children:"OPD Procedure Bill"})})}),(0,X.jsxs)("div",{className:"grid gap-2 py-1",children:[(0,X.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Name:"}),(0,X.jsx)("p",{children:h.name||"N/A"})]}),h.registrationNumber&&(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"UHID. No:"}),(0,X.jsx)("p",{children:h.registrationNumber||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Contact:"}),(0,X.jsx)("p",{children:h.contactNumber||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Age/Gender:"}),(0,X.jsx)("p",{children:`${h.age||"N/A"} yrs/${h.gender||"N/A"}`})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Address:"}),(0,X.jsx)("p",{children:h.address||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Procedure:"}),(0,X.jsx)("p",{children:h.procedureName||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Invoice No:"}),(0,X.jsx)("p",{children:f.invoiceNumber||"N/A"})]}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(wi.J,{className:"font-semibold mr-2",children:"Date:"}),(0,X.jsx)("p",{children:h.date?(0,fo.GP)(new Date(h.date),"dd/MM/yyyy"):"N/A"})]})]}),(0,X.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,X.jsx)("div",{className:"w-full",children:(0,X.jsxs)(uo.XI,{className:"border-2 border-gray-200",children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{className:"border-b border-gray-200 bg-gray-200",children:[(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-16",children:"No."}),(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-1/2",children:"Service Name"}),(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-24",children:"Quantity"}),(0,X.jsx)(uo.nd,{className:"border-r border-gray-300 w-24",children:"Price (INR)"}),(0,X.jsx)(uo.nd,{className:"w-24",children:"Total (INR)"})]})}),(0,X.jsx)(uo.BF,{children:f.services.map(((e,t)=>(0,X.jsxs)(uo.Hj,{className:"border-b border-gray-200",children:[(0,X.jsx)(uo.nA,{className:"border-r border-gray-200",children:t+1}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200",children:e.name||"N/A"}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200",children:e.quantity||0}),(0,X.jsx)(uo.nA,{className:"border-r border-gray-200",children:(e.rate||0).toFixed(2)}),(0,X.jsx)(uo.nA,{children:((e.quantity||0)*(e.rate||0)).toFixed(2)})]},t)))})]})}),(0,X.jsx)("div",{className:"flex justify-end",children:(0,X.jsx)("div",{className:"w-64",children:(0,X.jsxs)("div",{className:"border rounded p-3 space-y-2 bg-white text-sm",children:[(0,X.jsx)("h3",{className:"font-semibold text-base border-b pb-1",children:"Payment Summary"}),(0,X.jsxs)("div",{className:"flex flex-col items-end space-y-0.5",children:[(0,X.jsxs)("div",{className:"flex justify-end w-full items-center",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Sub Total:"}),(0,X.jsxs)("span",{children:["\u20b9",f.subtotal.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-full items-center",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Discount:"}),(0,X.jsxs)("span",{children:["\u20b9",(f.additionalDiscount||0).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-full items-center border-t border-gray-200 pt-0.5",children:[(0,X.jsx)("span",{className:"font-medium mr-3",children:"Net Total:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",f.totalAmount.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-full items-center",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Paid:"}),(0,X.jsxs)("span",{className:"text-green-600",children:["\u20b9",f.amountPaid.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-full items-center border-t border-gray-200 pt-0.5",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Balance:"}),(0,X.jsxs)("span",{className:"text-red-600",children:["\u20b9",(f.totalAmount-f.amountPaid).toFixed(2)]})]}),(0,X.jsxs)("div",{className:"w-full text-right text-xs mt-0.5",children:[(0,X.jsx)("span",{className:"font-medium",children:"Status: "}),(0,X.jsx)("span",{className:f.amountPaid===f.totalAmount?"text-green-600 font-bold":"text-red-600 font-bold",children:f.amountPaid===f.totalAmount?"Paid":"Due"})]})]})]})})})]}),(0,X.jsxs)("div",{className:"mt-1",children:[(0,X.jsxs)("div",{className:"flex flex-row items-center mb-2 w-auto gap-2",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:"Payment History"}),v&&v.length>0&&(0,X.jsx)(wo,{payments:v,billData:{patientInfo:h,...f,procedureName:h.procedureName},styleData:!0})]}),v&&v.length>0?(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Date"}),!l&&(0,X.jsx)(uo.nd,{className:"w-[80px]",children:"Time"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Method"}),(0,X.jsx)(uo.nd,{className:"no-print",children:"Receipt"})]})}),(0,X.jsx)(uo.BF,{children:v.map(((e,t)=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleDateString("en-IN")}),!l&&(0,X.jsx)(uo.nA,{className:"text-xs",children:new Date(e.createdAt).toLocaleTimeString("en-IN",{hour:"numeric",minute:"numeric",hour12:!0})}),(0,X.jsxs)(uo.nA,{className:"text-xs font-medium",children:["\u20b9",e.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,X.jsx)(uo.nA,{className:"text-xs",children:e.paymentMethod}),(0,X.jsx)(uo.nA,{className:"text-xs no-print",children:(0,X.jsx)(wo,{payment:e,billData:{patientInfo:h,...f,procedureName:h.procedureName}})})]},t)))})]})}):(0,X.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-gray-500 py-4",children:[(0,X.jsx)(bo,{size:18}),(0,X.jsx)("span",{children:"No payment history found"})]})]})]})]})]}),(0,X.jsxs)("div",{className:"flex flex-col-reverse gap-1 sm:flex-row sm:space-y-0 sm:space-x-2 mt-4 justify-end",children:[(0,X.jsx)(j.$,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Close"}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",onClick:p,children:[(0,X.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Print Bill"]})]})]}),(0,X.jsxs)("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:()=>r(!1),children:[(0,X.jsx)(T.A,{className:"h-4 w-4"}),(0,X.jsx)("span",{className:"sr-only",children:"Close"})]})]})})}),$J=e=>{let{open:n,onOpenChange:r,initialPatientData:a}=e;const i={name:"",registrationNumber:"",ipdNumber:"",gender:"",age:"",contactNumber:"",procedureName:"",totalAmount:"",amountPaid:"",paymentMethod:[],address:""},[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(i),[m,p]=(0,t.useState)({}),h=(0,w.wA)(),f=(0,w.d4)((e=>e.services.services)),v=(0,t.useMemo)((()=>{var e;return null===f||void 0===f||null===(e=f.filter((e=>"OPD Procedure"===e.category)))||void 0===e?void 0:e.map((e=>({name:`${e.name} - \u20b9${e.amount}`,...e})))}),[f]);(0,t.useEffect)((()=>{n&&a?u((e=>({...e,name:a.name||"",registrationNumber:a.registrationNumber||"",gender:a.gender||"",age:a.age||"",contactNumber:a.contactNumber||"",address:a.address?"string"===typeof a.address?a.address:`${a.address.street||""}, ${a.address.city||""}, ${a.address.state||""}, ${a.address.postalCode||""}`.replace(/(, )+$/,""):"",procedureName:a.procedureName||"",totalAmount:a.totalAmount||""}))):n||(u(i),p({}))}),[n,a]);const g=e=>{const{name:t,value:n}=e.target;u({...d,[t]:n})};(0,t.useEffect)((()=>{u((e=>({...e,amountPaid:e.paymentMethod.reduce(((e,t)=>e+(t.amount?parseFloat(t.amount):0)),0)})))}),[d.paymentMethod]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(so.lG,{open:n,onOpenChange:e=>{e||(u(i),p({})),r(e)},children:(0,X.jsxs)(so.Cf,{onInteractOutside:e=>e.preventDefault(),className:"sm:max-w-[700px] w-[95%] max-h-[90vh] overflow-y-auto",children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{className:"text-xl sm:text-2xl font-bold text-center",children:"Register OPD Procedure"})}),(0,X.jsxs)("form",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,X.jsx)("div",{children:(0,X.jsx)(Vo,{id:"name",name:"name",label:"Patient Name",value:d.name,onChange:g,error:m.name})}),(0,X.jsx)("div",{className:"space-y-2",children:(0,X.jsx)(bi.A,{suggestions:v,placeholder:"Select procedure",value:d.procedureName,setValue:e=>u((t=>({...t,procedureName:e}))),onSuggestionSelect:e=>{u({...d,procedureName:e.name,totalAmount:e.rate})}})}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsx)("div",{className:"col-span-1",children:(0,X.jsxs)(A.l6,{value:d.gender,onValueChange:e=>{u({...d,gender:e})},children:[(0,X.jsx)(A.bq,{className:"w-full h-9",children:(0,X.jsx)(A.yv,{placeholder:"Select Gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})}),(0,X.jsx)("div",{className:"col-span-1",children:(0,X.jsx)(Vo,{id:"age",name:"age",type:"number",label:"Age",value:d.age,onChange:g,error:m.age})})]}),(0,X.jsx)("div",{children:(0,X.jsx)(xo.T,{id:"address",name:"address",value:d.address,onChange:g,placeholder:"Address",className:"min-h-9 h-9 no-scrollbar"})}),(0,X.jsx)("div",{children:(0,X.jsx)(Vo,{id:"contactNumber",name:"contactNumber",label:"Contact Number",value:d.contactNumber,onChange:g,error:m.contactNumber})}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Vo,{id:"registrationNumber",name:"registrationNumber",label:"UHID No",value:d.registrationNumber,onChange:g}),(0,X.jsx)("button",{type:"button",onClick:async()=>{if(d.registrationNumber)try{var e,t,n;const i=await h((0,Be.bW)({searchQuery:d.registrationNumber.trim()})).unwrap();if(null!==(e=i.results)&&void 0!==e&&e.patients&&(null===(t=i.results)||void 0===t||null===(n=t.patients)||void 0===n?void 0:n.length)>0){var r,a;const e=null===(r=i.results)||void 0===r||null===(a=r.patients)||void 0===a?void 0:a[0];u({...d,name:e.name,gender:e.gender,age:e.age,contactNumber:e.contactNumber,address:e.address||""})}else(0,H.oR)({title:"Not Found",description:"No patient found with this registration number",variant:"destructive"})}catch(i){(0,H.oR)({title:"Error",description:"Failed to fetch patient details",variant:"destructive"})}},className:"absolute right-2 top-[50%] transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,X.jsx)(Ps.A,{className:"h-4 w-4"})})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(Vo,{id:"totalAmount",name:"totalAmount",label:"Total Amount",value:d.totalAmount,onChange:g,error:m.totalAmount,className:"w-full"}),(0,X.jsxs)("div",{className:d.paymentMethod.length>0?`grid grid-cols-${1===d.paymentMethod.length?"2":"3"} gap-2`:"grid grid-cols-2 gap-2",children:[(0,X.jsx)("div",{children:(0,X.jsx)(yo.A,{suggestions:[{name:"Cash"},{name:"UPI"},{name:"Card"},{name:"Insurance"}],placeholder:d.paymentMethod.length>0?d.paymentMethod.map((e=>e.method)).join(","):"Payment Method",selectedValues:d.paymentMethod.map((e=>({name:e.method}))),setSelectedValues:e=>{u((t=>{const n=t.paymentMethod.reduce(((e,t)=>(e[t.method]=t.amount,e)),{}),r=e.map((e=>({method:e.name,amount:n[e.name]||""})));return{...t,paymentMethod:r}}))},onError:!!m.paymentMethod})}),d.paymentMethod.length>0?d.paymentMethod.map((e=>(0,X.jsx)(Vo,{id:`payment-${e.method}`,label:`${e.method} Paid`,value:e.amount,onChange:t=>{return n=e.method,r=t.target.value,void u((e=>({...e,paymentMethod:e.paymentMethod.map((e=>e.method===n?{...e,amount:r}:e)),amountPaid:e.paymentMethod.reduce(((e,t)=>e+(t.amount?parseFloat(t.amount):0)),0)})));var n,r},className:"bg-gray-50",error:m.amountPaid},e.method))):(0,X.jsx)(Vo,{id:"paymentpaiddisabled",label:"Amount Paid",disabled:!0,className:"bg-gray-50 disabled",error:m.amountPaid})]})]})]}),(0,X.jsx)("div",{className:"flex justify-end mt-4",children:(0,X.jsx)(j.$,{onClick:async e=>{if(e.preventDefault(),(()=>{const e={};return d.name||(e.name="Required"),d.age||(e.age="Required"),d.gender||(e.gender="Required"),d.contactNumber||(e.contactNumber="Required"),d.procedureName||(e.procedureName="Required"),d.totalAmount||(e.totalAmount="Required"),d.amountPaid||0===d.paymentMethod.length||(e.amountPaid="Required"),0===d.paymentMethod.length&&(e.paymentMethod="Required"),p(e),0===Object.keys(e).length})())try{h(FJ(d)).unwrap().then((e=>{(0,H.oR)({title:"Success",description:"OPD Procedure registered successfully",variant:"success"}),c(e),o(!0),u(i),r(!1)})).catch((e=>{(0,H.oR)({title:"Error",description:"Failed to register OPD procedure",variant:"destructive"})}))}catch(t){(0,H.oR)({title:"Error",description:"Failed to register OPD procedure",variant:"destructive"})}},className:"w-full sm:w-auto",children:"Submit"})})]})}),s&&l&&(0,X.jsx)(UJ,{isOpen:s,setIsOpen:o,procedureData:l})]})};function zJ(){var e,n,r;const i=(0,a.zy)(),s=(0,a.Zp)(),o=(null===(e=i.state)||void 0===e?void 0:e.searchResults)||{},l=o.patients||[],c=o.totalPatients||0,d=o.currentPage||1,u=o.totalPages||1,m=(null===(n=i.state)||void 0===n?void 0:n.searchQuery)||"",[p,h]=(0,t.useState)(null),[f,v]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[y,b]=(0,t.useState)(!1),[N,_]=(0,t.useState)(!1),[S,E]=(0,t.useState)(null),C=(0,w.wA)(),D=wc("(max-width: 640px)");wc("(max-width: 1024px)");(0,t.useEffect)((()=>{1===l.length?h(l[0]):h(null)}),[l]);const T=async e=>{if(e>=1&&e<=u&&m)try{const t=10,n=await C((0,Be.bW)({searchQuery:m.trim(),page:e,limit:t}));if(Be.bW.fulfilled.match(n)){const{results:e}=n.payload;s(i.pathname,{state:{searchResults:e,searchQuery:m}})}else console.error("Failed to fetch new page:",n.payload||n.error)}catch(t){console.error("Error dispatching searchPatients:",t)}},A=[{name:"View / Edit",icon:Ci,action:()=>s(`/patient-overview/${p._id}`)},{name:"OPD Follow Up",icon:Cg,action:()=>{x({name:p.name,age:p.age,gender:p.gender,contactNumber:p.contactNumber,registrationNumber:p.registrationNumber,_id:p._id}),v(!0)}},{name:"IPD",icon:Bi,action:()=>b(!0)},{name:"OPD Procedure",icon:xx,action:()=>{E({name:p.name,registrationNumber:p.registrationNumber,gender:p.gender,age:p.age,contactNumber:p.contactNumber,address:p.address,_id:p._id}),_(!0)}}],P=e=>{if(e.lastVisit)return(0,fo.GP)(uB(e.lastVisit),"dd-MM-yyyy");const t=[...(e.visits||[]).map((e=>uB(e.bookingDate))),...(e.admissionDetails||[]).map((e=>uB(e.bookingDate)))];return t.length>0?(0,fo.GP)(new Date(Math.max(...t)),"dd-MM-yyyy"):"-"},O=e=>{let{patient:t}=e;return(0,X.jsx)(k.Zp,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsx)("h3",{className:"text-lg font-semibold capitalize mr-2",children:t.name})}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",size:"sm",children:["Actions ",(0,X.jsx)(Os,{className:"h-4 w-4 ml-2"})]})}),(0,X.jsx)(pi,{align:"end",children:A.map((e=>(0,X.jsx)(hi,{onSelect:()=>e.action(t),children:e.name},e.name)))})]})]}),(0,X.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Reg: ",t.registrationNumber]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Visit:"}),(0,X.jsx)("p",{className:"text-sm font-medium",children:P(t)})]}),t.lastVisitType&&(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visit Type:"}),(0,X.jsx)("p",{className:"text-sm font-medium",children:t.lastVisitType})]}),(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Age:"}),(0,X.jsx)("p",{className:"text-sm font-medium",children:t.age})]}),(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Mobile:"}),(0,X.jsx)("p",{className:"text-sm font-medium",children:t.contactNumber})]}),(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gender:"}),(0,X.jsx)("p",{className:"text-sm font-medium",children:t.gender})]})]})]})})})};return(0,X.jsxs)(k.Zp,{className:"w-full",children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between",children:[(0,X.jsxs)("div",{children:[(0,X.jsxs)(k.ZB,{children:["Search Results for: ",m]}),(0,X.jsxs)(k.BT,{children:["Displaying ",l.length," of ",c," Registered patients found. Page ",d," of ",u,"."]})]}),l.length>0&&u>1&&(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(j.$,{onClick:()=>T(d-1),disabled:d<=1,variant:"outline",children:"Previous"}),(0,X.jsxs)("span",{className:"text-sm",children:["Page ",d," of ",u]}),(0,X.jsx)(j.$,{onClick:()=>T(d+1),disabled:d>=u,variant:"outline",children:"Next"})]})]}),(0,X.jsxs)(k.Wu,{children:[0===l.length?(0,X.jsxs)("div",{className:"text-center py-8",children:[(0,X.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No patients found"}),(0,X.jsx)("p",{className:"text-muted-foreground mb-4",children:"Try searching with a different query"})]}):(0,X.jsxs)(X.Fragment,{children:[D?(0,X.jsx)("div",{children:l.map((e=>(0,X.jsx)(O,{patient:e},e._id)))}):(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"S No."}),(0,X.jsx)(uo.nd,{children:"Patient Name"}),(0,X.jsx)(uo.nd,{children:"Registration Number"}),(0,X.jsx)(uo.nd,{children:"Last Visit"}),(0,X.jsx)(uo.nd,{children:"Last Visit Type"}),(0,X.jsx)(uo.nd,{children:"Address"}),(0,X.jsx)(uo.nd,{children:"Age"}),(0,X.jsx)(uo.nd,{children:"Gender"}),(0,X.jsx)(uo.nd,{children:"Mobile Number"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:l.map(((e,t)=>(0,X.jsxs)(uo.Hj,{className:"cursor-pointer "+((null===p||void 0===p?void 0:p._id)===e._id?"bg-blue-100 hover:bg-blue-200":"hover:bg-gray-100"),onClick:()=>h(e),children:[(0,X.jsx)(uo.nA,{children:t+1}),(0,X.jsx)(uo.nA,{className:"font-medium",children:e.name}),(0,X.jsx)(uo.nA,{children:e.registrationNumber}),(0,X.jsx)(uo.nA,{children:P(e)}),(0,X.jsx)(uo.nA,{children:e.lastVisitType||"-"}),(0,X.jsx)(uo.nA,{children:e.address||"-"}),(0,X.jsx)(uo.nA,{children:e.age}),(0,X.jsx)(uo.nA,{children:e.gender}),(0,X.jsx)(uo.nA,{children:e.contactNumber}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,X.jsx)(Os,{className:"h-4 w-4"})})}),(0,X.jsx)(pi,{align:"end",children:A.map((t=>(0,X.jsx)(hi,{onSelect:()=>t.action(e),children:t.name},t.name)))})]})})]},e._id)))})]})}),p&&!D&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(k.Zp,{className:"mt-4",children:(0,X.jsxs)(k.Wu,{className:"flex items-center justify-between p-4",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsxs)(Zs,{className:"h-12 w-12 mr-4",children:[(0,X.jsx)(Js,{src:`https://api.dicebear.com/6.x/initials/svg?seed=${p.name}`,alt:p.name}),(0,X.jsx)(Qs,{children:p.name.charAt(0)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"font-semibold",children:p.name}),(0,X.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,X.jsx)(go.E,{variant:"outline",children:p.gender}),(0,X.jsxs)(go.E,{variant:"outline",children:[p.age," years"]}),p.bloodGroup&&(0,X.jsx)(go.E,{variant:"outline",children:p.bloodGroup})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(jJ,{className:"w-4 h-4 text-gray-400"}),(0,X.jsx)("span",{children:(0,fo.GP)(new Date(p.createdAt),"MMM dd, hh:mm a")})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(_g,{className:"w-4 h-4 text-gray-400"}),(0,X.jsx)("span",{children:p.contactNumber})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(sx,{className:"w-4 h-4 text-gray-400"}),(0,X.jsxs)("span",{children:["Reg:",p.registrationNumber]})]}),(null===(r=p.address)||void 0===r?void 0:r.city)&&(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(Sg,{className:"w-4 h-4 text-gray-400"}),(0,X.jsx)("span",{children:p.address.city})]})]})]})}),(0,X.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:A.map((e=>(0,X.jsxs)(j.$,{variant:"outline",className:"flex items-center justify-start space-x-2 h-16",onClick:()=>e.action(p),children:[(0,X.jsx)(e.icon,{className:"w-6 h-6"}),(0,X.jsx)("span",{children:e.name})]},e.name)))})]})]}),(0,X.jsx)(Ug,{open:f,onOpenChange:v,patientData:g}),(0,X.jsx)(Hg,{open:y,onOpenChange:b,patientData:p}),(0,X.jsx)($J,{open:N,onOpenChange:_,initialPatientData:S})]})]})}function HJ(){var e;const{patientId:n}=(0,a.g)(),r=(0,a.zy)(),i=(0,a.Zp)(),s=(0,w.wA)(),o=null===(e=r.state)||void 0===e?void 0:e.patient,[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)({name:"",quantity:1,rate:"",total:""}),[m,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),{services:v,servicesStatus:g}=(0,w.d4)((e=>e.services)),{createOPDProcedureBillStatus:x}=(0,w.d4)((e=>e.bills));(0,t.useEffect)((()=>{"idle"===g&&s(lt())}),[s,g]),(0,t.useEffect)((()=>{}),[o,n]);const y=e=>{c(l.filter((t=>t.id!==e)))},N=e=>{const t=l.find((t=>t.id===e));t&&(u({name:t.name,quantity:t.quantity,rate:t.rate,total:t.total}),f(t.name),c((t=>t.filter((t=>t.id!==e)))))},_=(0,t.useMemo)((()=>{const e=l.reduce(((e,t)=>e+t.total),0);return{subtotal:e,totalAmount:e}}),[l]);return o?(0,X.jsxs)("div",{className:"w-full mx-auto p-2 space-y-4",children:[(0,X.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>{i(-1)},children:[(0,X.jsx)(gc.A,{className:"mr-2"}),(0,X.jsx)("h1",{className:"text-lg font-bold",children:"Add OPD Procedure"})]}),(0,X.jsx)(k.Zp,{children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center mb-4 md:mb-0",children:[(0,X.jsxs)(Zs,{className:"h-12 w-12 mr-4",children:[(0,X.jsx)(Js,{src:`https://api.dicebear.com/6.x/initials/svg?seed=${o.name}`,alt:o.name}),(0,X.jsx)(Qs,{children:o.name.charAt(0)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"font-semibold",children:o.name}),(0,X.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[(0,X.jsx)(go.E,{variant:"outline",children:o.gender}),(0,X.jsxs)(go.E,{variant:"outline",children:[o.age," yrs"]}),o.bloodGroup&&(0,X.jsx)(go.E,{variant:"outline",children:o.bloodGroup})]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(jJ,{className:"w-4 h-4 text-gray-400"}),(0,X.jsx)("span",{children:o.registrationNumber})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(_g,{className:"w-4 h-4 text-gray-400"}),(0,X.jsx)("span",{children:o.contactNumber})]})]})]})})}),(0,X.jsx)(k.Zp,{children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d.name&&d.rate>0&&(c([...l,{...d,id:Date.now(),total:d.total}]),u({name:"",quantity:1,rate:0,total:0}),f(""))},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 items-end mb-4",children:[(0,X.jsxs)("div",{className:"col-span-full sm:col-span-1 md:col-span-2",children:[(0,X.jsx)(wi.J,{htmlFor:"serviceName",children:"Service Name"}),(0,X.jsx)(bi.P,{suggestions:v,placeholder:"Enter service name",value:h,setValue:f,onSuggestionSelect:e=>{u((t=>({...t,name:e.name,rate:e.rate,total:e.rate*t.quantity})))}})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"quantity",className:"hidden sm:block",children:"Quantity *"}),(0,X.jsx)(xn.p,{type:"number",id:"quantity",value:d.quantity,onChange:e=>{const t=parseInt(e.target.value)||0;u((e=>({...e,quantity:t,total:t*e.rate})))},placeholder:"Qty *",required:!0,min:"1"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"rate",className:"hidden sm:block",children:"Rate"}),(0,X.jsx)(xn.p,{type:"number",id:"rate",value:d.rate,onChange:e=>{const t=parseFloat(e.target.value)||0;u((e=>({...e,rate:t,total:e.quantity*t})))},placeholder:"Rate",required:!0,min:"0",step:"1"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"total",className:"hidden sm:block",children:"Total"}),(0,X.jsx)(xn.p,{type:"number",id:"total",value:d.total,onChange:e=>{const t=parseFloat(e.target.value)||0;u((e=>({...e,total:t})))},placeholder:"Total",step:"1"})]}),(0,X.jsxs)("div",{className:"col-span-full sm:col-span-1 flex items-center justify-center mt-2 sm:mt-0",children:[(0,X.jsxs)(j.$,{type:"submit",variant:"outline",size:"sm",className:"h-8 w-full sm:w-auto sm:px-3 mr-2",children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-2"}),(0,X.jsx)("span",{children:"Add"})]}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",size:"sm",className:"h-8 w-full sm:w-8 sm:p-0",onClick:()=>u({name:"",quantity:1,rate:"",total:""}),children:[(0,X.jsx)(C.A,{className:"h-4 w-4 sm:inline"}),(0,X.jsx)("span",{className:"sm:hidden",children:"Clear"})]})]})]}),(0,X.jsx)(io,{className:"my-2"}),(0,X.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Added Services"}),l.length>0?(0,X.jsx)("div",{className:"sm:hidden",children:l.map((e=>(0,X.jsx)(k.Zp,{className:"mb-2",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("span",{className:"font-semibold",children:e.name}),(0,X.jsxs)("div",{children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 mr-2",onClick:()=>N(e.id),children:(0,X.jsx)(Kx,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>y(e.id),children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,X.jsxs)("div",{children:["Quantity: ",e.quantity]}),(0,X.jsxs)("div",{children:["Rate: \u20b9",e.rate.toLocaleString("en-IN")]}),(0,X.jsxs)("div",{className:"col-span-2 font-semibold",children:["Total: \u20b9",e.total.toLocaleString("en-IN")]})]})]})},e.id)))}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center h-[200px] text-gray-500",children:[(0,X.jsx)(bo,{className:"w-12 h-12 mb-2"}),(0,X.jsx)("p",{children:"No services added yet. Please add a service above."})]}),(0,X.jsx)("div",{className:"hidden sm:block",children:(0,X.jsx)(b.F,{className:"h-[300px] w-full",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[50px]",children:"#"}),(0,X.jsx)(uo.nd,{children:"Service"}),(0,X.jsx)(uo.nd,{children:"Quantity"}),(0,X.jsx)(uo.nd,{children:"Rate"}),(0,X.jsx)(uo.nd,{children:"Total"}),(0,X.jsx)(uo.nd,{className:"text-right",children:"Action"})]})}),(0,X.jsx)(uo.BF,{children:l.map(((e,t)=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:t+1}),(0,X.jsx)(uo.nA,{children:e.name}),(0,X.jsx)(uo.nA,{children:e.quantity}),(0,X.jsx)(uo.nA,{children:e.rate.toLocaleString("en-IN")}),(0,X.jsx)(uo.nA,{children:e.total.toLocaleString("en-IN")}),(0,X.jsx)(uo.nA,{className:"text-right",children:(0,X.jsxs)("div",{children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 mr-2",onClick:()=>N(e.id),children:(0,X.jsx)(Kx,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>y(e.id),children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})]})})]},e.id)))})]})})})]})}),(0,X.jsx)(k.Zp,{children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsx)("div",{className:"flex md:flex-row justify-between items-start md:items-center",children:(0,X.jsxs)("div",{className:"flex flex-col items-start md:items-end",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(wi.J,{children:"Subtotal:"}),(0,X.jsxs)("span",{children:["\u20b9",_.subtotal.toLocaleString("en-IN")]})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(wi.J,{children:"Total:"}),(0,X.jsxs)("span",{className:"text-xl font-bold",children:["\u20b9",_.totalAmount.toLocaleString("en-IN")]})]})]})})})}),(0,X.jsx)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-4",children:(0,X.jsxs)("div",{className:"flex w-full sm:w-auto",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>c([]),disabled:m,className:"w-1/2 sm:w-auto mr-2 sm:mr-0",children:"Reset"}),(0,X.jsx)(j.$,{onClick:async e=>{e.preventDefault(),p(!0);const t={services:l.map((e=>({name:e.name,quantity:e.quantity,rate:e.rate,total:e.total}))),totalAmount:_.totalAmount,subtotal:_.subtotal,patient:n,patientInfo:{name:o.name,phone:o.contactNumber}};try{const e=await s(xt(t));xt.fulfilled.match(e)?(c([]),i("/billings")):xt.rejected.match(e)&&console.error("Failed to create OPD Procedure bill:",e.error)}catch(r){console.error("An error occurred:",r)}finally{p(!1)}},disabled:"loading"===x,className:"w-1/2 sm:w-auto",children:"loading"===x?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Bill"})]})})]}):(0,X.jsx)("div",{children:"Loading..."})}const VJ=(0,N.A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),qJ=(0,N.A)("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]),GJ=(0,N.A)("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]),KJ=(0,N.A)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),YJ=(0,N.A)("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),XJ=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),d=(0,w.wA)(),u=(0,w.d4)((e=>e.patients.todaysPatientList)),{departments:m,status:p}=(0,w.d4)((e=>e.departments)),h=(0,w.d4)((e=>e.hospital.hospitalInfo)),f=(0,t.useMemo)((()=>0!==m.length&&(null===m||void 0===m?void 0:m.some((e=>e.name.toLowerCase().includes("obstetrics"))))),[m]);(0,t.useEffect)((()=>{"idle"===p&&d(We())}),[m]),(0,t.useEffect)((()=>{d((0,Be.PP)({startDate:(new Date).toLocaleDateString("en-In").split("/").reverse().join("-")}))}),[]);const v=(0,a.Zp)(),g=u.filter((e=>"OPD"===e.type)),x=u.filter((e=>"IPD"===e.type)),y=[{title:"Today's Patients",description:`OPD: ${g.length} | IPD: ${x.length}`,icon:ki,action:()=>v("/patients"),color:"bg-amber-200 text-amber-800 hover:bg-amber-300"},{title:"Book OPD",description:"Register a new OPD patient",icon:Cg,action:()=>{(null===h||void 0===h?void 0:h.discontinuedDaysLeft)<0?c(!0):n(!0)},color:"bg-blue-200 text-blue-800 hover:bg-blue-300"},{title:"Book IPD",description:"Register a new IPD patient",icon:Bi,action:()=>{(null===h||void 0===h?void 0:h.discontinuedDaysLeft)<0?c(!0):i(!0)},color:"bg-green-200 text-green-800 hover:bg-green-300"},{title:"OPD Procedure",description:"Register new OPD procedure",icon:xx,action:()=>o(!0),color:"bg-purple-200 text-purple-800 hover:bg-purple-300"},{title:"Patient List",description:"View and manage all patients",icon:ki,action:()=>v("/patients"),color:"bg-pink-200 text-pink-800 hover:bg-pink-300"},{title:"Admitted Patients",description:"View and discharge admitted patients",icon:Bi,action:()=>v("/patients/admitted"),color:"bg-yellow-200 text-yellow-800 hover:bg-yellow-300"},{title:"Billings/Invoices",description:"Manage patient bills and payments",icon:VJ,action:()=>v("/billings"),color:"bg-red-200 text-red-800 hover:bg-red-300"},{title:"Doctor's Section",description:"For filling diagnosis, medications etc ...",icon:Ii,action:()=>v("/doctors"),color:"bg-indigo-200 text-indigo-800 hover:bg-indigo-300"},{title:"Pharmacy",description:"Manage medicines and sales",icon:Li,action:()=>v("/pharmacy/sales"),color:"bg-emerald-200 text-emerald-800 hover:bg-emerald-300"},{title:"Laboratory",description:"Manage lab tests and reports",icon:qJ,action:()=>v("/lab/list"),color:"bg-orange-200 text-orange-800 hover:bg-orange-300"},{title:"Rooms",description:"Manage hospital rooms and beds",icon:GJ,action:()=>v("/rooms"),color:"bg-cyan-200 text-cyan-800 hover:bg-cyan-300"},{title:"Services",description:"Manage hospital services",icon:KJ,action:()=>v("/services"),color:"bg-violet-200 text-violet-800 hover:bg-violet-300"},{title:"Expenses/Debit",description:"Track and manage expenses",icon:zl,action:()=>v("/expenses"),color:"bg-rose-200 text-rose-800 hover:bg-rose-300"},{title:"Payments",description:"View and manage all payments",icon:KJ,action:()=>v("/payments"),color:"bg-lime-200 text-lime-800 hover:bg-lime-300"},{title:"Statistics",description:"View hospital statistics and reports",icon:Pi,action:()=>v("/statistics"),color:"bg-teal-200 text-teal-800 hover:bg-teal-300"},{title:"Settings",description:"Configure hospital settings",icon:Ui.A,action:()=>v("/settings"),color:"bg-gray-200 text-gray-800 hover:bg-gray-300"}];return f&&y.push({title:"Baby Record",description:"View and Manage all babies",icon:YJ,action:()=>v("/patients/babies"),color:"bg-pink-300 text-gray-800 hover:bg-pink-400"}),(0,X.jsxs)("div",{className:"p-4 space-y-6",children:[(0,X.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(((e,t)=>(0,X.jsx)(k.Zp,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg ${e.color}`,onClick:e.action,children:(0,X.jsx)(k.Wu,{className:"p-6",children:(0,X.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,X.jsx)("div",{className:"p-3 rounded-full bg-white",children:(0,X.jsx)(e.icon,{className:"h-6 w-6"})}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"text-lg font-semibold",children:e.title}),(0,X.jsx)("p",{className:"text-sm opacity-90 "+(0===t?"font-semibold":""),children:e.description})]})]})})},t)))}),(0,X.jsx)(Ug,{open:e,onOpenChange:n}),(0,X.jsx)(Hg,{open:r,onOpenChange:i}),(0,X.jsx)($J,{open:s,onOpenChange:o}),(0,X.jsx)(oo,{isOpen:l,setIsOpen:c})]})};function ZJ(){var e,n,r;const{patientId:i}=(0,a.g)(),s=(0,a.Zp)(),o=(0,a.zy)(),l=(0,w.wA)(),{toast:c}=(0,H.dj)(),[d,u]=(0,t.useState)("visits"),{patientDetailsStatus:m}=(0,w.d4)((e=>e.patients)),[p,h]=(0,t.useState)(null),[f,v]=(0,t.useState)(null),[g,x]=(0,t.useState)(null),[y,b]=(0,t.useState)(!1);(0,t.useEffect)((()=>{l((0,Be.uZ)(i)).unwrap().then((e=>{h(e);let t=[...e.visits,...e.admissionDetails];if(t=t.sort(((e,t)=>new Date(t.bookingDate)-new Date(e.bookingDate))),t.length>0){const e=t.find((e=>{var t;return e._id===(null===o||void 0===o||null===(t=o.state)||void 0===t?void 0:t.ID)}))||t[0];v(e)}})).catch((e=>{c({title:"Error",description:"Error fetching patient details",variant:"destructive"})}))}),[l,i,null===o||void 0===o||null===(e=o.state)||void 0===e?void 0:e.ID]),(0,t.useEffect)((()=>{var e,t;(null===f||void 0===f||null===(e=f.bills)||void 0===e||null===(t=e.services)||void 0===t?void 0:t.length)>0?x({billId:f.bills.services[0]._id,billData:f.bills}):x(null)}),[f]);if((0,t.useEffect)((()=>{var e;null!==(e=o.state)&&void 0!==e&&e.activeTab&&u(o.state.activeTab)}),[o.state]),"loading"===m)return(0,X.jsx)("div",{children:"Loading..."});return(0,X.jsx)(k.Zp,{className:"min-h-screen border-none",children:(0,X.jsxs)(Uo,{value:d,className:"w-full",onValueChange:e=>{u(e),"payments"===e&&null!==g&&void 0!==g&&g.billData&&b(!0)},children:[(0,X.jsx)("div",{className:"border-b bg-white sticky top-0 z-10 shadow-sm",children:(0,X.jsx)("div",{className:"container mx-auto px-4",children:(0,X.jsxs)("div",{className:"flex items-center h-10",children:[(0,X.jsxs)("button",{className:"flex items-center gap-2 hover:text-primary transition-colors mr-8",onClick:()=>s("/patients"),children:[(0,X.jsx)(gc.A,{className:"h-4 w-4"}),(0,X.jsx)("span",{className:"text-sm font-medium",children:"Back"})]}),(0,X.jsxs)($o,{className:"h-9 bg-muted/50",children:[(0,X.jsx)(zo,{value:"visits",className:"text-sm px-4 data-[state=active]:bg-background",children:"Visit History"}),(0,X.jsx)(zo,{value:"bills",className:"text-sm px-4 data-[state=active]:bg-background",children:"Bills"}),(0,X.jsx)(zo,{value:"payments",className:"text-sm px-4 data-[state=active]:bg-background",children:"Payments"})]})]})})}),(0,X.jsxs)("div",{className:"container mx-auto px-4 ",children:[(0,X.jsx)(Ho,{value:"visits",className:"m-0",children:(0,X.jsx)(cx,{patientData:p,selectedVisit:f,onVisitSelect:e=>{v(e)}})}),(0,X.jsx)(Ho,{value:"bills",className:"m-0",children:g?(0,X.jsx)(NJ,{initialBillId:g.billId,initialBillData:g.billData,patientData:p,isEmbedded:!0}):(0,X.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No bills found for this patient"})}),(0,X.jsx)(Ho,{value:"payments",className:"m-0",children:null!==g&&void 0!==g&&g.billData?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"text-center py-8 text-gray-500",children:["Click here to manage payments",(0,X.jsx)(j.$,{variant:"outline",className:"ml-2",onClick:()=>{b(!0)},children:"Open Payment Dialog"})]}),(0,X.jsx)(Nc,{isOpen:y,setIsOpen:b,billData:null===g||void 0===g||null===(n=g.billData)||void 0===n||null===(r=n.services)||void 0===r?void 0:r[0]})]}):(0,X.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No bills found for this patient"})})]})]})})}function JJ(){const{toast:e}=(0,H.dj)(),n=(0,w.wA)(),r=(0,a.Zp)(),{admittedPatientsStatus:i}=(0,w.d4)((e=>e.patients)),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)(""),[h,f]=(0,t.useState)(null),[v,g]=(0,t.useState)(!1),x=(0,w.d4)((e=>e.templates.dischargeFormTemplateArray)),y=(0,w.d4)((e=>e.templates.dischargeFormTemplates));(0,t.useEffect)((()=>{n((0,Be.NJ)()).unwrap().then((e=>{o(e)}))}),[]);const N=e=>"Discharged"===e.status&&e.formConfig?[e.formConfig]:(null===x||void 0===x?void 0:x.filter((t=>{var n,r;const a=t.isDefault,i=(null===(n=t.associatedDoctors)||void 0===n?void 0:n.map((e=>{var t;return null===(t=e._id)||void 0===t?void 0:t.toString()})))||[],s=null===(r=e.assignedDoctor._id)||void 0===r?void 0:r.toString();return a||i.includes(s)})))||[],_=(e,t,n)=>{const a=N(t),i=n?null===a||void 0===a?void 0:a.find((e=>e._id===n)):(null===a||void 0===a?void 0:a[0])||y;r(`/patients/discharge/${e}`,{state:{ignoreList:!0,dischargeData:t,selectedTemplate:i||null}})},E=e=>{var t,n;c({patientData:{_id:e._id,name:e.patient.name,registrationNumber:e.patient.registrationNumber,ipdNumber:e.ipdNumber,age:e.patient.age,gender:e.patient.gender,contactNumber:e.patient.contactNumber,address:e.patient.address,bookingDate:e.bookingDate,admissionDate:(null===(t=e.dischargeData)||void 0===t?void 0:t.admissionDate)||e.bookingDate,dischargeDate:null===(n=e.dischargeData)||void 0===n?void 0:n.dateDischarged,type:"IPD"},initialBillData:{operationName:e.operationName,services:[e.bills.services[0]]||0}}),u(!0)},C=()=>{u(!1),c(null),n((0,Be.NJ)())},D=()=>{0!==m.length?n((0,Be.TM)(m.trim())).unwrap().then((e=>{o(e)})):e({title:"Error",description:"Please enter a registration number",variant:"destructive"})},T=e=>{p(e.target.value)},P=()=>{h?n((0,Be.s3)(h)).unwrap().then((e=>{o(e),g(!1)})).catch((t=>{e({title:"Error",description:"getting server error",variant:"destructive"})})).finally((()=>{})):e({title:"Error",description:"Please select a date",variant:"destructive"})};return(0,X.jsx)("div",{className:"",children:d?(0,X.jsxs)("div",{children:[(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsxs)(j.$,{variant:"ghost",onClick:C,className:"flex items-center gap-2",children:[(0,X.jsx)(gc.A,{className:"h-4 w-4"}),"Back to Admitted Patients"]})}),(0,X.jsx)(NJ,{isEmbedded:!0,patientData:{...l.patientData},initialBillDatas:l.initialBillData,onClose:C})]}):(0,X.jsxs)(k.Zp,{className:"w-full",children:[(0,X.jsx)(k.aR,{className:"bg-primary text-primary-foreground",children:(0,X.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"h-6 w-6",children:(0,X.jsx)(gc.A,{className:"h-4 w-4"})}),(0,X.jsx)(k.ZB,{className:"text-xl font-bold",children:"Admitted Patients"})]}),(0,X.jsxs)("div",{className:"flex flex-row items-center gap-2 w-full sm:hidden",children:[(0,X.jsxs)("div",{className:"relative flex-1",children:[(0,X.jsx)(xn.p,{type:"text",placeholder:"Search by UHID...",value:m,onChange:T,onKeyDown:e=>"Enter"===e.key&&D(),className:"bg-white/90 border-0 pr-8 text-black w-full"}),(0,X.jsx)(Ps.A,{className:"h-4 w-4 absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-500 hover:cursor-pointer",onClick:D})]}),(0,X.jsxs)(eo.AM,{children:[(0,X.jsx)(eo.Wv,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"secondary",size:"icon",className:"bg-white text-black hover:bg-white/75",children:(0,X.jsx)(S.A,{className:"h-4 w-4"})})}),(0,X.jsx)(eo.hl,{className:"w-64 p-2",align:"end",children:(0,X.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,X.jsxs)(eo.AM,{children:[(0,X.jsx)(eo.Wv,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),h?(0,fo.GP)(h,"PPP"):"Date wise discharged"]})}),(0,X.jsxs)(eo.hl,{className:"w-auto p-0",align:"start",children:[(0,X.jsx)(fg.V,{mode:"single",selected:h,onSelect:f,initialFocus:!0}),(0,X.jsx)("div",{className:"p-2 border-t",children:(0,X.jsx)(j.$,{className:"w-full",onClick:P,children:"Search"})})]})]}),(0,X.jsxs)(j.$,{onClick:()=>r("/patients/discharge"),variant:"outline",className:"w-full justify-start text-left",children:[(0,X.jsx)(Kx,{className:"mr-2 h-4 w-4"}),"Create Discharge"]})]})})]})]}),(0,X.jsxs)("div",{className:"hidden sm:flex flex-row items-center gap-2",children:[(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(xn.p,{type:"text",placeholder:"Search by UHID...",value:m,onChange:T,onKeyDown:e=>"Enter"===e.key&&D(),className:"bg-white/90 border-0 pr-8 text-black w-72"}),(0,X.jsx)(Ps.A,{className:"h-4 w-4 absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-500 hover:cursor-pointer",onClick:D})]}),(0,X.jsxs)(eo.AM,{open:v,onOpenChange:g,children:[(0,X.jsx)(eo.Wv,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:(0,Ee.cn)("bg-white text-black hover:bg-white/75 w-[240px] justify-start text-left font-normal",!h&&"text-muted-foreground"),children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),h?(0,fo.GP)(h,"PPP"):"Date wise discharged"]})}),(0,X.jsxs)(eo.hl,{className:"w-auto p-0",align:"start",children:[(0,X.jsx)(fg.V,{mode:"single",selected:h,onSelect:f,initialFocus:!0}),(0,X.jsx)("div",{className:"p-2 border-t",children:(0,X.jsx)(j.$,{className:"w-full",onClick:P,children:"Search"})})]})]}),(0,X.jsxs)(j.$,{onClick:()=>r("/patients/discharge"),variant:"secondary",className:"bg-white text-black hover:bg-white",children:[(0,X.jsx)(Kx,{className:"h-4 w-4 mr-2"}),"Create Discharge"]})]})]})}),(0,X.jsx)(k.Wu,{className:"p-0",children:(0,X.jsx)(b.F,{className:"h-[calc(100vh-8rem)]",children:"loading"===i?(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-12rem)]",children:[(0,X.jsx)(Di,{className:"h-8 w-8 animate-spin text-primary mb-2"}),(0,X.jsx)("span",{className:"text-muted-foreground",children:"Loading patients..."})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{className:"hidden md:block",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{className:"bg-muted/50",children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[140px]",children:"UHID No."}),(0,X.jsx)(uo.nd,{className:"w-[120px]",children:"IPD No."}),(0,X.jsx)(uo.nd,{className:"w-[200px]",children:"Name"}),(0,X.jsx)(uo.nd,{className:"w-[150px]",children:"Operation Name"}),(0,X.jsx)(uo.nd,{className:"w-[120px]",children:"Admission Date"}),(0,X.jsx)(uo.nd,{className:"text-right w-[100px]",children:"Amount (\u20b9)"}),(0,X.jsx)(uo.nd,{className:"text-right w-[120px]",children:"Paid (\u20b9)"}),(0,X.jsx)(uo.nd,{className:"text-right w-[120px]",children:"Due (\u20b9)"}),(0,X.jsx)(uo.nd,{className:"text-center w-[120px]",children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:0===s.length?(0,X.jsx)(uo.Hj,{children:(0,X.jsx)(uo.nA,{colSpan:8,className:"h-24 text-center",children:(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[(0,X.jsx)(bo,{className:"h-8 w-8 mb-2"}),(0,X.jsx)("span",{children:"No admitted patients found"})]})})}):s.map((e=>{var t,n,a,i;return(0,X.jsxs)(uo.Hj,{className:"border-b hover:bg-muted/50",children:[(0,X.jsx)(uo.nA,{className:"font-medium",children:e.patient.registrationNumber}),(0,X.jsx)(uo.nA,{className:"font-medium",children:e.ipdNumber||"-"}),(0,X.jsx)(uo.nA,{children:e.patient.name}),(0,X.jsx)(uo.nA,{children:(null===e||void 0===e||null===(t=e.operationName)||void 0===t?void 0:t.length)>20?`${e.operationName.substring(0,20)}...`:null===e||void 0===e?void 0:e.operationName}),(0,X.jsx)(uo.nA,{children:(0,fo.GP)(new Date(e.admissionDate),"dd/MM/yyyy")}),(0,X.jsx)(uo.nA,{className:"text-right tabular-nums font-bold",children:e.totalAmount.toFixed(2)}),(0,X.jsx)(uo.nA,{className:"text-right tabular-nums font-bold text-green-600",children:e.amountPaid.toFixed(2)}),(0,X.jsx)(uo.nA,{className:"text-right tabular-nums font-bold text-red-600",children:e.amountDue.toFixed(2)}),(0,X.jsx)(uo.nA,{className:"text-center",children:(0,X.jsxs)("div",{className:"flex gap-2 justify-end pr-4",children:[(null===(n=e.department)||void 0===n?void 0:n.toLowerCase().includes("obstetric"))&&"female"===(null===e||void 0===e||null===(a=e.patient)||void 0===a||null===(i=a.gender)||void 0===i?void 0:i.toLowerCase())&&(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(j.$,{onClick:()=>r(`/patients/${e._id}/babies`,{state:{motherData:{...e.patient,bookingDate:e.bookingDate,bookingTime:e.bookingTime}}}),variant:"outline",size:"sm",className:"border-pink-200 hover:border-pink-300 hover:bg-pink-50 inline-flex items-center gap-1",children:(0,X.jsx)(YJ,{className:"h-4 w-4 text-pink-500"})})}),(0,X.jsxs)(j.$,{onClick:()=>E(e),variant:"outline",size:"sm",className:"inline-flex items-center",children:[(0,X.jsx)(xx,{className:"h-4 w-4"}),"Bills"]}),(()=>{const t=N(e);return 0===t.length?(0,X.jsx)(j.$,{onClick:()=>_(e._id,e),variant:"default",size:"sm",className:" h-8 text-xs bg-blue-600 hover:bg-blue-700 text-white",children:"Discharged"===e.status?"View/Edit":"Discharge"}):1===t.length?(0,X.jsx)(j.$,{onClick:()=>_(e._id,e,t[0]._id),variant:"default",size:"sm",className:" h-8 text-xs bg-blue-600 hover:bg-blue-700 text-white",children:"Discharged"===e.status?"View/Edit":"Discharge"}):(0,X.jsxs)(A.l6,{onValueChange:t=>_(e._id,e,t),children:[(0,X.jsx)(A.bq,{className:"bg-blue-600 hover:bg-blue-700 text-white border-0 h-8",children:(0,X.jsx)(A.yv,{placeholder:"Discharge"})}),(0,X.jsx)(A.gC,{children:t.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]})})()]})})]},e._id)}))})]})}),(0,X.jsx)("div",{className:"block md:hidden px-2 py-1",children:0===s.length?(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground m-4",children:[(0,X.jsx)(bo,{className:"h-8 w-8 mb-2"}),(0,X.jsx)("span",{children:"No admitted patients found"})]}):s.map((e=>{var t,n,a;return(0,X.jsx)(k.Zp,{className:"mb-2 mx-2",children:(0,X.jsx)(k.Wu,{className:"p-3",children:(0,X.jsxs)("div",{className:"space-y-1.5",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("h3",{className:"font-semibold text-base",children:e.patient.name}),(0,X.jsxs)("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[(0,X.jsxs)("div",{children:["UHID No:"," ",e.patient.registrationNumber]}),(0,X.jsxs)("div",{children:["IPD No: ",e.ipdNumber||"-"]})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 text-xs gap-x-4",children:[(0,X.jsxs)("div",{className:"flex justify-between",children:[(0,X.jsx)("span",{className:"text-muted-foreground",children:"Admission:"}),(0,X.jsx)("span",{children:(0,fo.GP)(new Date(e.admissionDate),"dd/MM/yyyy")})]}),(0,X.jsxs)("div",{className:"flex justify-between",children:[(0,X.jsx)("span",{className:"text-muted-foreground",children:"Total:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",e.totalAmount.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between",children:[(0,X.jsx)("span",{className:"text-muted-foreground",children:"Paid:"}),(0,X.jsxs)("span",{className:"font-medium text-green-600",children:["\u20b9",e.amountPaid.toFixed(2)]})]}),(0,X.jsxs)("div",{className:"flex justify-between",children:[(0,X.jsx)("span",{className:"text-muted-foreground",children:"Due:"}),(0,X.jsxs)("span",{className:"font-medium text-red-600",children:["\u20b9",e.amountDue.toFixed(2)]})]})]}),(0,X.jsxs)("div",{className:"flex flex-wrap gap-2 pt-1.5",children:[(null===(t=e.department)||void 0===t?void 0:t.toLowerCase().includes("obstetric"))&&"female"===(null===e||void 0===e||null===(n=e.patient)||void 0===n||null===(a=n.gender)||void 0===a?void 0:a.toLowerCase())&&(0,X.jsxs)(j.$,{onClick:()=>r(`/patients/${e._id}/babies`,{state:{motherData:{...e.patient,bookingDate:null===e||void 0===e?void 0:e.bookingDate,bookingTime:null===e||void 0===e?void 0:e.bookingTime}}}),variant:"outline",size:"sm",className:"flex-1 min-w-[120px] h-8 text-xs border-pink-200 hover:border-pink-300 hover:bg-pink-50 inline-flex items-center justify-center gap-1",children:[(0,X.jsx)(YJ,{className:"h-3 w-3 text-pink-500"}),"Babies"]}),(0,X.jsxs)(j.$,{onClick:()=>E(e),variant:"outline",size:"sm",className:"flex-1 min-w-[120px] h-8 text-xs inline-flex items-center justify-center gap-1",children:[(0,X.jsx)(xx,{className:"h-3 w-3"}),"Bills"]}),(0,X.jsxs)(j.$,{onClick:()=>(e=>{r(`/patients/add-services/${e._id}`,{state:{patientData:{_id:e._id,name:e.patient.name,registrationNumber:e.patient.registrationNumber,ipdNumber:e.ipdNumber,age:e.patient.age,gender:e.patient.gender,contactNumber:e.patient.contactNumber,address:e.patient.address,bookingDate:e.bookingDate,type:"IPD"},initialBillData:{operationName:e.operationName,services:[e.bills.services[0]]||0}}})})(e),variant:"outline",size:"sm",className:"flex-1 min-w-[120px] h-8 text-xs inline-flex items-center justify-center gap-1",children:[(0,X.jsx)(S.A,{className:"h-3 w-3"}),"Add Services"]}),(()=>{const t=N(e);return 0===t.length?(0,X.jsx)(j.$,{onClick:()=>_(e._id,e),variant:"default",size:"sm",className:"  h-8 text-xs bg-blue-600 hover:bg-blue-700 text-white",children:"Discharged"===e.status?"View/Edit":"Discharge"}):1===t.length?(0,X.jsx)(j.$,{onClick:()=>_(e._id,e,t[0]._id),variant:"default",size:"sm",className:"  h-8 text-xs bg-blue-600 hover:bg-blue-700 text-white",children:"Discharged"===e.status?"View/Edit":"Discharge"}):(0,X.jsxs)(A.l6,{onValueChange:t=>_(e._id,e,t),children:[(0,X.jsx)(A.bq,{className:"bg-blue-600 hover:bg-blue-700 text-white border-0 h-8",children:(0,X.jsx)(A.yv,{placeholder:"Discharge"})}),(0,X.jsx)(A.gC,{children:t.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]})})()]})]})})},e._id)}))})]})})})]})})}function QJ(){var e;const n=(0,a.zy)(),r=(0,a.Zp)(),i=(0,w.wA)(),{toast:s}=(0,H.dj)(),{patientId:o}=(0,a.g)(),[l,c]=(0,t.useState)((null===(e=n.state)||void 0===e?void 0:e.patientData)||null),[d,u]=(0,t.useState)([]),[m,p]=(0,t.useState)({serviceName:"",quantity:"",rate:"",total:"",category:""}),[h,f]=(0,t.useState)(""),[v,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(null),[N,_]=(0,t.useState)([]),{services:S,servicesStatus:E}=(0,w.d4)((e=>e.services)),D=(0,w.d4)((e=>e.bills.createBillStatus)),T=S.filter((e=>"OPD Procedure"===e.category&&"Surgery"!==e.category));(0,t.useEffect)((()=>{"idle"===E&&i(lt())}),[i,E]),(0,t.useEffect)((()=>{var e,t,r;const a=(null===(e=n.state)||void 0===e||null===(t=e.initialBillData)||void 0===t||null===(r=t.services[0])||void 0===r?void 0:r.services)||[];_(a.filter((e=>"Surgery"!==e.category)).map(((e,t)=>({id:`existing-${t}`,service:e.name,quantity:e.quantity,rate:e.rate,total:e.rate*e.quantity,category:e.category}))))}),[n.state]);const A=e=>{const{name:t,value:n}=e.target;p((e=>{const r={...e,[t]:n};if(r.quantity&&r.rate){const e=parseInt(r.quantity),t=parseFloat(r.rate);r.total=e*t}return r}))},P=()=>{var e,t;const r=d.reduce(((e,t)=>e+t.total),0),a=(null===(e=n.state)||void 0===e||null===(t=e.initialBillData)||void 0===t?void 0:t.services[0])||{},i=a.subtotal||0,s=a.additionalDiscount||0,o=a.amountPaid||0,l=r+i,c=l-s;return{subtotal:l,discount:s,totalAmount:c,totalAmountPaid:o,balance:c-o,billId:a._id}};return l?(0,X.jsxs)("div",{className:"w-full h-[calc(100vh-4rem)] flex flex-col gap-1",children:[(0,X.jsxs)("div",{className:"flex items-center mb-1",children:[(0,X.jsxs)("div",{variant:"ghost",onClick:()=>r(-1),className:"flex items-center gap-2",children:[(0,X.jsx)(gc.A,{className:"h-2 w-4"}),"Back"]}),(0,X.jsx)("h2",{className:"text-lg font-bold ml-2",children:"Add Services"})]}),(0,X.jsx)(k.Zp,{className:"flex-shrink-0",children:(0,X.jsx)(k.Wu,{className:"p-1",children:(0,X.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:(0,X.jsxs)("div",{className:"flex items-center mb-2 md:mb-0",children:[(0,X.jsxs)(Zs,{className:"h-10 w-10 mr-3",children:[(0,X.jsx)(Js,{src:`https://api.dicebear.com/6.x/initials/svg?seed=${l.name}`,alt:l.name}),(0,X.jsx)(Qs,{children:l.name.charAt(0)})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"font-semibold",children:l.name}),(0,X.jsxs)("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[(0,X.jsx)(go.E,{variant:"outline",children:l.gender}),(0,X.jsxs)(go.E,{variant:"outline",children:[l.age," yrs"]}),(0,X.jsxs)(go.E,{variant:"outline",children:["UHID No: ",l.registrationNumber]}),l.ipdNumber&&(0,X.jsxs)(go.E,{variant:"outline",children:["IPD No: ",l.ipdNumber]})]})]})]})})})}),(0,X.jsx)(k.Zp,{className:" flex flex-col overflow-hidden",children:(0,X.jsxs)(k.Wu,{className:"p-2 flex flex-col h-full",children:[(0,X.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={id:d.length+1,service:m.serviceName,category:m.category||"OPD Procedure",quantity:parseInt(m.quantity),rate:parseFloat(m.rate),total:parseFloat(m.total)};u((e=>[...e,t])),p({serviceName:"",quantity:"",rate:"",total:"",category:""}),f("")},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-1 items-end",children:[(0,X.jsxs)("div",{className:"col-span-full sm:col-span-1 md:col-span-2",children:[(0,X.jsx)(wi.J,{htmlFor:"serviceName",children:"Service Name"}),(0,X.jsx)(bi.P,{suggestions:T,placeholder:"Enter service name",value:h,setValue:f,onSuggestionSelect:e=>{p((t=>({...t,serviceName:e.name,rate:e.rate,total:e.rate,category:e.category,quantity:1})))}})]}),(0,X.jsx)("div",{className:"col-span-full sm:col-span-1 md:col-span-3 lg:col-span-3",children:(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"quantity",children:"Quantity"}),(0,X.jsx)(xn.p,{type:"number",id:"quantity",name:"quantity",value:m.quantity,onChange:A,required:!0})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"rate",children:"Rate"}),(0,X.jsx)(xn.p,{type:"number",id:"rate",name:"rate",value:m.rate,onChange:A,required:!0})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(wi.J,{htmlFor:"total",children:"Total"}),(0,X.jsx)(xn.p,{type:"number",id:"total",name:"total",value:m.total,onChange:A,required:!0})]})]})}),(0,X.jsx)("div",{className:"col-span-full sm:col-span-1",children:(0,X.jsx)(j.$,{type:"submit",className:"w-full",children:"Add Service"})})]}),(0,X.jsx)(io,{className:"my-2"}),(0,X.jsx)(b.F,{className:"border rounded-md h-[290px]",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{className:"sticky top-0 bg-white",children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Service"}),(0,X.jsx)(uo.nd,{children:"Quantity"}),(0,X.jsx)(uo.nd,{children:"Rate"}),(0,X.jsx)(uo.nd,{children:"Total"}),(0,X.jsx)(uo.nd,{className:"text-right",children:"Action"})]})}),(0,X.jsxs)(uo.BF,{className:"overflow-auto",children:[N.map((e=>(0,X.jsxs)(uo.Hj,{className:"bg-muted/30",children:[(0,X.jsx)(uo.nA,{className:"py-2",children:e.service}),(0,X.jsx)(uo.nA,{className:"py-2",children:e.quantity}),(0,X.jsx)(uo.nA,{className:"py-2",children:e.rate}),(0,X.jsx)(uo.nA,{className:"py-2",children:e.total}),(0,X.jsx)(uo.nA,{className:"text-right py-2",children:(0,X.jsx)(go.E,{variant:"secondary",children:"Existing"})})]},e.id))),d.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"py-2",children:e.service}),(0,X.jsx)(uo.nA,{className:"py-2",children:e.quantity}),(0,X.jsx)(uo.nA,{className:"py-2",children:e.rate}),(0,X.jsx)(uo.nA,{className:"py-2",children:e.total}),(0,X.jsx)(uo.nA,{className:"text-right py-2",children:(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>{return t=e.id,void u((e=>e.filter((e=>e.id!==t))));var t},children:(0,X.jsx)(C.A,{className:"h-4 w-4"})})})]},e.id)))]})]})}),(0,X.jsx)(k.Zp,{className:"mt-2",children:(0,X.jsx)(k.Wu,{className:"p-1",children:(0,X.jsxs)("div",{className:"flex flex-col items-end space-y-0.5",children:[(0,X.jsxs)("div",{className:"flex justify-end w-48 items-center text-sm",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Subtotal:"}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)("span",{className:"mr-1",children:"\u20b9"}),(0,X.jsx)(xn.p,{value:P().subtotal.toFixed(2),className:"w-20 h-7 text-right font-medium border-0 p-0 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent",placeholder:"0.00",readOnly:!0})]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-48 items-center text-sm",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Discount:"}),(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)("span",{className:"text-red-600 mr-1",children:"\u20b9"}),(0,X.jsx)(xn.p,{value:P().discount.toFixed(2),className:"w-20 h-7 text-right text-red-600 font-medium border-0 p-0 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent",placeholder:"0.00",readOnly:!0})]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-48 items-center text-sm border-t border-gray-200 pt-0.5",children:[(0,X.jsx)("span",{className:"font-medium mr-3",children:"Net Total:"}),(0,X.jsxs)("span",{className:"font-medium",children:["\u20b9",P().totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-48 items-center text-sm",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Paid:"}),(0,X.jsxs)("span",{className:"text-green-600 font-bold",children:["\u20b9",P().totalAmountPaid.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,X.jsxs)("div",{className:"flex justify-end w-48 items-center text-sm border-t border-gray-200 pt-0.5",children:[(0,X.jsx)("span",{className:"text-gray-600 mr-3",children:"Balance:"}),(0,X.jsxs)("span",{className:"text-red-600 font-bold",children:["\u20b9",P().balance.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})})]})}),(0,X.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>r(-1),children:"Cancel"}),(0,X.jsx)(j.$,{onClick:()=>{if(0===d.length)return void s({title:"No services added",description:"Please add at least one service before creating the bill.",variant:"destructive"});const e=P(),t={services:[...N.filter((e=>"Surgery"!==e.category)).map((e=>({name:e.service,quantity:e.quantity,rate:e.rate,category:e.category}))),...d.map((e=>({name:e.service,quantity:e.quantity,rate:e.rate,category:e.category})))],patient:l._id,patientType:l.type,patientInfo:{name:l.name,phone:l.contactNumber},totals:{subtotal:e.subtotal,additionalDiscount:e.discount,totalAmount:e.totalAmount,amountPaid:e.totalAmountPaid}};i(ft({billId:e.billId,billData:t})).unwrap().then((()=>{s({variant:"success",title:"Services added successfully",description:"The services have been successfully added to the bill."})})).catch((e=>{s({title:"Error adding services",description:"There was an error adding the services. Please try again.",variant:"destructive"})}))},disabled:"loading"===D,children:"loading"===D?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Di,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding Services..."]}):"Add Services"})]}),(0,X.jsx)(jc,{isOpen:v,setIsOpen:g,billData:x,onClose:()=>g(!1)})]}):(0,X.jsx)("div",{children:"No patient data available"})}function eQ(){var e,n;const{toast:r}=(0,H.dj)(),i=(0,w.wA)(),{labTestsTemplate:s,status:o}=(0,w.d4)((e=>e.templates)),l=(0,a.Zp)(),c=(0,a.zy)(),d=null===(e=c.state)||void 0===e?void 0:e.editMode,u=null===(n=c.state)||void 0===n?void 0:n.templateData,{labCategories:m,labReportFields:p,fetchLabDataStatus:h}=(0,w.d4)((e=>e.lab));(0,t.useEffect)((()=>{"idle"===h&&i(tn())}),[h,i]);const[f,v]=(0,t.useState)({}),[g,x]=(0,t.useState)({}),[y,N]=(0,t.useState)(""),[E,C]=(0,t.useState)(""),[D,k]=(0,t.useState)({}),[A,P]=(0,t.useState)({}),[O,M]=(0,t.useState)(""),[I,L]=(0,t.useState)(!1),[F,B]=(0,t.useState)(""),[W,U]=(0,t.useState)(null),$=(0,t.useRef)(null),z=(0,t.useRef)(null),[V,q]=(0,t.useState)({}),[G,K]=(0,t.useState)(!1),Y=t.useRef(),Z=e=>e.toLowerCase().replace(/[()]/g,"").replace(/\s+/g,"-"),J=(e,t,n,r,a)=>{const i=Z(e);x((e=>{var s,o,l;return{...e,[i]:{...e[i],[t]:{...null===(s=e[i])||void 0===s?void 0:s[t],[n]:{...null===(o=e[i])||void 0===o||null===(l=o[t])||void 0===l?void 0:l[n],[r]:a}}}}}))};(0,t.useEffect)((()=>{d&&u&&(N(u.name),M(u.rate))}),[d,u]);const Q=e=>{L(e),e||(C(""),k({}))},ee=e=>{P((t=>({...t,[e]:!t[e]})))},te=t.useMemo((()=>m.reduce(((e,t)=>(e[Z(t.name)]=t.name,e)),{})),[m]),ne=(0,t.useMemo)((()=>{const e=[];return Object.entries(p).forEach((t=>{let[n,r]=t;Object.entries(r).forEach((t=>{let[r,a]=t;a.forEach((t=>{var a;e.push({categoryKey:n,category:(null===(a=m.find((e=>Z(e.name)===n)))||void 0===a?void 0:a.name)||n,test:r,field:t})}))}))})),e}),[m,p]),re=(0,t.useMemo)((()=>{if(!F.trim())return[];const e=F.toLowerCase();return ne.filter((t=>t.field.label.toLowerCase().includes(e)||t.field.name.toLowerCase().includes(e)||t.field.unit&&t.field.unit.toLowerCase().includes(e)||t.test.toLowerCase().includes(e)))}),[F,ne,m,p]);(0,t.useEffect)((()=>{if(W){const e=setTimeout((()=>{U(null)}),2e3);return()=>clearTimeout(e)}}),[W]);(0,t.useEffect)((()=>{if(!d){let e=0,t=null,n=null;Object.entries(f).forEach((r=>{let[a,i]=r;Object.entries(i).forEach((r=>{let[i,s]=r;s&&(e++,t=i,n=te[a])}))})),1===e?N(`${t}`):e>1&&N("")}}),[f,te,d]);return(0,t.useEffect)((()=>{"idle"===o&&i((0,R.QK)())}),[o,i]),(0,t.useEffect)((()=>{if(d&&u){N(u.name),M(u.rate);const e={},t={},n={};Object.entries(u.fields).forEach((r=>{let[a,i]=r,s=!1;for(const[n,o]of Object.entries(p)){for(const[r,l]of Object.entries(o)){if(l.find((e=>e.name===a))){e[n]||(e[n]={}),e[n][r]=!0,t[n]||(t[n]={}),t[n][r]||(t[n][r]={}),t[n][r][a]={...i,isSelected:!0,fromLabReportFields:!0},s=!0;break}}if(s)break}if(!s){n[`custom-field-${a}`]={...i,name:a,isSelected:!0,isCustom:!0}}})),v(e),x(t),q(n)}}),[d,u]),(0,X.jsxs)("div",{className:"p-6",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>{l(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-2xl font-bold",children:"Create Test Template"})]}),(0,X.jsxs)("div",{className:"flex gap-2",children:[(0,X.jsxs)(j.$,{variant:"outline",onClick:()=>{const e=s||[];if(0===e.length)return void r({title:"No templates to export",description:"Please create some templates first.",variant:"destructive"});const t=e.flatMap((e=>{var t;const n={TemplateName:e.name||"",Rate:e.rate||0,Notes:e.notes||"",Sections:(null===(t=e.sections)||void 0===t?void 0:t.map((e=>e.name)).join(", "))||"",TemplateId:e._id||""};return e.fields&&0!==Object.keys(e.fields).length?Object.entries(e.fields).map(((e,t)=>{let[r,a]=e;return{...n,FieldName:r,Field:a.label||r,FieldId:a._id||"",Unit:a.unit||"",NormalRange:a.normalRange||"",Options:Array.isArray(a.options)?a.options.join(", "):a.options||""}})):[n]})),n=yJ.json_to_sheet(t),a=yJ.book_new();yJ.book_append_sheet(a,n,"Test Templates"),oJ(a,"test_templates.xlsx")},className:"w-full md:w-auto",children:[(0,X.jsx)(IB,{className:"mr-2 h-4 w-4"})," Export"]}),(0,X.jsx)(j.$,{variant:"outline",onClick:()=>{Y.current.click()},className:"w-full md:w-auto",disabled:G,children:"Import"}),(0,X.jsx)("input",{type:"file",accept:".xlsx, .xls",ref:Y,onChange:async e=>{const t=e.target.files[0];if(t){K(!0);try{const e=eJ(await t.arrayBuffer(),{type:"array"}),n=e.SheetNames[0],a=e.Sheets[n],s=yJ.sheet_to_json(a),o=s.reduce(((e,t)=>{const n=t.TemplateId||t.TemplateName;e[n]||(e[n]={_id:t.TemplateId||void 0,name:t.TemplateName,rate:Number(t.Rate)||0,notes:t.Notes||"",sections:t.Sections?t.Sections.split(",").map(((e,t)=>({name:e.trim(),position:t}))):[],fields:{}});const r=t.FieldName;return r&&(e[n].fields[r]={label:t.Field,value:"",unit:t.Unit||"",normalRange:t.NormalRange||"",options:t.Options?t.Options.split(",").map((e=>e.trim())):[],isSelected:!0}),e}),{}),l=Object.values(o);await i((0,R.jc)({labTestsTemplate:l})).unwrap(),r({title:"Import successful",description:`${l.length} templates imported with ${s.length} fields.`,variant:"success"})}catch(n){r({title:"Import failed",description:n.message||"Could not import test templates.",variant:"destructive"})}finally{K(!1),e.target.value=""}}},style:{display:"none"}}),(0,X.jsx)(j.$,{onClick:()=>L(!0),children:"Create Template"})]})]}),(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search for parameters (e.g. WBC, Hemoglobin, etc.)",value:F,onChange:e=>B(e.target.value),className:"pl-8"})]}),F.trim()&&(0,X.jsx)("div",{className:"mt-2 border rounded-lg shadow-sm",children:(0,X.jsxs)(b.F,{className:"h-[200px]",children:[re.map(((e,t)=>(0,X.jsxs)("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>(e=>{const t=Z(e.category),n=e.test;v((e=>({...e,[t]:{...e[t],[n]:!0}}))),x((e=>{var r;const a=(null===(r=e[t])||void 0===r?void 0:r[n])||{};return{...e,[t]:{...e[t],[n]:a}}})),x((r=>{var a;return{...r,[t]:{...r[t],[n]:{...null===(a=r[t])||void 0===a?void 0:a[n],[e.field.name]:{label:e.field.label,value:e.field.value,unit:e.field.unit||"",normalRange:e.field.normalRange||"",options:e.field.options||"",calculationDetails:e.field.calculationDetails||null,isSelected:!0}}}}}));const r=`${t}-${n}-${e.field.name}`;P((e=>({...e,[r]:!0}))),U({category:t,test:n,field:e.field.name}),B("");const a=document.getElementById(`test-${t}-${n}`);a&&a.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((()=>{const r=document.getElementById(`parameter-${t}-${n}-${e.field.name}`);r&&r.scrollIntoView({behavior:"smooth",block:"center"})}),100)})(e),children:[(0,X.jsx)("div",{className:"font-medium",children:e.field.label}),(0,X.jsxs)("div",{className:"text-sm text-gray-500",children:[e.category," \u2192 ",e.test,e.field.unit&&` (${e.field.unit})`]})]},`${e.category}-${e.test}-${e.field.name}-${t}`))),0===re.length&&(0,X.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No parameters found matching your search"})]})})]}),(0,X.jsx)(so.lG,{open:I,onOpenChange:Q,children:(0,X.jsxs)(so.Cf,{children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{children:d?"Update Test Template":"Create New Test Template"})}),(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(xn.p,{placeholder:"Report/Test Name",value:y,onChange:e=>{N(e.target.value),C("")}}),E&&(0,X.jsx)("p",{className:"text-red-500 text-sm mt-1",children:E})]}),(0,X.jsx)("div",{children:(0,X.jsx)(xn.p,{placeholder:"Rate",type:"number",value:O,onChange:e=>M(e.target.value)})})]}),(0,X.jsxs)(so.Es,{children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),(0,X.jsx)(j.$,{onClick:async()=>{let e=!1;const t={};if(y.trim()||(C("Report/Test name is required."),e=!0),Object.entries(g).forEach((n=>{let[r,a]=n;Object.entries(a).forEach((n=>{let[a,i]=n;Object.entries(i).forEach((n=>{let[i,s]=n;var o;s.isSelected&&(null!==(o=s.label)&&void 0!==o&&o.trim()||(t[`${r}-${a}-${i}-label`]="Label is required",e=!0))}))}))})),k(t),!e)try{const e={name:y.trim(),rate:Number(O)||0,fields:{...Object.entries(V).filter((e=>{let[t,n]=e;return n.isSelected})).reduce(((e,t)=>{let[n,r]=t;return{...e,[r.name]:{label:r.label,value:r.value,unit:r.unit,normalRange:r.normalRange,...r.options&&r.options.length>0&&{options:r.options.split(",").map((e=>e.trim())).filter((e=>""!==e))},...r.calculationDetails&&{calculationDetails:r.calculationDetails}}}}),{}),...Object.entries(g).reduce(((e,t)=>{let[n,r]=t;return Object.entries(r).forEach((t=>{let[n,r]=t;Object.entries(r).filter((e=>{let[t,n]=e;return n.isSelected})).forEach((t=>{var n,r,a;let[i,s]=t;const o=Array.isArray(s.options)?s.options:null===(n=s.options)||void 0===n||null===(r=n.split(","))||void 0===r||null===(a=r.map((e=>e.trim())))||void 0===a?void 0:a.filter((e=>""!==e));e[`${i}`]={label:s.label,value:s.value,unit:s.unit,normalRange:s.normalRange,...(null===o||void 0===o?void 0:o.length)>0&&{options:o},...s.calculationDetails&&{calculationDetails:s.calculationDetails}}}))})),e}),{})}};if(d){const t=s.findIndex((e=>e.name===u.name));-1!==t&&(await i((0,R.X_)({field:"labTestsTemplate",index:t,template:e})).unwrap(),r({title:"Success",description:"Template updated successfully"}))}else await i((0,R.ub)({labTestsTemplate:e})).unwrap(),r({title:"Success",description:"Template created successfully"});d||(v({}),x({}),N(""),M("")),C(""),L(!1),l("/settings/lab-templates")}catch(n){console.error("Error saving template:",n),r({variant:"destructive",title:"Error",description:"Failed to save template. Please try again."})}},children:d?"Update Template":"Create Template"})]})]})}),(0,X.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,X.jsxs)("div",{className:"flex gap-6 h-[600px]",children:[(0,X.jsx)(b.F,{className:"w-1/3 border rounded-lg p-4",ref:$,children:m.map((e=>(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsx)("h3",{className:"font-semibold text-lg mb-3",children:e.name}),(0,X.jsx)("div",{className:"space-y-2",children:e.types.map((t=>{var n;return(0,X.jsxs)("div",{id:`test-${Z(e.name)}-${t}`,className:"flex items-center space-x-2 p-2 rounded transition-colors duration-200 "+((null===W||void 0===W?void 0:W.category)===Z(e.name)&&(null===W||void 0===W?void 0:W.test)===t?"bg-blue-50":"hover:bg-gray-50"),children:[(0,X.jsx)(ul,{id:`${e.name}-${t}`,checked:(null===(n=f[Z(e.name)])||void 0===n?void 0:n[t])||!1,onCheckedChange:()=>((e,t)=>{var n;const r=Z(e),a=t;v((e=>{var t;return{...e,[r]:{...e[r],[a]:!(null!==(t=e[r])&&void 0!==t&&t[a])}}})),null!==(n=f[r])&&void 0!==n&&n[a]?x((e=>{const t={...e};return t[r]&&delete t[r][a],t})):x((e=>{var t;return{...e,[r]:{...e[r],[a]:(null===(t=e[r])||void 0===t?void 0:t[a])||{}}}}))})(e.name,t)}),(0,X.jsx)("label",{htmlFor:`${e.name}-${t}`,className:"font-medium",children:t})]},t)}))})]},e.name)))}),(0,X.jsxs)(b.F,{className:"w-2/3 border rounded-lg p-4",ref:z,children:[(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,X.jsx)("h3",{className:"font-semibold text-lg",children:"Custom Fields"}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>{const e=`custom-field-${Date.now()}`;q((t=>({...t,[e]:{name:e,label:"New Field",value:"",unit:"",normalRange:"",options:"",calculationDetails:null,isSelected:!0,isCustom:!0}}))),P((t=>({...t,[e]:!0})))},children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-1"})," Add Field"]})]}),(0,X.jsx)("div",{className:"space-y-2 grid grid-cols-2 gap-2",children:Object.entries(V).map((e=>{let[t,n]=e;return(0,X.jsxs)("div",{className:"border rounded p-2",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{checked:n.isSelected,onCheckedChange:e=>{q((n=>({...n,[t]:{...n[t],isSelected:e}})))}}),(0,X.jsx)("label",{className:"font-medium",children:n.label})]}),(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>ee(t),children:(0,X.jsx)(Ui.A,{className:"h-4 w-4"})}),(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>{q((e=>{const n={...e};return delete n[t],n}))},children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]})]}),A[t]&&(0,X.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,X.jsx)(xn.p,{placeholder:"Label",value:n.label,onChange:e=>{q((n=>({...n,[t]:{...n[t],label:e.target.value}})))}}),(0,X.jsx)(xn.p,{placeholder:"Unit",value:n.unit,onChange:e=>{q((n=>({...n,[t]:{...n[t],unit:e.target.value}})))}}),(0,X.jsx)(xn.p,{placeholder:"Normal Range",value:n.normalRange,onChange:e=>{q((n=>({...n,[t]:{...n[t],normalRange:e.target.value}})))}}),(0,X.jsx)(xn.p,{placeholder:"Options (comma separated)",value:n.options,onChange:e=>{q((n=>({...n,[t]:{...n[t],options:e.target.value}})))}})]})]},t)}))})]}),m.map((e=>{const t=Z(e.name);return e.types.map((n=>{var r,a,i;if(null===(r=f[t])||void 0===r||!r[n])return null;const s=(null===(a=p[t])||void 0===a?void 0:a[n])||[];return(0,X.jsxs)("div",{children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("h4",{className:"font-semibold",children:n}),(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>((e,t)=>{var n;const r=Z(e),a=(null===(n=p[r])||void 0===n?void 0:n[t])||[],i={};a.forEach((e=>{i[e.name]={label:e.label,value:e.value,unit:e.unit||"",normalRange:e.normalRange||"",options:e.options||"",calculationDetails:e.calculationDetails||null,isSelected:!0}})),x((e=>({...e,[r]:{...e[r],[t]:i}})))})(e.name,n),children:"Select All Fields"})})]}),(0,X.jsx)("div",{className:"space-y-2 grid grid-cols-2",children:[...s,...Object.entries((null===(i=g[t])||void 0===i?void 0:i[n])||{}).filter((e=>{let[t,n]=e;return n.isCustom})).map((e=>{let[t,n]=e;return{name:t,label:n.label,unit:n.unit,normalRange:n.normalRange,options:n.options,calculationDetails:n.calculationDetails,isCustom:!0}}))].map((r=>{var a,i;const s=`${t}-${n}-${r.name}`,o=null===(a=g[t])||void 0===a||null===(i=a[n])||void 0===i?void 0:i[r.name];return(0,X.jsxs)("div",{id:`parameter-${t}-${n}-${r.name}`,className:"border rounded p-1 transition-colors duration-200 "+((null===W||void 0===W?void 0:W.category)===t&&(null===W||void 0===W?void 0:W.test)===n&&(null===W||void 0===W?void 0:W.field)===r.name?"bg-blue-50":""),children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{checked:(null===o||void 0===o?void 0:o.isSelected)||!1,onCheckedChange:()=>((e,t,n)=>{const r=Z(e),a=t;x((e=>{var t,i,s,o;return{...e,[r]:{...e[r],[a]:{...null===(t=e[r])||void 0===t?void 0:t[a],[n.name]:{label:n.label,value:n.value,unit:n.unit||"",normalRange:n.normalRange||"",options:n.options||"",calculationDetails:n.calculationDetails||null,isSelected:!(null!==(i=e[r])&&void 0!==i&&null!==(s=i[a])&&void 0!==s&&null!==(o=s[n.name])&&void 0!==o&&o.isSelected)}}}}}))})(e.name,n,r)}),(0,X.jsx)("label",{className:"font-medium",children:r.isCustom?null===o||void 0===o?void 0:o.label:r.label})]}),(null===o||void 0===o?void 0:o.isSelected)&&(0,X.jsxs)("div",{className:"flex items-center gap-1",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>ee(s),children:(0,X.jsx)(Ui.A,{className:"h-4 w-4"})}),r.isCustom&&(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>{x((e=>{const a={...e};return delete a[t][n][r.name],a}))},children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]})]}),A[s]&&(null===o||void 0===o?void 0:o.isSelected)&&(0,X.jsxs)("div",{className:"mt-2 space-y-2 pl-6",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(xn.p,{placeholder:"Label",value:o.label||"",onChange:t=>J(e.name,n,r.name,"label",t.target.value)}),D[`${t}-${n}-${r.name}-label`]&&(0,X.jsx)("p",{className:"text-red-500 text-xs mt-1",children:D[`${t}-${n}-${r.name}-label`]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(xn.p,{placeholder:"Unit",value:o.unit||"",onChange:t=>J(e.name,n,r.name,"unit",t.target.value)}),D[`${t}-${n}-${r.name}-unit`]&&(0,X.jsx)("p",{className:"text-red-500 text-xs mt-1",children:D[`${t}-${n}-${r.name}-unit`]})]}),(0,X.jsx)("div",{children:(0,X.jsx)(xn.p,{placeholder:"Normal Range",value:o.normalRange||"",onChange:t=>J(e.name,n,r.name,"normalRange",t.target.value)})}),(0,X.jsx)(xn.p,{placeholder:"Options (comma separated)",value:o.options||"",onChange:t=>J(e.name,n,r.name,"options",t.target.value)}),o.calculationDetails&&(0,X.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:[(0,X.jsx)("h5",{className:"text-sm font-semibold mb-1",children:"Calculation Details"}),(0,X.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,X.jsxs)("p",{children:[(0,X.jsxs)("span",{className:"font-medium",children:["Formula:"," "]}),o.calculationDetails.formula]}),o.calculationDetails.dependencies&&(0,X.jsxs)("p",{children:[(0,X.jsxs)("span",{className:"font-medium",children:["Dependencies:"," "]}),o.calculationDetails.dependencies.join(", ")]})]})]})]})]},s)}))})]},`${t}-${n}`)}))}))]})]})})]})}function tQ(){const e=(0,a.Zp)();return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{e(-1)},className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Printing Templates"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/discharge-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2",children:[(0,X.jsx)("span",{className:"text-lg",children:"Discharge Template"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize discharge summary template"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/header-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2",children:[(0,X.jsx)("span",{className:"text-lg",children:"Hospital Header"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize hospital header template"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/opd-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2",children:[(0,X.jsx)("span",{className:"text-lg",children:"OPD Prescription"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize OPD prescription template"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/opd-rx-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2",children:[(0,X.jsx)("span",{className:"text-lg",children:"OPD Rx Template"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize OPD Rx template"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/opd-bill-token-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2",children:[(0,X.jsx)("span",{className:"text-lg",children:"OPD Bill Token"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize OPD bill token template"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/lab-report-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,X.jsx)("span",{className:"text-lg",children:"Lab Report Template"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize laboratory report template"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/lab-billing-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,X.jsx)("span",{className:"text-lg",children:"Lab Billing Template"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize lab billing template"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/merge-template-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,X.jsx)("span",{className:"text-lg",children:"Merge Template Report"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize merge template report"})]}),(0,X.jsxs)(j.$,{onClick:()=>e("/settings/printing-templates/consent-preview"),className:"w-full p-6 h-auto flex flex-col items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,X.jsx)("span",{className:"text-lg",children:"Consent Form Template"}),(0,X.jsx)("span",{className:"text-sm text-gray-200",children:"Preview and customize consent form template"})]})]})]})}var nQ=__webpack_require__(2698),rQ=__webpack_require__(961);function aQ(){const e=(0,w.d4)((e=>e.hospital.hospitalInfo)),n=(0,w.d4)((e=>e.templates.dischargeSummaryTemplateArray)),[r,a]=((0,w.wA)(),(0,t.useState)([{name:"System Default",value:nQ.P},{name:"configBasedDischargeSummaryTemplate",value:'\n(formData, patient, hospital, formConfig, ref) => {\n  // Helper functions\n  const formatLabel = (label) => {\n    if (!label) return "";\n    const regex = /^([^)]+)|^(?:\\S+\\s?){1,3}/;\n    const match = label.match(regex);\n    return match ? match[0].trim() : label;\n  };\n\n  const formatDate = (date) => {\n    if (!date) return "--";\n    return new Date(date).toLocaleDateString(\'en-IN\', { day: \'2-digit\', month: \'2-digit\', year: \'numeric\' }).split(\'/\').join(\'-\');\n  };\n\n  const hasValue = (obj) => {\n    if (!obj) return false;\n    return Object.values(obj).some(value => value !== "" && value !== null && value !== undefined);\n  };\n\n  // Get the form configuration - use provided formConfig\n  const config = formConfig || {\n    sections: [\n      {\n        id: "patientInfo",\n        title: "Patient Information",\n        fields: []\n      },\n      {\n        id: "clinicalInfo",\n        fields: []\n      }\n    ]\n  };\n\n  // Helper function to get field value\n  const getFieldValue = (field) => {\n    // For patient info section, get values from patient object\n    if (field.id in patient) {\n      return patient[field.id];\n    }\n\n    // For other fields, get from formData\n    if (field.id.includes(".")) {\n      // Handle nested paths (e.g., "vitals.admission.bloodPressure")\n      return field.id.split(".").reduce((obj, key) => obj?.[key], formData);\n    }\n\n    // Handle special cases\n    switch (field.type) {\n      case "multiselect":\n        if (field.id === "diagnosis") {\n          return formData.diagnosis ? formData.diagnosis.split(", ").map(d => ({ name: d })) : [];\n        }\n        if (field.id === "comorbidities") {\n          return formData.comorbidities || [];\n        }\n        return formData[field.id] || [];\n      case "investigations":\n        return formData.investigations || [];\n      case "medicineAdvice":\n        return formData[field.id] || [];\n      case "vitals":\n        return formData.vitals?.[field.prefix] || {};\n      default:\n        return formData[field.id];\n    }\n  };\n\n  // Helper function to render field based on type\n  const renderField = (field) => {\n    const value = getFieldValue(field);\n   \n    if (!field || !field.id) return null;\n\n    switch (field.type) {\n      case "vitals":\n        const vitalsData = formData.vitals?.[field.prefix];\n        return hasValue(vitalsData) && React.createElement("div", { style: styles.section },\n          React.createElement("span", { style: styles.sectionTitle }, `${field.label}:`),\n          React.createElement("span", { style: styles.sectionContent },\n            [\n              vitalsData.bloodPressure && `BP: ${vitalsData.bloodPressure} mmHg`,\n              vitalsData.heartRate && `Heart Rate: ${vitalsData.heartRate} bpm`,\n              vitalsData.temperature && `Temperature: ${vitalsData.temperature}\xb0C`,\n              vitalsData.oxygenSaturation && `O2 Saturation: ${vitalsData.oxygenSaturation}%`,\n              vitalsData.respiratoryRate && `Respiratory Rate: ${vitalsData.respiratoryRate} breaths/min`\n            ].filter(Boolean).join(", ")\n          )\n        );\n\n      case "investigations":\n        return value && value.length > 0 && React.createElement("div", null,\n          React.createElement("div", { style: styles.sectionTitle }, field.label),\n          React.createElement("div", { style: { border: "1px solid black" } },\n          React.createElement("div", { style: { marginLeft: "10px" } },\n            value.filter(inv => inv.name && inv.report).map((investigation, index) => {\n              const hasFindings = investigation.report?.findings && \n                Object.values(investigation.report.findings).some(value => value);\n              const hasImpression = investigation.report?.impression && \n                Object.values(investigation.report.impression).some(value => value);\n              const reportEntries = Object.entries(investigation.report || {})\n                .filter(([_, testData]) => testData.value);\n              const halfLength = Math.ceil(reportEntries.length / 2);\n\n              return React.createElement("div", {\n                key: index,\n                style: {\n                  marginLeft: "5px",\n                  marginBottom: "3px",\n                  display: "flex",\n                  flexDirection: hasFindings || hasImpression ? "row" : "column"\n                }\n              },\n                React.createElement("div", null,\n                  React.createElement("div", { \n                    style: { \n                      fontSize: "10px", \n                      marginBottom: "2px", \n                      fontWeight: "bold" \n                    } \n                  },\n                    `${investigation.name.toUpperCase()} (${formatDate(investigation.date)})`\n                  )\n                ),\n                (hasFindings || hasImpression) ? \n                  React.createElement("div", { style: { display: "flex", flexDirection: "row", width: "100%" } },\n                    React.createElement("div", { style: { width: "100%" } },\n                      investigation.report.findings && React.createElement("div", {\n                        style: {\n                          marginLeft: "50px",\n                          fontSize: "9px",\n                          width: "100%"\n                        }\n                      },\n                        React.createElement("div", { style: { width: "100%", fontSize: "9px" } },\n                          React.createElement("span", null, investigation.report.findings.value)\n                        )\n                      ),\n                      investigation.report.impression && React.createElement("div", {\n                        style: {\n                          marginLeft: "50px",\n                          fontSize: "9px",\n                          width: "100%",\n                          marginTop: "2px"\n                        }\n                      },\n                        React.createElement("div", { style: { width: "100%", fontSize: "9px" } },\n                          React.createElement("span", null, investigation.report.impression.value)\n                        )\n                      )\n                    )\n                  ) :\n                  React.createElement("div", { style: { display: "flex", flexDirection: "row" } },\n                    React.createElement("div", { style: { width: "50%" } },\n                      reportEntries.slice(0, halfLength).map(([testName, testData]) =>\n                        testData.value && React.createElement("div", {\n                          key: testName,\n                          style: { \n                            display: "flex", \n                            flexDirection: "row", \n                            fontSize: "9px", \n                            marginBottom: "1px",\n                            marginLeft: "5px" \n                          }\n                        },\n                          React.createElement("div", { style: { width: "60%", fontSize: "9px" } },\n                            React.createElement("span", null, formatLabel(testData.label) || testName)\n                          ),\n                          React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                            React.createElement("span", null, testData.value)\n                          ),\n                          testData.unit && React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                            React.createElement("span", null, testData.unit)\n                          )\n                        )\n                      )\n                    ),\n                    React.createElement("div", { style: { width: "50%" } },\n                      reportEntries.slice(halfLength).map(([testName, testData]) =>\n                        testData.value && React.createElement("div", {\n                        key: testName,\n                          style: { \n                            display: "flex", \n                            flexDirection: "row", \n                            fontSize: "9px", \n                            marginBottom: "1px",\n                            marginLeft: "5px" \n                          }\n                        },\n                          React.createElement("div", { style: { width: "60%", fontSize: "9px" } },\n                            React.createElement("span", null, formatLabel(testData.label) || testName)\n                          ),\n                          React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                            React.createElement("span", null, testData.value)\n                          ),\n                          testData.unit && React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                            React.createElement("span", null, testData.unit)\n                      )\n                    )\n                )\n              )\n            )\n              );\n            })\n           )\n          )\n        );\n\n      case "medicineAdvice":\n        return value && value.length > 0 && React.createElement("div", { style: styles.section },\n          React.createElement("span", { style: styles.sectionTitle ,}, field.label),\n          React.createElement("span", { style: { border: "1px solid black" } },\n          React.createElement("div", { style: { marginLeft: "20px" } },\n            value.filter(med => med.name || med.dosage || med.duration).map((med, index) => \n              React.createElement("div", { \n                key: index,\n                style: { fontSize: "11px", marginBottom: "2px" }\n              },\n                React.createElement("span", { style: { display: "inline-block", width: "20px" } },\n                  `${index + 1}.`\n                ),\n                React.createElement("span", { style: { display: "inline-block", minWidth: "200px" } },\n                  med.name\n                ),\n                (med.dosage && med.dosage !== "0-0-0") && React.createElement("span", { style: { display: "inline-block", minWidth: "150px" } },\n                  `Dosage: ${med.dosage}`\n                ),\n                med.duration && React.createElement("span", { style: { display: "inline-block" } },\n                  `${med.duration} Days`\n                )\n              )\n            )\n          )\n         )\n        );\n\n      case "multiselect":\n        if (field.id === "comorbidities") {\n          const comorbiditiesString = value?.filter(c => c.name).map(c => c.name).join(", ");\n          return comorbiditiesString && React.createElement("div", { style: styles.section },\n            React.createElement("span", { style: styles.sectionTitle }, field.label + ":"),\n            React.createElement("span", { style: styles.sectionContent }, comorbiditiesString)\n          );\n        }\n        if (field.id === "diagnosis") {\n          return React.createElement("div", { style: styles.section },\n            React.createElement("span", { style: styles.sectionTitle }, field.label + ":"),\n            React.createElement("span", { style: styles.sectionContent }, \n              Array.isArray(value) ? value.map(item => item.name).join(", ") : value\n            )\n          );\n        }\n        return React.createElement("div", { style: styles.section },\n          React.createElement("span", { style: styles.sectionTitle }, field.label + ":"),\n          React.createElement("span", { style: styles.sectionContent }, \n            Array.isArray(value) ? value.join(", ") : value\n          )\n        );\n\n      case "date":\n        return React.createElement("div", { style: styles.section },\n          React.createElement("span", { style: styles.sectionTitle }, field.label + ":"),\n          React.createElement("span", { style: styles.sectionContent }, formatDate(value))\n        );\n       case "babyTable":\n        return formData?.babyDetails?.length > 0 && React.createElement("div", null,\n      React.createElement("div", { \n        style: { \n          backgroundColor: "#663399", \n          color: "white", \n          padding: "2px 8px", \n          textAlign: "center",\n          marginBottom: "2px",\n          fontWeight: "bold"\n        } \n      }, "BABY DETAILS"),\n      React.createElement("table", { style: styles.table },\n        React.createElement("thead", null,\n          React.createElement("tr", null,\n            React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Baby No."),\n            React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Sex"),\n            React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Weight (gm)"),\n            React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Date"),\n            React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Time"),\n            React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "APGAR Score")\n          )\n        ),\n        React.createElement("tbody", null,\n          formData?.babyDetails.map((baby, index) => \n            React.createElement("tr", { key: index },\n              React.createElement("td", { style: styles.tableCell }, baby.number || "--"),\n              React.createElement("td", { style: styles.tableCell }, baby.sex || "--"),\n              React.createElement("td", { style: styles.tableCell }, baby.weight || "--"),\n               React.createElement("td", { style: styles.tableCell }, formatDate(baby.date) || "--"),\n              React.createElement("td", { style: styles.tableCell }, baby.time || "--"),\n              React.createElement("td", { style: styles.tableCell }, baby.apgar || "--")\n            )\n          )\n        )\n      )\n    );\n      case "textarea":\n      case "text":\n      default:\n        return value && React.createElement("div", { style: styles.section },\n          React.createElement("span", { style: styles.sectionTitle }, field.label + ":"),\n          React.createElement("span", { style: styles.sectionContent }, value)\n        );\n    }\n  };\n\n  // Common styles\n  const styles = {\n    section: {\n      marginBottom: "4px",\n      display: "flex",\n      flexDirection: "column"\n    },\n    sectionTitle: {\n      fontWeight: "bold",\n      backgroundColor: "#663399",\n      color: "white",\n      textAlign: "center",\n      padding: "2px 8px",\n      marginBottom: "2px",\n    },\n    sectionContent: {\n      padding: "4px 8px",\n      border: "1px solid black",\n      fontSize: "12px",\n      whiteSpace: "pre-line"\n    },\n    table: {\n      width: "100%",\n      borderCollapse: "collapse",\n      marginBottom: "6px"\n    },\n    tableCell: {\n      border: "1px solid black",\n      padding: "2px 4px",\n      textAlign: "center",\n      fontSize: "11px"\n    }\n  };\n\n  return React.createElement("div", { ref: ref, style: { padding: "20px",paddingBottom:"25px" }, className: "print-content" },\n    // Header with purple background\n    React.createElement("div",  {},\n      React.createElement(HospitalHeader, { hospitalInfo: hospital })\n    ),\n\n    // Discharge Summary Title\n    React.createElement("div", { \n      style: { \n        backgroundColor: "#663399", \n        color: "white", \n        padding: "4px 8px", \n        textAlign: "center",\n        marginBottom: "4px",\n        fontWeight: "bold",\n        fontSize: "14px"\n      } \n    }, "DISCHARGE SUMMARY"),\n\n    // Consultant Name\n    React.createElement("div", { \n      style: { \n        backgroundColor: "#d3d3d3", \n        padding: "4px", \n        textAlign: "center",\n        marginBottom: "6px",\n        fontSize: "11px"\n      } \n    }, "Consultant: Dr Anupam Kumar Chaurasia"),\n\n    // Baby Details Section (if exists)\n    \n\n    // Patient Info Table\n    React.createElement("table", { style: styles.table },\n      React.createElement("tbody", null,\n        React.createElement("tr", null,\n          React.createElement("td", { style: styles.tableCell }, "REG NO"),\n          React.createElement("td", { style: styles.tableCell }, patient?.registrationNumber || "--"),\n          React.createElement("td", { style: styles.tableCell }, "ADMISSION NO"),\n          React.createElement("td", { style: styles.tableCell }, patient?.ipdNumber || "--")\n        ),\n        React.createElement("tr", null,\n          React.createElement("td", { style: styles.tableCell }, "NAME"),\n          React.createElement("td", { style: styles.tableCell }, patient?.name || "--"),\n          React.createElement("td", { style: styles.tableCell }, patient?.relation?.toUpperCase() || "HUSBAND"),\n          React.createElement("td", { style: styles.tableCell }, patient?.[patient?.relation] || patient?.husbandName || "--")\n        ),\n        React.createElement("tr", null,\n          React.createElement("td", { style: styles.tableCell }, "AGE/SEX"),\n          React.createElement("td", { style: styles.tableCell }, `${patient?.age || "--"}/${patient?.gender || "--"}`),\n          React.createElement("td", { style: styles.tableCell }, "MOBILE NO"),\n          React.createElement("td", { style: styles.tableCell }, patient?.contactNumber || "--")\n        ),\n        React.createElement("tr", null,\n          React.createElement("td", { style: styles.tableCell }, "ADDRESS"),\n          React.createElement("td", { style: { ...styles.tableCell, textAlign: "left" }, colSpan: "3" }, patient?.address || "--")\n        ),\n        React.createElement("tr", null,\n          React.createElement("td", { style: styles.tableCell }, "ADMISSION DATE/TIME"),\n          React.createElement("td", { style: styles.tableCell }, formatDate(formData.admissionDate)+(formData.admittedTime? " At "+formData.admittedTime:"")),\n          React.createElement("td", { style: styles.tableCell }, "DISCHARGE DATE/TIME"),\n          React.createElement("td", { style: styles.tableCell }, formatDate(formData.dateDischarged)+(formData.timeDischarged? " At "+formData.timeDischarged:""))\n        )\n      )\n    ),\n\n    // Render remaining sections from formConfig\n    (formConfig?.sections || [])\n      .filter(section => section.id !== "patientInfo") // Skip patient info section\n      .map((section, sectionIndex) => \n        React.createElement("div", { key: sectionIndex, style: { marginBottom: "4px" } },\n          section.fields\n            .filter(field => !field.hidden)\n            .map((field, fieldIndex) => renderField(field))\n        )\n    ),\n\n    // Doctor\'s Signature\n    React.createElement("div", { \n      style: { \n        width: "100%", \n        textAlign: "right", \n        marginTop: "15px",\n        paddingRight: "50px"\n      }\n    },\n      React.createElement("div", { style: { fontSize: "12px", fontWeight: "bold" } }, \n        "Doctor\'s Signature"\n      )\n    )\n  );\n}'},{name:"hybrid",value:'\n(formData, patient, hospital, formConfig, ref) => {\n  // Helper functions\n  const formatLabel = (label) => {\n    if (!label) return "";\n    const regex = /^([^)]+)|^(?:\\S+\\s?){1,3}/;\n    const match = label.match(regex);\n    return match ? match[0].trim() : label;\n  };\n\n  const formatDate = (date) => {\n    if (!date) return "--";\n    return new Date(date).toLocaleDateString(\'en-IN\', { day: \'2-digit\', month: \'2-digit\', year: \'numeric\' }).split(\'/\').join(\'-\');\n  };\n\n  const hasValue = (obj) => {\n    if (!obj) return false;\n    return Object.values(obj).some(value => value !== "" && value !== null && value !== undefined);\n  };\n\n  // Get field value helper\n  const getFieldValue = (field) => {\n    if (field.id in patient) {\n      return patient[field.id];\n    }\n\n    if (field.id.includes(".")) {\n      return field.id.split(".").reduce((obj, key) => obj?.[key], formData);\n    }\n\n    switch (field.type) {\n      case "multiselect":\n        if (field.id === "diagnosis") {\n          return formData.diagnosis ? formData.diagnosis.split(", ").map(d => ({ name: d })) : [];\n        }\n        if (field.id === "comorbidities") {\n          return formData.comorbidities || [];\n        }\n        return formData[field.id] || [];\n      case "investigations":\n        return formData.investigations || [];\n      case "medicineAdvice":\n        return formData[field.id] || [];\n      case "vitals":\n        return formData.vitals?.[field.prefix] || {};\n      default:\n        return formData[field.id];\n    }\n  };\n\n  // Styles\n  // const styles = {\n  //   section: {\n  //     marginBottom: "4px",\n  //     display: "flex",\n  //     flexDirection: "column"\n  //   },\n  //   sectionTitle: {\n  //     fontWeight: "bold",\n  //     backgroundColor: "#663399",\n  //     color: "white",\n  //     textAlign: "center",\n  //     padding: "2px 8px",\n  //     marginBottom: "2px",\n  //   },\n  //   sectionContent: {\n  //     padding: "4px 8px",\n  //     border: "1px solid black",\n  //     fontSize: "12px",\n  //     whiteSpace: "pre-line"\n  //   },\n  //   table: {\n  //     width: "100%",\n  //     borderCollapse: "collapse",\n  //     marginBottom: "6px"\n  //   },\n  //   tableCell: {\n  //     border: "1px solid black",\n  //     padding: "2px 4px",\n  //     fontSize: "11px"\n  //   }\n  // };\n\n  // Field renderer\n  const renderField = (field) => {\n    const value = getFieldValue(field);\n   \n    if (!field || !field.id) return null;\n\n    switch (field.type) {\n      case "vitals":\n        const vitalsData = formData.vitals?.[field.prefix];\n        return hasValue(vitalsData) && React.createElement("div", { style: styles.section },\n          React.createElement("div", { style: styles.sectionTitle }, field.label),\n          React.createElement("div", { style: styles.sectionContent },\n            [\n              vitalsData.bloodPressure && `BP: ${vitalsData.bloodPressure} mmHg`,\n              vitalsData.heartRate && `Heart Rate: ${vitalsData.heartRate} bpm`,\n              vitalsData.temperature && `Temperature: ${vitalsData.temperature}\xb0C`,\n              vitalsData.oxygenSaturation && `O2 Saturation: ${vitalsData.oxygenSaturation}%`,\n              vitalsData.respiratoryRate && `Respiratory Rate: ${vitalsData.respiratoryRate} breaths/min`\n            ].filter(Boolean).join(", ")\n          )\n        );\n\n      case "investigations":\n        return value && value.length > 0 && React.createElement("div", null,\n          React.createElement("div", { style: styles.sectionTitle }, field.label),\n          React.createElement("div", { style: { border: "1px solid black" } },\n            React.createElement("div", { style: { marginLeft: "10px" } },\n              value.filter(inv => inv.name && inv.report).map((investigation, index) => {\n                const hasFindings = investigation.report?.findings && \n                  Object.values(investigation.report.findings).some(value => value);\n                const hasImpression = investigation.report?.impression && \n                  Object.values(investigation.report.impression).some(value => value);\n                const reportEntries = Object.entries(investigation.report || {})\n                  .filter(([_, testData]) => testData.value);\n                const halfLength = Math.ceil(reportEntries.length / 2);\n\n                return React.createElement("div", {\n                  key: index,\n                  style: {\n                    marginLeft: "5px",\n                    marginBottom: "3px",\n                    display: "flex",\n                    flexDirection: hasFindings || hasImpression ? "row" : "column"\n                  }\n                },\n                  React.createElement("div", null,\n                    React.createElement("div", { \n                      style: { \n                        fontSize: "10px", \n                        marginBottom: "2px", \n                        fontWeight: "bold" \n                      } \n                    },\n                      `${investigation.name.toUpperCase()} (${formatDate(investigation.date)})`\n                    )\n                  ),\n                  (hasFindings || hasImpression) ? \n                    React.createElement("div", { style: { display: "flex", flexDirection: "row", width: "100%" } },\n                      React.createElement("div", { style: { width: "100%" } },\n                        investigation.report.findings && React.createElement("div", {\n                          style: {\n                            marginLeft: "50px",\n                            fontSize: "9px",\n                            width: "100%"\n                          }\n                        },\n                          React.createElement("div", { style: { width: "100%", fontSize: "9px" } },\n                            React.createElement("span", null, investigation.report.findings.value)\n                          )\n                        ),\n                        investigation.report.impression && React.createElement("div", {\n                          style: {\n                            marginLeft: "50px",\n                            fontSize: "9px",\n                            width: "100%",\n                            marginTop: "2px"\n                          }\n                        },\n                          React.createElement("div", { style: { width: "100%", fontSize: "9px" } },\n                            React.createElement("span", null, investigation.report.impression.value)\n                          )\n                        )\n                      )\n                    ) :\n                    React.createElement("div", { style: { display: "flex", flexDirection: "row" } },\n                      React.createElement("div", { style: { width: "50%" } },\n                        reportEntries.slice(0, halfLength).map(([testName, testData]) =>\n                          testData.value && React.createElement("div", {\n                            key: testName,\n                            style: { \n                              display: "flex", \n                              flexDirection: "row", \n                              fontSize: "9px", \n                              marginBottom: "1px",\n                              marginLeft: "5px" \n                            }\n                          },\n                            React.createElement("div", { style: { width: "60%", fontSize: "9px" } },\n                              React.createElement("span", null, formatLabel(testData.label) || testName)\n                            ),\n                            React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                              React.createElement("span", null, testData.value)\n                            ),\n                            testData.unit && React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                              React.createElement("span", null, testData.unit)\n                            )\n                          )\n                        )\n                      ),\n                      React.createElement("div", { style: { width: "50%" } },\n                        reportEntries.slice(halfLength).map(([testName, testData]) =>\n                          testData.value && React.createElement("div", {\n                            key: testName,\n                            style: { \n                              display: "flex", \n                              flexDirection: "row", \n                              fontSize: "9px", \n                              marginBottom: "1px",\n                              marginLeft: "5px" \n                            }\n                          },\n                            React.createElement("div", { style: { width: "60%", fontSize: "9px" } },\n                              React.createElement("span", null, formatLabel(testData.label) || testName)\n                            ),\n                            React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                              React.createElement("span", null, testData.value)\n                            ),\n                            testData.unit && React.createElement("div", { style: { width: "20%", fontSize: "9px" } },\n                              React.createElement("span", null, testData.unit)\n                            )\n                          )\n                        )\n                      )\n                    )\n                );\n              })\n            )\n          )\n        );\n\n      case "medicineAdvice":\n        return value && value.length > 0 && React.createElement("div", { style: styles.section },\n          React.createElement("div", { style: styles.sectionTitle }, field.label),\n          React.createElement("div", { style: { border: "1px solid black" } },\n            React.createElement("div", { style: { marginLeft: "20px" } },\n              value.filter(med => med.name || med.dosage || med.duration).map((med, index) => \n                React.createElement("div", { \n                  key: index,\n                  style: { fontSize: "11px", marginBottom: "2px" }\n                },\n                  React.createElement("span", { style: { display: "inline-block", width: "20px" } },\n                    `${index + 1}.`\n                  ),\n                  React.createElement("span", { style: { display: "inline-block", minWidth: "200px" } },\n                    med.name\n                  ),\n                  (med.dosage && med.dosage !== "0-0-0") && React.createElement("span", { style: { display: "inline-block", minWidth: "150px" } },\n                    `Dosage: ${med.dosage}`\n                  ),\n                  med.duration && React.createElement("span", { style: { display: "inline-block" } },\n                    `${med.duration} Days`\n                  )\n                )\n              )\n            )\n          )\n        );\n\n      case "multiselect":\n        if (field.id === "comorbidities") {\n          const comorbiditiesString = value?.filter(c => c.name).map(c => c.name).join(", ");\n          return comorbiditiesString && React.createElement("div", { style: styles.section },\n            React.createElement("div", { style: styles.sectionTitle }, field.label),\n            React.createElement("div", { style: styles.sectionContent }, comorbiditiesString)\n          );\n        }\n        if (field.id === "diagnosis") {\n          return React.createElement("div", { style: styles.section },\n            React.createElement("div", { style: styles.sectionTitle }, field.label),\n            React.createElement("div", { style: styles.sectionContent }, \n              Array.isArray(value) ? value.map(item => item.name).join(", ") : value\n            )\n          );\n        }\n        return React.createElement("div", { style: styles.section },\n          React.createElement("div", { style: styles.sectionTitle }, field.label),\n          React.createElement("div", { style: styles.sectionContent }, \n            Array.isArray(value) ? value.join(", ") : value\n          )\n        );\n\n      case "date":\n        return React.createElement("div", { style: styles.section },\n          React.createElement("div", { style: styles.sectionTitle }, field.label),\n          React.createElement("div", { style: styles.sectionContent }, formatDate(value))\n        );\n\n      case "babyTable":\n        return formData?.babyDetails?.length > 0 && React.createElement("div", null,\n          React.createElement("div", { style: styles.sectionTitle }, "BABY DETAILS"),\n          React.createElement("table", { style: styles.table },\n            React.createElement("thead", null,\n              React.createElement("tr", null,\n                React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Baby No."),\n                React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Sex"),\n                React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Weight (gm)"),\n                React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Date"),\n                React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "Time"),\n                React.createElement("th", { style: { ...styles.tableCell, backgroundColor: "#f0f0f0", fontWeight: "bold" } }, "APGAR Score")\n              )\n            ),\n            React.createElement("tbody", null,\n              formData?.babyDetails.map((baby, index) => \n                React.createElement("tr", { key: index },\n                  React.createElement("td", { style: styles.tableCell }, baby.number || "--"),\n                  React.createElement("td", { style: styles.tableCell }, baby.sex || "--"),\n                  React.createElement("td", { style: styles.tableCell }, baby.weight || "--"),\n                  React.createElement("td", { style: styles.tableCell }, formatDate(baby.date) || "--"),\n                  React.createElement("td", { style: styles.tableCell }, baby.time || "--"),\n                  React.createElement("td", { style: styles.tableCell }, baby.apgar || "--")\n                )\n              )\n            )\n          )\n        );\n\n      case "textarea":\n      case "text":\n      default:\n        return value && React.createElement("div", { style: styles.section },\n          React.createElement("div", { style: styles.sectionTitle }, field.label),\n          React.createElement("div", { style: styles.sectionContent }, value)\n        );\n    }\n  };\n\n  return React.createElement("div", { ref: ref, style: styles.page, className: "print-content" },\n    React.createElement("div", { className: " print:block mb-2" },\n      React.createElement(HospitalHeader, { hospitalInfo: hospital })\n    ),\n    React.createElement("div", { style: styles.title }, "Discharge Summary"),\n    \n    // Patient Info Section\n    React.createElement("div", { style: { ...styles.section } },\n      React.createElement("div", { style: { ...styles.patientInfoSection } },\n        React.createElement("div", { style: { ...styles.row, marginBottom: "2px" } },\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Name: "),\n            React.createElement("span", { style: styles.value }, patient?.name || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Age/Gender: "),\n            React.createElement("span", { style: styles.value }, \n              patient?.age && patient?.gender ? `${patient?.age} yrs/${patient?.gender}` : "--"\n            )\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "UHID No: "),\n            React.createElement("span", { style: styles.value }, patient?.registrationNumber || "--")\n          )\n        ),\n        React.createElement("div", { style: { ...styles.row, marginBottom: "2px" } },\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "IPD No: "),\n            React.createElement("span", { style: styles.value }, patient?.ipdNumber || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Admit Date: "),\n            React.createElement("span", { style: styles.value }, formatDate(formData.admissionDate))\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Discharge Date: "),\n            React.createElement("span", { style: styles.value }, formatDate(formData.dateDischarged))\n          )\n        ),\n        React.createElement("div", { style: styles.row },\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Room: "),\n            React.createElement("span", { style: styles.value }, patient?.roomNumber || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Contact: "),\n            React.createElement("span", { style: styles.value }, patient?.contactNumber || "--")\n          ),\n          React.createElement("span", { style: styles.infoItem },\n            React.createElement("span", { style: styles.label }, "Address: "),\n            React.createElement("span", { style: { ...styles.value, whiteSpace: "nowrap", textOverflow: "ellipsis", overflow: "hidden" } },\n              patient?.address || "--"\n            )\n          )\n        )\n      )\n    ),\n\n    // Render form config sections\n    (formConfig?.sections || [])\n      .filter(section => section.id !== "patientInfo")\n      .map((section, sectionIndex) => \n        React.createElement("div", { key: sectionIndex },\n          section.fields\n            .filter(field => !field.hidden)\n            .map((field, fieldIndex) => renderField(field))\n        )\n      ),\n\n    // Doctor\'s Signature\n    React.createElement("div", { \n      style: { \n        width: "100%", \n        textAlign: "right", \n        marginTop: "15px",\n        paddingRight: "50px"\n      }\n    },\n      React.createElement("div", { style: { fontSize: "12px", fontWeight: "bold" } }, \n        "Doctor\'s Signature"\n      )\n    )\n  );\n}'},...n||[]])),[i,s]=(0,t.useState)(r[0]||{name:"",value:""}),[o,l]=(0,t.useState)(null);return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex flex-col gap-6 mb-6",children:[(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Discharge Template Preview"})}),(0,X.jsx)("div",{className:"flex flex-wrap gap-3",children:r.map(((e,t)=>(0,X.jsx)("div",{className:"relative",children:o===t?(0,X.jsx)("div",{className:"flex items-center gap-2",children:(0,X.jsx)(xn.p,{value:e.name,onChange:t=>((e,t)=>{const n=r.findIndex((t=>t===e));if(-1===n)return;const o=r.map(((e,r)=>r===n?{...e,name:t}:e));a(o),i===e&&s(o[n])})(e,t.target.value),onBlur:()=>l(null),onKeyDown:e=>{"Enter"===e.key&&l(null)},className:"w-[150px]",autoFocus:!0})}):(0,X.jsx)(j.$,{variant:"outline",className:(0,Ee.cn)("relative min-w-[150px]",i===e&&"border-2 border-primary bg-primary/10"),onClick:()=>s(e),onDoubleClick:()=>l(t),children:e.name||"Unnamed Template"})},t)))})]}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-4 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsx)("div",{className:"bg-white shadow-lg",style:{width:"210mm",height:"297mm",padding:"8mm",margin:"0 auto"},children:(0,X.jsx)(rQ.A,{hospital:e,patient:{},formData:{},templateString:null===i||void 0===i?void 0:i.value})})})]})}function iQ(){const{hospitalInfo:e}=(0,w.d4)((e=>e.hospital)),n=(0,w.wA)(),r=(0,w.d4)((e=>e.templates.headerTemplateArray)),[a,i]=(0,t.useState)([{name:"experimental",value:'\nReact.createElement("div", { className: "" },\n    React.createElement("div", { className: "flex items-center gap-4 w-full" },\n      React.createElement("img", {\n        src: hospitalInfo?.hospitalLogo2Blob,\n        alt: "Medical Symbol",\n        style: {\n          width: "100px",\n          height: "100px",\n          objectFit: "contain"\n        }\n      }),\n      React.createElement("div", { className: "flex-1 text-center" },\n        React.createElement("h1", { \n          className: "text-[#000080] text-4xl font-bold mb-1",\n          style: { fontFamily: "\'Brush Script MT\', cursive" }\n        }, \n          hospitalInfo?.doctorName || "Dr. Shiv Narayan Singh"\n        ),\n        React.createElement("div", { className: "text-sm mb-1" },\n          "M.S. (Gen. Surgery), M.C.H. (G.I. Surgery)"\n        ),\n        React.createElement("div", { className: "text-sm mb-1" },\n          "F.M.A.S. (Fellow of Minimal Access Surgeons of India Given by AMASI)"\n        ),\n        React.createElement("div", { className: "text-sm mb-1" },\n          "Assistant Professor (Dept. of Surgery)"\n        ),\n        React.createElement("div", { className: "text-sm" },\n          "ANUGRAH NARAYAN MAGADH MEDICAL COLLEGE & HOSPITAL, GAYA"\n        )\n      ),\n      React.createElement("img", {\n        src: hospitalInfo?.hospitalLogo2Blob,\n        alt: "Medical Symbol",\n        style: {\n          width: "100px",\n          height: "100px",\n          objectFit: "contain"\n        }\n      })\n    )\n  ,\n   React.createElement("div", { className: "flex justify-end mb-2 mt-20" },\n    React.createElement("div", { className: "text-sm" }, "Date ____________")\n  )\n \n    \n   \n   \n   \n   \n  \n)\n'},{name:"System Default",value:wn.h},{name:"image",value:'\nReact.createElement("div", { \n  className: "mb-2",\n  style: {\n    maxWidth: "794px",\n    margin: "0 auto"\n  }\n},\n  React.createElement("img", {\n    src: hospitalInfo?.hospitalLogo2Blob,\n    alt: "Hospital Header",\n    style: {\n      width: "100%",\n      height: "auto",\n      objectFit: "contain"\n    }\n  })\n)\n'},...r||[]]),[s,o]=(0,t.useState)(a[0]||{name:"",value:""}),[l,c]=(0,t.useState)(null),d=(0,bn.G)((null===s||void 0===s?void 0:s.value)||"");return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex flex-col gap-6 mb-6",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hospital Header Preview"}),(0,X.jsx)(j.$,{onClick:()=>{s&&n((0,R.ub)({headerTemplate:{name:s.name,value:s.value}}))},children:"Save Template"})]}),(0,X.jsx)("div",{className:"flex flex-wrap gap-3",children:a.map(((e,t)=>(0,X.jsx)("div",{className:"relative",children:l===t?(0,X.jsx)("div",{className:"flex items-center gap-2",children:(0,X.jsx)(xn.p,{value:e.name,onChange:t=>((e,t)=>{const n=a.findIndex((t=>t===e));if(-1===n)return;const r=a.map(((e,r)=>r===n?{...e,name:t}:e));i(r),s===e&&o(r[n])})(e,t.target.value),onBlur:()=>c(null),onKeyDown:e=>{"Enter"===e.key&&c(null)},className:"w-[150px]",autoFocus:!0})}):(0,X.jsx)(j.$,{variant:"outline",className:(0,Ee.cn)("relative min-w-[150px]",s===e&&"border-2 border-primary bg-primary/10"),onClick:()=>o(e),onDoubleClick:()=>c(t),children:e.name||"Unnamed Template"})},t)))})]}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-4 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsx)("div",{className:"bg-white shadow-lg",style:{width:"210mm",height:"297mm",padding:"8mm",margin:"0 auto"},children:(0,X.jsx)(d,{hospitalInfo:e})})})]})}function sQ(){const e=(0,w.wA)(),{hospitalInfo:n}=(0,w.d4)((e=>e.hospital)),r=(0,w.d4)((e=>e.templates.opdPrescriptionTemplateArray)),[a,i]=((0,t.useRef)(null),(0,t.useState)([{name:"System Default",value:'( patient, vitals, prescription, labTests, selectedComorbidities, hospital, ref) => {\n  const capitalizeAll = (str) => {\n    return str?.toUpperCase() || \'\';\n  };\n\n  const VitalItem = ({ label, value, unit }) => {\n    if (value === undefined || value === null || value === \'\') {\n      return null;\n    }\n    return React.createElement("div", { style: { fontSize: "12px" } },\n      React.createElement("div", null,\n        React.createElement("span", { style: { fontWeight: "bold" } },\n          label === "O2" ? React.createElement(React.Fragment, null, "O", React.createElement("sub", null, "2"), "%") : capitalizeAll(label),\n          ": "\n        ),\n        React.createElement("span", null,\n          value, " ", unit\n        )\n      )\n    );\n  };\n\n  const vitalItems = [\n    { label: "Temperature", value: vitals.temperature, unit: "\xb0C" },\n    { label: "Heart Rate", value: vitals.heartRate, unit: "bpm" },\n    { label: "Blood Pressure", value: vitals.bloodPressure, unit: "mmHg" },\n    { label: "Respiratory Rate", value: vitals.respiratoryRate, unit: "bpm" },\n    { label: "Height", value: vitals.height, unit: "cm" },\n    { label: "Weight", value: vitals.weight, unit: "kg" },\n    { label: "BMI", value: vitals.bmi, unit: "" },\n    { label: "O2", value: vitals.oxygenSaturation, unit: "%" },\n  ];\n\n  const presentVitals = vitalItems.filter(item => \n    item.value !== undefined && item.value !== null && item.value !== \'\'\n  );\n\n  return React.createElement("div", { ref: ref, style: { width: "100%",padding: "25px" } ,className: "print-content"},\n    \n         React.createElement("div", { className: " print:block mb-2" },\n      React.createElement(HospitalHeader, { hospitalInfo: hospital })\n    ),\n    React.createElement("div", { style: { display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: "10px" } },\n      React.createElement("div"),\n      React.createElement("h1", { style: { fontSize: "15px", color: "#1a5f7a", fontWeight: "bold", textAlign: "center", flex: 1 } }, "OPD Prescription"),\n      React.createElement("div", { style: { fontSize: "14px", color: "#2c3e50" } }, format(new Date(), "dd/MM/yyyy"))\n    ),\n\n    React.createElement("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "10px", marginBottom: "10px" } },\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "Name:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, patient?.name || \'\')\n      ),\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "Age/Sex:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, `${patient?.age || \'\'}/ ${patient?.gender || \'\'}`)\n      ),\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "UHID No:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, patient?.registrationNumber || \'\')\n      ),\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "Contact:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, patient?.contactNumber || \'\')\n      )\n    ),\n\n    presentVitals.length > 0 && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Vitals"),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(4, 1fr)", gap: "5px" } },\n        presentVitals.map((item, index) => \n          React.createElement(VitalItem, { key: index, ...item })\n        )\n      )\n    ),\n\n    prescription?.chiefComplaints && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Chief Complaints"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.chiefComplaints)\n    ),\n\n    prescription?.diagnosis && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Diagnosis"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.diagnosis)\n    ),\n\n    selectedComorbidities?.length > 0 && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Comorbidities"),\n      selectedComorbidities.map((comorbidity, index) =>\n        React.createElement("div", { key: index, style: { fontSize: "14px" } }, comorbidity.name)\n      )\n    ),\n    labTests?.length > 0 && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Lab Tests"),\n      React.createElement("div", { style: { fontSize: "14px" } }, labTests.join(\', \'))\n    ),\n prescription?.treatment && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Treatment"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.treatment)\n    ),\n\nprescription?.medications?.length > 0 &&\n  React.createElement("div", { style: { marginBottom: "14px" } },\n    prescription.medications.some(medication => medication.name) && (\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Medications")\n    ),\n    React.createElement("div", { style: { width: "100%" } },\n      prescription.medications\n        .filter(medication => medication.name) // Only include medications with a name\n        .map((medication, index) =>\n          React.createElement("div", { key: index, style: { display: "grid", gridTemplateColumns: "5% 35% 30% 30%", marginBottom: "3px", fontSize: "14px" } },\n            React.createElement("span", null, `${index + 1}.`),\n            React.createElement("span", null, medication.name),\n            React.createElement("span", null, medication.frequency),\n            React.createElement("span", null, `${medication.duration} days`)\n          )\n        )\n    )\n  ),\nprescription?.additionalInstructions && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Notes"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.additionalInstructions)\n    ),\n    prescription?.advice && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Advice"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.advice)\n    ),\n\n   \n\n    prescription?.followUp && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Follow Up"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.followUp)\n    ),\n\n    React.createElement("div", { style: { marginTop: "20px", textAlign: "right", fontSize: "14px" } }, "Doctor\'s Signature")\n  );\n}'},{name:"Experimental",value:'\n( patient, vitals, prescription, labTests, selectedComorbidities, hospital, ref) => {\n  const capitalizeAll = (str) => {\n    return str?.toUpperCase() || \'\';\n  };\n\n  const VitalItem = ({ label, value, unit }) => {\n    if (value === undefined || value === null || value === \'\') {\n      return null;\n    }\n    return React.createElement("div", { style: { fontSize: "8px" } },\n      React.createElement("div", null,\n        React.createElement("span", { style: { fontWeight: "bold" } },\n          label === "O2" ? React.createElement(React.Fragment, null, "O", React.createElement("sub", null, "2"), "%") : capitalizeAll(label),\n          ": "\n        ),\n        React.createElement("span", null,\n          value, " ", unit\n        )\n      )\n    );\n  };\n\n  const vitalItems = [\n    { label: "Temperature", value: vitals.temperature, unit: "\xb0C" },\n    { label: "Heart Rate", value: vitals.heartRate, unit: "bpm" },\n    { label: "Blood Pressure", value: vitals.bloodPressure, unit: "mmHg" },\n    { label: "Respiratory Rate", value: vitals.respiratoryRate, unit: "bpm" },\n    { label: "Height", value: vitals.height, unit: "cm" },\n    { label: "Weight", value: vitals.weight, unit: "kg" },\n    { label: "BMI", value: vitals.bmi, unit: "" },\n    { label: "O2", value: vitals.oxygenSaturation, unit: "%" },\n  ];\n\n  const presentVitals = vitalItems.filter(item => \n    item.value !== undefined && item.value !== null && item.value !== \'\'\n  );\n\n  return React.createElement("div", { ref: ref, style: { width: "100%",padding: "25px" } ,className: "print-content"},\n    React.createElement("div", { style: { paddingBottom: "5px" } },\n      React.createElement("div", { style: { display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: "2px", position: "relative" } },\n        React.createElement("img", {\n          src: hospital?.hospitalLogo2Blob,\n          alt: "Brain Icon",\n          style: { width: "100px", height: "80px" }\n        }),\n        React.createElement("div", { style: { flex: 1, textAlign: "center", position: "relative", marginTop: "-10px" } },\n          React.createElement("h1", { \n            style: { \n              fontSize: "56px",\n              color: "#1a237e",\n              fontWeight: "bold"\n            }\n          }, "\u0906\u0926\u094d\u200c\u092f\u093e \u0928\u094d\u092f\u0942\u0930\u094b \u0938\u0947\u0928\u094d\u091f\u0930")\n        ),\n        React.createElement("img", {\n          src: hospital?.hospitalLogo2Blob,\n          alt: "Brain Icon",\n          style: { width: "100px", height: "80px" }\n        })\n      ),\n      React.createElement("div", { style: { textAlign: "center", position: "relative", marginTop: "-10px" } },\n        React.createElement("p", { style: { fontSize: "14px", color: "#333333", marginBottom: "2px", fontWeight: "bold" } }, \n          "\u092e\u094b\u0939\u0932\u094d\u0932\u093e\u0926\u093e\u0930 \u0915\u0947 \u0905\u0926\u0930, \u092e\u0941\u0930\u093e\u0930\u092a\u0941\u0930 \u092e\u094b\u0921\u093c \u091c\u09400 \u092c\u09400 \u0930\u094b\u0921, \u0917\u092f\u093e"\n        ),\n        React.createElement("div", { style: { display: "flex", justifyContent: "center", gap: "20px", fontWeight: "bold" } },\n          React.createElement("p", { style: { fontSize: "14px", color: "#333333" } },\n            "Mob: 7463811885"\n          ),\n          React.createElement("p", { style: { fontSize: "14px", color: "#333333" } },\n            "Mob: 9199029251"\n          )\n        )\n      ),\n      React.createElement("div", { style: { display: "flex", justifyContent: "space-between", position: "relative", marginTop: "-30px" } },\n        React.createElement("div", null,\n          React.createElement("h2", { style: { fontSize: "24px", color: "#1a237e", fontWeight: "bold" } },\n            "\u0921\u093e0 \u091c\u092f\u0947\u0928\u094d\u0926\u094d\u0930 \u0915\u0941\u092e\u093e\u0930"\n          ),\n          React.createElement("p", { style: { fontSize: "10px", color: "#333333", fontWeight: "bold" } },\n            "M.B.B.S, M.ch (Neurosurgery)",\n            React.createElement("br"),\n            "Associate Professor (J.N.M.M.C.H Gaya)",\n            React.createElement("br"),\n            "Consultant Neurosurgeon AIIMS, Gaya",\n            React.createElement("br"),\n            "Ex Assistant Professor N.M.C.H., Sasaram",\n            React.createElement("br"),\n            "Ex Senior Resident (Rims Ranchi)",\n            React.createElement("br"),\n            "Specialised in Microscopic",\n            React.createElement("br"),\n            "Endoscopic Brain & Spine Surgery",\n            React.createElement("br"),\n            "Reg No.: 36623"\n          )\n        ),\n        React.createElement("div", { style: { display: "flex", justifyContent: "space-between", fontSize: "10px", color: "#333333", fontWeight: "bold", position: "absolute", top: "100px", left: "200px" } },\n          React.createElement("div", { style: { display: "flex", flexDirection: "column", justifyContent: "center", alignItems: "center" } },\n            "\u0938\u094b\u092e\u0935\u093e\u0930 \u0938\u0947 \u0936\u0928\u093f\u0935\u093e\u0930",\n            React.createElement("br"),\n            "\u0936\u093e\u092e 05:00 \u092c\u091c\u0947 \u0938\u0947 07:00 \u092c\u091c\u0947 \u0924\u0915"\n          )\n        ),\n        React.createElement("div", { style: { display: "flex", justifyContent: "space-between", fontSize: "10px", color: "#333333", fontWeight: "bold", position: "absolute", top: "100px", right: "150px" } },\n          React.createElement("div", { style: { display: "flex", flexDirection: "column", justifyContent: "center", alignItems: "center" } },\n            "\u0938\u094b\u092e\u0935\u093e\u0930 \u0938\u0947 \u0936\u0928\u093f\u0935\u093e\u0930",\n            React.createElement("br"),\n            "\u0936\u093e\u092e 05:00 \u092c\u091c\u0947 \u0938\u0947 07:00 \u092c\u091c\u0947 \u0924\u0915",\n            React.createElement("br"),\n            "\u0930\u0935\u093f\u0935\u093e\u0930",\n            React.createElement("br"),\n            "\u0938\u0941\u092c\u0939 09:00 \u092c\u091c\u0947 \u0938\u0947 11:00 \u092c\u091c\u0947 \u0924\u0915"\n          )\n        ),\n        React.createElement("div", { style: { display: "flex", justifyContent: "center", alignItems: "center" } },\n          React.createElement("img", {\n            src: hospital?.hospitalLogoBlob,\n            alt: "Hospital Logo",\n            style: { width: "100px", height: "140px", marginTop: "30px" }\n          })\n        ),\n        React.createElement("div", { style: { display: "flex", textAlign: "right", flexDirection: "column" } },\n          React.createElement("h2", { style: { fontSize: "24px", color: "#1a237e", fontWeight: "bold", marginBottom: "4px" } },\n            "\u0921\u093e0 \u0928\u093f\u092d\u093e"\n          ),\n          React.createElement("p", { style: { fontSize: "10px", color: "#333333", fontWeight: "bold" } },\n            "M.B.B.S, MD (Biochemistry)",\n            React.createElement("br"),\n            "Assistant Professor IMCH, Sasaram",\n            React.createElement("br"),\n            "Ex Medical Officer",\n            React.createElement("br"),\n            "Sadar Hospital, Aurangabad",\n            React.createElement("br"),\n            "Ex Resident ANMMCH, Gaya",\n            React.createElement("br"),\n            "Reg No. 37738"\n          )\n        )\n      )\n    ),\n\n    React.createElement("div", { style: { display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: "10px" } },\n      React.createElement("div"),\n      React.createElement("h1", { style: { fontSize: "15px", color: "#1a5f7a", fontWeight: "bold", textAlign: "center", flex: 1 } }, "OPD Prescription"),\n      React.createElement("div", { style: { fontSize: "14px", color: "#2c3e50",fontWeight: "bold" } }, format(new Date(), "dd/MM/yyyy"))\n    ),\n\n    React.createElement("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "10px", marginBottom: "10px" } },\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "Name:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, patient?.name || \'\')\n      ),\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "Age/Sex:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, `${patient?.age || \'\'}/ ${patient?.gender || \'\'}`)\n      ),\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "UHID No:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, patient?.registrationNumber || \'\')\n      ),\n      React.createElement("div", { style: { display: "flex", gap: "5px" } },\n        React.createElement("span", { style: { fontWeight: "bold", fontSize: "14px" } }, "Contact:"),\n        React.createElement("span", { style: { fontSize: "14px" } }, patient?.contactNumber || \'\')\n      )\n    ),\n\n    presentVitals.length > 0 && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Vitals"),\n      React.createElement("div", { style: { display: "grid", gridTemplateColumns: "repeat(4, 1fr)", gap: "5px" } },\n        presentVitals.map((item, index) => \n          React.createElement(VitalItem, { key: index, ...item })\n        )\n      )\n    ),\n\n    prescription?.chiefComplaints && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Chief Complaints"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.chiefComplaints)\n    ),\n\n    prescription?.diagnosis && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Diagnosis"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.diagnosis)\n    ),\n\n    selectedComorbidities?.length > 0 && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Comorbidities"),\n      selectedComorbidities.map((comorbidity, index) =>\n        React.createElement("div", { key: index, style: { fontSize: "14px" } }, comorbidity.name)\n      )\n    ),\n         labTests?.length > 0 && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Lab Tests"),\n      React.createElement("div", { style: { fontSize: "14px" } }, labTests.join(\', \'))\n    ),\n   prescription?.medications?.length > 0 &&\n  React.createElement("div", { style: { marginBottom: "10px" } },\n    prescription.medications.some(medication => medication.name) && (\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Medications")\n    ),\n    React.createElement("div", { style: { width: "100%" } },\n      prescription.medications\n        .filter(medication => medication.name) // Only include medications with a name\n        .map((medication, index) =>\n          React.createElement("div", { key: index, style: { display: "grid", gridTemplateColumns: "5% 35% 30% 30%", marginBottom: "3px", fontSize: "14px" } },\n            React.createElement("span", null, `${index + 1}.`),\n            React.createElement("span", null, medication.name),\n            React.createElement("span", null, medication.frequency),\n            React.createElement("span", null, `${medication.duration} days`)\n          )\n        )\n    )\n  ),\n\n\n    prescription?.advice && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Advice"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.advice)\n    ),\n\n    labTests?.length > 0 && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Lab Tests"),\n      React.createElement("div", { style: { fontSize: "14px" } }, labTests.join(\', \'))\n    ),\n\n    prescription?.followUp && React.createElement("div", { style: { marginBottom: "10px" } },\n      React.createElement("div", { style: { fontSize: "14px", fontWeight: "bold", color: "#34495e", marginBottom: "5px" } }, "Follow Up"),\n      React.createElement("div", { style: { fontSize: "14px" } }, prescription.followUp)\n    ),\n\n  );\n}'},...r||[]])),[s,o]=(0,t.useState)(a[0]||{name:"",value:""}),[l,c]=(0,t.useState)(null);return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex flex-col gap-6 mb-6",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"OPD Prescription Template Preview"}),(0,X.jsx)(j.$,{onClick:()=>{s&&e((0,R.ub)({opdPrescriptionTemplateArray:a.filter((e=>e!==a[0]))}))},children:"Save Template"})]}),(0,X.jsx)("div",{className:"flex flex-wrap gap-3",children:a.map(((e,t)=>(0,X.jsx)("div",{className:"relative",children:l===t?(0,X.jsx)("div",{className:"flex items-center gap-2",children:(0,X.jsx)(xn.p,{value:e.name,onChange:t=>((e,t)=>{const n=a.findIndex((t=>t===e));if(-1===n)return;const r=a.map(((e,r)=>r===n?{...e,name:t}:e));i(r),s===e&&o(r[n])})(e,t.target.value),onBlur:()=>c(null),onKeyDown:e=>{"Enter"===e.key&&c(null)},className:"w-[150px]",autoFocus:!0})}):(0,X.jsx)(j.$,{variant:"outline",className:(0,Ee.cn)("relative min-w-[150px]",s===e&&"border-2 border-primary bg-primary/10"),onClick:()=>{o(e)},onDoubleClick:()=>c(t),children:e.name||"Unnamed Template"})},t)))})]}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-4 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsx)("div",{className:"bg-white shadow-lg",style:{width:"210mm",height:"297mm",padding:"6mm 5mm",margin:"0 auto"},children:(0,X.jsx)(yg,{previewMode:!0,hospital:n,patient:{},vitals:{},prescription:{},labTests:[],selectedComorbidities:[],templateString:null===s||void 0===s?void 0:s.value})})})]})}function oQ(){(0,w.wA)();const{hospitalInfo:e}=(0,w.d4)((e=>e.hospital)),n=(0,w.d4)((e=>e.templates.opdRxTemplateArray)),r={patient:{name:"Sample Patient",age:"45",gender:"Male",address:"123 Sample Street"},registrationNumber:"REG123",contactNumber:"9876543210",guardianName:"Sample Guardian",createdAt:(new Date).toISOString(),bookingDate:(new Date).toISOString(),doctor:{name:"Dr. Sample Doctor",_id:"sample_doctor_id"},department:"General Medicine",vitals:{bloodPressure:"",weight:"70"}},[a,i]=(0,t.useState)([{name:"System Default",value:Og},{name:"Experimental",value:'(patient, hospital, ref) => {\n    const renderField = (label, value, suffix = \'\') => {\n        if (!value) return null;\n        return React.createElement("div", { className: "flex gap-2" },\n            React.createElement("span", { className: "font-bold min-w-[100px]" }, label),\n            React.createElement("span", null, suffix ? `${value} ${suffix}` : value)\n        );\n    };\n\n    // Create vitals section only if any vitals exist\n    const renderVitals = () => {\n        const hasVitals = patient?.vitals?.bloodPressure || patient?.vitals?.weight || patient?.vitals?.temperature;\n        if (!hasVitals) return null;\n\n        return React.createElement("div", { className: "flex flex-wrap gap-4" },\n            patient?.vitals?.bloodPressure && renderField("BP", patient.vitals.bloodPressure, "mmHg"),\n            patient?.vitals?.temperature && renderField("Temp", patient.vitals.temperature, "\xb0F"),\n            patient?.vitals?.weight && renderField("Weight", patient.vitals.weight, "kg")\n        );\n    };\n\n    return React.createElement("div", { className: "print-content p-5" },\n        // Header Section\n        React.createElement("div", { className: "" },\n            React.createElement("div", { className: "flex items-center gap-4 w-full" },\n                React.createElement("img", {\n                    src: hospital?.hospitalLogo2Blob,\n                    alt: "Medical Symbol",\n                    style: {\n                        width: "100px",\n                        height: "100px",\n                        objectFit: "contain"\n                    }\n                }),\n                React.createElement("div", { className: "flex-1 text-center" },\n                    React.createElement("h1", { \n                        className: "text-[#000080] text-4xl font-bold mb-1",\n                        style: { fontFamily: "\'Brush Script MT\', cursive" }\n                    }, \n                        hospital?.doctorName || "Dr. Shiv Narayan Singh"\n                    ),\n                    React.createElement("div", { className: "text-sm mb-1" },\n                        "M.S. (Gen. Surgery), M.C.H. (G.I. Surgery)"\n                    ),\n                    React.createElement("div", { className: "text-sm mb-1" },\n                        "F.M.A.S. (Fellow of Minimal Access Surgeons of India Given by AMASI)"\n                    ),\n                    React.createElement("div", { className: "text-sm mb-1" },\n                        "Assistant Professor (Dept. of Surgery)"\n                    ),\n                    React.createElement("div", { className: "text-sm" },\n                        "ANUGRAH NARAYAN MAGADH MEDICAL COLLEGE & HOSPITAL, GAYA"\n                    )\n                ),\n                React.createElement("img", {\n                    src: hospital?.hospitalLogo2Blob,\n                    alt: "Medical Symbol",\n                    style: {\n                        width: "100px",\n                        height: "100px",\n                        objectFit: "contain"\n                    }\n                })\n            ),\n            React.createElement("div", { className: "flex justify-between items-center mb-2 mt-4" },\n                React.createElement("div", { className: "text-sm font-bold" }, \n                    patient?.registrationNumber ? `UHID/Reg No: ${patient.registrationNumber}` : ""\n                ),\n                React.createElement("div", { className: "text-sm" }, \n                    "Date: " + new Date(patient?.createdAt).toLocaleDateString("en-IN")\n                )\n            )\n        ),\n\n        // Patient Details Section - Grid Layout\n        React.createElement("div", { \n            style: {\n               \n                width: \'100%\',\n                display: \'grid\',\n                gridTemplateColumns: \'repeat(2, 1fr)\',\n                gap: \'12px\',\n                padding: \'15px\',\n                backgroundColor: \'#f8f8f8\',\n                borderRadius: \'8px\',\n                border: \'1px solid #e0e0e0\',\n                boxShadow: \'0 1px 3px rgba(0,0,0,0.1)\'\n            }\n        },\n            React.createElement("div", { className: "grid gap-3" },\n                renderField("Name", patient?.patient?.name),\n                renderField("Age/Sex", patient?.patient?.age && patient?.patient?.gender ? \n                    `${patient.patient.age} Years / ${patient.patient.gender}` : null\n                ),\n                renderField("Guardian", patient?.guardianName)\n            ),\n            React.createElement("div", { className: "grid gap-3" },\n                renderField("Mobile", patient?.patient?.contactNumber),\n                renderField("Address", patient?.patient?.address),\n                renderVitals()\n            )\n        )\n    );\n}'},{name:"Minimal",value:'(patient, hospital, ref) => {\n    const renderField = (label, value,valueundersocre=true,suffix = \'\') => {\n        return React.createElement("div", { className: "flex gap-2" },\n            React.createElement("span", { className: "font-bold min-w-[100px] " }, label),\n            React.createElement("span", null, value ? (suffix ? `${value} ${suffix}` : value) : valueundersocre?"________________":null)\n        );\n    };\n\n    return React.createElement("div", { className: "print-content p-5" },\n        // Header Section with Dr. REEMA KUMARI details\n        React.createElement("div", { className: "" },\n            React.createElement("div", { className: "flex items-center gap-4 w-full" },\n                React.createElement("img", {\n                    src: hospital?.hospitalLogo2Blob,\n                    alt: "Medical Symbol",\n                    style: {\n                        width: "100px",\n                        height: "100px",\n                        objectFit: "contain"\n                    }\n                }),\n                React.createElement("div", { className: "flex-1 text-center font-bold" },\n                    React.createElement("h1", { \n                        className: "text-[#000080] text-4xl mb-1",\n                        style: { fontFamily: "\'Brush Script MT\', cursive" }\n                    }, \n                        "Dr. REEMA KUMARI"\n                    ),\n                    React.createElement("div", { className: "text-sm mb-1" },\n                        "Professor"\n                    ),\n                    React.createElement("div", { className: "text-sm mb-1" },\n                        "Department of Obs/Gynae"\n                    ),\n                    React.createElement("div", { className: "text-sm" },\n                        "ANUGRAH NARAYAN MAGADH MEDICAL COLLEGE & HOSPITAL, GAYA"\n                    ),\n                    React.createElement("div", { className: "text-sm mb-1" },\n                        "Ex. Senior Resident | GIMS Departement of Reproductive Biology, Patna"\n                    )\n                ),\n                React.createElement("img", {\n                    src: hospital?.hospitalLogo2Blob,\n                    alt: "Medical Symbol",\n                    style: {\n                        width: "100px",\n                        height: "100px",\n                        objectFit: "contain"\n                    }\n                })\n            )\n        ),\n\n      \n        // Patient Details Section\n        React.createElement("div", { \n            style: {\n                padding: \'0 15px\',\n                display: \'grid\',\n                gap: \'12px\',\n                marginTop: \'20px\',\n                marginBottom:"40px"\n            }\n        },\n            // Name and Date Section\n            React.createElement("div", { className: "grid gap-3" },\n                React.createElement("div", { className: "flex justify-between w-full" },\n                    renderField("Name", patient?.patient?.name),\n                    renderField("Reg. No", patient?.registrationNumber),\n                    renderField("Date", patient?.bookingDate ? new Date(patient?.bookingDate).toLocaleDateString("en-IN") : null)\n                ),\n                React.createElement("div", { className: "flex justify-between w-full" },\n                    renderField("Address", patient?.patient?.address),\n                    renderField("Age/Sex", patient?.patient?.age && patient?.patient?.gender ? \n                        `${patient.patient.age} Years / ${patient.patient.gender}` : null\n                    ),\n                    renderField("Late Date", "")\n                )\n            ),\n\n            // Medical History Grid\n            React.createElement("div", { \n                \n                style: {\n                    display:"flex",\n                    justifyContent:"space-between",\n                    borderTop: "2px solid #e0e0e0",\n                    paddingTop: "12px"\n                }\n            },\n               \n\n\n                //left column\n                React.createElement("div", { className: " flex  flex-col justify-between" },\n                    renderField("M/H", ""),\n                    renderField("O/H", ""),\n                ),\n                React.createElement("div", { className: " flex  flex-col gap-5" },\n                    renderField("BP", patient?.vitals?.bloodPressure, "mmHg"),\n                    renderField("Weight", patient?.vitals?.weight, "kg"),\n               \n               \n                    renderField("Bowel bladder", ""),\n                    renderField("CHEST CVS", "")\n                ),\n                \n            )\n\n           \n        ),\n        \n    \n     React.createElement("div", { className: "pl-[15px] pt-[80px]  flex flex-col  gap-5" },\n                renderField("Medical History", "",valueundersocre=false),\n                renderField("Surgical History", "",valueundersocre=false),\n                renderField("Drug History", "",valueundersocre=false),\n                renderField("Allergies", "",valueundersocre=false),\n                renderField("Family History", "",valueundersocre=false)\n            )\n    );\n}'},{name:"Experimental 3",value:"(patient, hospital, ref) => {\n    return React.createElement(\"div\", { className: \"print-content\" },\n        // Patient Details Section - Left Column\n        React.createElement(\"div\", { \n            style: {\n                position: 'absolute',\n                top: '60mm',\n                left: '15mm',\n                width: '100mm',\n                fontFamily: 'Arial, sans-serif',\n                fontSize: '14px',\n                lineHeight: '1.3'\n            }\n        },\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Patient Name :\"),\n                patient?.patient?.name || ''\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Guardian Name :\"),\n                patient?.guardianName || ''\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Consultant Dr. :\"),\n                patient?.doctor?.name || ''\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Department :\"),\n                patient?.department || ''\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Address :\"),\n                patient?.patient?.address || ''\n            )\n        ),\n\n        // Patient Details Section - Right Column\n        React.createElement(\"div\", { \n            style: {\n                position: 'absolute',\n                top: '60mm',\n                left: '110mm',\n                width: '85mm',\n                fontFamily: 'Arial, sans-serif',\n                fontSize: '14px',\n                paddingLeft: '10mm',\n                lineHeight: '1.3'\n            }\n        },\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"UHID/Reg No :\"),\n                patient?.registrationNumber || ''\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Reg. Date :\"),\n                new Date(patient?.createdAt).toLocaleString(\"en-IN\", { \n                    year: 'numeric', \n                    month: '2-digit', \n                    day: '2-digit', \n                    hour: '2-digit', \n                    minute: '2-digit',\n                    hour12: true\n                })\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Valid For :\"),\n                new Date(new Date(patient?.createdAt).setDate(new Date(patient?.createdAt).getDate() + 13))\n                    .toLocaleString(\"en-IN\", { \n                        year: 'numeric', \n                        month: '2-digit', \n                        day: '2-digit'\n                    })\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Age/Sex :\"),\n                `${patient?.patient?.age || ''} Years / ${patient?.patient?.gender || ''}`\n            ),\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold', \n                        display: 'inline-block', \n                        width: '35mm' \n                    } \n                }, \"Mobile No :\"),\n                patient?.patient?.contactNumber || patient?.contactNumber || ''\n            )\n        ),\n\n        // BP and Weight Section - Below both columns\n        React.createElement(\"div\", { \n            style: {\n                position: 'absolute',\n                top: '85mm',\n                left: '15mm',\n                width: '180mm',\n                fontFamily: 'Arial, sans-serif',\n                fontSize: '14px',\n                textAlign: 'right',\n                paddingRight: '20mm'\n            }\n        },\n            React.createElement(\"div\", null,\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold' \n                    } \n                }, \"Weight(kgs) : \"),\n                patient?.vitals?.weight ? `${patient?.vitals?.weight} ` : ''\n            ),\n            React.createElement(\"div\", { \n                style: { \n                    marginBottom: '2mm' \n                } \n            },\n                React.createElement(\"span\", { \n                    style: { \n                        fontWeight: 'bold' \n                    } \n                }, \"BP : \"),\n                patient?.vitals?.bloodPressure || ''\n            )\n        )\n    );\n}"},...n||[]]),[s,o]=(0,t.useState)(a[0]||{name:"",value:""}),[l,c]=(0,t.useState)(null);return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex flex-col gap-6 mb-6",children:[(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"OPD Rx Template Preview"})}),(0,X.jsx)("div",{className:"flex flex-wrap gap-3",children:a.map(((e,t)=>(0,X.jsx)("div",{className:"relative",children:l===t?(0,X.jsx)("div",{className:"flex items-center gap-2",children:(0,X.jsx)(xn.p,{value:e.name,onChange:t=>((e,t)=>{const n=a.findIndex((t=>t===e));if(-1===n)return;const r=a.map(((e,r)=>r===n?{...e,name:t}:e));i(r),s===e&&o(r[n])})(e,t.target.value),onBlur:()=>c(null),onKeyDown:e=>{"Enter"===e.key&&c(null)},className:"w-[150px]",autoFocus:!0})}):(0,X.jsx)(j.$,{variant:"outline",className:(0,Ee.cn)("relative min-w-[150px]",s===e&&"border-2 border-primary bg-primary/10"),onClick:()=>o(e),onDoubleClick:()=>c(t),children:e.name||"Unnamed Template"})},t)))})]}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-4 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsx)("div",{className:"bg-white shadow-lg",style:{width:"210mm",height:"297mm",margin:"0 auto",position:"relative"},children:(0,X.jsx)(Rg,{hospital:e,patient:r,templateString:s.value})})})]})}function lQ(){const e=(0,w.d4)((e=>e.hospital.hospitalInfo)),{toast:t}=((0,w.wA)(),(0,H.dj)()),n={patient:{name:"John Doe",age:"35",gender:"Male",registrationNumber:"REG123456",contactNumber:"9876543210",address:"123 Main Street, City"},bill:{invoiceNumber:"INV-001",createdAt:(new Date).toISOString(),services:[{name:"Consultation",quantity:1,rate:500},{name:"Blood Test",quantity:1,rate:800},{name:"X-Ray",quantity:1,rate:1200}],subtotal:2500,additionalDiscount:200,totalAmount:2300,amountPaid:2300},payment:[{paymentMethod:"Cash"}],admissionRecord:{bookingNumber:"BK001",vitals:{bloodPressure:"120/80",weight:"75",heartRate:"72",temperature:"98.6",oxygenSaturation:"98",respiratoryRate:"16"}}};return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsx)("div",{className:"flex flex-col gap-6 mb-6",children:(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"OPD Bill Token Template Preview"})})}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-2 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsx)("div",{className:"bg-white shadow-lg relative py-2 w-[210mm] h-[297mm]",children:(0,X.jsx)(Ig,{hospital:e,patientData:n})})})]})}function cQ(){(0,w.wA)();const{toast:e}=(0,H.dj)(),n=(0,w.d4)((e=>e.hospital.hospitalInfo)),[r,a]=(0,t.useState)({patientName:"John Doe",patientId:"PAT12345",age:45,gender:"Male",labNumber:"LAB-2023-0123",dateOfBirth:"1978-05-15",contactNumber:"+1 (555) 123-4567",address:"123 Main Street, Anytown, USA",labTests:[{name:"Complete Blood Count",reportStatus:"Completed"},{name:"Liver Function Test",reportStatus:"Completed"},{name:"Lipid Profile",reportStatus:"Completed"},{name:"Thyroid Function Test",reportStatus:"Sample Collected"},{name:"Kidney Function Test",reportStatus:"Registered"}],doctor:"Dr. Sarah Johnson",dateOfCollection:"2023-10-15T09:30:00",dateOfReport:"2023-10-16T14:00:00"}),[i,s]=(0,t.useState)([{name:"Complete Blood Count",reportId:"CBC-001",date:"2023-10-16",report:{hemoglobin:{value:"14.5",unit:"g/dL",normalRange:"13.5-17.5",label:"Hemoglobin"},rbc:{value:"5.2",unit:"mill/mm\xb3",normalRange:"4.5-5.9",label:"Red Blood Cells"},wbc:{value:"7500",unit:"/mm\xb3",normalRange:"4000-11000",label:"White Blood Cells"},platelets:{value:"250000",unit:"/mm\xb3",normalRange:"150000-450000",label:"Platelets"},hematocrit:{value:"45",unit:"%",normalRange:"41-50",label:"Hematocrit"},mcv:{value:"88",unit:"fL",normalRange:"80-96",label:"Mean Corpuscular Volume"},mch:{value:"29",unit:"pg",normalRange:"27-33",label:"Mean Corpuscular Hemoglobin"},mchc:{value:"33",unit:"g/dL",normalRange:"33-36",label:"Mean Corpuscular Hemoglobin Concentration"}},interpretation:"All parameters are within normal limits.",technician:"Lab Tech A"},{name:"Liver Function Test",reportId:"LFT-002",date:"2023-10-16",report:{totalBilirubin:{value:"0.8",unit:"mg/dL",normalRange:"0.3-1.2",label:"Total Bilirubin"},directBilirubin:{value:"0.2",unit:"mg/dL",normalRange:"0.0-0.3",label:"Direct Bilirubin"},sgot:{value:"32",unit:"U/L",normalRange:"5-40",label:"SGOT (AST)"},sgpt:{value:"35",unit:"U/L",normalRange:"7-56",label:"SGPT (ALT)"},alkalinePhosphatase:{value:"85",unit:"U/L",normalRange:"44-147",label:"Alkaline Phosphatase"},totalProtein:{value:"7.2",unit:"g/dL",normalRange:"6.0-8.3",label:"Total Protein"},albumin:{value:"4.5",unit:"g/dL",normalRange:"3.5-5.2",label:"Albumin"}},interpretation:"Liver function tests are within normal reference range.",technician:"Lab Tech B"},{name:"Lipid Profile",reportId:"LP-003",date:"2023-10-16",report:{totalCholesterol:{value:"185",unit:"mg/dL",normalRange:"<200",label:"Total Cholesterol"},triglycerides:{value:"120",unit:"mg/dL",normalRange:"<150",label:"Triglycerides"},hdlCholesterol:{value:"45",unit:"mg/dL",normalRange:">40",label:"HDL Cholesterol"},ldlCholesterol:{value:"116",unit:"mg/dL",normalRange:"<130",label:"LDL Cholesterol"},vldlCholesterol:{value:"24",unit:"mg/dL",normalRange:"<30",label:"VLDL Cholesterol"},cholesterolRatio:{value:"4.1",unit:"",normalRange:"<4.5",label:"Cholesterol Ratio"}},interpretation:"Lipid profile within acceptable ranges.",technician:"Lab Tech C"}]);return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsx)("div",{className:"flex flex-col gap-6 mb-6",children:(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Merge Template Preview"})})}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100  min-h-[calc(100vh-200px)] overflow-auto border-2 ",children:(0,X.jsx)("div",{className:"bg-white shadow-lg relative p-2",children:(0,X.jsx)(DB,{reportsData:i,patientData:r,hospital:n})})})]})}function dQ(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!0),[s,o]=(0,t.useState)(!1),{toast:l}=(0,H.dj)(),c=(0,a.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch(`${M.B8}/api/registration/settings`,{credentials:"include",headers:{"Content-Type":"application/json"}}),t=await e.json();n(t.prefix||""),i(t.useYearSuffix)}catch(e){l({title:"Failed to fetch settings",variant:"destructive"})}})()}),[]);return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{c(-1)},className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Registration Number Prefix Settings"})]}),(0,X.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0);try{await fetch(`${M.B8}/api/registration/settings`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({prefix:e,useYearSuffix:r})}),l({title:"Settings updated successfully",variant:"success"})}catch(n){l({title:"Failed to update settings",variant:"destructive"})}finally{o(!1)}},className:"max-w-md space-y-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Registration Number Prefix"}),(0,X.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded-md",placeholder:"Enter prefix (e.g. KSUC)"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)("input",{type:"checkbox",id:"useYearSuffix",checked:r,onChange:e=>i(e.target.checked),className:"rounded"}),(0,X.jsx)("label",{htmlFor:"useYearSuffix",className:"text-sm font-medium",children:"Include Year in Registration Number"})]}),(0,X.jsx)(j.$,{type:"submit",disabled:s,children:s?"Saving...":"Save Settings"})]})]})}const uQ=(0,N.A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),mQ=(0,N.A)("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]),pQ=(0,N.A)("NotebookTabs",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M15 2v20",key:"dcj49h"}],["path",{d:"M15 7h5",key:"1xj5lc"}],["path",{d:"M15 12h5",key:"w5shd9"}],["path",{d:"M15 17h5",key:"1qaofu"}]]),hQ=e=>{let{hospitalInfo:n,motherData:r,babyData:a,certificateNumber:i,basicFormData:s,birthCertificateTempleteHeader:o}=e;const l=(0,t.useRef)(),c=(0,yn.useReactToPrint)({content:()=>l.current,pageStyle:"\n      @page {\n        size: A4;\n        margin: 20mm;\n      }\n      @media print {\n        body {\n          print-color-adjust: exact;\n          -webkit-print-color-adjust: exact;\n        }\n        .print-only {\n          display: block !important;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n          position: relative;\n          min-height: 100vh;\n          padding: 20px;\n        }\n      }\n    "});return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(j.$,{variant:"outline",onClick:c,children:[(0,X.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Print"]}),(0,X.jsx)("div",{style:{display:"none"},children:(0,X.jsxs)("div",{ref:l,className:"print-content mt-10",children:[(0,X.jsxs)("div",{className:"border-[1px] border-black mb-20",children:[o(n),(0,X.jsxs)("div",{className:"font-cursive px-4",children:[(0,X.jsx)("h2",{className:"text-center text-2xl mt-2 font-bold underline italic tracking-wider",style:{fontFamily:"cursive"},children:"BIRTH CERTIFICATE"}),(0,X.jsx)("div",{className:"text-right text-xl",children:(0,X.jsxs)("p",{className:"text-base font-bold underline",children:["BIRTH NO:",i]})}),(0,X.jsx)("div",{className:"mt-2",children:(0,X.jsxs)("p",{className:"leading-relaxed text-base text-justify",children:["THIS IS CERTIFIED THAT"," ",(0,X.jsxs)("span",{className:"font-bold uppercase underline",children:[null===r||void 0===r?void 0:r.name," ",(0,X.jsx)("span",{className:"font-bold",children:null===s||void 0===s?void 0:s.guardianRelationWithPatient})," ",(0,X.jsx)("span",{className:"font-bold",children:null===s||void 0===s?void 0:s.babyFatherName})]})," ","WAS ADMITTED IN THIS HOSPITAL ON"," ",(0,X.jsxs)("span",{className:"uppercase",children:[(0,fo.GP)(new Date(a.admissionDate),"dd-MMM-yyyy")," AT"," ",a.timeOfAdmission]})," ","AND DELIVERED A LIVE ",a.gender.toUpperCase()," CHILD ON"," ",(0,X.jsxs)("span",{className:"uppercase",children:[(0,fo.GP)(new Date(a.dateOfBirth),"dd-MMM-yyyy")," AT"," ",a.timeOfBirth]}),". WEIGHT OF THE CHILD AT THE TIME OF BIRTH ",a.weight," GM AND THIS BABY HANDED OVER TO"," ",(0,X.jsx)("span",{className:"uppercase",children:null===s||void 0===s?void 0:s.babyHandOverRelation})," ",(0,X.jsx)("span",{className:"uppercase",children:null===s||void 0===s?void 0:s.babyHandOverName})," ","AFTER EXAMINATION BY PAEDIATRICIAN."]})}),(0,X.jsx)("div",{className:"mt-8 mb-8 mr-12 text-right",children:(0,X.jsx)("p",{className:"font-bold underline",children:"SIGNATURE"})})]})]}),(0,X.jsxs)("div",{className:"border-[1px] border-black mb-4",children:[o(n),(0,X.jsxs)("div",{className:"font-cursive px-4",children:[(0,X.jsx)("h2",{className:"text-center text-2xl mt-2 font-bold underline italic tracking-wider",style:{fontFamily:"cursive"},children:"BIRTH CERTIFICATE"}),(0,X.jsx)("div",{className:"text-right text-xl",children:(0,X.jsxs)("p",{className:"text-base font-bold underline",children:["BIRTH NO:",i]})}),(0,X.jsx)("div",{className:"mt-2",children:(0,X.jsxs)("p",{className:"leading-relaxed text-base text-justify",children:["THIS IS CERTIFIED THAT"," ",(0,X.jsxs)("span",{className:"font-bold uppercase underline",children:[null===r||void 0===r?void 0:r.name," ",(0,X.jsx)("span",{className:"font-bold",children:null===s||void 0===s?void 0:s.guardianRelationWithPatient})," ",(0,X.jsx)("span",{className:"font-bold",children:null===s||void 0===s?void 0:s.babyFatherName})]})," ","WAS ADMITTED IN THIS HOSPITAL ON"," ",(0,X.jsxs)("span",{className:"",children:[(0,fo.GP)(new Date(a.admissionDate),"dd-MMM-yyyy")," AT"," ",a.timeOfAdmission]})," ","AND DELIVERED A LIVE ",a.gender.toUpperCase()," CHILD ON"," ",(0,X.jsxs)("span",{className:"",children:[(0,fo.GP)(new Date(a.dateOfBirth),"dd-MMM-yyyy")," AT"," ",a.timeOfBirth]}),". WEIGHT OF THE CHILD AT THE TIME OF BIRTH ",a.weight," GM AND THIS BABY HANDED OVER TO"," ",(0,X.jsx)("span",{className:"",children:null===s||void 0===s?void 0:s.babyHandOverRelation})," ",(0,X.jsx)("span",{className:"uppercase",children:null===s||void 0===s?void 0:s.babyHandOverName})," ","AFTER EXAMINATION BY PAEDIATRICIAN."]})}),(0,X.jsx)("div",{className:"mt-8 mb-8 mr-12 text-right",children:(0,X.jsx)("p",{className:"font-bold underline",children:"SIGNATURE"})})]})]})]})})]})};function fQ(e){let{open:n,onOpenChange:r,hospitalInfo:a,motherData:i,babyData:s,certificateNumber:o}=e;const{toast:l}=(0,H.dj)(),c=(0,w.wA)(),{editBabyStatus:d}=(0,w.d4)((e=>e.babies)),u=(0,w.d4)((e=>e.templates.birthCertificateTemplate)),{headerTemplateArray:m,headerTemplate:p}=(0,w.d4)((e=>e.templates)),h=`(hospitalInfo) => {\n      return ${(null===m||void 0===m?void 0:m.length)>0?m[0].value:p}\n  }`,[f,v]=(0,t.useState)({babyFatherName:(null===s||void 0===s?void 0:s.babyFatherName)||"",guardianRelationWithPatient:"W/O",babyHandOverName:(null===s||void 0===s?void 0:s.babyHandOverName)||"",babyHandOverRelation:(null===s||void 0===s?void 0:s.babyHandOverRelation)||""});(0,t.useEffect)((()=>{v({babyFatherName:(null===s||void 0===s?void 0:s.babyFatherName)||"",guardianRelationWithPatient:"W/O",babyHandOverName:(null===s||void 0===s?void 0:s.babyHandOverName)||"",babyHandOverRelation:(null===s||void 0===s?void 0:s.babyHandOverRelation)||""})}),[s]);const g=new Function("React",`return ${u||h}`)(t);return(0,X.jsx)(so.lG,{open:n,onOpenChange:r,children:(0,X.jsxs)(so.Cf,{className:"max-w-[250mm] ",children:[(0,X.jsxs)("div",{className:"border-[1px] border-black mt-4",children:[g(a),(0,X.jsxs)("div",{className:"space-y-3 px-4",children:[(0,X.jsx)("div",{className:"text-right",children:(0,X.jsxs)("p",{className:"text-base font-bold underline",children:["BIRTH NO:",o]})}),(0,X.jsx)("div",{className:"mt-2",children:(0,X.jsxs)("p",{className:"leading-relaxed text-base text-justify",children:["THIS IS CERTIFIED THAT"," ",(0,X.jsxs)("span",{className:"font-bold uppercase",children:[null===i||void 0===i?void 0:i.name," ",(0,X.jsx)(xn.p,{className:"w-[45px] px-1 py-0 h-6 inline-block font-bold uppercase text-center",value:f.guardianRelationWithPatient,onChange:e=>v({...f,guardianRelationWithPatient:e.target.value})})," ",(0,X.jsx)(xn.p,{className:"w-50 px-1 py-0 h-6 inline-block font-bold uppercase text-center",value:f.babyFatherName,placeholder:"Enter Husband Name",autoFocus:!0,onChange:e=>v({...f,babyFatherName:e.target.value})})]})," ","WAS ADMITTED IN THIS HOSPITAL ON"," ",(0,X.jsxs)("span",{className:"font-bold",children:[(0,fo.GP)(new Date(s.admissionDate),"dd-MMM-yyyy")," AT"," ",s.timeOfAdmission]})," ","AND DELIVERED A LIVE ",s.gender.toUpperCase()," CHILD ON"," ",(0,X.jsxs)("span",{className:"font-bold",children:[(0,fo.GP)(new Date(s.dateOfBirth),"dd-MMM-yyyy")," AT"," ",s.timeOfBirth]}),". WEIGHT OF THE CHILD AT THE TIME OF BIRTH ",s.weight," GM AND THIS BABY HANDED OVER TO"," ",(0,X.jsx)(xn.p,{className:"w-24 px-1 py-0 h-6 inline-block font-bold uppercase text-center",value:f.babyHandOverRelation,onChange:e=>v({...f,babyHandOverRelation:e.target.value})})," ",(0,X.jsx)(xn.p,{className:"w-50 px-1 py-0 h-6 inline-block font-bold uppercase text-center",value:f.babyHandOverName,onChange:e=>v({...f,babyHandOverName:e.target.value})})," ","AFTER EXAMINATION BY PAEDIATRICIAN."]})}),(0,X.jsx)("div",{className:"mt-8 mb-4 mr-12 text-right",children:(0,X.jsx)("p",{className:"font-bold underline",children:"SIGNATURE"})})]})]}),(0,X.jsxs)("div",{className:"flex gap-2 justify-end py-2",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),(0,X.jsx)(hQ,{hospitalInfo:a,motherData:i,babyData:s,certificateNumber:o,basicFormData:f,birthCertificateTempleteHeader:g}),(0,X.jsx)(j.$,{variant:"outline",onClick:()=>{""!==f.babyFatherName?c((0,$t.nB)({...s,...f})).unwrap().then((()=>{l({title:"Success",variant:"success",description:"Birth certificate details saved successfully"})})).catch((e=>{l({title:"Error",description:e.message||"Failed to save birth certificate details",variant:"destructive"})})):l({title:"Error",description:"Please Enter Husband Name",variant:"destructive"})},disabled:"loading"===d,className:"bg-purple-600 hover:bg-purple-700 text-white",children:"loading"===d?"Saving...":"Save"})]})]})})}const vQ=(0,N.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var gQ=__webpack_require__(1669),xQ=__webpack_require__(7099),yQ=__webpack_require__(4942),bQ=__webpack_require__(849);function wQ(){return Object.assign({},(0,bQ.q)())}function jQ(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):(0,ic.w)(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class NQ{subPriority=0;validate(e,t){return!0}}class _Q extends NQ{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class SQ extends NQ{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>(0,ic.w)(t,e))}set(e,t){return t.timestampIsSet?e:(0,ic.w)(e,jQ(e,this.context))}}class EQ{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new _Q(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const CQ=/^(1[0-2]|0?\d)/,DQ=/^(3[0-1]|[0-2]?\d)/,TQ=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,kQ=/^(5[0-3]|[0-4]?\d)/,AQ=/^(2[0-3]|[0-1]?\d)/,PQ=/^(2[0-4]|[0-1]?\d)/,OQ=/^(1[0-1]|0?\d)/,RQ=/^(1[0-2]|0?\d)/,MQ=/^[0-5]?\d/,IQ=/^[0-5]?\d/,LQ=/^\d/,FQ=/^\d{1,2}/,BQ=/^\d{1,3}/,WQ=/^\d{1,4}/,UQ=/^-?\d+/,$Q=/^-?\d/,zQ=/^-?\d{1,2}/,HQ=/^-?\d{1,3}/,VQ=/^-?\d{1,4}/,qQ=/^([+-])(\d{2})(\d{2})?|Z/,GQ=/^([+-])(\d{2})(\d{2})|Z/,KQ=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,YQ=/^([+-])(\d{2}):(\d{2})|Z/,XQ=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ZQ(e,t){return e?{value:t(e.value),rest:e.rest}:e}function JQ(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function QQ(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(a*dB.s0+i*dB.Cg+s*dB._m),rest:t.slice(n[0].length)}}function e0(e){return JQ(UQ,e)}function t0(e,t){switch(e){case 1:return JQ(LQ,t);case 2:return JQ(FQ,t);case 3:return JQ(BQ,t);case 4:return JQ(WQ,t);default:return JQ(new RegExp("^\\d{1,"+e+"}"),t)}}function n0(e,t){switch(e){case 1:return JQ($Q,t);case 2:return JQ(zQ,t);case 3:return JQ(HQ,t);case 4:return JQ(VQ,t);default:return JQ(new RegExp("^-?\\d{1,"+e+"}"),t)}}function r0(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function a0(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function i0(e){return e%400===0||e%4===0&&e%100!==0}var s0=__webpack_require__(9504);var o0=__webpack_require__(9415);var l0=__webpack_require__(2750);function c0(e,t,n){const r=(0,ec.a)(e,n?.in),a=(0,l0.N)(r,n)-t;return r.setDate(r.getDate()-7*a),(0,ec.a)(r,n?.in)}var d0=__webpack_require__(5385);function u0(e,t,n){const r=(0,ec.a)(e,n?.in),a=(0,d0.s)(r,n)-t;return r.setDate(r.getDate()-7*a),r}const m0=[31,28,31,30,31,30,31,31,30,31,30,31],p0=[31,29,31,30,31,30,31,31,30,31,30,31];function h0(e,t,n){const r=(0,bQ.q)(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=(0,ec.a)(e,n?.in),s=i.getDay(),o=7-a,l=t<0||t>6?t-(s+o)%7:((t%7+7)%7+o)%7-(s+o)%7;return(0,uc.f)(i,l,n)}function f0(e,t){const n=(0,ec.a)(e,t?.in).getDay();return 0===n?7:n}function v0(e,t,n){const r=(0,ec.a)(e,n?.in),a=t-f0(r,n);return(0,uc.f)(r,a,n)}var g0=__webpack_require__(9219);const x0={G:new class extends EQ{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends EQ{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return ZQ(t0(4,e),r);case"yo":return ZQ(n.ordinalNumber(e,{unit:"year"}),r);default:return ZQ(t0(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=a0(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends EQ{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return ZQ(t0(4,e),r);case"Yo":return ZQ(n.ordinalNumber(e,{unit:"year"}),r);default:return ZQ(t0(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=(0,s0.h)(e,r);if(n.isTwoDigitYear){const t=a0(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),(0,nc.k)(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),(0,nc.k)(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends EQ{priority=130;parse(e,t){return n0("R"===t?4:t.length,e)}set(e,t,n){const r=(0,ic.w)(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),(0,o0.b)(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends EQ{priority=130;parse(e,t){return n0("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends EQ{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return t0(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends EQ{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return t0(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends EQ{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return ZQ(JQ(CQ,e),r);case"MM":return ZQ(t0(2,e),r);case"Mo":return ZQ(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends EQ{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return ZQ(JQ(CQ,e),r);case"LL":return ZQ(t0(2,e),r);case"Lo":return ZQ(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends EQ{priority=100;parse(e,t,n){switch(t){case"w":return JQ(kQ,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return t0(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return(0,nc.k)(c0(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends EQ{priority=100;parse(e,t,n){switch(t){case"I":return JQ(kQ,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return t0(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return(0,o0.b)(u0(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends EQ{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return JQ(DQ,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return t0(t.length,e)}}validate(e,t){const n=i0(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=p0[r]:t>=1&&t<=m0[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends EQ{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return JQ(TQ,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return t0(t.length,e)}}validate(e,t){return i0(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends EQ{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=h0(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends EQ{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ZQ(t0(t.length,e),a);case"eo":return ZQ(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=h0(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends EQ{priority=90;parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ZQ(t0(t.length,e),a);case"co":return ZQ(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=h0(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends EQ{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return t0(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ZQ(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ZQ(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ZQ(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ZQ(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=v0(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends EQ{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(r0(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends EQ{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(r0(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends EQ{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(r0(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends EQ{priority=70;parse(e,t,n){switch(t){case"h":return JQ(RQ,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return t0(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends EQ{priority=70;parse(e,t,n){switch(t){case"H":return JQ(AQ,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return t0(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends EQ{priority=70;parse(e,t,n){switch(t){case"K":return JQ(OQ,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return t0(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends EQ{priority=70;parse(e,t,n){switch(t){case"k":return JQ(PQ,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return t0(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends EQ{priority=60;parse(e,t,n){switch(t){case"m":return JQ(MQ,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return t0(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends EQ{priority=50;parse(e,t,n){switch(t){case"s":return JQ(IQ,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return t0(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends EQ{priority=30;parse(e,t){return ZQ(t0(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends EQ{priority=10;parse(e,t){switch(t){case"X":return QQ(qQ,e);case"XX":return QQ(GQ,e);case"XXXX":return QQ(KQ,e);case"XXXXX":return QQ(XQ,e);default:return QQ(YQ,e)}}set(e,t,n){return t.timestampIsSet?e:(0,ic.w)(e,e.getTime()-(0,g0.G)(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends EQ{priority=10;parse(e,t){switch(t){case"x":return QQ(qQ,e);case"xx":return QQ(GQ,e);case"xxxx":return QQ(KQ,e);case"xxxxx":return QQ(XQ,e);default:return QQ(YQ,e)}}set(e,t,n){return t.timestampIsSet?e:(0,ic.w)(e,e.getTime()-(0,g0.G)(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends EQ{priority=40;parse(e){return e0(e)}set(e,t,n){return[(0,ic.w)(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends EQ{priority=20;parse(e){return e0(e)}set(e,t,n){return[(0,ic.w)(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},y0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w0=/^'([^]*?)'?$/,j0=/''/g,N0=/\S/,_0=/[a-zA-Z]/;function S0(e,t,n,r){const a=()=>(0,ic.w)(r?.in||n,NaN),i=wQ(),s=r?.locale??i.locale??gQ.c,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!t)return e?a():(0,ec.a)(n,r?.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:s},d=[new SQ(r?.in,n)],u=t.match(b0).map((e=>{const t=e[0];if(t in xQ.m){return(0,xQ.m[t])(e,s.formatLong)}return e})).join("").match(y0),m=[];for(let v of u){!r?.useAdditionalWeekYearTokens&&(0,yQ.xM)(v)&&(0,yQ.Ss)(v,t,e),!r?.useAdditionalDayOfYearTokens&&(0,yQ.ef)(v)&&(0,yQ.Ss)(v,t,e);const n=v[0],i=x0[n];if(i){const{incompatibleTokens:t}=i;if(Array.isArray(t)){const e=m.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${v}\` at the same time`)}else if("*"===i.incompatibleTokens&&m.length>0)throw new RangeError(`The format string mustn't contain \`${v}\` and any other token at the same time`);m.push({token:n,fullToken:v});const r=i.run(e,v,s.match,c);if(!r)return a();d.push(r.setter),e=r.rest}else{if(n.match(_0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===v?v="'":"'"===n&&(v=v.match(w0)[1].replace(j0,"'")),0!==e.indexOf(v))return a();e=e.slice(v.length)}}if(e.length>0&&N0.test(e))return a();const p=d.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>d.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let h=(0,ec.a)(n,r?.in);if(isNaN(+h))return a();const f={};for(const v of p){if(!v.validate(h,c))return a();const e=v.set(h,f,c);Array.isArray(e)?(h=e[0],Object.assign(f,e[1])):h=e}return h}const E0=e=>{var n,r;let{open:a,onOpenChange:i,motherData:s,admissionId:o}=e;const{toast:l}=(0,H.dj)(),c=(0,w.wA)(),d=new Date,u=(0,fo.GP)(d,"hh:mm a"),{createBabyStatus:m}=(0,w.d4)((e=>e.babies)),[p,h]=(0,t.useState)({gender:"",dateOfBirth:(0,fo.GP)(new Date,"yyyy-MM-dd"),timeOfBirth:u,weight:"",admissionDate:null!==s&&void 0!==s&&s.bookingDate?(0,fo.GP)(new Date(s.bookingDate),"yyyy-MM-dd"):(0,fo.GP)(new Date,"yyyy-MM-dd"),timeOfAdmission:(0,M.IF)(null===s||void 0===s?void 0:s.bookingTime),apgarScore:{oneMinute:"",fiveMinutes:"",tenMinutes:""},babyHandOverName:"",babyHandOverRelation:""}),f=e=>{const{name:t,value:n}=e.target;if(t.startsWith("apgarScore.")){const e=t.split(".")[1];h((t=>({...t,apgarScore:{...t.apgarScore,[e]:n}})))}else h((e=>({...e,[t]:n})))};return(0,X.jsx)(so.lG,{open:a,onOpenChange:i,children:(0,X.jsxs)(so.Cf,{className:"max-w-3xl max-h-[90vh]  overflow-visible",children:[(0,X.jsx)(so.c7,{className:"",children:(0,X.jsxs)(so.L3,{className:"flex items-center gap-2",children:[(0,X.jsx)(YJ,{className:"h-6 w-6 text-pink-500"}),"Register New Baby"]})}),(0,X.jsxs)(b.F,{className:" px-1 max-h-[80vh]",children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-2 p-4 bg-gradient-to-r from-pink-50 to-blue-50 rounded-xl border-2 border-pink-100",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(ex,{className:"h-5 w-5 text-pink-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Mother's Name"}),(0,X.jsx)("p",{className:"font-semibold",children:null===s||void 0===s?void 0:s.name})]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(uQ,{className:"h-5 w-5 text-blue-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"UHID"}),(0,X.jsx)("p",{className:"font-semibold",children:null===s||void 0===s?void 0:s.registrationNumber})]})]}),(0,X.jsx)("div",{className:"col-span-2",children:(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{className:"",children:[(0,X.jsx)(wi.J,{children:"Admission Date"}),(0,X.jsx)(xn.p,{type:"date",name:"admissionDate",value:p.admissionDate,onChange:f,className:"border-2 border-pink-200 hover:border-pink-300 transition-colors"})]}),(0,X.jsxs)("div",{className:"",children:[(0,X.jsx)(wi.J,{children:"Admission Time"}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)("div",{className:"relative flex-1",children:(0,X.jsx)(xn.p,{type:"time",name:"timeOfAdmission",value:p.timeOfAdmission.split(" ")[0],onChange:e=>{const t=e.target.value;if(t){const e=S0(t,"HH:mm",new Date),n=(0,fo.GP)(e,"hh:mm a");h((e=>({...e,timeOfAdmission:n})))}},className:"border-2 border-pink-200 hover:border-pink-300 transition-colors "})}),(0,X.jsxs)(A.l6,{value:(null===(n=p.timeOfAdmission.split(" ")[1])||void 0===n?void 0:n.toLowerCase())||"am",onValueChange:e=>{const t=p.timeOfAdmission.split(" ")[0];h((n=>({...n,timeOfAdmission:`${t} ${e.toUpperCase()}`})))},children:[(0,X.jsx)(A.bq,{className:"w-[80px] border-2 border-pink-200 hover:border-pink-300 transition-colors",children:(0,X.jsx)(A.yv,{placeholder:"AM"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"am",children:"AM"}),(0,X.jsx)(A.eb,{value:"pm",children:"PM"})]})]})]})]})]})})]}),(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-2 p-1",children:[(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Gender"}),(0,X.jsxs)(A.l6,{onValueChange:e=>h((t=>({...t,gender:e}))),value:p.gender,children:[(0,X.jsx)(A.bq,{children:(0,X.jsx)(A.yv,{placeholder:"Select gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Weight (grams)"}),(0,X.jsx)(xn.p,{type:"number",name:"weight",value:p.weight,onChange:f,placeholder:"Enter weight"})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Date of Birth"}),(0,X.jsx)(xn.p,{type:"date",name:"dateOfBirth",value:p.dateOfBirth,onChange:f})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Time of Birth"}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsxs)("div",{className:"relative flex-1",children:[(0,X.jsx)(xn.p,{type:"time",name:"timeOfBirth",value:p.timeOfBirth.split(" ")[0],onChange:e=>{const t=e.target.value;if(t){const e=S0(t,"HH:mm",new Date),n=(0,fo.GP)(e,"hh:mm a");h((e=>({...e,timeOfBirth:n})))}},className:"pl-10"}),(0,X.jsx)(Is,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),(0,X.jsxs)(A.l6,{value:(null===(r=p.timeOfBirth.split(" ")[1])||void 0===r?void 0:r.toLowerCase())||"am",onValueChange:e=>{const t=p.timeOfBirth.split(" ")[0];h((n=>({...n,timeOfBirth:`${t} ${e.toUpperCase()}`})))},children:[(0,X.jsx)(A.bq,{className:"w-[80px]",children:(0,X.jsx)(A.yv,{placeholder:"AM"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"am",children:"AM"}),(0,X.jsx)(A.eb,{value:"pm",children:"PM"})]})]})]})]})]}),(0,X.jsxs)("div",{className:"space-y-2 p-2",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(vQ,{className:"h-5 w-5 text-yellow-500"}),(0,X.jsx)("h3",{className:"font-semibold",children:"APGAR Score"})]}),(0,X.jsx)("div",{className:"grid grid-cols-3 gap-4",children:["oneMinute","fiveMinutes","tenMinutes"].map((e=>(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"oneMinute"===e?"1 Minute":"fiveMinutes"===e?"5 Minutes":"10 Minutes"}),(0,X.jsx)(xn.p,{type:"number",min:"0",max:"10",name:`apgarScore.${e}`,value:p.apgarScore[e],onChange:f})]},e)))})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-2",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{children:"Handover Person Name"}),(0,X.jsx)(xn.p,{name:"babyHandOverName",value:p.babyHandOverName,onChange:f,placeholder:"Enter name"})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{children:"Relation with Baby"}),(0,X.jsx)(xn.p,{name:"babyHandOverRelation",value:p.babyHandOverRelation,onChange:f,placeholder:"Enter relation"})]})]})]}),(0,X.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,X.jsx)(j.$,{onClick:async e=>{if(e.preventDefault(),p.gender&&p.weight)try{await c((0,$t.xA)({...p,mother:s._id,isNew:!0,ipdAdmission:o,weight:parseFloat(p.weight),apgarScore:{oneMinute:parseInt(p.apgarScore.oneMinute),fiveMinutes:parseInt(p.apgarScore.fiveMinutes),tenMinutes:parseInt(p.apgarScore.tenMinutes)}})).unwrap();l({variant:"success",title:"Success",description:"Baby record has been registered successfully"}),i(!1)}catch(t){l({title:"Error",description:t.message||"Something went wrong",variant:"destructive"})}else l({title:"Error",description:"Please fill all required fields",variant:"destructive"})},className:"bg-pink-600 hover:bg-pink-700",disabled:"loading"===m,children:"loading"===m?"Registering...":"Register Baby"})]})]})]})})},C0=e=>{var n,r;let{open:a,onOpenChange:i,babyData:s,motherData:o}=e;const{toast:l}=(0,H.dj)(),c=(0,w.wA)(),{editBabyStatus:d}=(0,w.d4)((e=>e.babies)),[u,m]=(0,t.useState)({gender:"",dateOfBirth:"",timeOfBirth:"",weight:"",admissionDate:"",timeOfAdmission:"",apgarScore:{oneMinute:"",fiveMinutes:"",tenMinutes:""},babyHandOverName:"",babyHandOverRelation:"",babyFatherName:""});(0,t.useEffect)((()=>{var e,t,n;s&&m({gender:s.gender||"",dateOfBirth:(0,fo.GP)(new Date(s.dateOfBirth),"yyyy-MM-dd"),timeOfBirth:s.timeOfBirth||"",weight:s.weight||"",admissionDate:(0,fo.GP)(new Date(s.admissionDate),"yyyy-MM-dd"),timeOfAdmission:s.timeOfAdmission||"",apgarScore:{oneMinute:(null===(e=s.apgarScore)||void 0===e?void 0:e.oneMinute)||"",fiveMinutes:(null===(t=s.apgarScore)||void 0===t?void 0:t.fiveMinutes)||"",tenMinutes:(null===(n=s.apgarScore)||void 0===n?void 0:n.tenMinutes)||""},babyHandOverName:s.babyHandOverName||"",babyHandOverRelation:s.babyHandOverRelation||"",babyFatherName:s.babyFatherName||""})}),[s]);const p=e=>{const{name:t,value:n}=e.target;if(t.startsWith("apgarScore.")){const e=t.split(".")[1];m((t=>({...t,apgarScore:{...t.apgarScore,[e]:n}})))}else m((e=>({...e,[t]:n})))};return(0,X.jsx)(so.lG,{open:a,onOpenChange:i,children:(0,X.jsxs)(so.Cf,{className:"max-w-3xl max-h-[90vh] overflow-visible",children:[(0,X.jsx)(so.c7,{className:"",children:(0,X.jsxs)(so.L3,{className:"flex items-center gap-2",children:[(0,X.jsx)(YJ,{className:"h-6 w-6 text-pink-500"}),"Edit Baby Details"]})}),(0,X.jsxs)(b.F,{className:"px-1 max-h-[80vh]",children:[(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:" gap-2 p-4 bg-gradient-to-r from-pink-50 to-blue-50 rounded-xl border-2 border-pink-100",children:[(0,X.jsxs)("div",{className:"flex justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(ex,{className:"h-5 w-5 text-pink-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Mother's Name"}),(0,X.jsx)("p",{className:"font-semibold uppercase",children:null===o||void 0===o?void 0:o.name})]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(uQ,{className:"h-5 w-5 text-blue-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"Birth Number"}),(0,X.jsx)("p",{className:"font-semibold",children:null===s||void 0===s?void 0:s.birthCounter})]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(uQ,{className:"h-5 w-5 text-blue-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm text-gray-600",children:"UHID"}),(0,X.jsx)("p",{className:"font-semibold",children:null===o||void 0===o?void 0:o.registrationNumber})]})]})]}),(0,X.jsx)("div",{className:"col-span-2",children:(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{className:"",children:[(0,X.jsx)(wi.J,{children:"Admission Date"}),(0,X.jsx)(xn.p,{type:"date",name:"admissionDate",value:u.admissionDate,onChange:p,className:"border-2 border-pink-200 hover:border-pink-300 transition-colors"})]}),(0,X.jsxs)("div",{className:"",children:[(0,X.jsx)(wi.J,{children:"Admission Time"}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsxs)("div",{className:"relative flex-1",children:[(0,X.jsx)(xn.p,{type:"time",name:"timeOfAdmission",value:u.timeOfAdmission.split(" ")[0],onChange:e=>{const t=e.target.value;if(t){const e=S0(t,"HH:mm",new Date),n=(0,fo.GP)(e,"hh:mm a");m((e=>({...e,timeOfAdmission:n})))}},className:"border-2 border-pink-200 hover:border-pink-300 transition-colors pl-10"}),(0,X.jsx)(Is,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),(0,X.jsxs)(A.l6,{value:(null===(n=u.timeOfAdmission.split(" ")[1])||void 0===n?void 0:n.toLowerCase())||"am",onValueChange:e=>{const t=u.timeOfAdmission.split(" ")[0];m((n=>({...n,timeOfAdmission:`${t} ${e.toUpperCase()}`})))},children:[(0,X.jsx)(A.bq,{className:"w-[80px] border-2 border-pink-200 hover:border-pink-300 transition-colors",children:(0,X.jsx)(A.yv,{placeholder:"AM"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"am",children:"AM"}),(0,X.jsx)(A.eb,{value:"pm",children:"PM"})]})]})]})]})]})})]}),(0,X.jsxs)("div",{className:"grid grid-cols-4 gap-2 p-1",children:[(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Gender"}),(0,X.jsxs)(A.l6,{onValueChange:e=>m((t=>({...t,gender:e}))),value:u.gender,children:[(0,X.jsx)(A.bq,{children:(0,X.jsx)(A.yv,{placeholder:"Select gender"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"Male",children:"Male"}),(0,X.jsx)(A.eb,{value:"Female",children:"Female"}),(0,X.jsx)(A.eb,{value:"Other",children:"Other"})]})]})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Weight (grams)"}),(0,X.jsx)(xn.p,{type:"number",name:"weight",value:u.weight,onChange:p,placeholder:"Enter weight"})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Date of Birth"}),(0,X.jsx)(xn.p,{type:"date",name:"dateOfBirth",value:u.dateOfBirth,onChange:p})]}),(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"Time of Birth"}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsxs)("div",{className:"relative flex-1",children:[(0,X.jsx)(xn.p,{type:"time",name:"timeOfBirth",value:u.timeOfBirth.split(" ")[0],onChange:e=>{const t=e.target.value;if(t){const e=S0(t,"HH:mm",new Date),n=(0,fo.GP)(e,"hh:mm a");m((e=>({...e,timeOfBirth:n})))}},className:"border-2 border-pink-200 hover:border-pink-300 transition-colors pl-10"}),(0,X.jsx)(Is,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),(0,X.jsxs)(A.l6,{value:(null===(r=u.timeOfBirth.split(" ")[1])||void 0===r?void 0:r.toLowerCase())||"am",onValueChange:e=>{const t=u.timeOfBirth.split(" ")[0];m((n=>({...n,timeOfBirth:`${t} ${e.toUpperCase()}`})))},children:[(0,X.jsx)(A.bq,{className:"w-[80px] border-2 border-pink-200 hover:border-pink-300 transition-colors",children:(0,X.jsx)(A.yv,{placeholder:"AM"})}),(0,X.jsxs)(A.gC,{children:[(0,X.jsx)(A.eb,{value:"am",children:"AM"}),(0,X.jsx)(A.eb,{value:"pm",children:"PM"})]})]})]})]})]}),(0,X.jsxs)("div",{className:"space-y-2 p-2",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(vQ,{className:"h-5 w-5 text-yellow-500"}),(0,X.jsx)("h3",{className:"font-semibold",children:"APGAR Score"})]}),(0,X.jsx)("div",{className:"grid grid-cols-3 gap-4",children:["oneMinute","fiveMinutes","tenMinutes"].map((e=>(0,X.jsxs)("div",{className:"space-y-1",children:[(0,X.jsx)(wi.J,{children:"oneMinute"===e?"1 Minute":"fiveMinutes"===e?"5 Minutes":"10 Minutes"}),(0,X.jsx)(xn.p,{type:"number",min:"0",max:"10",name:`apgarScore.${e}`,value:u.apgarScore[e],onChange:p,className:"border-2 border-pink-200 hover:border-pink-300 transition-colors"})]},e)))})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-2",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{children:"Handover Person Name"}),(0,X.jsx)(xn.p,{name:"babyHandOverName",value:u.babyHandOverName,onChange:p,placeholder:"Enter name",className:"border-2 border-pink-200 hover:border-pink-300 transition-colors"})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{children:"Relation with Baby"}),(0,X.jsx)(xn.p,{name:"babyHandOverRelation",value:u.babyHandOverRelation,onChange:p,placeholder:"Enter relation",className:"border-2 border-pink-200 hover:border-pink-300 transition-colors"})]})]})]}),(0,X.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,X.jsx)(j.$,{onClick:async e=>{if(e.preventDefault(),u.gender&&u.weight)try{await c((0,$t.nB)({...s,...u,weight:parseFloat(u.weight),apgarScore:{oneMinute:parseInt(u.apgarScore.oneMinute),fiveMinutes:parseInt(u.apgarScore.fiveMinutes),tenMinutes:parseInt(u.apgarScore.tenMinutes)}})).unwrap(),l({variant:"success",title:"Success",description:"Baby record has been updated successfully"}),i(!1)}catch(t){l({title:"Error",description:t.message||"Something went wrong",variant:"destructive"})}else l({title:"Error",description:"Please fill all required fields",variant:"destructive"})},className:"bg-pink-600 hover:bg-pink-700",disabled:"loading"===d,children:"loading"===d?"Saving...":"Save Changes"})]})]})]})})};function D0(){const e=(0,a.Zp)(),n=(0,w.wA)(),{ipdAdmissionId:r}=(0,a.g)(),{currentPatientBabies:i,fetchCurrentPatientBabiesStatus:s}=(0,w.d4)((e=>e.babies)),o=(0,w.d4)((e=>e.hospital.hospitalInfo)),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),h=(0,a.zy)(),{motherData:f}=h.state||{},[v,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(null),[N,_]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{var e;const t=await n((0,$t.PK)(r)).unwrap();_(null===(e=t[0])||void 0===e?void 0:e.ipdAdmission)})()}),[n,r]);return(0,X.jsxs)("div",{className:"h-[calc(100vh-4rem)] p-4 bg-gradient-to-b from-pink-50 to-blue-50",children:[(0,X.jsxs)("div",{className:"h-full flex flex-col gap-4",children:[(0,X.jsxs)("div",{className:"flex",children:[(0,X.jsx)(j.$,{variant:"ghost",onClick:()=>e(-1),className:"flex items-center gap-2 hover:bg-pink-100 w-fit",children:(0,X.jsx)(gc.A,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{className:"flex items-center gap-3",children:[(0,X.jsx)(YJ,{className:"h-8 w-8 text-pink-500"}),(0,X.jsx)(k.ZB,{className:"text-2xl font-bold text-gray-700",children:"Baby Records"})]})]}),(0,X.jsxs)(k.Zp,{className:"flex-1 border-2 border-pink-200 shadow-lg flex flex-col overflow-hidden",children:[(0,X.jsx)(k.aR,{className:"bg-gradient-to-r from-pink-200 to-blue-200 border-b-2 border-pink-200",children:(0,X.jsxs)("div",{className:"flex justify-between gap-4 items-center ",children:[(0,X.jsxs)("div",{className:"flex items-center gap-3",children:[(0,X.jsx)(ex,{className:"h-5 w-5 text-pink-500 shrink-0"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm font-medium text-gray-600 ",children:"Mother's Name"}),(0,X.jsx)("p",{className:"text-lg font-semibold text-gray-800 uppercase",children:null===f||void 0===f?void 0:f.name})]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-3",children:[(0,X.jsx)(uQ,{className:"h-5 w-5 text-blue-500 shrink-0"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"UHID"}),(0,X.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:null===f||void 0===f?void 0:f.registrationNumber})]})]}),(0,X.jsx)("div",{children:(0,X.jsxs)(j.$,{variant:"default",size:"sm",onClick:()=>p(!0),className:"bg-pink-600 hover:bg-pink-700 text-white inline-flex items-center gap-1",children:[(0,X.jsx)(YJ,{className:"h-4 w-4"}),"Register Birth"]})})]})}),(0,X.jsx)(b.F,{className:"flex-1",children:(0,X.jsx)(k.Wu,{className:"p-6",children:"loading"===s?(0,X.jsx)("div",{className:"flex items-center justify-center h-40",children:(0,X.jsx)("div",{className:"w-8 h-8 border-4 border-pink-400 border-t-transparent rounded-full animate-spin"})}):0===i.length?(0,X.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No baby records found"}):(0,X.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map((t=>(0,X.jsx)(k.Zp,{className:"border-2 border-pink-100 hover:border-pink-200 transition-colors",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"space-y-4",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(YJ,{className:"h-5 w-5 text-pink-500"}),(0,X.jsx)("h3",{className:"font-semibold text-lg",children:t.gender})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsxs)(j.$,{className:"border-pink-200 hover:border-pink-300 hover:bg-pink-50",variant:"outline",size:"sm",onClick:()=>(e=>{y(e),g(!0)})(t),children:[(0,X.jsx)(mQ,{className:"h-4 w-4 text-pink-300 mr-1"}),"Edit"]}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>(e=>{c(e),u(!0)})(t),className:"border-pink-200 hover:border-pink-300 hover:bg-pink-50",children:[(0,X.jsx)(Nn,{className:"h-4 w-4 mr-2 text-pink-500"}),"Print Certificate"]}),(0,X.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>{return n=t._id,void e(`/babies/${n}`);var n},className:"border-pink-200 hover:border-pink-300 hover:bg-pink-50",children:"View Details"})]})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(pQ,{className:"h-4 w-4 text-purple-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Certificate Number"}),(0,X.jsx)("p",{className:"font-medium",children:t.birthCounter})]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(po,{className:"h-4 w-4 text-blue-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Birth Date"}),(0,X.jsx)("p",{className:"font-medium",children:(0,fo.GP)(new Date(t.dateOfBirth),"dd/MM/yyyy")})]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(Is,{className:"h-4 w-4 text-green-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Birth Time"}),(0,X.jsx)("p",{className:"font-medium",children:t.timeOfBirth})]})]}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(nx,{className:"h-4 w-4 text-yellow-500"}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Weight"}),(0,X.jsxs)("p",{className:"font-medium",children:[t.weight,"g"]})]})]})]})]})})},t._id)))})})})]})]}),l&&(0,X.jsx)(fQ,{open:d,onOpenChange:u,hospitalInfo:o,motherData:l.mother,babyData:l,certificateNumber:l.birthCounter}),m&&(0,X.jsx)(E0,{open:m,onOpenChange:p,motherData:{...f,bookingDate:null!==N&&void 0!==N&&N.bookingDate?null===N||void 0===N?void 0:N.bookingDate:null===f||void 0===f?void 0:f.bookingDate,bookingTime:null!==N&&void 0!==N&&N.bookingTime?null===N||void 0===N?void 0:N.bookingTime:null===f||void 0===f?void 0:f.bookingTime},admissionId:r}),x&&(0,X.jsx)(C0,{open:v,onOpenChange:g,babyData:x,motherData:f})]})}function T0(){const e=(0,a.Zp)(),{babyId:t}=(0,a.g)(),n=(0,w.d4)((e=>e.babies.currentPatientBabies.find((e=>e._id===t))));return n?(0,X.jsx)("div",{className:"h-[calc(100vh-4rem)] p-4 bg-gradient-to-b from-pink-50 to-blue-50",children:(0,X.jsxs)("div",{className:"h-full flex flex-col gap-4",children:[(0,X.jsxs)(j.$,{variant:"ghost",onClick:()=>e(-1),className:"flex items-center gap-2 hover:bg-pink-100 w-fit",children:[(0,X.jsx)(gc.A,{className:"h-4 w-4"}),"Back"]}),(0,X.jsxs)(k.Zp,{className:"flex-1 border-2 border-pink-200 shadow-lg flex flex-col overflow-hidden",children:[(0,X.jsx)(k.aR,{className:"bg-gradient-to-r from-pink-200 to-blue-200 border-b-2 border-pink-200",children:(0,X.jsxs)("div",{className:"flex items-center gap-3",children:[(0,X.jsx)(YJ,{className:"h-8 w-8 text-pink-500"}),(0,X.jsx)(k.ZB,{className:"text-2xl font-bold text-gray-700",children:"Baby Details"})]})}),(0,X.jsx)(b.F,{className:"flex-1",children:(0,X.jsxs)(k.Wu,{className:"p-6 space-y-6",children:[(0,X.jsx)(k.Zp,{className:"border-2 border-pink-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(ex,{className:"h-5 w-5 text-pink-500"}),(0,X.jsx)("h3",{className:"font-semibold text-lg",children:"Mother's Information"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Name"}),(0,X.jsx)("p",{className:"font-medium uppercase",children:n.mother.name})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"UHID"}),(0,X.jsx)("p",{className:"font-medium",children:n.mother.registrationNumber})]})]})]})}),(0,X.jsx)(k.Zp,{className:"border-2 border-blue-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(Yl,{className:"h-5 w-5 text-blue-500"}),(0,X.jsx)("h3",{className:"font-semibold text-lg",children:"Baby Information"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Gender"}),(0,X.jsx)("p",{className:"font-medium",children:n.gender})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Weight"}),(0,X.jsxs)("p",{className:"font-medium",children:[n.weight,"g"]})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Birth Date"}),(0,X.jsx)("p",{className:"font-medium",children:(0,fo.GP)(new Date(n.dateOfBirth),"dd/MM/yyyy")})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Birth Time"}),(0,X.jsx)("p",{className:"font-medium",children:n.timeOfBirth})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Admission Date"}),(0,X.jsx)("p",{className:"font-medium",children:(0,fo.GP)(new Date(n.admissionDate),"dd/MM/yyyy")})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Admission Time"}),(0,X.jsx)("p",{className:"font-medium",children:n.timeOfAdmission})]})]})]})}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsx)(k.Zp,{className:"border-2 border-yellow-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(uQ,{className:"h-5 w-5 text-yellow-500"}),(0,X.jsx)("h3",{className:"font-semibold text-lg",children:"APGAR Scores"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"1 Minute"}),(0,X.jsx)("p",{className:"font-medium",children:n.apgarScore.oneMinute})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"5 Minutes"}),(0,X.jsx)("p",{className:"font-medium",children:n.apgarScore.fiveMinutes})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"10 Minutes"}),(0,X.jsx)("p",{className:"font-medium",children:n.apgarScore.tenMinutes})]})]})]})}),(0,X.jsx)(k.Zp,{className:"border-2 border-green-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(Yl,{className:"h-5 w-5 text-green-500"}),(0,X.jsx)("h3",{className:"font-semibold text-lg",children:"Handover Information"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Handed Over To"}),(0,X.jsx)("p",{className:"font-medium",children:n.babyHandOverName||"-"})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("p",{className:"text-gray-500",children:"Relation"}),(0,X.jsx)("p",{className:"font-medium",children:n.babyHandOverRelation||"-"})]})]})]})})]})]})})]})]})}):(0,X.jsx)("div",{className:"h-[calc(100vh-2rem)] p-4 flex items-center justify-center",children:(0,X.jsx)(k.Zp,{className:"w-full max-w-md",children:(0,X.jsxs)(k.Wu,{className:"p-6 text-center",children:[(0,X.jsx)("div",{className:"text-gray-500",children:"Baby record not found"}),(0,X.jsx)(j.$,{variant:"ghost",onClick:()=>e(-1),className:"mt-4",children:"Go Back"})]})})})}const k0=e=>{let{trigger:n}=e;const[r,a]=t.useState(""),i=(0,w.wA)(),{toast:s}=(0,H.dj)();return(0,X.jsxs)(so.lG,{children:[(0,X.jsx)(so.zM,{asChild:!0,children:n}),(0,X.jsxs)(so.Cf,{className:"sm:max-w-[425px]",children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{children:"Add New Department"})}),(0,X.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await i(Ue({name:r,staffIds:[]})).unwrap(),s({title:"Success",variant:"success",description:"Department created successfully"}),a("")}catch(t){s({variant:"destructive",title:"Error",description:t.message||"Something went wrong"})}},className:"space-y-4",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"name",children:"Department Name"}),(0,X.jsx)(xn.p,{id:"name",value:r,onChange:e=>a(e.target.value),placeholder:"Enter department name",required:!0})]}),(0,X.jsx)(j.$,{type:"submit",children:"Create Department"})]})]})]})},A0=()=>{const e=(0,w.wA)(),n=(0,a.Zp)(),{toast:r}=(0,H.dj)(),[i,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(""),{departments:u,status:m,error:p}=(0,w.d4)((e=>e.departments));(0,t.useEffect)((()=>{"idle"!==m&&e(We())}),[e]),(0,t.useEffect)((()=>{p&&r({variant:"destructive",title:"Fetch Error",description:"string"===typeof p?p:"Failed to load departments"})}),[p,r]);return(0,X.jsxs)("div",{className:"w-full",children:[(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{className:"flex flex-row items-center justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center gap-4",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{n(-1)},className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)(k.ZB,{className:"text-xl",children:"Departments"})]}),(0,X.jsx)(k0,{trigger:(0,X.jsxs)(j.$,{children:[(0,X.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Add Department"]})})]}),(0,X.jsx)(k.Wu,{children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{children:"Department Name"}),(0,X.jsx)(uo.nd,{children:"Staff Count"}),(0,X.jsx)(uo.nd,{children:"Staff Members"}),(0,X.jsx)(uo.nd,{children:"Actions"})]})}),(0,X.jsxs)(uo.BF,{children:[u.length&&u.map((t=>{var n,a;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"font-medium",children:t.name}),(0,X.jsx)(uo.nA,{children:(null===(n=t.staff)||void 0===n?void 0:n.length)||0}),(0,X.jsx)(uo.nA,{children:(null===(a=t.staff)||void 0===a?void 0:a.map((e=>e.name)).join(", "))||"No staff"}),(0,X.jsxs)(uo.nA,{children:[(0,X.jsx)(j.$,{variant:"outline",size:"sm",className:"mr-2",onClick:()=>(e=>{l(e),d(e.name),s(!0)})(t),children:"Edit"}),(0,X.jsx)(j.$,{variant:"destructive",size:"sm",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this department?"))try{await e(Ve(t)).unwrap()&&(r({title:"Department Deleted",description:"Department has been removed successfully"}),e(We()))}catch(p){r({variant:"destructive",title:"Delete Failed",description:(null===p||void 0===p?void 0:p.message)||"Could not delete department"})}})(t._id),children:"Delete"})]})]},t._id)})),0===u.length&&(0,X.jsx)(uo.Hj,{children:(0,X.jsx)(uo.nA,{colSpan:4,className:"text-center",children:"No departments found"})})]})]})})]}),(0,X.jsx)(so.lG,{open:i,onOpenChange:s,children:(0,X.jsxs)(so.Cf,{children:[(0,X.jsx)(so.c7,{children:(0,X.jsx)(so.L3,{children:"Edit Department"})}),(0,X.jsx)("div",{className:"py-4",children:(0,X.jsx)(xn.p,{value:c,onChange:e=>d(e.target.value),placeholder:"Department Name"})}),(0,X.jsxs)(so.Es,{children:[(0,X.jsx)(j.$,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,X.jsx)(j.$,{onClick:async()=>{if(""!==c.trim())try{const t=await e(He({id:o._id,name:c})).unwrap();s(!1),e(We()),t&&r({title:"Department Updated",description:`Successfully renamed to "${t.name}"`})}catch(p){r({variant:"destructive",title:"Update Failed",description:(null===p||void 0===p?void 0:p.message)||"Could not update department name"})}else r({variant:"destructive",title:"Validation Error",description:"Department name cannot be empty"})},children:"Save Changes"})]})]})})]})},P0=()=>{const e=(0,w.wA)(),n=(0,a.Zp)(),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)("All"),[l,c]=(0,t.useState)("All Time"),d=wc("(max-width: 640px)"),[u,m]=(0,t.useState)(null),{babies:p,status:h,error:f}=(0,w.d4)((e=>e.babies));(0,t.useEffect)((()=>{"idle"===h&&e((0,$t._Z)())}),[e,p]);const v=p.filter((e=>{var t,n;const a=null===(t=e.mother)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(r.toLowerCase()),i="All"===s||e.gender===s,o=new Date(e.dateOfBirth),c=new Date,d=o.toDateString()===c.toDateString(),u=(c-o)/864e5<=7,m=o.getMonth()===c.getMonth()&&o.getFullYear()===c.getFullYear();return a&&i&&("All Time"===l||"Today"===l&&d||"This Week"===l&&u||"This Month"===l&&m)}));if("failed"===h)return(0,X.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,X.jsx)("p",{className:"text-red-500",children:"There are some problem try later"})});const g=e=>{n(`/patients/${e.ipdAdmission}/babies`,{state:{motherData:e.mother}})},x=e=>{let{baby:t}=e;return(0,X.jsx)(k.Zp,{className:"mb-4 hover:bg-gradient-to-r from-pink-50/80 to-white transition-colors duration-200 cursor-pointer border border-pink-100/50",children:(0,X.jsx)(k.Wu,{className:"p-4",children:(0,X.jsxs)("div",{className:"flex justify-between items-stretch",children:[(0,X.jsxs)("div",{className:"flex-grow",children:[(0,X.jsxs)("div",{className:"flex items-center mb-1",children:[(0,X.jsxs)("h3",{className:"text-lg font-semibold uppercase",children:["Baby of ",t.mother.name]}),(0,X.jsx)(go.E,{variant:"outline",className:"ml-2",children:t.gender})]}),(0,X.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Birth ID: ",t.birthCounter]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Weight:"}),(0,X.jsxs)("p",{className:"font-sm",children:[t.weight,"g"]})]}),(0,X.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground uppercase",children:"Father:"}),(0,X.jsx)("p",{className:"font-sm",children:t.babyFatherName})]}),(0,X.jsxs)("div",{className:"flex gap-2 items-center col-span-2",children:[(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Birth:"}),(0,X.jsxs)("p",{className:"font-sm",children:[(0,fo.GP)(new Date(t.dateOfBirth),"MMM dd, yyyy")," at ",t.timeOfBirth]})]})]})]}),(0,X.jsx)("div",{className:"flex flex-col justify-between items-end ml-4",children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,X.jsx)(mo,{className:"h-4 w-4"})})}),(0,X.jsx)(pi,{align:"end",children:(0,X.jsx)(hi,{onSelect:()=>g(t),children:"View Details"})})]})})]})})})};return(0,X.jsx)("div",{className:"h-[calc(100vh-4rem)] bg-gradient-to-b from-pink-50 to-blue-50",children:(0,X.jsxs)(b.F,{className:"h-full w-full",children:[(0,X.jsxs)(k.Zp,{className:"w-full mx-auto border-0 shadow-none bg-transparent",children:[(0,X.jsx)(k.aR,{className:"px-4 pb-2",children:(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsxs)("div",{className:"flex items-center gap-0",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{n(-1)},className:"hover:bg-pink-300",children:(0,X.jsx)(gc.A,{className:"h-5 w-5 text-gray-600"})}),(0,X.jsx)("div",{children:(0,X.jsx)(k.ZB,{className:"text-gray-800 text-2xl",children:"Birth Records"})})]})})}),(0,X.jsxs)(k.Wu,{className:"px-4",children:[(0,X.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:space-x-2 md:space-y-0",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),(0,X.jsx)(xn.p,{placeholder:"Search by mother's name...",value:r,onChange:e=>i(e.target.value),className:"pl-8 focus:border-pink-300 focus:ring-pink-200 bg-white"})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"border-gray-200 hover:bg-pink-50/50 bg-white",children:[(0,X.jsx)(xc,{className:"mr-2 h-4 w-4 text-gray-500"}),s]})}),(0,X.jsxs)(pi,{children:[(0,X.jsx)(hi,{onSelect:()=>o("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>o("Male"),children:"Male"}),(0,X.jsx)(hi,{onSelect:()=>o("Female"),children:"Female"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"border-gray-200 hover:bg-pink-50/50 bg-white",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4 text-gray-500"}),l]})}),(0,X.jsxs)(pi,{children:[(0,X.jsx)(hi,{onSelect:()=>c("All Time"),children:"All Time"}),(0,X.jsx)(hi,{onSelect:()=>c("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>c("This Week"),children:"This Week"}),(0,X.jsx)(hi,{onSelect:()=>c("This Month"),children:"This Month"})]})]})]})}),v.length>0?d?(0,X.jsx)("div",{children:v.map((e=>(0,X.jsx)(x,{baby:e},e._id)))}):(0,X.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow-sm border border-gray-100",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{className:"bg-gradient-to-r from-pink-50 to-white",children:[(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"Birth ID"}),(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"Mother's Name"}),(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"UHID"}),(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"Gender"}),(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"Date & Time"}),(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"Weight"}),(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"Father's Name"}),(0,X.jsx)(uo.nd,{className:"font-semibold text-gray-700",children:"Actions"})]})}),(0,X.jsx)(uo.BF,{children:v.map((e=>{var t,n;return(0,X.jsxs)(uo.Hj,{className:"hover:bg-pink-50/50 transition-colors",children:[(0,X.jsx)(uo.nA,{children:e.birthCounter}),(0,X.jsx)(uo.nA,{className:"uppercase font-semibold text-gray-800",children:null===(t=e.mother)||void 0===t?void 0:t.name}),(0,X.jsx)(uo.nA,{children:null===(n=e.mother)||void 0===n?void 0:n.registrationNumber}),(0,X.jsx)(uo.nA,{children:(0,X.jsx)(go.E,{variant:"outline",className:"bg-pink-50/80 text-gray-700 border-pink-200",children:e.gender})}),(0,X.jsxs)(uo.nA,{className:"text-gray-600",children:[(0,fo.GP)(new Date(e.dateOfBirth),"MMM dd, yyyy")," at ",e.timeOfBirth]}),(0,X.jsxs)(uo.nA,{children:[e.weight,"g"]}),(0,X.jsx)(uo.nA,{className:"uppercase",children:e.babyFatherName}),(0,X.jsx)(uo.nA,{children:(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsx)(j.$,{variant:"ghost",className:"h-8 w-8 p-0 hover:text-pink-500",children:(0,X.jsx)(Os,{className:"h-4 w-4"})})}),(0,X.jsx)(pi,{align:"end",children:(0,X.jsx)(hi,{onSelect:()=>g(e),children:"View Details"})})]})})]},e._id)}))})]})}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 bg-white rounded-lg shadow-sm",children:[(0,X.jsx)(bc,{className:"h-16 w-16 text-gray-300 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-700",children:"No birth records found"}),(0,X.jsx)("p",{className:"text-gray-500 mt-2",children:"There are no birth records matching your search criteria."})]})]})]}),(0,X.jsx)(b.$,{orientation:"vertical"})]})})},O0=()=>{var e,n;const r=(0,w.wA)(),{payments:i,status:s}=(0,w.d4)((e=>e.payments)),{dashboardData:o}=(0,w.d4)((e=>e.dashboard)),{userData:l}=(0,w.d4)((e=>e.user)),{staffMembers:c}=(0,w.d4)((e=>e.staff)),[d,u]=(0,t.useState)(""),[m,p]=(0,t.useState)("Today"),[h,f]=(0,t.useState)({from:null,to:null}),[v,g]=(0,t.useState)({from:null,to:null}),[x,y]=(0,t.useState)("All"),[b,N]=(0,t.useState)("All"),[S,E]=(0,t.useState)({name:"All Staff",id:""}),{toast:C}=(0,H.dj)(),D=wc("(max-width: 640px)"),[A,P]=(0,t.useState)(!1),O=(0,t.useRef)(),R=(0,a.Zp)(),I=(0,a.zy)(),F=async()=>{try{r((0,st.r)(!0));const e=(()=>{const e=new Date;switch(m){case"Today":return{startDate:new Date(e.setHours(0,0,0,0)).toISOString(),endDate:new Date(e.setHours(23,59,59,999)).toISOString()};case"Yesterday":const r=new Date(e);return r.setDate(r.getDate()-1),{startDate:new Date(r.setHours(0,0,0,0)).toISOString(),endDate:new Date(r.setHours(23,59,59,999)).toISOString()};case"This Week":const a=new Date(e);return a.setDate(e.getDate()-7),{startDate:new Date(a.setHours(0,0,0,0)).toISOString(),endDate:new Date(e.setHours(23,59,59,999)).toISOString()};case"Custom":var t,n;return h.from&&h.to?{startDate:new Date(null===(t=h.from)||void 0===t?void 0:t.setHours(0,0,0,0)).toISOString(),endDate:new Date(null===(n=h.to)||void 0===n?void 0:n.setHours(23,59,59,999)).toISOString()}:null;default:return null}})();null!==e&&void 0!==e&&e.startDate&&null!==e&&void 0!==e&&e.endDate&&await Promise.all([r(zt({startDate:null===e||void 0===e?void 0:e.startDate,endDate:null===e||void 0===e?void 0:e.endDate})).unwrap(),r(At({startDate:null===e||void 0===e?void 0:e.startDate,endDate:null===e||void 0===e?void 0:e.endDate})).unwrap()])}catch(e){C({title:"Error",description:e.message||"Failed to fetch data",variant:"destructive"})}finally{r((0,st.r)(!1))}};(0,t.useEffect)((()=>{"idle"===s&&F()}),[s]),(0,t.useEffect)((()=>{var e,t,n;null!==(e=I.state)&&void 0!==e&&e.paymentCategoryFilter&&N(I.state.paymentCategoryFilter),null!==(t=I.state)&&void 0!==t&&t.paymentTypeFilter&&y(I.state.paymentTypeFilter),null!==(n=I.state)&&void 0!==n&&n.dateFilter&&(p(I.state.dateFilter),I.state.dateRange&&"Custom"===I.state.dateFilter&&(f(I.state.dateRange),g(I.state.dateRange)))}),[I.state]),(0,t.useEffect)((()=>{F()}),[m,h,d]),(0,t.useEffect)((()=>{r(L())}),[r]);const B=()=>{f(v),p("Custom")},W=()=>{g({from:null,to:null}),p("Today")},U=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}),$=e=>new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),z=(0,t.useMemo)((()=>i.filter((e=>{var t,n,r,a,i,s;const o=null===l||void 0===l||null===(t=l.permissions)||void 0===t?void 0:t.includes("view_otherscollection_all"),c=null===l||void 0===l||null===(n=l.permissions)||void 0===n?void 0:n.includes("view_otherscollection_for_just_today");if((null===(r=e.createdBy)||void 0===r?void 0:r._id)!==(null===l||void 0===l?void 0:l._id)&&null!==(a=e.createdBy)&&void 0!==a&&a._id){if(!o&&!c)return!1;if(c&&!o){const t=new Date,n=new Date(e.createdAt);if(!(n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()))return!1}}if("All"!==b&&(null===(i=e.paymentType)||void 0===i?void 0:i.name)!==b)return!1;if("All"!==x&&e.type!==x)return!1;if(S.id&&(null===(s=e.createdBy)||void 0===s?void 0:s._id)!==S.id)return!1;if(d){var u,m,p;const t=d.toLowerCase();if(![e.description,e.paymentMethod,null===(u=e.paymentType)||void 0===u?void 0:u.name,e.createdByName,null===(m=e.createdBy)||void 0===m?void 0:m.name,U(e.createdAt),$(e.createdAt),null===(p=e.amount)||void 0===p?void 0:p.toString()].filter(Boolean).join(" ").toLowerCase().includes(t))return!1}return!0}))),[i,x,S,d,l,b]),V=z.filter((e=>"Income"===e.type)).reduce(((e,t)=>e+t.amount),0),q=z.filter((e=>"Expense"===e.type)).reduce(((e,t)=>e+t.amount),0),G=V-q,K=(0,t.useMemo)((()=>{const e={};return z.forEach((t=>{e[t.paymentMethod]||(e[t.paymentMethod]={credit:0,debit:0}),"Income"===t.type?e[t.paymentMethod].credit+=t.amount:e[t.paymentMethod].debit+=t.amount})),e}),[z]),Y=(0,t.useMemo)((()=>{const e={ipdCollection:0,opdCollection:0,opdprocedureCollection:0,pharmacyCollection:0,laboratoryCollection:0};return z.forEach((t=>{var n;if("Income"===t.type)switch(null===(n=t.paymentType)||void 0===n?void 0:n.name){case"IPD":e.ipdCollection+=t.amount;break;case"OPD":e.opdCollection+=t.amount;break;case"OPDProcedure":e.opdprocedureCollection+=t.amount;break;case"Pharmacy":e.pharmacyCollection+=t.amount;break;case"Laboratory":e.laboratoryCollection+=t.amount}})),e}),[z]),Z=(0,t.useMemo)((()=>o&&"object"===typeof o?Object.values(o).reduce(((e,t)=>(e.totalPatients=(e.totalPatients||0)+(t.visitCount||0),e.totalAppointments=(e.totalAppointments||0)+(t.ipdCount||0),e)),{totalPatients:0,totalAppointments:0}):{totalPatients:0,totalAppointments:0}),[o]),J=(0,yn.useReactToPrint)({content:()=>O.current,onBeforeGetContent:()=>new Promise((e=>{e()})),pageStyle:"\n      @media print {\n        @page {\n          size: A4;\n          margin: 5mm;\n        }\n        body {\n          -webkit-print-color-adjust: exact;\n          print-color-adjust: exact;\n          font-size: 80%; /* Reduce overall font size */\n        }\n        .print-section {\n          display: block !important;\n          padding: 5px;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .print-content {\n          position: relative;\n          padding: 10px;\n        }\n        /* Make cards more compact */\n        .grid {\n          gap: 0.5rem !important;\n        }\n        .p-4 {\n          padding: 0.5rem !important;\n        }\n        .p-3 {\n          padding: 0.375rem !important;\n        }\n        .text-xl {\n          font-size: 1rem !important;\n        }\n        .text-2xl {\n          font-size: 1.25rem !important;\n        }\n        .mb-4 {\n          margin-bottom: 0.5rem !important;\n        }\n        .mb-6 {\n          margin-bottom: 0.75rem !important;\n        }\n        /* Reduce table text size */\n        table {\n          font-size: 75% !important;\n        }\n        th, td {\n          padding: 4px !important;\n        }\n        /* Make table more compact */\n        .border {\n          border-width: 1px !important;\n        }\n        /* Ensure table headers are distinct */\n        th {\n          font-weight: bold !important;\n          background-color: #f3f4f6 !important;\n        }\n      }\n    "});return(0,X.jsxs)(k.Zp,{className:"w-full border-none shadow-none",children:[(0,X.jsx)(k.aR,{children:(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>{R(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{children:[(0,X.jsx)(k.ZB,{children:"Payments List"}),(0,X.jsx)(k.BT,{children:"View and manage all payments"})]})]}),(0,X.jsxs)(j.$,{onClick:J,className:"flex items-center gap-2 no-print",children:[(0,X.jsx)(Nn,{className:"h-4 w-4"}),"Print"]})]})}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsx)("div",{className:"flex flex-col space-y-4 mb-4 no-print",children:(0,X.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[(0,X.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,X.jsxs)("div",{className:"relative flex-grow",children:[(0,X.jsx)(Ps.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{placeholder:"Search payments...",value:d,onChange:e=>u(e.target.value),className:"pl-8 w-full"}),d&&(0,X.jsx)("button",{onClick:()=>u(""),className:"absolute right-2 top-2.5 text-muted-foreground hover:text-foreground",children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]}),D&&(0,X.jsx)(j.$,{variant:"outline",className:"shrink-0",onClick:()=>P(!A),children:(0,X.jsx)(xc,{className:"h-4 w-4"})})]}),D?(0,X.jsx)(Lc,{children:A&&(0,X.jsx)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden w-full",children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===b?"Payment Category":b]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Category"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>N("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>N("IPD"),children:"IPD"}),(0,X.jsx)(hi,{onSelect:()=>N("OPD"),children:"OPD"}),(0,X.jsx)(hi,{onSelect:()=>N("OPDProcedure"),children:"OPD Procedure"}),(0,X.jsx)(hi,{onSelect:()=>N("Laboratory"),children:"Laboratory"})]})]}),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===x?"Payment Type":x]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Payment Type"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>y("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>y("Income"),children:"Credit"}),(0,X.jsx)(hi,{onSelect:()=>y("Expense"),children:"Debit"})]})]}),"Custom"===m&&(0,X.jsx)(M.Ur,{from:v.from,to:v.to,onSelect:e=>{g(e)},onSearch:B,onCancel:W})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",className:"w-full",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All Staff"===S.name?"All Staff":S.name]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Staff Account"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>E({name:"All Staff",id:""}),children:"All Staff"}),null===c||void 0===c?void 0:c.map((e=>(0,X.jsx)(hi,{onSelect:()=>E({name:e.name,id:e._id}),children:e.name},e._id)))]})]}),"Custom"===m&&(0,X.jsx)(M.Ur,{from:v.from,to:v.to,onSelect:e=>g(e),onSearch:B,onCancel:W})]})})}):(0,X.jsxs)("div",{className:"flex gap-2",children:[(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===b?"Payment Category":b]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Category"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>N("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>N("IPD"),children:"IPD"}),(0,X.jsx)(hi,{onSelect:()=>N("OPD"),children:"OPD"}),(0,X.jsx)(hi,{onSelect:()=>N("OPDProcedure"),children:"OPD Procedure"}),(0,X.jsx)(hi,{onSelect:()=>N("Laboratory"),children:"Laboratory"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All"===x?"Payment Type":x]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Payment Type"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>y("All"),children:"All"}),(0,X.jsx)(hi,{onSelect:()=>y("Income"),children:"Income"}),(0,X.jsx)(hi,{onSelect:()=>y("Expense"),children:"Expense"})]})]}),(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(po,{className:"mr-2 h-4 w-4"}),m]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Time Filter Options"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>p("Today"),children:"Today"}),(0,X.jsx)(hi,{onSelect:()=>p("Yesterday"),children:"Yesterday"}),(0,X.jsx)(hi,{onSelect:()=>p("This Week"),children:"Last 7 Days"}),(0,X.jsx)(hi,{onSelect:()=>p("Custom"),children:"Custom Range"})]})]}),"Custom"===m&&(0,X.jsx)(M.Ur,{from:v.from,to:v.to,onSelect:e=>g(e),onSearch:B,onCancel:W}),((null===l||void 0===l||null===(e=l.permissions)||void 0===e?void 0:e.includes("view_otherscollection_all"))||(null===l||void 0===l||null===(n=l.permissions)||void 0===n?void 0:n.includes("view_otherscollection_for_just_today")))&&(0,X.jsxs)(li,{children:[(0,X.jsx)(ci,{asChild:!0,children:(0,X.jsxs)(j.$,{variant:"outline",children:[(0,X.jsx)(yc,{className:"mr-2 h-4 w-4"}),"All Staff"===S.name?"All Staffs":S.name]})}),(0,X.jsxs)(pi,{align:"start",className:"w-[200px]",children:[(0,X.jsx)(fi,{children:"Filter by Staff Account"}),(0,X.jsx)(vi,{}),(0,X.jsx)(hi,{onSelect:()=>E({name:"All Staff",id:""}),children:"All Staff"}),null===c||void 0===c?void 0:c.map((e=>(0,X.jsx)(hi,{onSelect:()=>E({name:e.name,id:e._id}),children:e.name},e._id)))]})]})]})]})}),(0,X.jsx)("div",{ref:O,className:"print-content",children:(0,X.jsxs)("div",{className:"print-section",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,X.jsx)("h2",{className:"text-2xl font-bold print:block hidden",children:"Payments Report"}),(0,X.jsx)("div",{className:"print:block hidden text-right",children:(0,X.jsx)("span",{className:"font-semibold",children:(()=>{const e=new Date;switch(m){case"Today":return`${U(e)}`;case"Yesterday":const t=new Date(e);return t.setDate(t.getDate()-1),`${U(t)}`;case"This Week":const n=new Date(e);return n.setDate(e.getDate()-7),`${U(n)} - ${U(e)}`;case"Custom":return h.from&&h.to?`${U(h.from)} - ${U(h.to)}`:"";default:return""}})()})})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6 print:hidden",children:[(0,X.jsxs)("div",{className:"hidden md:grid gap-4",style:{gridTemplateColumns:`repeat(${Object.keys(K).length+3}, minmax(0, 1fr))`},children:[(0,X.jsx)(k.Zp,{className:"bg-blue-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm",children:"Total Credit"}),(0,X.jsx)("p",{className:"text-xl",children:(0,M.vv)(V)})]})}),(0,X.jsx)(k.Zp,{className:"bg-red-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm",children:"Total Debit"}),(0,X.jsx)("p",{className:"text-xl",children:(0,M.vv)(q)})]})}),(0,X.jsx)(k.Zp,{className:"bg-green-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm",children:"Net Amount"}),(0,X.jsx)("p",{className:"text-xl",children:(0,M.vv)(G)})]})}),Object.entries(K).map((e=>{let[t,n]=e;return(0,X.jsx)(k.Zp,{className:"bg-purple-100",children:(0,X.jsxs)(k.Wu,{className:"p-3",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm mb-1",children:t}),(0,X.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,X.jsxs)("div",{className:"text-green-600 font-bold text-xl",children:["+",(0,M.vv)(n.credit)]}),(0,X.jsxs)("div",{className:"text-red-600 font-bold text-xl",children:["-",(0,M.vv)(n.debit)]})]}),(0,X.jsxs)("div",{className:"text-xl text-center font-bold mt-1",children:["Net: ",(0,M.vv)(n.credit-n.debit)]})]})},t)}))]}),(0,X.jsxs)("div",{className:"grid md:hidden gap-4",children:[(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsx)(k.Zp,{className:"bg-blue-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm",children:"Total Credit"}),(0,X.jsx)("p",{className:"text-xl",children:(0,M.vv)(V)})]})}),(0,X.jsx)(k.Zp,{className:"bg-red-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm",children:"Total Debit"}),(0,X.jsx)("p",{className:"text-xl",children:(0,M.vv)(q)})]})})]}),(0,X.jsx)(k.Zp,{className:"bg-green-100",children:(0,X.jsxs)(k.Wu,{className:"p-4",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm",children:"Net Amount"}),(0,X.jsx)("p",{className:"text-xl",children:(0,M.vv)(G)})]})}),(0,X.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(K).map((e=>{let[t,n]=e;return(0,X.jsx)(k.Zp,{className:"bg-purple-100",children:(0,X.jsxs)(k.Wu,{className:"p-3",children:[(0,X.jsx)("h3",{className:"font-semibold text-sm mb-1",children:t}),(0,X.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,X.jsxs)("div",{className:"text-green-600 font-bold text-xl",children:["+",(0,M.vv)(n.credit)]}),(0,X.jsxs)("div",{className:"text-red-600 font-bold text-xl",children:["-",(0,M.vv)(n.debit)]})]}),(0,X.jsxs)("div",{className:"text-xl text-center font-bold mt-1",children:["Net: ",(0,M.vv)(n.credit-n.debit)]})]})},t)}))})]})]}),(0,X.jsx)("div",{className:"hidden print:block mb-4",children:(0,X.jsxs)("div",{className:"flex gap-4",children:[(0,X.jsx)("div",{className:"w-1/2",children:(0,X.jsx)("table",{className:"w-full border-collapse border",children:(0,X.jsxs)("tbody",{children:[(0,X.jsxs)("tr",{className:"border",children:[(0,X.jsx)("td",{className:"border p-2 font-semibold w-[200px]",children:"Total Credit:"}),(0,X.jsx)("td",{className:"border p-2",children:(0,M.vv)(V)})]}),(0,X.jsxs)("tr",{className:"border",children:[(0,X.jsx)("td",{className:"border p-2 font-semibold",children:"Total Debit:"}),(0,X.jsx)("td",{className:"border p-2",children:(0,M.vv)(q)})]}),(0,X.jsxs)("tr",{className:"border",children:[(0,X.jsx)("td",{className:"border p-2 font-semibold",children:"Net Amount:"}),(0,X.jsx)("td",{className:"border p-2 font-bold",children:(0,M.vv)(G)})]})]})})}),(0,X.jsx)("div",{className:"w-1/2",children:(0,X.jsxs)("table",{className:"w-full border-collapse border",children:[(0,X.jsx)("thead",{children:(0,X.jsxs)("tr",{children:[(0,X.jsx)("th",{className:"border p-2",children:"Payment Method"}),(0,X.jsx)("th",{className:"border p-2",children:"Credit"}),(0,X.jsx)("th",{className:"border p-2",children:"Debit"}),(0,X.jsx)("th",{className:"border p-2",children:"Net"})]})}),(0,X.jsx)("tbody",{children:Object.entries(K).map((e=>{let[t,n]=e;return(0,X.jsxs)("tr",{children:[(0,X.jsx)("td",{className:"border p-2",children:t}),(0,X.jsx)("td",{className:"border p-2 text-green-600",children:(0,M.vv)(n.credit)}),(0,X.jsx)("td",{className:"border p-2 text-red-600",children:(0,M.vv)(n.debit)}),(0,X.jsx)("td",{className:"border p-2",children:(0,M.vv)(n.credit-n.debit)})]},t)}))})]})})]})}),"All Staff"===S.name&&(0,X.jsx)("div",{className:"hidden print:block mb-4",children:(0,X.jsxs)("table",{className:"w-full border-collapse border text-sm",children:[(0,X.jsx)("thead",{children:(0,X.jsxs)("tr",{children:[(0,X.jsx)("th",{className:"border p-1 text-left bg-gray-50 w-1/4",children:"Patient Count"}),(0,X.jsx)("th",{className:"border p-1 text-left bg-gray-50 w-1/4",children:"Collection Type"}),(0,X.jsx)("th",{className:"border p-1 text-left bg-gray-50 w-1/4",children:"Collection Type"}),(0,X.jsx)("th",{className:"border p-1 text-left bg-gray-50 w-1/4",children:"Collection Type"})]})}),(0,X.jsx)("tbody",{children:(0,X.jsxs)("tr",{children:[(0,X.jsxs)("td",{className:"border p-1",children:["OPD Visits: ",Z.totalPatients,(0,X.jsx)("br",{}),"IPD Admissions: ",Z.totalAppointments]}),(0,X.jsxs)("td",{className:"border p-1",children:["OPD Collection: ",(0,M.vv)(Y.opdCollection),(0,X.jsx)("br",{}),"IPD Collection: ",(0,M.vv)(Y.ipdCollection)]}),(0,X.jsxs)("td",{className:"border p-1",children:["OPD Procedure Collection: ",(0,M.vv)(Y.opdprocedureCollection),(0,X.jsx)("br",{}),"Pharmacy Collection: ",(0,M.vv)(Y.pharmacyCollection)]}),(0,X.jsxs)("td",{className:"border p-1",children:["Laboratory Collection: ",(0,M.vv)(Y.laboratoryCollection)]})]})})]})}),z.length>0?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{className:"hidden md:block rounded-md border",children:(0,X.jsxs)(uo.XI,{className:"border-2 border-gray-200",children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"w-[50px]",children:"S.No"}),(0,X.jsx)(uo.nd,{children:"Date & Time"}),(0,X.jsx)(uo.nd,{className:"print:hidden",children:"Payment Type"}),(0,X.jsx)(uo.nd,{children:"Method"}),(0,X.jsx)(uo.nd,{children:"Type"}),(0,X.jsx)(uo.nd,{children:"Description"}),(0,X.jsx)(uo.nd,{children:"Amount"}),(0,X.jsx)(uo.nd,{children:"Created By"})]})}),(0,X.jsx)(uo.BF,{children:z.map(((e,t)=>{var n,r;return(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{children:t+1}),(0,X.jsxs)(uo.nA,{children:[U(e.createdAt)," ",$(e.createdAt)]}),(0,X.jsx)(uo.nA,{className:"print:hidden",children:(0,X.jsx)(go.E,{variant:"Income"===e.type?"success":"destructive",children:e.type})}),(0,X.jsx)(uo.nA,{children:e.paymentMethod}),(0,X.jsx)(uo.nA,{children:(null===(n=e.paymentType)||void 0===n?void 0:n.name)||"--"}),(0,X.jsx)(uo.nA,{className:"font-medium",children:"Expense"===e.type?e.description||"":(e.description?e.description:"")+(e.associatedInvoiceOrId?" - "+e.associatedInvoiceOrId:"")}),(0,X.jsxs)(uo.nA,{className:"font-medium",children:["Income"===e.type?"+":"-",(0,M.vv)(e.amount)]}),(0,X.jsx)(uo.nA,{children:e.createdByName||(null===(r=e.createdBy)||void 0===r?void 0:r.name)||"--"})]},e._id)}))})]})}),(0,X.jsx)("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:z.map(((e,t)=>{var n,r;return(0,X.jsxs)(k.Zp,{className:"p-3",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsxs)("span",{className:"text-sm text-gray-500",children:["#",t+1]}),(0,X.jsx)(go.E,{variant:"Income"===e.type?"success":"destructive",children:e.type}),(0,X.jsxs)("p",{className:"text-sm text-gray-500",children:[U(e.createdAt)," ",$(e.createdAt)]})]}),(0,X.jsx)("p",{className:"text-base font-bold",children:(0,M.vv)(e.amount)})]}),(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 text-sm",children:[(0,X.jsxs)("div",{className:"flex justify-between col-span-2",children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Method:"}),(0,X.jsx)("span",{children:e.paymentMethod})]}),(0,X.jsxs)("div",{className:"flex justify-between col-span-2",children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Visit Type:"}),(0,X.jsx)("span",{children:(null===(n=e.paymentType)||void 0===n?void 0:n.name)||"--"})]}),(0,X.jsxs)("div",{className:"flex justify-between col-span-2",children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Description:"}),(0,X.jsx)("span",{className:"text-right",children:"Expense"===e.type?e.description||"":(e.description?e.description:"")+(e.associatedInvoiceOrId?" ("+e.associatedInvoiceOrId+")":"")})]}),(0,X.jsxs)("div",{className:"flex justify-between col-span-2",children:[(0,X.jsx)("span",{className:"text-gray-500",children:"Created By:"}),(0,X.jsx)("span",{children:e.createdByName||(null===(r=e.createdBy)||void 0===r?void 0:r.name)||"--"})]})]})]},e._id)}))})]}):(0,X.jsxs)("div",{className:"flex flex-col items-center justify-center py-10",children:[(0,X.jsx)(bc,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,X.jsx)("p",{className:"text-xl font-semibold text-gray-600",children:"No payments found"}),(0,X.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]})]})})]})]})};function R0(){const e=(0,a.Zp)(),n=(0,w.wA)(),{labTestsTemplate:r}=(0,w.d4)((e=>e.templates)),[i,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),u=null===r||void 0===r?void 0:r.filter((e=>{const t=e.name.toLowerCase().includes(o.toLowerCase());return c?t&&(!e.fields||0===Object.keys(e.fields).length):t})),m=null===r||void 0===r?void 0:r.filter((e=>!e.fields||0===Object.keys(e.fields).length)).length;return(0,X.jsxs)("div",{className:"p-6",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>{e(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-2xl font-bold",children:"Lab Templates"})]}),(0,X.jsxs)("div",{className:"flex items-center gap-4",children:[(0,X.jsx)(xn.p,{type:"text",placeholder:"Search by template name...",value:o,onChange:e=>l(e.target.value),className:"max-w-sm font-semibold"}),(0,X.jsxs)(j.$,{variant:c?"secondary":"outline",onClick:()=>d(!c),className:"whitespace-nowrap text-red-500 font-bold",children:["No Parameters (",m,")"]})]}),(0,X.jsx)(j.$,{onClick:()=>e("/settings/create-test-template"),children:"Create New Template"})]}),(0,X.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null===u||void 0===u?void 0:u.map((t=>(0,X.jsxs)("div",{className:(0,Ee.cn)("border-2 rounded-lg p-4 transition-all duration-200","hover:shadow-lg hover:border-blue-400",i[t.name]?"border-blue-500 bg-blue-50/50":"border-gray-200 hover:border-blue-300"),children:[(0,X.jsxs)("div",{className:"flex flex-col cursor-pointer",onClick:()=>{return e=t.name,void s((t=>({...t,[e]:!t[e]})));var e},children:[(0,X.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,X.jsx)("h3",{className:"text-lg font-semibold",children:t.name}),(0,X.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["\u20b9",t.rate]})]}),(!t.fields||0===Object.keys(t.fields).length)&&(0,X.jsx)("div",{className:"text-sm font-bold text-red-500 mt-1",children:"No parameters"}),(0,X.jsx)("div",{className:"flex justify-center",children:(0,X.jsx)(pg.div,{animate:{rotate:i[t.name]?180:0},transition:{duration:.2},children:(0,X.jsx)(Os,{className:(0,Ee.cn)("h-5 w-5 transition-colors duration-200",i[t.name]?"text-blue-500":"text-gray-400")})})})]}),(0,X.jsx)(Lc,{children:i[t.name]&&(0,X.jsxs)(pg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:[(0,X.jsx)("div",{className:"space-y-2 pt-2 mt-2 border-t border-blue-200",children:Object.entries((null===t||void 0===t?void 0:t.fields)||{}).map((e=>{let[t,n]=e;return(0,X.jsxs)("div",{className:"text-sm",children:[(0,X.jsxs)("span",{className:"font-medium text-blue-700",children:[n.label,":"]}),(0,X.jsx)("span",{className:"ml-2 text-gray-600",children:n.options&&Array.isArray(n.options)?n.options.join(", "):n.options||n.unit||n.normalRange})]},t)}))}),(0,X.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,X.jsx)(j.$,{size:"sm",variant:"outline",onClick:()=>e("/settings/edit-test-template",{state:{name:t.name}}),className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300",children:"Edit"}),(0,X.jsx)(j.$,{size:"sm",variant:"destructive",onClick:()=>(async e=>{if(window.confirm(`Are you sure you want to delete ${e.name}?`)){const t=r.findIndex((t=>t.name===e.name));await n((0,R.I7)({field:"labTestsTemplate",index:t}))}})(t),className:"hover:bg-red-600",children:"Delete"})]})]})})]},t.name)))})]})}var M0=__webpack_require__(4259),I0=__webpack_require__(9786);const L0=(e,t)=>{if(!e)return[];const n=Object.keys(t);return e.filter((e=>!n.includes(e)))};let F0=0;const B0=e=>(F0+=1,`${e}-${F0}-${Math.random().toString(36).substr(2,9)}`);function W0(){const e=(0,a.zy)().state.name,n=(0,w.wA)(),r=(0,a.Zp)(),{labReportFields:i,fetchLabDataStatus:s}=(0,w.d4)((e=>e.lab));(0,t.useEffect)((()=>{"idle"===s&&n(tn())}),[s,n]);const o=e=>{for(const t of Object.values(i))for(const n of Object.values(t))if(Array.isArray(n)){const t=n.find((t=>t.name===e));if(null!==t&&void 0!==t&&t.calculationDetails)return t.calculationDetails}return null},{labTestsTemplate:l}=(0,w.d4)((e=>e.templates)),[c,d]=(0,t.useState)({name:"",rate:0,fields:{},notes:"",sections:[],order:[]});(0,t.useEffect)((()=>{const t=l.find((t=>t.name.trim()===e.trim()));if(t){const e=Object.keys(t.fields||{}),n=[...t.sections||[]].sort(((e,t)=>e.position-t.position));let r=[],a=0;const i=n.length>0?n[0].position:e.length;for(let t=0;t<i;t++)a<e.length&&(r.push({type:"field",id:e[a]}),a++);for(let t=0;t<n.length;t++){const i=n[t],s=t<n.length-1?n[t+1].position:e.length,o=i._id;r.push({type:"section",id:o});const l=s-i.position;for(let t=0;t<l;t++)a<e.length&&(r.push({type:"field",id:e[a]}),a++)}for(;a<e.length;)r.push({type:"field",id:e[a]}),a++;const s=Object.entries((null===t||void 0===t?void 0:t.fields)||{}).reduce(((e,t)=>{let[n,r]=t;const a=r.calculationDetails||o(n);return{...e,[n]:{...r,fieldName:n,fromLabReportFields:!r.calculationDetails,...a&&{calculationDetails:a,isFormulaVisible:!1}}}}),{}),l=(t.sections||[]).map((e=>({...e,id:e._id||Date.now().toString(),isCollapsed:!1})));d({...t,fields:s,sections:l,order:r})}}),[e,l]);const u=(e,t,n)=>{d((r=>({...r,fields:{...r.fields,[e]:{...r.fields[e],[t]:n}}})))},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=B0("field"),n={label:"New Field",value:"",unit:"",normalRange:"",options:[],fieldName:t,isNew:!0};d((r=>{const a=[...r.order],i={type:"field",id:t};return null!==e?a.splice(e+1,0,i):a.push(i),{...r,fields:{...r.fields,[t]:n},order:a}}))},p=e=>{const t=o(e);t&&d((n=>({...n,fields:{...n.fields,[e]:{...n.fields[e],calculationDetails:t,isFormulaApplied:!0,fromLabReportFields:!1}}})))},h=e=>{d((t=>({...t,fields:{...t.fields,[e]:{...t.fields[e],calculationDetails:void 0,isFormulaApplied:!1,fromLabReportFields:!0}}})))};return(0,X.jsxs)("div",{className:"p-6",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(j.$,{onClick:()=>r(-1),variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsxs)("h1",{className:"text-2xl font-bold",children:["Edit Template: ",e]})]}),(0,X.jsxs)("div",{className:"flex gap-2",children:[(0,X.jsxs)(j.$,{onClick:()=>{r("/settings/create-test-template",{state:{editMode:!0,templateData:{name:c.name,rate:c.rate,fields:c.fields,notes:c.notes,sections:c.sections}}})},variant:"outline",children:[(0,X.jsx)(ox,{className:"mr-2 h-4 w-4"})," Edit in Template Builder"]}),(0,X.jsx)(j.$,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this template?"))try{await n((0,R.I7)({field:"labTestsTemplate",index:l.findIndex((t=>t.name===e))})).unwrap(),r("/settings/lab-templates")}catch(t){console.error("Error deleting template:",t)}},children:"Delete Template"})]})]}),(0,X.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=(a=c.fields,c.order.filter((e=>"field"===e.type)).map((e=>e.id)).reduce(((e,t)=>{const n=a[t];if(n){var r;const a="string"===typeof n.options?n.options.split(",").map((e=>e.trim())).filter((e=>e)):n.options;e[t]={label:n.label,value:n.value,unit:n.unit,normalRange:n.normalRange,...(null===a||void 0===a?void 0:a.length)>0&&{options:a},...(n.isFormulaApplied||!n.fromLabReportFields)&&(null===(r=n.calculationDetails)||void 0===r?void 0:r.formula)&&{calculationDetails:n.calculationDetails}}}return e}),{})),i=c.order.map(((e,t)=>({...e,visualPosition:t}))),s=c.sections.map((e=>{const t=i.findIndex((t=>"section"===t.type&&t.id===e.id)),n=i.slice(0,t).filter((e=>"field"===e.type)).length;return{name:e.name,position:n}})),o={name:c.name,rate:c.rate,fields:t,notes:c.notes,sections:s};await n((0,R.X_)({field:"labTestsTemplate",index:l.findIndex((t=>t.name===e)),template:o})).unwrap(),r("/settings/lab-templates")}catch(i){console.error("Error updating template:",i)}var a},className:"space-y-6",children:[(0,X.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:(0,X.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,X.jsxs)("div",{className:"flex items-center gap-3 col-span-2",children:[(0,X.jsx)("label",{className:"whitespace-nowrap text-sm font-medium text-gray-700 w-32",children:"Template Name:"}),(0,X.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,X.jsx)(xn.p,{className:"flex-1 font-semibold",value:c.name,onChange:e=>d({...c,name:e.target.value})}),(0,X.jsxs)("div",{className:"flex items-center ml-4",children:[(0,X.jsx)("label",{className:"whitespace-nowrap text-sm font-medium text-gray-700 mr-3",children:"Rate:"}),(0,X.jsx)(xn.p,{type:"number",className:"w-[150px] text-right font-semibold",value:c.rate,onChange:e=>d({...c,rate:e.target.value})}),(0,X.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"\u20b9"})]})]})]}),(0,X.jsxs)("div",{className:"col-span-2",children:[(0,X.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes:"}),(0,X.jsx)("textarea",{className:"w-full p-2 border rounded-md",rows:3,value:c.notes||"",onChange:e=>d({...c,notes:e.target.value}),placeholder:"Add any notes about this test template..."})]})]})}),(0,X.jsxs)("div",{className:"space-y-6",children:[(0,X.jsxs)("div",{className:"flex justify-between items-center",children:[(0,X.jsx)("h2",{className:"text-lg font-semibold",children:"Test Fields and Sections"}),(0,X.jsxs)("div",{className:"space-x-2",children:[(0,X.jsxs)(j.$,{type:"button",onClick:()=>m(),size:"sm",variant:"outline",children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Add Field"]}),(0,X.jsxs)(j.$,{type:"button",onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=B0("section"),n={id:t,name:"New Section",isCollapsed:!1};d((r=>{const a=[...r.order],i={type:"section",id:t};return null!==e?a.splice(e+1,0,i):a.push(i),{...r,sections:[...r.sections,n],order:a}}))}(),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Add Section"]})]})]}),(0,X.jsx)(I0.JY,{onDragEnd:e=>{if(!e.destination)return;const{source:t,destination:n}=e,r=Array.from(c.order),[a]=r.splice(t.index,1);r.splice(n.index,0,a),d((e=>({...e,order:r})))},children:(0,X.jsx)(I0.gL,{droppableId:"main-list",mode:"standard",type:"DEFAULT",children:e=>(0,X.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:"space-y-2",children:[c.order.some((e=>"field"===e.type))&&(0,X.jsx)("div",{className:"pl-[20px]",children:(0,X.jsxs)("div",{className:"flex items-center gap-4",children:[(0,X.jsx)("div",{className:"w-4 h-4"}),(0,X.jsx)("div",{className:"w-8 h-8"}),(0,X.jsxs)("div",{className:"grid grid-cols-[2fr,1fr,1fr,2fr,auto] gap-4 flex-1",children:[(0,X.jsx)("div",{className:"text-sm font-medium",children:"Name"}),(0,X.jsx)("div",{className:"text-sm font-medium",children:"Unit"}),(0,X.jsx)("div",{className:"text-sm font-medium",children:"Normal Range"}),(0,X.jsx)("div",{className:"text-sm font-medium",children:"Options"}),(0,X.jsx)("div",{className:"w-8"})]})]})}),c.order.map(((e,t)=>(0,X.jsx)(I0.sx,{draggableId:`${e.type}-${e.id}`,index:t,children:n=>{var r,a,i,s,l,f,v,g,x,y,b;return(0,X.jsx)("div",{ref:n.innerRef,...n.draggableProps,className:"bg-white rounded-lg shadow-sm "+("section"===e.type?"border-l-4 border-green-500":""),children:"field"===e.type?(0,X.jsxs)("div",{className:"p-3",children:[(0,X.jsxs)("div",{className:"flex items-center gap-4",children:[(0,X.jsx)("div",{...n.dragHandleProps,children:(0,X.jsx)(M0.A,{className:"h-4 w-4 text-gray-400"})}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"sm",className:"p-0 h-8 w-8",onClick:()=>{d((t=>({...t,fields:{...t.fields,[e.id]:{...t.fields[e.id],isFormulaVisible:!t.fields[e.id].isFormulaVisible}}})))},children:null!==(r=c.fields[e.id])&&void 0!==r&&r.isFormulaVisible?(0,X.jsx)(Os,{className:"h-4 w-4"}):(0,X.jsx)(_x.A,{className:"h-4 w-4"})}),(0,X.jsxs)("div",{className:"grid grid-cols-[2fr,1fr,1fr,2fr,auto] gap-4 flex-1",children:[(0,X.jsx)(xn.p,{className:"h-8 font-semibold",value:(null===(a=c.fields[e.id])||void 0===a?void 0:a.label)||"",onChange:t=>u(e.id,"label",t.target.value)}),(0,X.jsx)(xn.p,{className:"h-8",value:(null===(i=c.fields[e.id])||void 0===i?void 0:i.unit)||"",onChange:t=>u(e.id,"unit",t.target.value)}),(0,X.jsx)(xn.p,{className:"h-8",value:(null===(s=c.fields[e.id])||void 0===s?void 0:s.normalRange)||"",onChange:t=>u(e.id,"normalRange",t.target.value)}),(0,X.jsx)(xn.p,{className:"h-8",value:Array.isArray(null===(l=c.fields[e.id])||void 0===l?void 0:l.options)?c.fields[e.id].options.join(", "):(null===(f=c.fields[e.id])||void 0===f?void 0:f.options)||"",onChange:t=>u(e.id,"options",t.target.value),placeholder:"Comma separated values"}),(0,X.jsx)("div",{className:"flex gap-2",children:(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:bg-red-50",onClick:()=>{return t=e.id,void d((e=>{const n={...e.fields};return delete n[t],{...e,fields:n,order:e.order.filter((e=>!("field"===e.type&&e.id===t)))}}));var t},children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})})]})]}),(null===(v=c.fields[e.id])||void 0===v?void 0:v.isFormulaVisible)&&(0,X.jsx)("div",{className:"mt-2 ml-12 p-3 bg-gray-50 rounded-md",children:null!==(g=c.fields[e.id])&&void 0!==g&&g.calculationDetails?(0,X.jsx)(X.Fragment,{children:(()=>{const t=L0(c.fields[e.id].calculationDetails.dependencies,c.fields);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"text-sm",children:[(0,X.jsxs)("span",{className:"font-medium",children:["Formula:"," "]}),(0,X.jsx)("span",{className:"text-gray-600",children:c.fields[e.id].calculationDetails.formula})]}),(0,X.jsxs)("div",{className:"text-sm mt-1",children:[(0,X.jsxs)("span",{className:"font-medium",children:["Dependencies:"," "]}),(0,X.jsx)("span",{className:"text-gray-600",children:c.fields[e.id].calculationDetails.dependencies.join(", ")})]}),t.length>0?(0,X.jsxs)("div",{className:"mt-2",children:[(0,X.jsxs)("div",{className:"text-sm text-red-500 mb-2",children:["Missing dependencies:"," ",t.join(", ")]}),c.fields[e.id].fromLabReportFields?(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>p(e.id),children:"Apply Formula"}):(0,X.jsx)(j.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>h(e.id),children:"Remove Formula"})]}):(0,X.jsx)("div",{className:"mt-2",children:c.fields[e.id].fromLabReportFields?(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>p(e.id),children:"Apply Formula"}):(0,X.jsx)(j.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>h(e.id),children:"Remove Formula"})})]})})()}):(0,X.jsx)(X.Fragment,{children:(()=>{const t=o(e.id);if(!t)return(0,X.jsx)("div",{className:"text-sm text-gray-500",children:"No calculation formula found for this parameter in the system."});const n=L0(t.dependencies,c.fields);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"text-sm",children:[(0,X.jsxs)("span",{className:"font-medium",children:["Available Formula:"," "]}),(0,X.jsx)("span",{className:"text-gray-600",children:t.formula})]}),(0,X.jsxs)("div",{className:"text-sm mt-1",children:[(0,X.jsxs)("span",{className:"font-medium",children:["Dependencies:"," "]}),(0,X.jsx)("span",{className:"text-gray-600",children:t.dependencies.join(", ")})]}),n.length>0?(0,X.jsxs)("div",{className:"mt-2 text-sm text-red-500",children:["Missing dependencies:"," ",n.join(", ")]}):(0,X.jsx)("div",{className:"mt-2",children:c.fields[e.id].fromLabReportFields?(0,X.jsx)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>p(e.id),children:"Apply Formula"}):(0,X.jsx)(j.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>h(e.id),children:"Remove Formula"})})]})})()})})]}):(0,X.jsx)("div",{className:"p-3",children:(0,X.jsxs)("div",{className:"flex items-center gap-4",children:[(0,X.jsx)("div",{...n.dragHandleProps,children:(0,X.jsx)(M0.A,{className:"h-4 w-4 text-gray-400"})}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"sm",className:"p-0 h-8 w-8",onClick:()=>{return t=e.id,void d((e=>({...e,sections:e.sections.map((e=>e.id===t?{...e,isCollapsed:!e.isCollapsed}:e))})));var t},children:null!==(x=c.sections.find((t=>{var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())===e.id})))&&void 0!==x&&x.isCollapsed?(0,X.jsx)(_x.A,{className:"h-4 w-4"}):(0,X.jsx)(Os,{className:"h-4 w-4"})}),(0,X.jsx)(xn.p,{className:"h-8 font-medium flex-1",value:null!==(y=null===(b=c.sections.find((t=>t.id===e.id)))||void 0===b?void 0:b.name)&&void 0!==y?y:"",onChange:t=>{d((n=>({...n,sections:n.sections.map((n=>n.id===e.id?{...n,name:t.target.value}:n))})))}}),(0,X.jsxs)("div",{className:"flex gap-2",children:[(0,X.jsxs)(j.$,{type:"button",onClick:()=>m(t),size:"sm",variant:"outline",children:[(0,X.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Add Field"]}),(0,X.jsx)(j.$,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:bg-red-50",onClick:()=>{return t=e.id,void d((e=>({...e,sections:e.sections.filter((e=>e.id!==t)),order:e.order.filter((e=>!("section"===e.type&&e.id===t)))})));var t},children:(0,X.jsx)(T.A,{className:"h-4 w-4"})})]})]})})})}},`${e.type}-${e.id}`))),e.placeholder]})})})]}),(0,X.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,X.jsx)(j.$,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Save Changes"}),(0,X.jsx)(j.$,{type:"button",variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50",onClick:()=>r("/settings/lab-templates"),children:"Cancel"})]})]})]})}var U0=__webpack_require__(3800);function $0(){const e=(0,w.d4)((e=>e.hospital.hospitalInfo)),t=((0,w.wA)(),{completeType:"HAEMATOLOGY",date:(new Date).toISOString(),report:{"WHITE CELL COUNT(TC)":{value:"11600",unit:"million/cumm",normalRange:""},"RBC (RED BLOOD CELLS)":{value:"4.22",unit:"million/cumm",normalRange:"3.7-5.0"},"HB (HAEMOGLOBIN)":{value:"8.9",unit:"gm/dl",normalRange:"11.5-15.00"},"PLATELET COUNT":{value:"2.80",unit:"lakh/cumm",normalRange:"1.5-3.5"},"HCT(PCV)":{value:"26.70",unit:"%",normalRange:"36-45"},MCV:{value:"63.27",unit:"fl",normalRange:"80-100"},MCH:{value:"21.09",unit:"pg",normalRange:"27-32"},MCHC:{value:"33.33",unit:"gm%",normalRange:"32-38"}}});return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsx)("div",{className:"flex flex-col gap-6 mb-6",children:(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Lab Report Template Preview"})})}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-2 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsx)("div",{className:"bg-white shadow-lg relative p-2",children:(0,X.jsx)(U0.A,{hospital:e,patientData:{patientName:"ANJU KUMARI",age:"21",gender:"FEMALE",registrationNumber:"850125",contactNumber:"9876543210",referredBy:{name:"Ayush"}},reportData:t})})})]})}function z0(){const e=(0,w.d4)((e=>e.hospital.hospitalInfo)),t=((0,w.wA)(),{patientName:"John Doe",age:"35",gender:"Male",registrationNumber:"LAB123",contactNumber:"9876543210",address:"123 Main St",bookingDate:(new Date).toISOString(),labNumber:"L001",referredBy:{name:"Dr. Smith"},paymentInfo:{totalAmount:1500,additionalDiscount:100,amountPaid:1e3,balanceDue:400,paymentMethod:[{amount:1e3,method:"Cash",date:(new Date).toISOString()}]},labTests:[{name:"Complete Blood Count",price:500,reportStatus:"Completed"},{name:"Blood Sugar",price:300,reportStatus:"Pending"},{name:"Lipid Profile",price:700,reportStatus:"In Progress"}]});return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsx)("div",{className:"flex flex-col gap-6 mb-6",children:(0,X.jsx)("div",{className:"flex justify-between items-center",children:(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Lab Billing Template Preview"})})}),(0,X.jsx)("div",{className:"flex justify-center bg-gray-100 p-2 min-h-[calc(100vh-200px)] overflow-auto",children:(0,X.jsx)("div",{className:"bg-white shadow-lg relative  ",children:(0,X.jsx)(ml,{hospital:e,labData:t})})})]})}function H0(){const e=(0,a.Zp)(),n=(0,w.wA)(),{settings:r,status:i}=(0,w.d4)((e=>e.hospitalSettings)),[s,o]=(0,t.useState)({defaultBreakBillMode:!1,defaultBillPrintView:"list"});(0,t.useEffect)((()=>{r&&o({defaultBreakBillMode:r.defaultBreakBillMode||!1,defaultBillPrintView:r.defaultBillPrintView||"list"})}),[r]);const l=r&&(r.defaultBreakBillMode!==s.defaultBreakBillMode||r.defaultBillPrintView!==s.defaultBillPrintView);return(0,X.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,X.jsx)(j.$,{onClick:()=>{e(-1)},variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hospital Settings"})]}),(0,X.jsxs)("div",{className:"space-y-6",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ul,{id:"breakBillMode",checked:s.defaultBreakBillMode,onCheckedChange:e=>{o((t=>({...t,defaultBreakBillMode:e})))}}),(0,X.jsx)("label",{htmlFor:"breakBillMode",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Default Break Bill Mode"})]}),(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{className:"text-sm font-medium",children:"Default Bill Print View"}),(0,X.jsxs)(Ul,{value:s.defaultBillPrintView,onValueChange:e=>{o((t=>({...t,defaultBillPrintView:e})))},className:"flex flex-col space-y-1",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)($l,{value:"datewise",id:"datewise"}),(0,X.jsx)(wi.J,{htmlFor:"datewise",children:"Datewise"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)($l,{value:"list",id:"list"}),(0,X.jsx)(wi.J,{htmlFor:"list",children:"List"})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)($l,{value:"listwithoutdate",id:"listwithoutdate"}),(0,X.jsx)(wi.J,{htmlFor:"listwithoutdate",children:"List Without Date"})]})]})]}),(0,X.jsx)(j.$,{onClick:async()=>{try{await n(un(s)).unwrap()}catch(e){console.error("Failed to update settings:",e)}},disabled:!l||"loading"===i,className:"mt-4",children:"loading"===i?"Saving...":"Save Changes"})]})]})}const V0=(0,N.A)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),q0=()=>{const e=(0,w.wA)(),{doctors:n}=(0,w.d4)((e=>e.staff)),{doctorWiseFee:r,consultationTypes:a,status:i}=(0,w.d4)((e=>e.consultationFees)),[s,o]=(0,t.useState)(""),{toast:l}=(0,H.dj)(),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)({}),[p,h]=(0,t.useState)(!1),[f,v]=(0,t.useState)({followUpDateWithin:14}),[g,x]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{e(L()),e(pn())}),[e]),(0,X.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsx)("h1",{className:"text-3xl font-bold",children:"Consultation Fees Management"}),(0,X.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>h(!p),className:"flex items-center gap-2",children:[(0,X.jsx)(V0,{className:"w-4 h-4"}),p?"Hide":"Manage"," Types"]})]}),p&&(0,X.jsxs)(k.Zp,{children:[(0,X.jsxs)(k.aR,{children:[(0,X.jsx)("h2",{className:"text-xl font-semibold",children:"Consultation Types"}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add or remove consultation types. Types in use cannot be removed."})]}),(0,X.jsxs)(k.Wu,{children:[(0,X.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,X.jsx)(xn.p,{placeholder:"Enter new consultation type...",value:c,onChange:e=>d(e.target.value),className:"max-w-sm"}),(0,X.jsxs)(j.$,{onClick:async()=>{if(c)if(a.includes(c.toLowerCase()))l({title:"Error",description:"This consultation type already exists",variant:"destructive"});else try{const t=[...a,c.toLowerCase()];await e(fn(t)).unwrap(),d(""),l({title:"Success",description:"Consultation type added successfully"})}catch(t){l({title:"Error",description:t.message||"Failed to add consultation type",variant:"destructive"})}},children:[(0,X.jsx)(S.A,{className:"w-4 h-4 mr-2"}),"Add Type"]})]}),(0,X.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.map((t=>(0,X.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-secondary",children:[(0,X.jsx)("span",{className:"capitalize",children:t}),(0,X.jsx)("button",{onClick:()=>(async t=>{if(r.some((e=>e.consultationType&&e.consultationType[t])))l({title:"Error",description:"Cannot remove a type that is being used by doctors",variant:"destructive"});else try{const n=a.filter((e=>e!==t));await e(fn(n)).unwrap();const r={...u};delete r[t],m(r),l({title:"Success",description:"Consultation type removed successfully",variant:"success"})}catch(n){l({title:"Error",description:n.message||"Failed to remove consultation type",variant:"destructive"})}})(t),className:"text-destructive hover:text-destructive/80",children:(0,X.jsx)(T.A,{className:"w-4 h-4"})})]},t))),0===a.length&&(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"No consultation types defined yet. Add your first type above."})]})]})]}),(0,X.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,X.jsxs)(k.Zp,{className:"lg:col-span-1",children:[(0,X.jsxs)(k.aR,{children:[(0,X.jsxs)("h2",{className:"text-xl font-semibold flex items-center justify-between",children:[(0,X.jsx)("span",{children:"Set Consultation Fees"}),(0,X.jsxs)(j.$,{type:"button",variant:"outline",size:"sm",onClick:()=>x(!g),className:"flex items-center gap-2",children:[(0,X.jsx)(V0,{className:"w-4 h-4"}),g?"Hide":"Show"," Settings"]})]}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select a doctor and set their consultation fees"}),g&&(0,X.jsx)("div",{className:"space-y-4 p-4 bg-secondary/20 rounded-lg",children:(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"followUpDays",children:"Follow-up Period (Days)"}),(0,X.jsx)(xn.p,{id:"followUpDays",type:"number",min:"1",value:f.followUpDateWithin,onChange:e=>v({...f,followUpDateWithin:e.target.value}),className:"w-full"}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Number of days within which a patient is considered for follow-up"})]})})]}),(0,X.jsx)(k.Wu,{children:(0,X.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!s)return void l({title:"Error",description:"Please select a doctor",variant:"destructive"});const n={};a.forEach((e=>{n[e]=Number(u[e])||0}));const r={doctor:s,consultationType:n,followUpDateWithin:Number(f.followUpDateWithin)};try{await e(hn(r)).unwrap(),l({title:"Success",description:"Consultation fees updated successfully"})}catch(i){l({title:"Error",description:i.message||"Failed to update consultation fees",variant:"destructive"})}},className:"space-y-6",children:[(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsx)(wi.J,{htmlFor:"doctor",children:"Doctor"}),(0,X.jsxs)(A.l6,{value:s,onValueChange:e=>{o(e);const t=r.find((t=>t.doctor._id===e));if(t){const e={};a.forEach((n=>{var r;e[n]=(null===(r=t.consultationType)||void 0===r?void 0:r[n])||""})),m(e),v({followUpDateWithin:t.followUpDateWithin||14})}else{const e={};a.forEach((t=>{e[t]=""})),m(e),v({followUpDateWithin:14})}},children:[(0,X.jsx)(A.bq,{id:"doctor",children:(0,X.jsx)(A.yv,{placeholder:"Select a doctor"})}),(0,X.jsx)(A.gC,{children:n.map((e=>(0,X.jsx)(A.eb,{value:e._id,children:e.name},e._id)))})]})]}),(0,X.jsxs)("div",{className:"space-y-4",children:[a.map((e=>(0,X.jsxs)("div",{className:"space-y-2",children:[(0,X.jsxs)(wi.J,{htmlFor:e,className:"capitalize flex items-center gap-2",children:[e,(0,X.jsx)("span",{className:"text-xs text-muted-foreground",children:"Fee"})]}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,X.jsx)(xn.p,{id:e,type:"number",min:"0",value:u[e],onChange:t=>m({...u,[e]:t.target.value}),className:"pl-10",required:!0})]})]},e))),0===a.length&&(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"No consultation types available. Please add types first."})]}),(0,X.jsx)(j.$,{type:"submit",className:"w-full",disabled:"loading"===i||0===a.length,children:"loading"===i?"Saving...":"Save Consultation Fees"})]})})]}),(0,X.jsxs)(k.Zp,{className:"lg:col-span-2",children:[(0,X.jsxs)(k.aR,{children:[(0,X.jsx)("h2",{className:"text-xl font-semibold",children:"Current Fee Structure"}),(0,X.jsx)("p",{className:"text-sm text-muted-foreground",children:"Overview of consultation fees for all doctors"})]}),(0,X.jsx)(k.Wu,{children:(0,X.jsx)("div",{className:"overflow-x-auto",children:(0,X.jsxs)(uo.XI,{children:[(0,X.jsx)(uo.A0,{children:(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nd,{className:"min-w-[150px]",children:"Doctor Name"}),a.map((e=>(0,X.jsx)(uo.nd,{className:"capitalize min-w-[120px]",children:e},e)))]})}),(0,X.jsxs)(uo.BF,{children:[r.map((e=>(0,X.jsxs)(uo.Hj,{children:[(0,X.jsx)(uo.nA,{className:"font-medium",children:e.doctor.name||"Unknown Doctor"}),a.map((t=>{var n;return(0,X.jsxs)(uo.nA,{children:["\u20b9",(null===(n=e.consultationType)||void 0===n?void 0:n[t])||"-"]},t)}))]},e.doctor._id))),(0===r.length||0===a.length)&&(0,X.jsx)(uo.Hj,{children:(0,X.jsx)(uo.nA,{colSpan:a.length+3,className:"text-center h-24 text-muted-foreground",children:0===a.length?"No consultation types defined yet":"No consultation fees set yet"})})]})]})})})]})]})]})},G0=()=>{const{hospitalInfo:e}=(0,w.d4)((e=>e.hospital)),t=(null===e||void 0===e?void 0:e.subscriptionTimeline)||[],n=(null===e||void 0===e?void 0:e.paymentData)||[],r=(0,a.Zp)(),{daysLeft:i,isExpired:s,extraDays:o}=(()=>{if(null===e||void 0===e||!e.renewalDate)return{daysLeft:0,isExpired:!0,extraDays:0};const t=new Date,n=new Date(e.renewalDate)-t,r=Math.ceil(n/864e5);return{daysLeft:r,isExpired:r<0,extraDays:r<0?Math.abs(r):0}})(),l=null===e||void 0===e?void 0:e.discontinuedDaysLeft,c=e=>{switch(e){case"install":return"\u2713";case"trial":return"\ud83d\udcc5";case"payment":return"\ud83d\udcb3";default:return"\u2022"}},d=e=>{switch(e){case"install":return"bg-green-500";case"trial":return"bg-blue-500";case"payment":return"bg-purple-500";default:return"bg-gray-500"}};return(0,X.jsxs)("div",{className:"p-4 max-w-[1200px] mx-auto",children:[(0,X.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,X.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"h-8 w-8 p-0",children:(0,X.jsx)(_,{className:"h-4 w-4"})}),(0,X.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:"Subscription"})]}),(0,X.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,X.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,X.jsx)("h4",{className:"font-bold text-gray-800 text-lg mb-6",children:"\ud83d\udccb Subscription Timeline"}),(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("div",{className:"absolute left-[45px] top-0 h-full w-0.5 bg-gray-300"}),t.map(((e,t)=>(0,X.jsxs)("div",{className:"flex items-start mb-8 relative",children:[(0,X.jsx)("div",{className:`flex items-center justify-center w-[24px] h-[24px] rounded-full text-white relative z-10 ${d(e.type)}`,children:c(e.type)}),(0,X.jsxs)("div",{className:"ml-8",children:[(0,X.jsx)("h5",{className:"font-semibold text-gray-800",children:e.event}),(0,X.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),(0,X.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},t))),(0,X.jsxs)("div",{className:"flex items-start relative",children:[(0,X.jsx)("div",{className:"flex items-center justify-center w-[24px] h-[24px] rounded-full text-white relative z-10 "+(s?"bg-red-500":i<=7?"bg-yellow-500":"bg-green-500"),children:s?"\u26a0\ufe0f":"\u2713"}),(0,X.jsxs)("div",{className:"ml-8",children:[(0,X.jsx)("h5",{className:"font-semibold text-gray-800",children:"Current Status"}),(0,X.jsx)("p",{className:"text-sm font-medium "+(s?"text-red-600":"text-green-600"),children:s?`${o} days overdue`:`${i} days remaining`}),(0,X.jsxs)("div",{className:"flex items-center mt-1 space-x-2",children:[(0,X.jsx)("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium "+(s?"bg-red-100 text-red-700":i<=7?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:s?"Expired":i<=7?"Expiring Soon":"Active"}),(0,X.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===e||void 0===e?void 0:e.planType)||"Trial"," subscription"]})]}),s&&l>=0&&(0,X.jsx)("div",{className:"mt-2",children:(0,X.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,X.jsxs)("div",{className:"flex",children:[(0,X.jsx)("div",{className:"flex-shrink-0",children:(0,X.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,X.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,X.jsxs)("div",{className:"ml-3",children:[(0,X.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Service Discontinuation Notice"}),(0,X.jsxs)("div",{className:"mt-1 text-sm text-red-700",children:[(0,X.jsxs)("p",{children:["Services will be discontinued in ",(0,X.jsx)("strong",{children:l})," days."]}),(0,X.jsx)("p",{className:"text-xs mt-1",children:"Please renew your subscription to avoid service interruption."})]})]})]})})})]})]})]}),(0,X.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,X.jsx)("div",{className:"flex justify-between items-center text-sm",children:(0,X.jsxs)("span",{className:"text-gray-600",children:["Current Plan: ",(0,X.jsx)("span",{className:"font-semibold",children:(null===e||void 0===e?void 0:e.planType)||"Trial"})]})}),s&&(null===e||void 0===e?void 0:e.renewalDate)&&(0,X.jsxs)("div",{className:"flex justify-between items-center text-sm mt-2",children:[(0,X.jsx)("span",{className:"text-gray-600",children:"Renewal Date:"}),(0,X.jsx)("span",{className:"inline-flex items-center rounded-md bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:new Date(e.renewalDate).toLocaleDateString()})]}),s&&(null===e||void 0===e?void 0:e.serviceDiscontinuedDate)&&(0,X.jsxs)("div",{className:"flex justify-between items-center text-sm mt-2",children:[(0,X.jsx)("span",{className:"text-gray-600",children:"Service Discontinuation Date:"}),(0,X.jsx)("span",{className:"inline-flex items-center rounded-md bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:new Date(e.serviceDiscontinuedDate).toLocaleDateString()})]})]})]}),(0,X.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,X.jsx)("h4",{className:"font-bold text-gray-800 text-lg mb-6",children:"\ud83d\udcb3 Payment History"}),(0,X.jsxs)("div",{className:"space-y-4",children:[n.map(((e,t)=>(0,X.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:(0,X.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,X.jsxs)("div",{children:[(0,X.jsxs)("h5",{className:"font-semibold text-gray-800",children:[e.planType," Plan"]}),(0,X.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),e.remark&&(0,X.jsx)("p",{className:"text-xs text-gray-500",children:e.remark})]}),(0,X.jsxs)("div",{className:"text-right",children:[(0,X.jsxs)("p",{className:"font-semibold text-gray-800",children:["\u20b9",e.amount.toLocaleString()]}),(0,X.jsx)("p",{className:"text-sm text-gray-500",children:e.method})]})]})},t))),0===n.length&&(0,X.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No payment history available"})]}),(0,X.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,X.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[(0,X.jsx)("span",{children:"Total Paid:"}),(0,X.jsxs)("span",{className:"font-semibold",children:["\u20b9",n.reduce(((e,t)=>e+t.amount),0).toLocaleString()]})]})})]})]})]})},K0=()=>{const[e,n]=(0,t.useState)(!1),r=(0,w.wA)(),i=(0,w.d4)((e=>e.loader.isLoading)),s=(0,w.d4)((e=>e.user.isAuthenticated)),[o,l]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{r((0,st.r)(!0));const e=(new Date).toLocaleDateString("en-In").split("/").reverse().join("-");r(Ye()).then((()=>{if(s)return Promise.all([r((0,Be.PP)({startDate:e})),r(pn()),r(L()),r(We()),r(Qe()),r(Et()),r(lt()),r((0,R.QK)()),r(dn())])})).finally((()=>{r((0,st.r)(!1)),l(!1)}))}),[r,s]),o?(0,X.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("div",{className:"w-24 h-24 rounded-full border-8 border-blue-200"}),(0,X.jsx)("div",{className:"absolute top-0 left-0 w-24 h-24 rounded-full border-t-8 border-blue-500 animate-spin"}),(0,X.jsx)("div",{className:"absolute top-0 left-0 w-24 h-24 rounded-full border-8 border-transparent animate-pulse"})]})}):(0,X.jsxs)("div",{className:"flex flex-col relative",children:[i&&(0,X.jsx)("div",{className:"youtube-loader"}),(0,X.jsxs)(b.F,{className:"h-screen",children:[s&&(0,X.jsx)(co,{isCollapsed:e,setIsCollapsed:n,navItems:ws}),(0,X.jsxs)("div",{className:"flex",children:[s&&(0,X.jsx)(Ns,{isCollapsed:e}),(0,X.jsx)("main",{className:(s?e?"md:ml-16":"md:ml-56":"")+" px-0 sm:px-4 w-full h-full bg-gray-50 transition-all duration-300",children:(0,X.jsxs)(a.BV,{children:[(0,X.jsx)(a.qh,{path:"/",element:s?(0,X.jsx)(XJ,{}):(0,X.jsx)(As,{})}),(0,X.jsx)(a.qh,{path:"/about",element:(0,X.jsx)(DJ,{})}),(0,X.jsx)(a.qh,{path:"/contact",element:(0,X.jsx)(PJ,{})}),s&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(a.qh,{path:"/patient-overview/:patientId",element:(0,X.jsx)(ZJ,{})}),(0,X.jsx)(a.qh,{path:"/billings",element:(0,X.jsx)(hg,{})}),(0,X.jsx)(a.qh,{path:"/patients",element:(0,X.jsx)(Qg,{})}),(0,X.jsx)(a.qh,{path:"/patients/:patientId",element:(0,X.jsx)(cx,{})}),(0,X.jsx)(a.qh,{path:"/appointments",element:(0,X.jsx)(Mx,{})}),(0,X.jsx)(a.qh,{path:"/doctors",element:(0,X.jsx)(Ng,{})}),(0,X.jsx)(a.qh,{path:"/rooms",element:(0,X.jsx)(mx,{})}),(0,X.jsx)(a.qh,{path:"/staff",element:(0,X.jsx)(px,{})}),(0,X.jsx)(a.qh,{path:"/settings",element:(0,X.jsx)(hx,{})}),(0,X.jsx)(a.qh,{path:"/staff/:staffId",element:(0,X.jsx)(Cx,{})}),(0,X.jsx)(a.qh,{path:"/analytics",element:(0,X.jsx)(Ix,{})}),(0,X.jsx)(a.qh,{path:"/pharmacy",element:(0,X.jsx)(a.C5,{to:"/pharmacy/sales",replace:!0})}),(0,X.jsx)(a.qh,{path:"/pharmacy/:tab",element:(0,X.jsx)(cB,{})}),(0,X.jsx)(a.qh,{path:"/pharmacy/all-bills",element:(0,X.jsx)(bB,{})}),(0,X.jsx)(a.qh,{path:"/addstaff",element:(0,X.jsx)(jB,{})}),(0,X.jsx)(a.qh,{path:"/editstaff/:staffId",element:(0,X.jsx)(jB,{})}),(0,X.jsx)(a.qh,{path:"/lab",element:(0,X.jsx)(TB,{})}),(0,X.jsx)(a.qh,{path:"/lab/list",element:(0,X.jsx)(Gl,{})}),(0,X.jsx)(a.qh,{path:"/lab/registration",element:(0,X.jsx)(fl,{})}),(0,X.jsx)(a.qh,{path:"/lab/all-tests",element:(0,X.jsx)(Kl,{})}),(0,X.jsx)(a.qh,{path:"/lab/blood-work/create",element:(0,X.jsx)(_B,{})}),(0,X.jsx)(a.qh,{path:"/create-room",element:(0,X.jsx)(Ni,{})}),(0,X.jsx)(a.qh,{path:"/patients/discharge/:patientId?",element:(0,X.jsx)(kB.A,{})}),(0,X.jsx)(a.qh,{path:"/patients/admitted",element:(0,X.jsx)(JJ,{})}),(0,X.jsx)(a.qh,{path:"/patients/add-services/:patientId",element:(0,X.jsx)(QJ,{})}),(0,X.jsx)(a.qh,{path:"/services",element:(0,X.jsx)(bJ,{})}),(0,X.jsx)(a.qh,{path:"/billings/create-service-bill",element:(0,X.jsx)(NJ,{})}),(0,X.jsx)(a.qh,{path:"/statistics",element:(0,X.jsx)(hc,{})}),(0,X.jsx)(a.qh,{path:"/billings/edit/:billId",element:(0,X.jsx)(NJ,{})}),(0,X.jsx)(a.qh,{path:"/settings/hospital-info",element:(0,X.jsx)(MB,{})}),(0,X.jsx)(a.qh,{path:"/expenses",element:(0,X.jsx)(IJ,{})}),(0,X.jsx)(a.qh,{path:"/payments",element:(0,X.jsx)(O0,{})}),(0,X.jsx)(a.qh,{path:"/settings/customization",element:(0,X.jsx)(LJ,{})}),(0,X.jsx)(a.qh,{path:"/search",element:(0,X.jsx)(zJ,{})}),(0,X.jsx)(a.qh,{path:"/opd-procedure/:patientId",element:(0,X.jsx)(HJ,{})}),(0,X.jsx)(a.qh,{path:"/settings/lab-templates",element:(0,X.jsx)(R0,{})}),(0,X.jsx)(a.qh,{path:"/settings/create-test-template",element:(0,X.jsx)(eQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates",element:(0,X.jsx)(tQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/discharge-preview",element:(0,X.jsx)(aQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/header-preview",element:(0,X.jsx)(iQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/lab-billing-preview",element:(0,X.jsx)(z0,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/opd-preview",element:(0,X.jsx)(sQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/opd-rx-preview",element:(0,X.jsx)(oQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/opd-bill-token-preview",element:(0,X.jsx)(lQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/lab-report-preview",element:(0,X.jsx)($0,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/merge-template-preview",element:(0,X.jsx)(cQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/printing-templates/consent-preview",element:(0,X.jsx)(yi,{})}),(0,X.jsx)(a.qh,{path:"/settings/prefix-settings",element:(0,X.jsx)(dQ,{})}),(0,X.jsx)(a.qh,{path:"/settings/discharge-form-templates",element:(0,X.jsx)(Fe,{})}),(0,X.jsx)(a.qh,{path:"/patients/:ipdAdmissionId/babies",element:(0,X.jsx)(D0,{})}),(0,X.jsx)(a.qh,{path:"patients/babies",element:(0,X.jsx)(P0,{})}),(0,X.jsx)(a.qh,{path:"/babies/:babyId",element:(0,X.jsx)(T0,{})}),(0,X.jsx)(a.qh,{path:"/settings/department",element:(0,X.jsx)(A0,{})}),(0,X.jsx)(a.qh,{path:"/settings/edit-test-template",element:(0,X.jsx)(W0,{})}),(0,X.jsx)(a.qh,{path:"/settings/hospital-settings",element:(0,X.jsx)(H0,{})}),(0,X.jsx)(a.qh,{path:"/settings/consultation-fees",element:(0,X.jsx)(q0,{})}),(0,X.jsx)(a.qh,{path:"/settings/subscription",element:(0,X.jsx)(G0,{})})]})]})})]})]})]})},Y0=()=>(0,X.jsx)(w.Kq,{store:gn,children:(0,X.jsx)(m,{children:(0,X.jsx)(K0,{})})});var X0="ToastProvider",[Z0,J0,Q0]=(0,En.N)("Toast"),[e1,t1]=(0,V.A)("Toast",[Q0]),[n1,r1]=e1(X0),a1=e=>{const{__scopeToast:n,label:r="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[l,c]=t.useState(null),[d,u]=t.useState(0),m=t.useRef(!1),p=t.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${X0}\`. Expected non-empty \`string\`.`),(0,X.jsx)(Z0.Provider,{scope:n,children:(0,X.jsx)(n1,{scope:n,label:r,duration:a,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:t.useCallback((()=>u((e=>e+1))),[]),onToastRemove:t.useCallback((()=>u((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};a1.displayName=X0;var i1="ToastViewport",s1=["F8"],o1="toast.viewportPause",l1="toast.viewportResume",c1=t.forwardRef(((e,n)=>{const{__scopeToast:r,hotkey:a=s1,label:i="Notifications ({hotkey})",...s}=e,o=r1(i1,r),l=J0(r),c=t.useRef(null),d=t.useRef(null),u=t.useRef(null),m=t.useRef(null),p=(0,q.s)(n,m,o.onViewportChange),h=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=o.toastCount>0;t.useEffect((()=>{const e=e=>{0!==a.length&&a.every((t=>e[t]||e.code===t))&&m.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[a]),t.useEffect((()=>{const e=c.current,t=m.current;if(f&&e&&t){const n=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent(o1);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},r=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(l1);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&r()},i=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",a),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",i),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",i),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[f,o.isClosePausedRef]);const v=t.useCallback((e=>{let{tabbingDirection:t}=e;const n=l().map((e=>{const n=e.ref.current,r=[n,...D1(n)];return"forwards"===t?r:r.reverse()}));return("forwards"===t?n.reverse():n).flat()}),[l]);return t.useEffect((()=>{const e=m.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,r=t.shiftKey;if(t.target===e&&r)return void d.current?.focus();const a=v({tabbingDirection:r?"backwards":"forwards"}),i=a.findIndex((e=>e===n));T1(a.slice(i+1))?t.preventDefault():r?d.current?.focus():u.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[l,v]),(0,X.jsxs)(Dn.lg,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&(0,X.jsx)(u1,{ref:d,onFocusFromOutsideViewport:()=>{T1(v({tabbingDirection:"forwards"}))}}),(0,X.jsx)(Z0.Slot,{scope:r,children:(0,X.jsx)(Sn.sG.ol,{tabIndex:-1,...s,ref:p})}),f&&(0,X.jsx)(u1,{ref:u,onFocusFromOutsideViewport:()=>{T1(v({tabbingDirection:"backwards"}))}})]})}));c1.displayName=i1;var d1="ToastFocusProxy",u1=t.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=r1(d1,n);return(0,X.jsx)($i.s,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!i.viewport?.contains(t)&&r()}})}));u1.displayName=d1;var m1="Toast",p1=t.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...s}=e,[o=!0,l]=(0,_n.i)({prop:r,defaultProp:a,onChange:i});return(0,X.jsx)(Rn.C,{present:n||o,children:(0,X.jsx)(v1,{open:o,...s,ref:t,onClose:()=>l(!1),onPause:(0,Mn.c)(e.onPause),onResume:(0,Mn.c)(e.onResume),onSwipeStart:(0,K.m)(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:(0,K.m)(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:(0,K.m)(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:(0,K.m)(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)}))})})}));p1.displayName=m1;var[h1,f1]=e1(m1,{onClose(){}}),v1=t.forwardRef(((e,n)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:u,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:f,...v}=e,g=r1(m1,r),[x,y]=t.useState(null),b=(0,q.s)(n,(e=>y(e))),w=t.useRef(null),j=t.useRef(null),N=s||g.duration,_=t.useRef(0),S=t.useRef(N),E=t.useRef(0),{onToastAdd:C,onToastRemove:D}=g,T=(0,Mn.c)((()=>{const e=x?.contains(document.activeElement);e&&g.viewport?.focus(),l()})),k=t.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(E.current),_.current=(new Date).getTime(),E.current=window.setTimeout(T,e))}),[T]);t.useEffect((()=>{const e=g.viewport;if(e){const t=()=>{k(S.current),u?.()},n=()=>{const e=(new Date).getTime()-_.current;S.current=S.current-e,window.clearTimeout(E.current),d?.()};return e.addEventListener(o1,n),e.addEventListener(l1,t),()=>{e.removeEventListener(o1,n),e.removeEventListener(l1,t)}}}),[g.viewport,N,d,u,k]),t.useEffect((()=>{o&&!g.isClosePausedRef.current&&k(N)}),[o,N,g.isClosePausedRef,k]),t.useEffect((()=>(C(),()=>D())),[C,D]);const A=t.useMemo((()=>x?S1(x):null),[x]);return g.viewport?(0,X.jsxs)(X.Fragment,{children:[A&&(0,X.jsx)(g1,{__scopeToast:r,role:"status","aria-live":"foreground"===a?"assertive":"polite","aria-atomic":!0,children:A}),(0,X.jsx)(h1,{scope:r,onClose:T,children:i.createPortal((0,X.jsx)(Z0.ItemSlot,{scope:r,children:(0,X.jsx)(Dn.bL,{asChild:!0,onEscapeKeyDown:(0,K.m)(c,(()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1})),children:(0,X.jsx)(Sn.sG.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,K.m)(e.onKeyDown,(e=>{"Escape"===e.key&&(c?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))})),onPointerDown:(0,K.m)(e.onPointerDown,(e=>{0===e.button&&(w.current={x:e.clientX,y:e.clientY})})),onPointerMove:(0,K.m)(e.onPointerMove,(e=>{if(!w.current)return;const t=e.clientX-w.current.x,n=e.clientY-w.current.y,r=Boolean(j.current),a=["left","right"].includes(g.swipeDirection),i=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,s=a?i(0,t):0,o=a?0:i(0,n),l="touch"===e.pointerType?10:2,c={x:s,y:o},d={originalEvent:e,delta:c};r?(j.current=c,E1("toast.swipeMove",p,d,{discrete:!1})):C1(c,g.swipeDirection,l)?(j.current=c,E1("toast.swipeStart",m,d,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(w.current=null)})),onPointerUp:(0,K.m)(e.onPointerUp,(e=>{const t=j.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),j.current=null,w.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};C1(t,g.swipeDirection,g.swipeThreshold)?E1("toast.swipeEnd",f,r,{discrete:!0}):E1("toast.swipeCancel",h,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),g.viewport)})]}):null})),g1=e=>{const{__scopeToast:n,children:r,...a}=e,i=r1(m1,n),[s,o]=t.useState(!1),[l,c]=t.useState(!1);return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const t=(0,Mn.c)(e);(0,Ls.N)((()=>{let e=0,n=0;return e=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}}),[t])}((()=>o(!0))),t.useEffect((()=>{const e=window.setTimeout((()=>c(!0)),1e3);return()=>window.clearTimeout(e)}),[]),l?null:(0,X.jsx)(On.Z,{asChild:!0,children:(0,X.jsx)($i.s,{...a,children:s&&(0,X.jsxs)(X.Fragment,{children:[i.label," ",r]})})})},x1=t.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,X.jsx)(Sn.sG.div,{...r,ref:t})}));x1.displayName="ToastTitle";var y1=t.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,X.jsx)(Sn.sG.div,{...r,ref:t})}));y1.displayName="ToastDescription";var b1="ToastAction",w1=t.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?(0,X.jsx)(_1,{altText:n,asChild:!0,children:(0,X.jsx)(N1,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${b1}\`. Expected non-empty \`string\`.`),null)}));w1.displayName=b1;var j1="ToastClose",N1=t.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,a=f1(j1,n);return(0,X.jsx)(_1,{asChild:!0,children:(0,X.jsx)(Sn.sG.button,{type:"button",...r,ref:t,onClick:(0,K.m)(e.onClick,a.onClose)})})}));N1.displayName=j1;var _1=t.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return(0,X.jsx)(Sn.sG.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})}));function S1(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...S1(e))}})),t}function E1(e,t,n,r){let{discrete:a}=r;const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?(0,Sn.hO)(i,s):i.dispatchEvent(s)}var C1=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return"left"===t||"right"===t?i&&r>n:!i&&a>n};function D1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function T1(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var k1=c1,A1=p1,P1=x1,O1=y1,R1=w1,M1=N1;const I1=a1,L1=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(k1,{ref:t,className:(0,Ee.cn)("fixed top-10 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:max-w-[420px]",n),...r})}));L1.displayName=k1.displayName;const F1=(0,_s.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-y-0 data-[swipe=end]:translate-y-[var(--radix-toast-swipe-end-y)] data-[swipe=move]:translate-y-[var(--radix-toast-swipe-move-y)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full duration-300",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground font-Roboto",success:"border-green-500 bg-[#28a745] text-white font-Roboto"}},defaultVariants:{variant:"default"}}),B1=t.forwardRef(((e,t)=>{let{className:n,variant:r,...a}=e;return(0,X.jsx)(A1,{ref:t,className:(0,Ee.cn)(F1({variant:r}),n),...a,children:(0,X.jsxs)("div",{className:"flex items-center",children:["success"===r&&(0,X.jsx)(Qx,{className:"h-6 w-6 mr-2 flex-shrink-0"}),"destructive"===r&&(0,X.jsx)(oi.Pip,{className:"h-6 w-6 mr-2 flex-shrink-0"}),(0,X.jsx)("div",{children:a.children})]})})}));B1.displayName=A1.displayName;t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(R1,{ref:t,className:(0,Ee.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...r})})).displayName=R1.displayName;const W1=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(M1,{ref:t,className:(0,Ee.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...r,children:(0,X.jsx)(oi.MKb,{className:"h-4 w-4"})})}));W1.displayName=M1.displayName;const U1=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(P1,{ref:t,className:(0,Ee.cn)("text-sm font-semibold [&+div]:text-xs",n),...r})}));U1.displayName=P1.displayName;const $1=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,X.jsx)(O1,{ref:t,className:(0,Ee.cn)("text-sm opacity-90",n),...r})}));function z1(){const{toasts:e}=(0,H.dj)();return(0,X.jsxs)(I1,{children:[e.map((function(e){let{id:t,title:n,description:r,action:a,...i}=e;return(0,X.jsxs)(B1,{...i,children:[(0,X.jsxs)("div",{className:"grid gap-1",children:[n&&(0,X.jsx)(U1,{children:n}),r&&(0,X.jsx)($1,{children:r})]}),a,(0,X.jsx)(W1,{})]},t)})),(0,X.jsx)(L1,{})]})}$1.displayName=O1.displayName;r.createRoot(document.getElementById("root")).render((0,X.jsxs)(w.Kq,{store:gn,children:[(0,X.jsx)(Y0,{}),(0,X.jsx)(z1,{})]}))})()})();
//# sourceMappingURL=main.76aa297d.js.map